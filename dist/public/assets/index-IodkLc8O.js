var FJ=Object.defineProperty;var ZA=t=>{throw TypeError(t)};var OJ=(t,e,r)=>e in t?FJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ce=(t,e,r)=>OJ(t,typeof e!="symbol"?e+"":e,r),y5=(t,e,r)=>e.has(t)||ZA("Cannot "+r);var Y=(t,e,r)=>(y5(t,e,"read from private field"),r?r.call(t):e.get(t)),Ge=(t,e,r)=>e.has(t)?ZA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),et=(t,e,r,n)=>(y5(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),it=(t,e,r)=>(y5(t,e,"access private method"),r);var H1=(t,e,r,n)=>({set _(i){et(t,e,i,r)},get _(){return Y(t,e,n)}});function LJ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aM={exports:{}},wN={},oM={exports:{}},Vr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry=Symbol.for("react.element"),RJ=Symbol.for("react.portal"),IJ=Symbol.for("react.fragment"),DJ=Symbol.for("react.strict_mode"),MJ=Symbol.for("react.profiler"),BJ=Symbol.for("react.provider"),UJ=Symbol.for("react.context"),$J=Symbol.for("react.forward_ref"),qJ=Symbol.for("react.suspense"),zJ=Symbol.for("react.memo"),VJ=Symbol.for("react.lazy"),eE=Symbol.iterator;function HJ(t){return t===null||typeof t!="object"?null:(t=eE&&t[eE]||t["@@iterator"],typeof t=="function"?t:null)}var lM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cM=Object.assign,dM={};function ng(t,e,r){this.props=t,this.context=e,this.refs=dM,this.updater=r||lM}ng.prototype.isReactComponent={};ng.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ng.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uM(){}uM.prototype=ng.prototype;function gk(t,e,r){this.props=t,this.context=e,this.refs=dM,this.updater=r||lM}var xk=gk.prototype=new uM;xk.constructor=gk;cM(xk,ng.prototype);xk.isPureReactComponent=!0;var tE=Array.isArray,hM=Object.prototype.hasOwnProperty,vk={current:null},fM={key:!0,ref:!0,__self:!0,__source:!0};function mM(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)hM.call(e,n)&&!fM.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Ry,type:t,key:a,ref:o,props:i,_owner:vk.current}}function WJ(t,e){return{$$typeof:Ry,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function yk(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ry}function KJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var rE=/\/+/g;function b5(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KJ(""+t.key):e.toString(36)}function Xb(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ry:case RJ:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+b5(o,0):n,tE(i)?(r="",t!=null&&(r=t.replace(rE,"$&/")+"/"),Xb(i,e,r,"",function(d){return d})):i!=null&&(yk(i)&&(i=WJ(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",tE(t))for(var l=0;l<t.length;l++){a=t[l];var c=n+b5(a,l);o+=Xb(a,e,r,c,i)}else if(c=HJ(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=n+b5(a,l++),o+=Xb(a,e,r,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function W1(t,e,r){if(t==null)return t;var n=[],i=0;return Xb(t,n,"","",function(a){return e.call(r,a,i++)}),n}function GJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ta={current:null},Jb={transition:null},YJ={ReactCurrentDispatcher:Ta,ReactCurrentBatchConfig:Jb,ReactCurrentOwner:vk};function pM(){throw Error("act(...) is not supported in production builds of React.")}Vr.Children={map:W1,forEach:function(t,e,r){W1(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return W1(t,function(){e++}),e},toArray:function(t){return W1(t,function(e){return e})||[]},only:function(t){if(!yk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Vr.Component=ng;Vr.Fragment=IJ;Vr.Profiler=MJ;Vr.PureComponent=gk;Vr.StrictMode=DJ;Vr.Suspense=qJ;Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YJ;Vr.act=pM;Vr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=cM({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=vk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)hM.call(e,c)&&!fM.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ry,type:t.type,key:i,ref:a,props:n,_owner:o}};Vr.createContext=function(t){return t={$$typeof:UJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BJ,_context:t},t.Consumer=t};Vr.createElement=mM;Vr.createFactory=function(t){var e=mM.bind(null,t);return e.type=t,e};Vr.createRef=function(){return{current:null}};Vr.forwardRef=function(t){return{$$typeof:$J,render:t}};Vr.isValidElement=yk;Vr.lazy=function(t){return{$$typeof:VJ,_payload:{_status:-1,_result:t},_init:GJ}};Vr.memo=function(t,e){return{$$typeof:zJ,type:t,compare:e===void 0?null:e}};Vr.startTransition=function(t){var e=Jb.transition;Jb.transition={};try{t()}finally{Jb.transition=e}};Vr.unstable_act=pM;Vr.useCallback=function(t,e){return Ta.current.useCallback(t,e)};Vr.useContext=function(t){return Ta.current.useContext(t)};Vr.useDebugValue=function(){};Vr.useDeferredValue=function(t){return Ta.current.useDeferredValue(t)};Vr.useEffect=function(t,e){return Ta.current.useEffect(t,e)};Vr.useId=function(){return Ta.current.useId()};Vr.useImperativeHandle=function(t,e,r){return Ta.current.useImperativeHandle(t,e,r)};Vr.useInsertionEffect=function(t,e){return Ta.current.useInsertionEffect(t,e)};Vr.useLayoutEffect=function(t,e){return Ta.current.useLayoutEffect(t,e)};Vr.useMemo=function(t,e){return Ta.current.useMemo(t,e)};Vr.useReducer=function(t,e,r){return Ta.current.useReducer(t,e,r)};Vr.useRef=function(t){return Ta.current.useRef(t)};Vr.useState=function(t){return Ta.current.useState(t)};Vr.useSyncExternalStore=function(t,e,r){return Ta.current.useSyncExternalStore(t,e,r)};Vr.useTransition=function(){return Ta.current.useTransition()};Vr.version="18.3.1";oM.exports=Vr;var O=oM.exports;const mr=zc(O),bk=LJ({__proto__:null,default:mr},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QJ=O,XJ=Symbol.for("react.element"),JJ=Symbol.for("react.fragment"),ZJ=Object.prototype.hasOwnProperty,eZ=QJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tZ={key:!0,ref:!0,__self:!0,__source:!0};function gM(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)ZJ.call(e,n)&&!tZ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:XJ,type:t,key:a,ref:o,props:i,_owner:eZ.current}}wN.Fragment=JJ;wN.jsx=gM;wN.jsxs=gM;aM.exports=wN;var s=aM.exports,xM={exports:{}},Ao={},vM={exports:{}},yM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,G){var z=Q.length;Q.push(G);e:for(;0<z;){var V=z-1>>>1,F=Q[V];if(0<i(F,G))Q[V]=G,Q[z]=F,z=V;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var G=Q[0],z=Q.pop();if(z!==G){Q[0]=z;e:for(var V=0,F=Q.length,I=F>>>1;V<I;){var B=2*(V+1)-1,q=Q[B],U=B+1,W=Q[U];if(0>i(q,z))U<F&&0>i(W,q)?(Q[V]=W,Q[U]=z,V=U):(Q[V]=q,Q[B]=z,V=B);else if(U<F&&0>i(W,z))Q[V]=W,Q[U]=z,V=U;else break e}}return G}function i(Q,G){var z=Q.sortIndex-G.sortIndex;return z!==0?z:Q.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(Q){for(var G=r(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=Q)n(d),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(d)}}function w(Q){if(p=!1,b(Q),!g)if(r(c)!==null)g=!0,X(_);else{var G=r(d);G!==null&&ee(w,G.startTime-Q)}}function _(Q,G){g=!1,p&&(p=!1,y(k),k=-1),f=!0;var z=m;try{for(b(G),h=r(c);h!==null&&(!(h.expirationTime>G)||Q&&!C());){var V=h.callback;if(typeof V=="function"){h.callback=null,m=h.priorityLevel;var F=V(h.expirationTime<=G);G=t.unstable_now(),typeof F=="function"?h.callback=F:h===r(c)&&n(c),b(G)}else n(c);h=r(c)}if(h!==null)var I=!0;else{var B=r(d);B!==null&&ee(w,B.startTime-G),I=!1}return I}finally{h=null,m=z,f=!1}}var N=!1,j=null,k=-1,E=5,A=-1;function C(){return!(t.unstable_now()-A<E)}function T(){if(j!==null){var Q=t.unstable_now();A=Q;var G=!0;try{G=j(!0,Q)}finally{G?L():(N=!1,j=null)}}else N=!1}var L;if(typeof v=="function")L=function(){v(T)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,H=D.port2;D.port1.onmessage=T,L=function(){H.postMessage(null)}}else L=function(){x(T,0)};function X(Q){j=Q,N||(N=!0,L())}function ee(Q,G){k=x(function(){Q(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,X(_))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var z=m;m=G;try{return Q()}finally{m=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,G){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var z=m;m=Q;try{return G()}finally{m=z}},t.unstable_scheduleCallback=function(Q,G,z){var V=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=z+F,Q={id:u++,callback:G,priorityLevel:Q,startTime:z,expirationTime:F,sortIndex:-1},z>V?(Q.sortIndex=z,e(d,Q),r(c)===null&&Q===r(d)&&(p?(y(k),k=-1):p=!0,ee(w,z-V))):(Q.sortIndex=F,e(c,Q),g||f||(g=!0,X(_))),Q},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(Q){var G=m;return function(){var z=m;m=G;try{return Q.apply(this,arguments)}finally{m=z}}}})(yM);vM.exports=yM;var rZ=vM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sZ=O,So=rZ;function wt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bM=new Set,av={};function wm(t,e){T0(t,e),T0(t+"Capture",e)}function T0(t,e){for(av[t]=e,t=0;t<e.length;t++)bM.add(e[t])}var Ud=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b_=Object.prototype.hasOwnProperty,nZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sE={},nE={};function iZ(t){return b_.call(nE,t)?!0:b_.call(sE,t)?!1:nZ.test(t)?nE[t]=!0:(sE[t]=!0,!1)}function aZ(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oZ(t,e,r,n){if(e===null||typeof e>"u"||aZ(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pa(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var $i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$i[t]=new Pa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$i[e]=new Pa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$i[t]=new Pa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$i[t]=new Pa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$i[t]=new Pa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$i[t]=new Pa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$i[t]=new Pa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$i[t]=new Pa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$i[t]=new Pa(t,5,!1,t.toLowerCase(),null,!1,!1)});var wk=/[\-:]([a-z])/g;function Nk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wk,Nk);$i[e]=new Pa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wk,Nk);$i[e]=new Pa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wk,Nk);$i[e]=new Pa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$i[t]=new Pa(t,1,!1,t.toLowerCase(),null,!1,!1)});$i.xlinkHref=new Pa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$i[t]=new Pa(t,1,!1,t.toLowerCase(),null,!0,!0)});function jk(t,e,r,n){var i=$i.hasOwnProperty(e)?$i[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oZ(e,r,i,n)&&(r=null),n||i===null?iZ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zd=sZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K1=Symbol.for("react.element"),hp=Symbol.for("react.portal"),fp=Symbol.for("react.fragment"),_k=Symbol.for("react.strict_mode"),w_=Symbol.for("react.profiler"),wM=Symbol.for("react.provider"),NM=Symbol.for("react.context"),Sk=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),j_=Symbol.for("react.suspense_list"),kk=Symbol.for("react.memo"),Eu=Symbol.for("react.lazy"),jM=Symbol.for("react.offscreen"),iE=Symbol.iterator;function ex(t){return t===null||typeof t!="object"?null:(t=iE&&t[iE]||t["@@iterator"],typeof t=="function"?t:null)}var hn=Object.assign,w5;function Nx(t){if(w5===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);w5=e&&e[1]||""}return`
`+w5+t}var N5=!1;function j5(t,e){if(!t||N5)return"";N5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{N5=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Nx(t):""}function lZ(t){switch(t.tag){case 5:return Nx(t.type);case 16:return Nx("Lazy");case 13:return Nx("Suspense");case 19:return Nx("SuspenseList");case 0:case 2:case 15:return t=j5(t.type,!1),t;case 11:return t=j5(t.type.render,!1),t;case 1:return t=j5(t.type,!0),t;default:return""}}function __(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fp:return"Fragment";case hp:return"Portal";case w_:return"Profiler";case _k:return"StrictMode";case N_:return"Suspense";case j_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NM:return(t.displayName||"Context")+".Consumer";case wM:return(t._context.displayName||"Context")+".Provider";case Sk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kk:return e=t.displayName||null,e!==null?e:__(t.type)||"Memo";case Eu:e=t._payload,t=t._init;try{return __(t(e))}catch{}}return null}function cZ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return __(e);case 8:return e===_k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ch(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _M(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dZ(t){var e=_M(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function G1(t){t._valueTracker||(t._valueTracker=dZ(t))}function SM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=_M(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function C2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function S_(t,e){var r=e.checked;return hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function aE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ch(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kM(t,e){e=e.checked,e!=null&&jk(t,"checked",e,!1)}function k_(t,e){kM(t,e);var r=ch(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?C_(t,e.type,r):e.hasOwnProperty("defaultValue")&&C_(t,e.type,ch(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function C_(t,e,r){(e!=="number"||C2(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var jx=Array.isArray;function Ep(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ch(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function A_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(wt(91));return hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lE(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(wt(92));if(jx(r)){if(1<r.length)throw Error(wt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ch(r)}}function CM(t,e){var r=ch(e.value),n=ch(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function cE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Y1,EM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Y1=Y1||document.createElement("div"),Y1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Y1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ov(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ix={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uZ=["Webkit","ms","Moz","O"];Object.keys(Ix).forEach(function(t){uZ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ix[e]=Ix[t]})});function TM(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ix.hasOwnProperty(t)&&Ix[t]?(""+e).trim():e+"px"}function PM(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=TM(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var hZ=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T_(t,e){if(e){if(hZ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(wt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(wt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(wt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(wt(62))}}function P_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F_=null;function Ck(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O_=null,Tp=null,Pp=null;function dE(t){if(t=My(t)){if(typeof O_!="function")throw Error(wt(280));var e=t.stateNode;e&&(e=kN(e),O_(t.stateNode,t.type,e))}}function FM(t){Tp?Pp?Pp.push(t):Pp=[t]:Tp=t}function OM(){if(Tp){var t=Tp,e=Pp;if(Pp=Tp=null,dE(t),e)for(t=0;t<e.length;t++)dE(e[t])}}function LM(t,e){return t(e)}function RM(){}var _5=!1;function IM(t,e,r){if(_5)return t(e,r);_5=!0;try{return LM(t,e,r)}finally{_5=!1,(Tp!==null||Pp!==null)&&(RM(),OM())}}function lv(t,e){var r=t.stateNode;if(r===null)return null;var n=kN(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(wt(231,e,typeof r));return r}var L_=!1;if(Ud)try{var tx={};Object.defineProperty(tx,"passive",{get:function(){L_=!0}}),window.addEventListener("test",tx,tx),window.removeEventListener("test",tx,tx)}catch{L_=!1}function fZ(t,e,r,n,i,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(u){this.onError(u)}}var Dx=!1,A2=null,E2=!1,R_=null,mZ={onError:function(t){Dx=!0,A2=t}};function pZ(t,e,r,n,i,a,o,l,c){Dx=!1,A2=null,fZ.apply(mZ,arguments)}function gZ(t,e,r,n,i,a,o,l,c){if(pZ.apply(this,arguments),Dx){if(Dx){var d=A2;Dx=!1,A2=null}else throw Error(wt(198));E2||(E2=!0,R_=d)}}function Nm(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function DM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uE(t){if(Nm(t)!==t)throw Error(wt(188))}function xZ(t){var e=t.alternate;if(!e){if(e=Nm(t),e===null)throw Error(wt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return uE(i),t;if(a===n)return uE(i),e;a=a.sibling}throw Error(wt(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(wt(189))}}if(r.alternate!==n)throw Error(wt(190))}if(r.tag!==3)throw Error(wt(188));return r.stateNode.current===r?t:e}function MM(t){return t=xZ(t),t!==null?BM(t):null}function BM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BM(t);if(e!==null)return e;t=t.sibling}return null}var UM=So.unstable_scheduleCallback,hE=So.unstable_cancelCallback,vZ=So.unstable_shouldYield,yZ=So.unstable_requestPaint,Ln=So.unstable_now,bZ=So.unstable_getCurrentPriorityLevel,Ak=So.unstable_ImmediatePriority,$M=So.unstable_UserBlockingPriority,T2=So.unstable_NormalPriority,wZ=So.unstable_LowPriority,qM=So.unstable_IdlePriority,NN=null,Tc=null;function NZ(t){if(Tc&&typeof Tc.onCommitFiberRoot=="function")try{Tc.onCommitFiberRoot(NN,t,void 0,(t.current.flags&128)===128)}catch{}}var Rl=Math.clz32?Math.clz32:SZ,jZ=Math.log,_Z=Math.LN2;function SZ(t){return t>>>=0,t===0?32:31-(jZ(t)/_Z|0)|0}var Q1=64,X1=4194304;function _x(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function P2(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=_x(l):(a&=o,a!==0&&(n=_x(a)))}else o=r&~i,o!==0?n=_x(o):a!==0&&(n=_x(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Rl(e),i=1<<r,n|=t[r],e&=~i;return n}function kZ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CZ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Rl(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=kZ(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function I_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zM(){var t=Q1;return Q1<<=1,!(Q1&4194240)&&(Q1=64),t}function S5(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Iy(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rl(e),t[e]=r}function AZ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Rl(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Ek(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Rl(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Cs=0;function VM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HM,Tk,WM,KM,GM,D_=!1,J1=[],Zu=null,eh=null,th=null,cv=new Map,dv=new Map,Pu=[],EZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fE(t,e){switch(t){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":eh=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":cv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dv.delete(e.pointerId)}}function rx(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=My(e),e!==null&&Tk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TZ(t,e,r,n,i){switch(e){case"focusin":return Zu=rx(Zu,t,e,r,n,i),!0;case"dragenter":return eh=rx(eh,t,e,r,n,i),!0;case"mouseover":return th=rx(th,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return cv.set(a,rx(cv.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,dv.set(a,rx(dv.get(a)||null,t,e,r,n,i)),!0}return!1}function YM(t){var e=hf(t.target);if(e!==null){var r=Nm(e);if(r!==null){if(e=r.tag,e===13){if(e=DM(r),e!==null){t.blockedOn=e,GM(t.priority,function(){WM(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=M_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);F_=n,r.target.dispatchEvent(n),F_=null}else return e=My(r),e!==null&&Tk(e),t.blockedOn=r,!1;e.shift()}return!0}function mE(t,e,r){Zb(t)&&r.delete(e)}function PZ(){D_=!1,Zu!==null&&Zb(Zu)&&(Zu=null),eh!==null&&Zb(eh)&&(eh=null),th!==null&&Zb(th)&&(th=null),cv.forEach(mE),dv.forEach(mE)}function sx(t,e){t.blockedOn===e&&(t.blockedOn=null,D_||(D_=!0,So.unstable_scheduleCallback(So.unstable_NormalPriority,PZ)))}function uv(t){function e(i){return sx(i,t)}if(0<J1.length){sx(J1[0],t);for(var r=1;r<J1.length;r++){var n=J1[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zu!==null&&sx(Zu,t),eh!==null&&sx(eh,t),th!==null&&sx(th,t),cv.forEach(e),dv.forEach(e),r=0;r<Pu.length;r++)n=Pu[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pu.length&&(r=Pu[0],r.blockedOn===null);)YM(r),r.blockedOn===null&&Pu.shift()}var Fp=Zd.ReactCurrentBatchConfig,F2=!0;function FZ(t,e,r,n){var i=Cs,a=Fp.transition;Fp.transition=null;try{Cs=1,Pk(t,e,r,n)}finally{Cs=i,Fp.transition=a}}function OZ(t,e,r,n){var i=Cs,a=Fp.transition;Fp.transition=null;try{Cs=4,Pk(t,e,r,n)}finally{Cs=i,Fp.transition=a}}function Pk(t,e,r,n){if(F2){var i=M_(t,e,r,n);if(i===null)R5(t,e,n,O2,r),fE(t,n);else if(TZ(i,t,e,r,n))n.stopPropagation();else if(fE(t,n),e&4&&-1<EZ.indexOf(t)){for(;i!==null;){var a=My(i);if(a!==null&&HM(a),a=M_(t,e,r,n),a===null&&R5(t,e,n,O2,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else R5(t,e,n,null,r)}}var O2=null;function M_(t,e,r,n){if(O2=null,t=Ck(n),t=hf(t),t!==null)if(e=Nm(t),e===null)t=null;else if(r=e.tag,r===13){if(t=DM(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return O2=t,null}function QM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bZ()){case Ak:return 1;case $M:return 4;case T2:case wZ:return 16;case qM:return 536870912;default:return 16}default:return 16}}var Hu=null,Fk=null,e2=null;function XM(){if(e2)return e2;var t,e=Fk,r=e.length,n,i="value"in Hu?Hu.value:Hu.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return e2=i.slice(t,1<n?1-n:void 0)}function t2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Z1(){return!0}function pE(){return!1}function Eo(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Z1:pE,this.isPropagationStopped=pE,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Z1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Z1)},persist:function(){},isPersistent:Z1}),e}var ig={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ok=Eo(ig),Dy=hn({},ig,{view:0,detail:0}),LZ=Eo(Dy),k5,C5,nx,jN=hn({},Dy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nx&&(nx&&t.type==="mousemove"?(k5=t.screenX-nx.screenX,C5=t.screenY-nx.screenY):C5=k5=0,nx=t),k5)},movementY:function(t){return"movementY"in t?t.movementY:C5}}),gE=Eo(jN),RZ=hn({},jN,{dataTransfer:0}),IZ=Eo(RZ),DZ=hn({},Dy,{relatedTarget:0}),A5=Eo(DZ),MZ=hn({},ig,{animationName:0,elapsedTime:0,pseudoElement:0}),BZ=Eo(MZ),UZ=hn({},ig,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$Z=Eo(UZ),qZ=hn({},ig,{data:0}),xE=Eo(qZ),zZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WZ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HZ[t])?!!e[t]:!1}function Lk(){return WZ}var KZ=hn({},Dy,{key:function(t){if(t.key){var e=zZ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=t2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VZ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lk,charCode:function(t){return t.type==="keypress"?t2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?t2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GZ=Eo(KZ),YZ=hn({},jN,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vE=Eo(YZ),QZ=hn({},Dy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lk}),XZ=Eo(QZ),JZ=hn({},ig,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZZ=Eo(JZ),eee=hn({},jN,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tee=Eo(eee),ree=[9,13,27,32],Rk=Ud&&"CompositionEvent"in window,Mx=null;Ud&&"documentMode"in document&&(Mx=document.documentMode);var see=Ud&&"TextEvent"in window&&!Mx,JM=Ud&&(!Rk||Mx&&8<Mx&&11>=Mx),yE=" ",bE=!1;function ZM(t,e){switch(t){case"keyup":return ree.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mp=!1;function nee(t,e){switch(t){case"compositionend":return e9(e);case"keypress":return e.which!==32?null:(bE=!0,yE);case"textInput":return t=e.data,t===yE&&bE?null:t;default:return null}}function iee(t,e){if(mp)return t==="compositionend"||!Rk&&ZM(t,e)?(t=XM(),e2=Fk=Hu=null,mp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JM&&e.locale!=="ko"?null:e.data;default:return null}}var aee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aee[t.type]:e==="textarea"}function t9(t,e,r,n){FM(n),e=L2(e,"onChange"),0<e.length&&(r=new Ok("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Bx=null,hv=null;function oee(t){h9(t,0)}function _N(t){var e=xp(t);if(SM(e))return t}function lee(t,e){if(t==="change")return e}var r9=!1;if(Ud){var E5;if(Ud){var T5="oninput"in document;if(!T5){var NE=document.createElement("div");NE.setAttribute("oninput","return;"),T5=typeof NE.oninput=="function"}E5=T5}else E5=!1;r9=E5&&(!document.documentMode||9<document.documentMode)}function jE(){Bx&&(Bx.detachEvent("onpropertychange",s9),hv=Bx=null)}function s9(t){if(t.propertyName==="value"&&_N(hv)){var e=[];t9(e,hv,t,Ck(t)),IM(oee,e)}}function cee(t,e,r){t==="focusin"?(jE(),Bx=e,hv=r,Bx.attachEvent("onpropertychange",s9)):t==="focusout"&&jE()}function dee(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _N(hv)}function uee(t,e){if(t==="click")return _N(e)}function hee(t,e){if(t==="input"||t==="change")return _N(e)}function fee(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $l=typeof Object.is=="function"?Object.is:fee;function fv(t,e){if($l(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!b_.call(e,i)||!$l(t[i],e[i]))return!1}return!0}function _E(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SE(t,e){var r=_E(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_E(r)}}function n9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i9(){for(var t=window,e=C2();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=C2(t.document)}return e}function Ik(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mee(t){var e=i9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&n9(r.ownerDocument.documentElement,r)){if(n!==null&&Ik(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=SE(r,a);var o=SE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pee=Ud&&"documentMode"in document&&11>=document.documentMode,pp=null,B_=null,Ux=null,U_=!1;function kE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;U_||pp==null||pp!==C2(n)||(n=pp,"selectionStart"in n&&Ik(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ux&&fv(Ux,n)||(Ux=n,n=L2(B_,"onSelect"),0<n.length&&(e=new Ok("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=pp)))}function eb(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var gp={animationend:eb("Animation","AnimationEnd"),animationiteration:eb("Animation","AnimationIteration"),animationstart:eb("Animation","AnimationStart"),transitionend:eb("Transition","TransitionEnd")},P5={},a9={};Ud&&(a9=document.createElement("div").style,"AnimationEvent"in window||(delete gp.animationend.animation,delete gp.animationiteration.animation,delete gp.animationstart.animation),"TransitionEvent"in window||delete gp.transitionend.transition);function SN(t){if(P5[t])return P5[t];if(!gp[t])return t;var e=gp[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in a9)return P5[t]=e[r];return t}var o9=SN("animationend"),l9=SN("animationiteration"),c9=SN("animationstart"),d9=SN("transitionend"),u9=new Map,CE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ch(t,e){u9.set(t,e),wm(e,[t])}for(var F5=0;F5<CE.length;F5++){var O5=CE[F5],gee=O5.toLowerCase(),xee=O5[0].toUpperCase()+O5.slice(1);Ch(gee,"on"+xee)}Ch(o9,"onAnimationEnd");Ch(l9,"onAnimationIteration");Ch(c9,"onAnimationStart");Ch("dblclick","onDoubleClick");Ch("focusin","onFocus");Ch("focusout","onBlur");Ch(d9,"onTransitionEnd");T0("onMouseEnter",["mouseout","mouseover"]);T0("onMouseLeave",["mouseout","mouseover"]);T0("onPointerEnter",["pointerout","pointerover"]);T0("onPointerLeave",["pointerout","pointerover"]);wm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wm("onBeforeInput",["compositionend","keypress","textInput","paste"]);wm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vee=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sx));function AE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gZ(n,e,void 0,t),t.currentTarget=null}function h9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;AE(i,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;AE(i,l,d),a=c}}}if(E2)throw t=R_,E2=!1,R_=null,t}function Hs(t,e){var r=e[H_];r===void 0&&(r=e[H_]=new Set);var n=t+"__bubble";r.has(n)||(f9(e,t,2,!1),r.add(n))}function L5(t,e,r){var n=0;e&&(n|=4),f9(r,t,n,e)}var tb="_reactListening"+Math.random().toString(36).slice(2);function mv(t){if(!t[tb]){t[tb]=!0,bM.forEach(function(r){r!=="selectionchange"&&(vee.has(r)||L5(r,!1,t),L5(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tb]||(e[tb]=!0,L5("selectionchange",!1,e))}}function f9(t,e,r,n){switch(QM(e)){case 1:var i=FZ;break;case 4:i=OZ;break;default:i=Pk}r=i.bind(null,e,r,t),i=void 0,!L_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function R5(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=hf(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}IM(function(){var d=a,u=Ck(r),h=[];e:{var m=u9.get(t);if(m!==void 0){var f=Ok,g=t;switch(t){case"keypress":if(t2(r)===0)break e;case"keydown":case"keyup":f=GZ;break;case"focusin":g="focus",f=A5;break;case"focusout":g="blur",f=A5;break;case"beforeblur":case"afterblur":f=A5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=gE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=IZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=XZ;break;case o9:case l9:case c9:f=BZ;break;case d9:f=ZZ;break;case"scroll":f=LZ;break;case"wheel":f=tee;break;case"copy":case"cut":case"paste":f=$Z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vE}var p=(e&4)!==0,x=!p&&t==="scroll",y=p?m!==null?m+"Capture":null:m;p=[];for(var v=d,b;v!==null;){b=v;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=lv(v,y),w!=null&&p.push(pv(v,w,b)))),x)break;v=v.return}0<p.length&&(m=new f(m,g,null,r,u),h.push({event:m,listeners:p}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==F_&&(g=r.relatedTarget||r.fromElement)&&(hf(g)||g[$d]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(g=r.relatedTarget||r.toElement,f=d,g=g?hf(g):null,g!==null&&(x=Nm(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(p=gE,w="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(p=vE,w="onPointerLeave",y="onPointerEnter",v="pointer"),x=f==null?m:xp(f),b=g==null?m:xp(g),m=new p(w,v+"leave",f,r,u),m.target=x,m.relatedTarget=b,w=null,hf(u)===d&&(p=new p(y,v+"enter",g,r,u),p.target=b,p.relatedTarget=x,w=p),x=w,f&&g)t:{for(p=f,y=g,v=0,b=p;b;b=qm(b))v++;for(b=0,w=y;w;w=qm(w))b++;for(;0<v-b;)p=qm(p),v--;for(;0<b-v;)y=qm(y),b--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=qm(p),y=qm(y)}p=null}else p=null;f!==null&&EE(h,m,f,p,!1),g!==null&&x!==null&&EE(h,x,g,p,!0)}}e:{if(m=d?xp(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var _=lee;else if(wE(m))if(r9)_=hee;else{_=dee;var N=cee}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=uee);if(_&&(_=_(t,d))){t9(h,_,r,u);break e}N&&N(t,m,d),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&C_(m,"number",m.value)}switch(N=d?xp(d):window,t){case"focusin":(wE(N)||N.contentEditable==="true")&&(pp=N,B_=d,Ux=null);break;case"focusout":Ux=B_=pp=null;break;case"mousedown":U_=!0;break;case"contextmenu":case"mouseup":case"dragend":U_=!1,kE(h,r,u);break;case"selectionchange":if(pee)break;case"keydown":case"keyup":kE(h,r,u)}var j;if(Rk)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else mp?ZM(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(JM&&r.locale!=="ko"&&(mp||k!=="onCompositionStart"?k==="onCompositionEnd"&&mp&&(j=XM()):(Hu=u,Fk="value"in Hu?Hu.value:Hu.textContent,mp=!0)),N=L2(d,k),0<N.length&&(k=new xE(k,t,null,r,u),h.push({event:k,listeners:N}),j?k.data=j:(j=e9(r),j!==null&&(k.data=j)))),(j=see?nee(t,r):iee(t,r))&&(d=L2(d,"onBeforeInput"),0<d.length&&(u=new xE("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=j))}h9(h,e)})}function pv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function L2(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=lv(t,r),a!=null&&n.unshift(pv(t,a,i)),a=lv(t,e),a!=null&&n.push(pv(t,a,i))),t=t.return}return n}function qm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function EE(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,i?(c=lv(r,a),c!=null&&o.unshift(pv(r,c,l))):i||(c=lv(r,a),c!=null&&o.push(pv(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var yee=/\r\n?/g,bee=/\u0000|\uFFFD/g;function TE(t){return(typeof t=="string"?t:""+t).replace(yee,`
`).replace(bee,"")}function rb(t,e,r){if(e=TE(e),TE(t)!==e&&r)throw Error(wt(425))}function R2(){}var $_=null,q_=null;function z_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var V_=typeof setTimeout=="function"?setTimeout:void 0,wee=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,Nee=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(t){return PE.resolve(null).then(t).catch(jee)}:V_;function jee(t){setTimeout(function(){throw t})}function I5(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),uv(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);uv(e)}function rh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ag=Math.random().toString(36).slice(2),jc="__reactFiber$"+ag,gv="__reactProps$"+ag,$d="__reactContainer$"+ag,H_="__reactEvents$"+ag,_ee="__reactListeners$"+ag,See="__reactHandles$"+ag;function hf(t){var e=t[jc];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$d]||r[jc]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=FE(t);t!==null;){if(r=t[jc])return r;t=FE(t)}return e}t=r,r=t.parentNode}return null}function My(t){return t=t[jc]||t[$d],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(wt(33))}function kN(t){return t[gv]||null}var W_=[],vp=-1;function Ah(t){return{current:t}}function Gs(t){0>vp||(t.current=W_[vp],W_[vp]=null,vp--)}function $s(t,e){vp++,W_[vp]=t.current,t.current=e}var dh={},ca=Ah(dh),Va=Ah(!1),Xf=dh;function P0(t,e){var r=t.type.contextTypes;if(!r)return dh;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ha(t){return t=t.childContextTypes,t!=null}function I2(){Gs(Va),Gs(ca)}function OE(t,e,r){if(ca.current!==dh)throw Error(wt(168));$s(ca,e),$s(Va,r)}function m9(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(wt(108,cZ(t)||"Unknown",i));return hn({},r,n)}function D2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||dh,Xf=ca.current,$s(ca,t),$s(Va,Va.current),!0}function LE(t,e,r){var n=t.stateNode;if(!n)throw Error(wt(169));r?(t=m9(t,e,Xf),n.__reactInternalMemoizedMergedChildContext=t,Gs(Va),Gs(ca),$s(ca,t)):Gs(Va),$s(Va,r)}var md=null,CN=!1,D5=!1;function p9(t){md===null?md=[t]:md.push(t)}function kee(t){CN=!0,p9(t)}function Eh(){if(!D5&&md!==null){D5=!0;var t=0,e=Cs;try{var r=md;for(Cs=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}md=null,CN=!1}catch(i){throw md!==null&&(md=md.slice(t+1)),UM(Ak,Eh),i}finally{Cs=e,D5=!1}}return null}var yp=[],bp=0,M2=null,B2=0,Vo=[],Ho=0,Jf=null,Cd=1,Ad="";function tf(t,e){yp[bp++]=B2,yp[bp++]=M2,M2=t,B2=e}function g9(t,e,r){Vo[Ho++]=Cd,Vo[Ho++]=Ad,Vo[Ho++]=Jf,Jf=t;var n=Cd;t=Ad;var i=32-Rl(n)-1;n&=~(1<<i),r+=1;var a=32-Rl(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Cd=1<<32-Rl(e)+i|r<<i|n,Ad=a+t}else Cd=1<<a|r<<i|n,Ad=t}function Dk(t){t.return!==null&&(tf(t,1),g9(t,1,0))}function Mk(t){for(;t===M2;)M2=yp[--bp],yp[bp]=null,B2=yp[--bp],yp[bp]=null;for(;t===Jf;)Jf=Vo[--Ho],Vo[Ho]=null,Ad=Vo[--Ho],Vo[Ho]=null,Cd=Vo[--Ho],Vo[Ho]=null}var bo=null,vo=null,tn=!1,Cl=null;function x9(t,e){var r=Wo(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function RE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bo=t,vo=rh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bo=t,vo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Jf!==null?{id:Cd,overflow:Ad}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Wo(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bo=t,vo=null,!0):!1;default:return!1}}function K_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function G_(t){if(tn){var e=vo;if(e){var r=e;if(!RE(t,e)){if(K_(t))throw Error(wt(418));e=rh(r.nextSibling);var n=bo;e&&RE(t,e)?x9(n,r):(t.flags=t.flags&-4097|2,tn=!1,bo=t)}}else{if(K_(t))throw Error(wt(418));t.flags=t.flags&-4097|2,tn=!1,bo=t}}}function IE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bo=t}function sb(t){if(t!==bo)return!1;if(!tn)return IE(t),tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!z_(t.type,t.memoizedProps)),e&&(e=vo)){if(K_(t))throw v9(),Error(wt(418));for(;e;)x9(t,e),e=rh(e.nextSibling)}if(IE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(wt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){vo=rh(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}vo=null}}else vo=bo?rh(t.stateNode.nextSibling):null;return!0}function v9(){for(var t=vo;t;)t=rh(t.nextSibling)}function F0(){vo=bo=null,tn=!1}function Bk(t){Cl===null?Cl=[t]:Cl.push(t)}var Cee=Zd.ReactCurrentBatchConfig;function ix(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(wt(309));var n=r.stateNode}if(!n)throw Error(wt(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(wt(284));if(!r._owner)throw Error(wt(290,t))}return t}function nb(t,e){throw t=Object.prototype.toString.call(e),Error(wt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function DE(t){var e=t._init;return e(t._payload)}function y9(t){function e(y,v){if(t){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ah(y,v),y.index=0,y.sibling=null,y}function a(y,v,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,w){return v===null||v.tag!==6?(v=V5(b,y.mode,w),v.return=y,v):(v=i(v,b),v.return=y,v)}function c(y,v,b,w){var _=b.type;return _===fp?u(y,v,b.props.children,w,b.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Eu&&DE(_)===v.type)?(w=i(v,b.props),w.ref=ix(y,v,b),w.return=y,w):(w=l2(b.type,b.key,b.props,null,y.mode,w),w.ref=ix(y,v,b),w.return=y,w)}function d(y,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=H5(b,y.mode,w),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function u(y,v,b,w,_){return v===null||v.tag!==7?(v=$f(b,y.mode,w,_),v.return=y,v):(v=i(v,b),v.return=y,v)}function h(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=V5(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case K1:return b=l2(v.type,v.key,v.props,null,y.mode,b),b.ref=ix(y,null,v),b.return=y,b;case hp:return v=H5(v,y.mode,b),v.return=y,v;case Eu:var w=v._init;return h(y,w(v._payload),b)}if(jx(v)||ex(v))return v=$f(v,y.mode,b,null),v.return=y,v;nb(y,v)}return null}function m(y,v,b,w){var _=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(y,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case K1:return b.key===_?c(y,v,b,w):null;case hp:return b.key===_?d(y,v,b,w):null;case Eu:return _=b._init,m(y,v,_(b._payload),w)}if(jx(b)||ex(b))return _!==null?null:u(y,v,b,w,null);nb(y,b)}return null}function f(y,v,b,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,l(v,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case K1:return y=y.get(w.key===null?b:w.key)||null,c(v,y,w,_);case hp:return y=y.get(w.key===null?b:w.key)||null,d(v,y,w,_);case Eu:var N=w._init;return f(y,v,b,N(w._payload),_)}if(jx(w)||ex(w))return y=y.get(b)||null,u(v,y,w,_,null);nb(v,w)}return null}function g(y,v,b,w){for(var _=null,N=null,j=v,k=v=0,E=null;j!==null&&k<b.length;k++){j.index>k?(E=j,j=null):E=j.sibling;var A=m(y,j,b[k],w);if(A===null){j===null&&(j=E);break}t&&j&&A.alternate===null&&e(y,j),v=a(A,v,k),N===null?_=A:N.sibling=A,N=A,j=E}if(k===b.length)return r(y,j),tn&&tf(y,k),_;if(j===null){for(;k<b.length;k++)j=h(y,b[k],w),j!==null&&(v=a(j,v,k),N===null?_=j:N.sibling=j,N=j);return tn&&tf(y,k),_}for(j=n(y,j);k<b.length;k++)E=f(j,y,k,b[k],w),E!==null&&(t&&E.alternate!==null&&j.delete(E.key===null?k:E.key),v=a(E,v,k),N===null?_=E:N.sibling=E,N=E);return t&&j.forEach(function(C){return e(y,C)}),tn&&tf(y,k),_}function p(y,v,b,w){var _=ex(b);if(typeof _!="function")throw Error(wt(150));if(b=_.call(b),b==null)throw Error(wt(151));for(var N=_=null,j=v,k=v=0,E=null,A=b.next();j!==null&&!A.done;k++,A=b.next()){j.index>k?(E=j,j=null):E=j.sibling;var C=m(y,j,A.value,w);if(C===null){j===null&&(j=E);break}t&&j&&C.alternate===null&&e(y,j),v=a(C,v,k),N===null?_=C:N.sibling=C,N=C,j=E}if(A.done)return r(y,j),tn&&tf(y,k),_;if(j===null){for(;!A.done;k++,A=b.next())A=h(y,A.value,w),A!==null&&(v=a(A,v,k),N===null?_=A:N.sibling=A,N=A);return tn&&tf(y,k),_}for(j=n(y,j);!A.done;k++,A=b.next())A=f(j,y,k,A.value,w),A!==null&&(t&&A.alternate!==null&&j.delete(A.key===null?k:A.key),v=a(A,v,k),N===null?_=A:N.sibling=A,N=A);return t&&j.forEach(function(T){return e(y,T)}),tn&&tf(y,k),_}function x(y,v,b,w){if(typeof b=="object"&&b!==null&&b.type===fp&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case K1:e:{for(var _=b.key,N=v;N!==null;){if(N.key===_){if(_=b.type,_===fp){if(N.tag===7){r(y,N.sibling),v=i(N,b.props.children),v.return=y,y=v;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Eu&&DE(_)===N.type){r(y,N.sibling),v=i(N,b.props),v.ref=ix(y,N,b),v.return=y,y=v;break e}r(y,N);break}else e(y,N);N=N.sibling}b.type===fp?(v=$f(b.props.children,y.mode,w,b.key),v.return=y,y=v):(w=l2(b.type,b.key,b.props,null,y.mode,w),w.ref=ix(y,v,b),w.return=y,y=w)}return o(y);case hp:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=H5(b,y.mode,w),v.return=y,y=v}return o(y);case Eu:return N=b._init,x(y,v,N(b._payload),w)}if(jx(b))return g(y,v,b,w);if(ex(b))return p(y,v,b,w);nb(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=i(v,b),v.return=y,y=v):(r(y,v),v=V5(b,y.mode,w),v.return=y,y=v),o(y)):r(y,v)}return x}var O0=y9(!0),b9=y9(!1),U2=Ah(null),$2=null,wp=null,Uk=null;function $k(){Uk=wp=$2=null}function qk(t){var e=U2.current;Gs(U2),t._currentValue=e}function Y_(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Op(t,e){$2=t,Uk=wp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(za=!0),t.firstContext=null)}function Qo(t){var e=t._currentValue;if(Uk!==t)if(t={context:t,memoizedValue:e,next:null},wp===null){if($2===null)throw Error(wt(308));wp=t,$2.dependencies={lanes:0,firstContext:t}}else wp=wp.next=t;return e}var ff=null;function zk(t){ff===null?ff=[t]:ff.push(t)}function w9(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,zk(e)):(r.next=i.next,i.next=r),e.interleaved=r,qd(t,n)}function qd(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Tu=!1;function Vk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Od(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sh(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ts&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,qd(t,r)}return i=n.interleaved,i===null?(e.next=e,zk(n)):(e.next=i.next,i.next=e),n.interleaved=e,qd(t,r)}function r2(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ek(t,r)}}function ME(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function q2(t,e,r,n){var i=t.updateQueue;Tu=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,u=d=c=null,l=a;do{var m=l.lane,f=l.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,p=l;switch(m=e,f=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){h=g.call(f,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,m=typeof g=="function"?g.call(f,h,m):g,m==null)break e;h=hn({},h,m);break e;case 2:Tu=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=f,c=h):u=u.next=f,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);em|=o,t.lanes=o,t.memoizedState=h}}function BE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(wt(191,i));i.call(n)}}}var By={},Pc=Ah(By),xv=Ah(By),vv=Ah(By);function mf(t){if(t===By)throw Error(wt(174));return t}function Hk(t,e){switch($s(vv,e),$s(xv,t),$s(Pc,By),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:E_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=E_(e,t)}Gs(Pc),$s(Pc,e)}function L0(){Gs(Pc),Gs(xv),Gs(vv)}function j9(t){mf(vv.current);var e=mf(Pc.current),r=E_(e,t.type);e!==r&&($s(xv,t),$s(Pc,r))}function Wk(t){xv.current===t&&(Gs(Pc),Gs(xv))}var cn=Ah(0);function z2(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var M5=[];function Kk(){for(var t=0;t<M5.length;t++)M5[t]._workInProgressVersionPrimary=null;M5.length=0}var s2=Zd.ReactCurrentDispatcher,B5=Zd.ReactCurrentBatchConfig,Zf=0,un=null,ii=null,pi=null,V2=!1,$x=!1,yv=0,Aee=0;function Gi(){throw Error(wt(321))}function Gk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!$l(t[r],e[r]))return!1;return!0}function Yk(t,e,r,n,i,a){if(Zf=a,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,s2.current=t===null||t.memoizedState===null?Fee:Oee,t=r(n,i),$x){a=0;do{if($x=!1,yv=0,25<=a)throw Error(wt(301));a+=1,pi=ii=null,e.updateQueue=null,s2.current=Lee,t=r(n,i)}while($x)}if(s2.current=H2,e=ii!==null&&ii.next!==null,Zf=0,pi=ii=un=null,V2=!1,e)throw Error(wt(300));return t}function Qk(){var t=yv!==0;return yv=0,t}function mc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?un.memoizedState=pi=t:pi=pi.next=t,pi}function Xo(){if(ii===null){var t=un.alternate;t=t!==null?t.memoizedState:null}else t=ii.next;var e=pi===null?un.memoizedState:pi.next;if(e!==null)pi=e,ii=t;else{if(t===null)throw Error(wt(310));ii=t,t={memoizedState:ii.memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},pi===null?un.memoizedState=pi=t:pi=pi.next=t}return pi}function bv(t,e){return typeof e=="function"?e(t):e}function U5(t){var e=Xo(),r=e.queue;if(r===null)throw Error(wt(311));r.lastRenderedReducer=t;var n=ii,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Zf&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,un.lanes|=u,em|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,$l(n,e.memoizedState)||(za=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,un.lanes|=a,em|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $5(t){var e=Xo(),r=e.queue;if(r===null)throw Error(wt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);$l(a,e.memoizedState)||(za=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function _9(){}function S9(t,e){var r=un,n=Xo(),i=e(),a=!$l(n.memoizedState,i);if(a&&(n.memoizedState=i,za=!0),n=n.queue,Xk(A9.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||pi!==null&&pi.memoizedState.tag&1){if(r.flags|=2048,wv(9,C9.bind(null,r,n,i,e),void 0,null),bi===null)throw Error(wt(349));Zf&30||k9(r,e,i)}return i}function k9(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function C9(t,e,r,n){e.value=r,e.getSnapshot=n,E9(e)&&T9(t)}function A9(t,e,r){return r(function(){E9(e)&&T9(t)})}function E9(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!$l(t,r)}catch{return!0}}function T9(t){var e=qd(t,1);e!==null&&Il(e,t,1,-1)}function UE(t){var e=mc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:t},e.queue=t,t=t.dispatch=Pee.bind(null,un,t),[e.memoizedState,t]}function wv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function P9(){return Xo().memoizedState}function n2(t,e,r,n){var i=mc();un.flags|=t,i.memoizedState=wv(1|e,r,void 0,n===void 0?null:n)}function AN(t,e,r,n){var i=Xo();n=n===void 0?null:n;var a=void 0;if(ii!==null){var o=ii.memoizedState;if(a=o.destroy,n!==null&&Gk(n,o.deps)){i.memoizedState=wv(e,r,a,n);return}}un.flags|=t,i.memoizedState=wv(1|e,r,a,n)}function $E(t,e){return n2(8390656,8,t,e)}function Xk(t,e){return AN(2048,8,t,e)}function F9(t,e){return AN(4,2,t,e)}function O9(t,e){return AN(4,4,t,e)}function L9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R9(t,e,r){return r=r!=null?r.concat([t]):null,AN(4,4,L9.bind(null,e,t),r)}function Jk(){}function I9(t,e){var r=Xo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Gk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function D9(t,e){var r=Xo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Gk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function M9(t,e,r){return Zf&21?($l(r,e)||(r=zM(),un.lanes|=r,em|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,za=!0),t.memoizedState=r)}function Eee(t,e){var r=Cs;Cs=r!==0&&4>r?r:4,t(!0);var n=B5.transition;B5.transition={};try{t(!1),e()}finally{Cs=r,B5.transition=n}}function B9(){return Xo().memoizedState}function Tee(t,e,r){var n=ih(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},U9(t))$9(e,r);else if(r=w9(t,e,r,n),r!==null){var i=ka();Il(r,t,n,i),q9(r,e,n)}}function Pee(t,e,r){var n=ih(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(U9(t))$9(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,$l(l,o)){var c=e.interleaved;c===null?(i.next=i,zk(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=w9(t,e,i,n),r!==null&&(i=ka(),Il(r,t,n,i),q9(r,e,n))}}function U9(t){var e=t.alternate;return t===un||e!==null&&e===un}function $9(t,e){$x=V2=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function q9(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ek(t,r)}}var H2={readContext:Qo,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},Fee={readContext:Qo,useCallback:function(t,e){return mc().memoizedState=[t,e===void 0?null:e],t},useContext:Qo,useEffect:$E,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,n2(4194308,4,L9.bind(null,e,t),r)},useLayoutEffect:function(t,e){return n2(4194308,4,t,e)},useInsertionEffect:function(t,e){return n2(4,2,t,e)},useMemo:function(t,e){var r=mc();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=mc();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Tee.bind(null,un,t),[n.memoizedState,t]},useRef:function(t){var e=mc();return t={current:t},e.memoizedState=t},useState:UE,useDebugValue:Jk,useDeferredValue:function(t){return mc().memoizedState=t},useTransition:function(){var t=UE(!1),e=t[0];return t=Eee.bind(null,t[1]),mc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=un,i=mc();if(tn){if(r===void 0)throw Error(wt(407));r=r()}else{if(r=e(),bi===null)throw Error(wt(349));Zf&30||k9(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,$E(A9.bind(null,n,a,t),[t]),n.flags|=2048,wv(9,C9.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=mc(),e=bi.identifierPrefix;if(tn){var r=Ad,n=Cd;r=(n&~(1<<32-Rl(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=yv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Aee++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Oee={readContext:Qo,useCallback:I9,useContext:Qo,useEffect:Xk,useImperativeHandle:R9,useInsertionEffect:F9,useLayoutEffect:O9,useMemo:D9,useReducer:U5,useRef:P9,useState:function(){return U5(bv)},useDebugValue:Jk,useDeferredValue:function(t){var e=Xo();return M9(e,ii.memoizedState,t)},useTransition:function(){var t=U5(bv)[0],e=Xo().memoizedState;return[t,e]},useMutableSource:_9,useSyncExternalStore:S9,useId:B9,unstable_isNewReconciler:!1},Lee={readContext:Qo,useCallback:I9,useContext:Qo,useEffect:Xk,useImperativeHandle:R9,useInsertionEffect:F9,useLayoutEffect:O9,useMemo:D9,useReducer:$5,useRef:P9,useState:function(){return $5(bv)},useDebugValue:Jk,useDeferredValue:function(t){var e=Xo();return ii===null?e.memoizedState=t:M9(e,ii.memoizedState,t)},useTransition:function(){var t=$5(bv)[0],e=Xo().memoizedState;return[t,e]},useMutableSource:_9,useSyncExternalStore:S9,useId:B9,unstable_isNewReconciler:!1};function pl(t,e){if(t&&t.defaultProps){e=hn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Q_(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:hn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var EN={isMounted:function(t){return(t=t._reactInternals)?Nm(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ka(),i=ih(t),a=Od(n,i);a.payload=e,r!=null&&(a.callback=r),e=sh(t,a,i),e!==null&&(Il(e,t,i,n),r2(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ka(),i=ih(t),a=Od(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=sh(t,a,i),e!==null&&(Il(e,t,i,n),r2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ka(),n=ih(t),i=Od(r,n);i.tag=2,e!=null&&(i.callback=e),e=sh(t,i,n),e!==null&&(Il(e,t,n,r),r2(e,t,n))}};function qE(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!fv(r,n)||!fv(i,a):!0}function z9(t,e,r){var n=!1,i=dh,a=e.contextType;return typeof a=="object"&&a!==null?a=Qo(a):(i=Ha(e)?Xf:ca.current,n=e.contextTypes,a=(n=n!=null)?P0(t,i):dh),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=EN,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function zE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&EN.enqueueReplaceState(e,e.state,null)}function X_(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Vk(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Qo(a):(a=Ha(e)?Xf:ca.current,i.context=P0(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Q_(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&EN.enqueueReplaceState(i,i.state,null),q2(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function R0(t,e){try{var r="",n=e;do r+=lZ(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function q5(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function J_(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Ree=typeof WeakMap=="function"?WeakMap:Map;function V9(t,e,r){r=Od(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){K2||(K2=!0,lS=n),J_(t,e)},r}function H9(t,e,r){r=Od(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){J_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){J_(t,e),typeof n!="function"&&(nh===null?nh=new Set([this]):nh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function VE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Ree;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Yee.bind(null,t,e,r),e.then(t,t))}function HE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function WE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Od(-1,1),e.tag=2,sh(r,e,1))),r.lanes|=1),t)}var Iee=Zd.ReactCurrentOwner,za=!1;function ba(t,e,r,n){e.child=t===null?b9(e,null,r,n):O0(e,t.child,r,n)}function KE(t,e,r,n,i){r=r.render;var a=e.ref;return Op(e,i),n=Yk(t,e,r,n,a,i),r=Qk(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zd(t,e,i)):(tn&&r&&Dk(e),e.flags|=1,ba(t,e,n,i),e.child)}function GE(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!a6(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,W9(t,e,a,n,i)):(t=l2(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:fv,r(o,n)&&t.ref===e.ref)return zd(t,e,i)}return e.flags|=1,t=ah(a,n),t.ref=e.ref,t.return=e,e.child=t}function W9(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(fv(a,n)&&t.ref===e.ref)if(za=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(za=!0);else return e.lanes=t.lanes,zd(t,e,i)}return Z_(t,e,r,n,i)}function K9(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$s(jp,co),co|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$s(jp,co),co|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,$s(jp,co),co|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,$s(jp,co),co|=n;return ba(t,e,i,r),e.child}function G9(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Z_(t,e,r,n,i){var a=Ha(r)?Xf:ca.current;return a=P0(e,a),Op(e,i),r=Yk(t,e,r,n,a,i),n=Qk(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zd(t,e,i)):(tn&&n&&Dk(e),e.flags|=1,ba(t,e,r,i),e.child)}function YE(t,e,r,n,i){if(Ha(r)){var a=!0;D2(e)}else a=!1;if(Op(e,i),e.stateNode===null)i2(t,e),z9(e,r,n),X_(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Qo(d):(d=Ha(r)?Xf:ca.current,d=P0(e,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&zE(e,o,n,d),Tu=!1;var m=e.memoizedState;o.state=m,q2(e,n,o,i),c=e.memoizedState,l!==n||m!==c||Va.current||Tu?(typeof u=="function"&&(Q_(e,r,u,n),c=e.memoizedState),(l=Tu||qE(e,r,l,n,m,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,N9(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:pl(e.type,l),o.props=d,h=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qo(c):(c=Ha(r)?Xf:ca.current,c=P0(e,c));var f=r.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&zE(e,o,n,c),Tu=!1,m=e.memoizedState,o.state=m,q2(e,n,o,i);var g=e.memoizedState;l!==h||m!==g||Va.current||Tu?(typeof f=="function"&&(Q_(e,r,f,n),g=e.memoizedState),(d=Tu||qE(e,r,d,n,m,g,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return eS(t,e,r,n,a,i)}function eS(t,e,r,n,i,a){G9(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&LE(e,r,!1),zd(t,e,a);n=e.stateNode,Iee.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=O0(e,t.child,null,a),e.child=O0(e,null,l,a)):ba(t,e,l,a),e.memoizedState=n.state,i&&LE(e,r,!0),e.child}function Y9(t){var e=t.stateNode;e.pendingContext?OE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OE(t,e.context,!1),Hk(t,e.containerInfo)}function QE(t,e,r,n,i){return F0(),Bk(i),e.flags|=256,ba(t,e,r,n),e.child}var tS={dehydrated:null,treeContext:null,retryLane:0};function rS(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q9(t,e,r){var n=e.pendingProps,i=cn.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$s(cn,i&1),t===null)return G_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=FN(o,n,0,null),t=$f(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=rS(r),e.memoizedState=tS,t):Zk(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Dee(t,e,o,n,l,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ah(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=ah(l,a):(a=$f(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?rS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=tS,n}return a=t.child,t=a.sibling,n=ah(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Zk(t,e){return e=FN({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ib(t,e,r,n){return n!==null&&Bk(n),O0(e,t.child,null,r),t=Zk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dee(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=q5(Error(wt(422))),ib(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=FN({mode:"visible",children:n.children},i,0,null),a=$f(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&O0(e,t.child,null,o),e.child.memoizedState=rS(o),e.memoizedState=tS,a);if(!(e.mode&1))return ib(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(wt(419)),n=q5(a,n,void 0),ib(t,e,o,n)}if(l=(o&t.childLanes)!==0,za||l){if(n=bi,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,qd(t,i),Il(n,t,i,-1))}return i6(),n=q5(Error(wt(421))),ib(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Qee.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,vo=rh(i.nextSibling),bo=e,tn=!0,Cl=null,t!==null&&(Vo[Ho++]=Cd,Vo[Ho++]=Ad,Vo[Ho++]=Jf,Cd=t.id,Ad=t.overflow,Jf=e),e=Zk(e,n.children),e.flags|=4096,e)}function XE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Y_(t.return,e,r)}function z5(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function X9(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ba(t,e,n.children,r),n=cn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XE(t,r,e);else if(t.tag===19)XE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if($s(cn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&z2(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),z5(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&z2(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}z5(e,!0,r,null,a);break;case"together":z5(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function i2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zd(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),em|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(wt(153));if(e.child!==null){for(t=e.child,r=ah(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ah(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Mee(t,e,r){switch(e.tag){case 3:Y9(e),F0();break;case 5:j9(e);break;case 1:Ha(e.type)&&D2(e);break;case 4:Hk(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;$s(U2,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?($s(cn,cn.current&1),e.flags|=128,null):r&e.child.childLanes?Q9(t,e,r):($s(cn,cn.current&1),t=zd(t,e,r),t!==null?t.sibling:null);$s(cn,cn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return X9(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$s(cn,cn.current),n)break;return null;case 22:case 23:return e.lanes=0,K9(t,e,r)}return zd(t,e,r)}var J9,sS,Z9,eB;J9=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sS=function(){};Z9=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,mf(Pc.current);var a=null;switch(r){case"input":i=S_(t,i),n=S_(t,n),a=[];break;case"select":i=hn({},i,{value:void 0}),n=hn({},n,{value:void 0}),a=[];break;case"textarea":i=A_(t,i),n=A_(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=R2)}T_(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(av.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(av.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Hs("scroll",t),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(e.updateQueue=d)&&(e.flags|=4)}};eB=function(t,e,r,n){r!==n&&(e.flags|=4)};function ax(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Yi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Bee(t,e,r){var n=e.pendingProps;switch(Mk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yi(e),null;case 1:return Ha(e.type)&&I2(),Yi(e),null;case 3:return n=e.stateNode,L0(),Gs(Va),Gs(ca),Kk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(sb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cl!==null&&(uS(Cl),Cl=null))),sS(t,e),Yi(e),null;case 5:Wk(e);var i=mf(vv.current);if(r=e.type,t!==null&&e.stateNode!=null)Z9(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(wt(166));return Yi(e),null}if(t=mf(Pc.current),sb(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[jc]=e,n[gv]=a,t=(e.mode&1)!==0,r){case"dialog":Hs("cancel",n),Hs("close",n);break;case"iframe":case"object":case"embed":Hs("load",n);break;case"video":case"audio":for(i=0;i<Sx.length;i++)Hs(Sx[i],n);break;case"source":Hs("error",n);break;case"img":case"image":case"link":Hs("error",n),Hs("load",n);break;case"details":Hs("toggle",n);break;case"input":aE(n,a),Hs("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Hs("invalid",n);break;case"textarea":lE(n,a),Hs("invalid",n)}T_(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&rb(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&rb(n.textContent,l,t),i=["children",""+l]):av.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Hs("scroll",n)}switch(r){case"input":G1(n),oE(n,a,!0);break;case"textarea":G1(n),cE(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=R2)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AM(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[jc]=e,t[gv]=n,J9(t,e,!1,!1),e.stateNode=t;e:{switch(o=P_(r,n),r){case"dialog":Hs("cancel",t),Hs("close",t),i=n;break;case"iframe":case"object":case"embed":Hs("load",t),i=n;break;case"video":case"audio":for(i=0;i<Sx.length;i++)Hs(Sx[i],t);i=n;break;case"source":Hs("error",t),i=n;break;case"img":case"image":case"link":Hs("error",t),Hs("load",t),i=n;break;case"details":Hs("toggle",t),i=n;break;case"input":aE(t,n),i=S_(t,n),Hs("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=hn({},n,{value:void 0}),Hs("invalid",t);break;case"textarea":lE(t,n),i=A_(t,n),Hs("invalid",t);break;default:i=n}T_(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?PM(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&EM(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&ov(t,c):typeof c=="number"&&ov(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(av.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Hs("scroll",t):c!=null&&jk(t,a,c,o))}switch(r){case"input":G1(t),oE(t,n,!1);break;case"textarea":G1(t),cE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ch(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ep(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ep(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=R2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yi(e),null;case 6:if(t&&e.stateNode!=null)eB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(wt(166));if(r=mf(vv.current),mf(Pc.current),sb(e)){if(n=e.stateNode,r=e.memoizedProps,n[jc]=e,(a=n.nodeValue!==r)&&(t=bo,t!==null))switch(t.tag){case 3:rb(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rb(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jc]=e,e.stateNode=n}return Yi(e),null;case 13:if(Gs(cn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&vo!==null&&e.mode&1&&!(e.flags&128))v9(),F0(),e.flags|=98560,a=!1;else if(a=sb(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(wt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(wt(317));a[jc]=e}else F0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yi(e),a=!1}else Cl!==null&&(uS(Cl),Cl=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||cn.current&1?ci===0&&(ci=3):i6())),e.updateQueue!==null&&(e.flags|=4),Yi(e),null);case 4:return L0(),sS(t,e),t===null&&mv(e.stateNode.containerInfo),Yi(e),null;case 10:return qk(e.type._context),Yi(e),null;case 17:return Ha(e.type)&&I2(),Yi(e),null;case 19:if(Gs(cn),a=e.memoizedState,a===null)return Yi(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)ax(a,!1);else{if(ci!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=z2(t),o!==null){for(e.flags|=128,ax(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return $s(cn,cn.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ln()>I0&&(e.flags|=128,n=!0,ax(a,!1),e.lanes=4194304)}else{if(!n)if(t=z2(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ax(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!tn)return Yi(e),null}else 2*Ln()-a.renderingStartTime>I0&&r!==1073741824&&(e.flags|=128,n=!0,ax(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ln(),e.sibling=null,r=cn.current,$s(cn,n?r&1|2:r&1),e):(Yi(e),null);case 22:case 23:return n6(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?co&1073741824&&(Yi(e),e.subtreeFlags&6&&(e.flags|=8192)):Yi(e),null;case 24:return null;case 25:return null}throw Error(wt(156,e.tag))}function Uee(t,e){switch(Mk(e),e.tag){case 1:return Ha(e.type)&&I2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return L0(),Gs(Va),Gs(ca),Kk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wk(e),null;case 13:if(Gs(cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(wt(340));F0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Gs(cn),null;case 4:return L0(),null;case 10:return qk(e.type._context),null;case 22:case 23:return n6(),null;case 24:return null;default:return null}}var ab=!1,sa=!1,$ee=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Np(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yn(t,e,n)}else r.current=null}function nS(t,e,r){try{r()}catch(n){yn(t,e,n)}}var JE=!1;function qee(t,e){if($_=F2,t=i9(),Ik(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=t,m=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(l=o+i),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===t)break t;if(m===r&&++d===i&&(l=o),m===a&&++u===n&&(c=o),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(q_={focusedElem:t,selectionRange:r},F2=!1,Vt=e;Vt!==null;)if(e=Vt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Vt=t;else for(;Vt!==null;){e=Vt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:pl(e.type,p),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(wt(163))}}catch(w){yn(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Vt=t;break}Vt=e.return}return g=JE,JE=!1,g}function qx(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&nS(e,r,a)}i=i.next}while(i!==n)}}function TN(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function iS(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tB(t){var e=t.alternate;e!==null&&(t.alternate=null,tB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jc],delete e[gv],delete e[H_],delete e[_ee],delete e[See])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rB(t){return t.tag===5||t.tag===3||t.tag===4}function ZE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function aS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=R2));else if(n!==4&&(t=t.child,t!==null))for(aS(t,e,r),t=t.sibling;t!==null;)aS(t,e,r),t=t.sibling}function oS(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(oS(t,e,r),t=t.sibling;t!==null;)oS(t,e,r),t=t.sibling}var Fi=null,_l=!1;function yu(t,e,r){for(r=r.child;r!==null;)sB(t,e,r),r=r.sibling}function sB(t,e,r){if(Tc&&typeof Tc.onCommitFiberUnmount=="function")try{Tc.onCommitFiberUnmount(NN,r)}catch{}switch(r.tag){case 5:sa||Np(r,e);case 6:var n=Fi,i=_l;Fi=null,yu(t,e,r),Fi=n,_l=i,Fi!==null&&(_l?(t=Fi,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fi.removeChild(r.stateNode));break;case 18:Fi!==null&&(_l?(t=Fi,r=r.stateNode,t.nodeType===8?I5(t.parentNode,r):t.nodeType===1&&I5(t,r),uv(t)):I5(Fi,r.stateNode));break;case 4:n=Fi,i=_l,Fi=r.stateNode.containerInfo,_l=!0,yu(t,e,r),Fi=n,_l=i;break;case 0:case 11:case 14:case 15:if(!sa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&nS(r,e,o),i=i.next}while(i!==n)}yu(t,e,r);break;case 1:if(!sa&&(Np(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){yn(r,e,l)}yu(t,e,r);break;case 21:yu(t,e,r);break;case 22:r.mode&1?(sa=(n=sa)||r.memoizedState!==null,yu(t,e,r),sa=n):yu(t,e,r);break;default:yu(t,e,r)}}function eT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $ee),e.forEach(function(n){var i=Xee.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function dl(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fi=l.stateNode,_l=!1;break e;case 3:Fi=l.stateNode.containerInfo,_l=!0;break e;case 4:Fi=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(Fi===null)throw Error(wt(160));sB(a,o,i),Fi=null,_l=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){yn(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nB(e,t),e=e.sibling}function nB(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dl(e,t),oc(t),n&4){try{qx(3,t,t.return),TN(3,t)}catch(p){yn(t,t.return,p)}try{qx(5,t,t.return)}catch(p){yn(t,t.return,p)}}break;case 1:dl(e,t),oc(t),n&512&&r!==null&&Np(r,r.return);break;case 5:if(dl(e,t),oc(t),n&512&&r!==null&&Np(r,r.return),t.flags&32){var i=t.stateNode;try{ov(i,"")}catch(p){yn(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&kM(i,a),P_(l,o);var d=P_(l,a);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];u==="style"?PM(i,h):u==="dangerouslySetInnerHTML"?EM(i,h):u==="children"?ov(i,h):jk(i,u,h,d)}switch(l){case"input":k_(i,a);break;case"textarea":CM(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Ep(i,!!a.multiple,f,!1):m!==!!a.multiple&&(a.defaultValue!=null?Ep(i,!!a.multiple,a.defaultValue,!0):Ep(i,!!a.multiple,a.multiple?[]:"",!1))}i[gv]=a}catch(p){yn(t,t.return,p)}}break;case 6:if(dl(e,t),oc(t),n&4){if(t.stateNode===null)throw Error(wt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(p){yn(t,t.return,p)}}break;case 3:if(dl(e,t),oc(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{uv(e.containerInfo)}catch(p){yn(t,t.return,p)}break;case 4:dl(e,t),oc(t);break;case 13:dl(e,t),oc(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(r6=Ln())),n&4&&eT(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(sa=(d=sa)||u,dl(e,t),sa=d):dl(e,t),oc(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(Vt=t,u=t.child;u!==null;){for(h=Vt=u;Vt!==null;){switch(m=Vt,f=m.child,m.tag){case 0:case 11:case 14:case 15:qx(4,m,m.return);break;case 1:Np(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(p){yn(n,r,p)}}break;case 5:Np(m,m.return);break;case 22:if(m.memoizedState!==null){rT(h);continue}}f!==null?(f.return=m,Vt=f):rT(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=TM("display",o))}catch(p){yn(t,t.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){yn(t,t.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dl(e,t),oc(t),n&4&&eT(t);break;case 21:break;default:dl(e,t),oc(t)}}function oc(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rB(r)){var n=r;break e}r=r.return}throw Error(wt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ov(i,""),n.flags&=-33);var a=ZE(t);oS(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ZE(t);aS(t,l,o);break;default:throw Error(wt(161))}}catch(c){yn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zee(t,e,r){Vt=t,iB(t)}function iB(t,e,r){for(var n=(t.mode&1)!==0;Vt!==null;){var i=Vt,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ab;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||sa;l=ab;var d=sa;if(ab=o,(sa=c)&&!d)for(Vt=i;Vt!==null;)o=Vt,c=o.child,o.tag===22&&o.memoizedState!==null?sT(i):c!==null?(c.return=o,Vt=c):sT(i);for(;a!==null;)Vt=a,iB(a),a=a.sibling;Vt=i,ab=l,sa=d}tT(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Vt=a):tT(t)}}function tT(t){for(;Vt!==null;){var e=Vt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sa||TN(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!sa)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:pl(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&BE(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}BE(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&uv(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(wt(163))}sa||e.flags&512&&iS(e)}catch(m){yn(e,e.return,m)}}if(e===t){Vt=null;break}if(r=e.sibling,r!==null){r.return=e.return,Vt=r;break}Vt=e.return}}function rT(t){for(;Vt!==null;){var e=Vt;if(e===t){Vt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Vt=r;break}Vt=e.return}}function sT(t){for(;Vt!==null;){var e=Vt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{TN(4,e)}catch(c){yn(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){yn(e,i,c)}}var a=e.return;try{iS(e)}catch(c){yn(e,a,c)}break;case 5:var o=e.return;try{iS(e)}catch(c){yn(e,o,c)}}}catch(c){yn(e,e.return,c)}if(e===t){Vt=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Vt=l;break}Vt=e.return}}var Vee=Math.ceil,W2=Zd.ReactCurrentDispatcher,e6=Zd.ReactCurrentOwner,Ko=Zd.ReactCurrentBatchConfig,ts=0,bi=null,Kn=null,Bi=0,co=0,jp=Ah(0),ci=0,Nv=null,em=0,PN=0,t6=0,zx=null,qa=null,r6=0,I0=1/0,fd=null,K2=!1,lS=null,nh=null,ob=!1,Wu=null,G2=0,Vx=0,cS=null,a2=-1,o2=0;function ka(){return ts&6?Ln():a2!==-1?a2:a2=Ln()}function ih(t){return t.mode&1?ts&2&&Bi!==0?Bi&-Bi:Cee.transition!==null?(o2===0&&(o2=zM()),o2):(t=Cs,t!==0||(t=window.event,t=t===void 0?16:QM(t.type)),t):1}function Il(t,e,r,n){if(50<Vx)throw Vx=0,cS=null,Error(wt(185));Iy(t,r,n),(!(ts&2)||t!==bi)&&(t===bi&&(!(ts&2)&&(PN|=r),ci===4&&Fu(t,Bi)),Wa(t,n),r===1&&ts===0&&!(e.mode&1)&&(I0=Ln()+500,CN&&Eh()))}function Wa(t,e){var r=t.callbackNode;CZ(t,e);var n=P2(t,t===bi?Bi:0);if(n===0)r!==null&&hE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hE(r),e===1)t.tag===0?kee(nT.bind(null,t)):p9(nT.bind(null,t)),Nee(function(){!(ts&6)&&Eh()}),r=null;else{switch(VM(n)){case 1:r=Ak;break;case 4:r=$M;break;case 16:r=T2;break;case 536870912:r=qM;break;default:r=T2}r=fB(r,aB.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aB(t,e){if(a2=-1,o2=0,ts&6)throw Error(wt(327));var r=t.callbackNode;if(Lp()&&t.callbackNode!==r)return null;var n=P2(t,t===bi?Bi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Y2(t,n);else{e=n;var i=ts;ts|=2;var a=lB();(bi!==t||Bi!==e)&&(fd=null,I0=Ln()+500,Uf(t,e));do try{Kee();break}catch(l){oB(t,l)}while(!0);$k(),W2.current=a,ts=i,Kn!==null?e=0:(bi=null,Bi=0,e=ci)}if(e!==0){if(e===2&&(i=I_(t),i!==0&&(n=i,e=dS(t,i))),e===1)throw r=Nv,Uf(t,0),Fu(t,n),Wa(t,Ln()),r;if(e===6)Fu(t,n);else{if(i=t.current.alternate,!(n&30)&&!Hee(i)&&(e=Y2(t,n),e===2&&(a=I_(t),a!==0&&(n=a,e=dS(t,a))),e===1))throw r=Nv,Uf(t,0),Fu(t,n),Wa(t,Ln()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(wt(345));case 2:rf(t,qa,fd);break;case 3:if(Fu(t,n),(n&130023424)===n&&(e=r6+500-Ln(),10<e)){if(P2(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ka(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=V_(rf.bind(null,t,qa,fd),e);break}rf(t,qa,fd);break;case 4:if(Fu(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Rl(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=Ln()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Vee(n/1960))-n,10<n){t.timeoutHandle=V_(rf.bind(null,t,qa,fd),n);break}rf(t,qa,fd);break;case 5:rf(t,qa,fd);break;default:throw Error(wt(329))}}}return Wa(t,Ln()),t.callbackNode===r?aB.bind(null,t):null}function dS(t,e){var r=zx;return t.current.memoizedState.isDehydrated&&(Uf(t,e).flags|=256),t=Y2(t,e),t!==2&&(e=qa,qa=r,e!==null&&uS(e)),t}function uS(t){qa===null?qa=t:qa.push.apply(qa,t)}function Hee(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!$l(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fu(t,e){for(e&=~t6,e&=~PN,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Rl(e),n=1<<r;t[r]=-1,e&=~n}}function nT(t){if(ts&6)throw Error(wt(327));Lp();var e=P2(t,0);if(!(e&1))return Wa(t,Ln()),null;var r=Y2(t,e);if(t.tag!==0&&r===2){var n=I_(t);n!==0&&(e=n,r=dS(t,n))}if(r===1)throw r=Nv,Uf(t,0),Fu(t,e),Wa(t,Ln()),r;if(r===6)throw Error(wt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rf(t,qa,fd),Wa(t,Ln()),null}function s6(t,e){var r=ts;ts|=1;try{return t(e)}finally{ts=r,ts===0&&(I0=Ln()+500,CN&&Eh())}}function tm(t){Wu!==null&&Wu.tag===0&&!(ts&6)&&Lp();var e=ts;ts|=1;var r=Ko.transition,n=Cs;try{if(Ko.transition=null,Cs=1,t)return t()}finally{Cs=n,Ko.transition=r,ts=e,!(ts&6)&&Eh()}}function n6(){co=jp.current,Gs(jp)}function Uf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,wee(r)),Kn!==null)for(r=Kn.return;r!==null;){var n=r;switch(Mk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&I2();break;case 3:L0(),Gs(Va),Gs(ca),Kk();break;case 5:Wk(n);break;case 4:L0();break;case 13:Gs(cn);break;case 19:Gs(cn);break;case 10:qk(n.type._context);break;case 22:case 23:n6()}r=r.return}if(bi=t,Kn=t=ah(t.current,null),Bi=co=e,ci=0,Nv=null,t6=PN=em=0,qa=zx=null,ff!==null){for(e=0;e<ff.length;e++)if(r=ff[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}ff=null}return t}function oB(t,e){do{var r=Kn;try{if($k(),s2.current=H2,V2){for(var n=un.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}V2=!1}if(Zf=0,pi=ii=un=null,$x=!1,yv=0,e6.current=null,r===null||r.return===null){ci=1,Nv=e,Kn=null;break}e:{var a=t,o=r.return,l=r,c=e;if(e=Bi,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=HE(o);if(f!==null){f.flags&=-257,WE(f,o,l,a,e),f.mode&1&&VE(a,d,e),e=f,c=d;var g=e.updateQueue;if(g===null){var p=new Set;p.add(c),e.updateQueue=p}else g.add(c);break e}else{if(!(e&1)){VE(a,d,e),i6();break e}c=Error(wt(426))}}else if(tn&&l.mode&1){var x=HE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),WE(x,o,l,a,e),Bk(R0(c,l));break e}}a=c=R0(c,l),ci!==4&&(ci=2),zx===null?zx=[a]:zx.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=V9(a,c,e);ME(a,y);break e;case 1:l=c;var v=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(nh===null||!nh.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=H9(a,l,e);ME(a,w);break e}}a=a.return}while(a!==null)}dB(r)}catch(_){e=_,Kn===r&&r!==null&&(Kn=r=r.return);continue}break}while(!0)}function lB(){var t=W2.current;return W2.current=H2,t===null?H2:t}function i6(){(ci===0||ci===3||ci===2)&&(ci=4),bi===null||!(em&268435455)&&!(PN&268435455)||Fu(bi,Bi)}function Y2(t,e){var r=ts;ts|=2;var n=lB();(bi!==t||Bi!==e)&&(fd=null,Uf(t,e));do try{Wee();break}catch(i){oB(t,i)}while(!0);if($k(),ts=r,W2.current=n,Kn!==null)throw Error(wt(261));return bi=null,Bi=0,ci}function Wee(){for(;Kn!==null;)cB(Kn)}function Kee(){for(;Kn!==null&&!vZ();)cB(Kn)}function cB(t){var e=hB(t.alternate,t,co);t.memoizedProps=t.pendingProps,e===null?dB(t):Kn=e,e6.current=null}function dB(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Uee(r,e),r!==null){r.flags&=32767,Kn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ci=6,Kn=null;return}}else if(r=Bee(r,e,co),r!==null){Kn=r;return}if(e=e.sibling,e!==null){Kn=e;return}Kn=e=t}while(e!==null);ci===0&&(ci=5)}function rf(t,e,r){var n=Cs,i=Ko.transition;try{Ko.transition=null,Cs=1,Gee(t,e,r,n)}finally{Ko.transition=i,Cs=n}return null}function Gee(t,e,r,n){do Lp();while(Wu!==null);if(ts&6)throw Error(wt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(wt(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(AZ(t,a),t===bi&&(Kn=bi=null,Bi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ob||(ob=!0,fB(T2,function(){return Lp(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ko.transition,Ko.transition=null;var o=Cs;Cs=1;var l=ts;ts|=4,e6.current=null,qee(t,r),nB(r,t),mee(q_),F2=!!$_,q_=$_=null,t.current=r,zee(r),yZ(),ts=l,Cs=o,Ko.transition=a}else t.current=r;if(ob&&(ob=!1,Wu=t,G2=i),a=t.pendingLanes,a===0&&(nh=null),NZ(r.stateNode),Wa(t,Ln()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(K2)throw K2=!1,t=lS,lS=null,t;return G2&1&&t.tag!==0&&Lp(),a=t.pendingLanes,a&1?t===cS?Vx++:(Vx=0,cS=t):Vx=0,Eh(),null}function Lp(){if(Wu!==null){var t=VM(G2),e=Ko.transition,r=Cs;try{if(Ko.transition=null,Cs=16>t?16:t,Wu===null)var n=!1;else{if(t=Wu,Wu=null,G2=0,ts&6)throw Error(wt(331));var i=ts;for(ts|=4,Vt=t.current;Vt!==null;){var a=Vt,o=a.child;if(Vt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Vt=d;Vt!==null;){var u=Vt;switch(u.tag){case 0:case 11:case 15:qx(8,u,a)}var h=u.child;if(h!==null)h.return=u,Vt=h;else for(;Vt!==null;){u=Vt;var m=u.sibling,f=u.return;if(tB(u),u===d){Vt=null;break}if(m!==null){m.return=f,Vt=m;break}Vt=f}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Vt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Vt=o;else e:for(;Vt!==null;){if(a=Vt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:qx(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Vt=y;break e}Vt=a.return}}var v=t.current;for(Vt=v;Vt!==null;){o=Vt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Vt=b;else e:for(o=v;Vt!==null;){if(l=Vt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:TN(9,l)}}catch(_){yn(l,l.return,_)}if(l===o){Vt=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Vt=w;break e}Vt=l.return}}if(ts=i,Eh(),Tc&&typeof Tc.onPostCommitFiberRoot=="function")try{Tc.onPostCommitFiberRoot(NN,t)}catch{}n=!0}return n}finally{Cs=r,Ko.transition=e}}return!1}function iT(t,e,r){e=R0(r,e),e=V9(t,e,1),t=sh(t,e,1),e=ka(),t!==null&&(Iy(t,1,e),Wa(t,e))}function yn(t,e,r){if(t.tag===3)iT(t,t,r);else for(;e!==null;){if(e.tag===3){iT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nh===null||!nh.has(n))){t=R0(r,t),t=H9(e,t,1),e=sh(e,t,1),t=ka(),e!==null&&(Iy(e,1,t),Wa(e,t));break}}e=e.return}}function Yee(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ka(),t.pingedLanes|=t.suspendedLanes&r,bi===t&&(Bi&r)===r&&(ci===4||ci===3&&(Bi&130023424)===Bi&&500>Ln()-r6?Uf(t,0):t6|=r),Wa(t,e)}function uB(t,e){e===0&&(t.mode&1?(e=X1,X1<<=1,!(X1&130023424)&&(X1=4194304)):e=1);var r=ka();t=qd(t,e),t!==null&&(Iy(t,e,r),Wa(t,r))}function Qee(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),uB(t,r)}function Xee(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(wt(314))}n!==null&&n.delete(e),uB(t,r)}var hB;hB=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Va.current)za=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return za=!1,Mee(t,e,r);za=!!(t.flags&131072)}else za=!1,tn&&e.flags&1048576&&g9(e,B2,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;i2(t,e),t=e.pendingProps;var i=P0(e,ca.current);Op(e,r),i=Yk(null,e,n,t,i,r);var a=Qk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ha(n)?(a=!0,D2(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vk(e),i.updater=EN,e.stateNode=i,i._reactInternals=e,X_(e,n,t,r),e=eS(null,e,n,!0,a,r)):(e.tag=0,tn&&a&&Dk(e),ba(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(i2(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Zee(n),t=pl(n,t),i){case 0:e=Z_(null,e,n,t,r);break e;case 1:e=YE(null,e,n,t,r);break e;case 11:e=KE(null,e,n,t,r);break e;case 14:e=GE(null,e,n,pl(n.type,t),r);break e}throw Error(wt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pl(n,i),Z_(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pl(n,i),YE(t,e,n,i,r);case 3:e:{if(Y9(e),t===null)throw Error(wt(387));n=e.pendingProps,a=e.memoizedState,i=a.element,N9(t,e),q2(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=R0(Error(wt(423)),e),e=QE(t,e,n,r,i);break e}else if(n!==i){i=R0(Error(wt(424)),e),e=QE(t,e,n,r,i);break e}else for(vo=rh(e.stateNode.containerInfo.firstChild),bo=e,tn=!0,Cl=null,r=b9(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(F0(),n===i){e=zd(t,e,r);break e}ba(t,e,n,r)}e=e.child}return e;case 5:return j9(e),t===null&&G_(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,z_(n,i)?o=null:a!==null&&z_(n,a)&&(e.flags|=32),G9(t,e),ba(t,e,o,r),e.child;case 6:return t===null&&G_(e),null;case 13:return Q9(t,e,r);case 4:return Hk(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=O0(e,null,n,r):ba(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pl(n,i),KE(t,e,n,i,r);case 7:return ba(t,e,e.pendingProps,r),e.child;case 8:return ba(t,e,e.pendingProps.children,r),e.child;case 12:return ba(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,$s(U2,n._currentValue),n._currentValue=o,a!==null)if($l(a.value,o)){if(a.children===i.children&&!Va.current){e=zd(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Od(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Y_(a.return,r,e),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(wt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Y_(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ba(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Op(e,r),i=Qo(i),n=n(i),e.flags|=1,ba(t,e,n,r),e.child;case 14:return n=e.type,i=pl(n,e.pendingProps),i=pl(n.type,i),GE(t,e,n,i,r);case 15:return W9(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pl(n,i),i2(t,e),e.tag=1,Ha(n)?(t=!0,D2(e)):t=!1,Op(e,r),z9(e,n,i),X_(e,n,i,r),eS(null,e,n,!0,t,r);case 19:return X9(t,e,r);case 22:return K9(t,e,r)}throw Error(wt(156,e.tag))};function fB(t,e){return UM(t,e)}function Jee(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wo(t,e,r,n){return new Jee(t,e,r,n)}function a6(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zee(t){if(typeof t=="function")return a6(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sk)return 11;if(t===kk)return 14}return 2}function ah(t,e){var r=t.alternate;return r===null?(r=Wo(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function l2(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")a6(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fp:return $f(r.children,i,a,e);case _k:o=8,i|=8;break;case w_:return t=Wo(12,r,e,i|2),t.elementType=w_,t.lanes=a,t;case N_:return t=Wo(13,r,e,i),t.elementType=N_,t.lanes=a,t;case j_:return t=Wo(19,r,e,i),t.elementType=j_,t.lanes=a,t;case jM:return FN(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wM:o=10;break e;case NM:o=9;break e;case Sk:o=11;break e;case kk:o=14;break e;case Eu:o=16,n=null;break e}throw Error(wt(130,t==null?t:typeof t,""))}return e=Wo(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function $f(t,e,r,n){return t=Wo(7,t,n,e),t.lanes=r,t}function FN(t,e,r,n){return t=Wo(22,t,n,e),t.elementType=jM,t.lanes=r,t.stateNode={isHidden:!1},t}function V5(t,e,r){return t=Wo(6,t,null,e),t.lanes=r,t}function H5(t,e,r){return e=Wo(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ete(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S5(0),this.expirationTimes=S5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o6(t,e,r,n,i,a,o,l,c){return t=new ete(t,e,r,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Wo(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vk(a),t}function tte(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hp,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mB(t){if(!t)return dh;t=t._reactInternals;e:{if(Nm(t)!==t||t.tag!==1)throw Error(wt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ha(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(wt(171))}if(t.tag===1){var r=t.type;if(Ha(r))return m9(t,r,e)}return e}function pB(t,e,r,n,i,a,o,l,c){return t=o6(r,n,!0,t,i,a,o,l,c),t.context=mB(null),r=t.current,n=ka(),i=ih(r),a=Od(n,i),a.callback=e??null,sh(r,a,i),t.current.lanes=i,Iy(t,i,n),Wa(t,n),t}function ON(t,e,r,n){var i=e.current,a=ka(),o=ih(i);return r=mB(r),e.context===null?e.context=r:e.pendingContext=r,e=Od(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=sh(i,e,o),t!==null&&(Il(t,i,o,a),r2(t,i,o)),o}function Q2(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function l6(t,e){aT(t,e),(t=t.alternate)&&aT(t,e)}function rte(){return null}var gB=typeof reportError=="function"?reportError:function(t){console.error(t)};function c6(t){this._internalRoot=t}LN.prototype.render=c6.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(wt(409));ON(t,e,null,null)};LN.prototype.unmount=c6.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tm(function(){ON(null,t,null,null)}),e[$d]=null}};function LN(t){this._internalRoot=t}LN.prototype.unstable_scheduleHydration=function(t){if(t){var e=KM();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pu.length&&e!==0&&e<Pu[r].priority;r++);Pu.splice(r,0,t),r===0&&YM(t)}};function d6(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function RN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oT(){}function ste(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=Q2(o);a.call(d)}}var o=pB(e,n,t,0,null,!1,!1,"",oT);return t._reactRootContainer=o,t[$d]=o.current,mv(t.nodeType===8?t.parentNode:t),tm(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var d=Q2(c);l.call(d)}}var c=o6(t,0,!1,null,null,!1,!1,"",oT);return t._reactRootContainer=c,t[$d]=c.current,mv(t.nodeType===8?t.parentNode:t),tm(function(){ON(e,c,r,n)}),c}function IN(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=Q2(o);l.call(c)}}ON(e,o,t,i)}else o=ste(r,e,t,i,n);return Q2(o)}HM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=_x(e.pendingLanes);r!==0&&(Ek(e,r|1),Wa(e,Ln()),!(ts&6)&&(I0=Ln()+500,Eh()))}break;case 13:tm(function(){var n=qd(t,1);if(n!==null){var i=ka();Il(n,t,1,i)}}),l6(t,1)}};Tk=function(t){if(t.tag===13){var e=qd(t,134217728);if(e!==null){var r=ka();Il(e,t,134217728,r)}l6(t,134217728)}};WM=function(t){if(t.tag===13){var e=ih(t),r=qd(t,e);if(r!==null){var n=ka();Il(r,t,e,n)}l6(t,e)}};KM=function(){return Cs};GM=function(t,e){var r=Cs;try{return Cs=t,e()}finally{Cs=r}};O_=function(t,e,r){switch(e){case"input":if(k_(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=kN(n);if(!i)throw Error(wt(90));SM(n),k_(n,i)}}}break;case"textarea":CM(t,r);break;case"select":e=r.value,e!=null&&Ep(t,!!r.multiple,e,!1)}};LM=s6;RM=tm;var nte={usingClientEntryPoint:!1,Events:[My,xp,kN,FM,OM,s6]},ox={findFiberByHostInstance:hf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ite={bundleType:ox.bundleType,version:ox.version,rendererPackageName:ox.rendererPackageName,rendererConfig:ox.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zd.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MM(t),t===null?null:t.stateNode},findFiberByHostInstance:ox.findFiberByHostInstance||rte,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lb.isDisabled&&lb.supportsFiber)try{NN=lb.inject(ite),Tc=lb}catch{}}Ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nte;Ao.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d6(e))throw Error(wt(200));return tte(t,e,null,r)};Ao.createRoot=function(t,e){if(!d6(t))throw Error(wt(299));var r=!1,n="",i=gB;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=o6(t,1,!1,null,null,r,!1,n,i),t[$d]=e.current,mv(t.nodeType===8?t.parentNode:t),new c6(e)};Ao.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(wt(188)):(t=Object.keys(t).join(","),Error(wt(268,t)));return t=MM(e),t=t===null?null:t.stateNode,t};Ao.flushSync=function(t){return tm(t)};Ao.hydrate=function(t,e,r){if(!RN(e))throw Error(wt(200));return IN(null,t,e,!0,r)};Ao.hydrateRoot=function(t,e,r){if(!d6(t))throw Error(wt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=gB;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=pB(e,null,t,1,r??null,i,!1,a,o),t[$d]=e.current,mv(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new LN(e)};Ao.render=function(t,e,r){if(!RN(e))throw Error(wt(200));return IN(null,t,e,!1,r)};Ao.unmountComponentAtNode=function(t){if(!RN(t))throw Error(wt(40));return t._reactRootContainer?(tm(function(){IN(null,null,t,!1,function(){t._reactRootContainer=null,t[$d]=null})}),!0):!1};Ao.unstable_batchedUpdates=s6;Ao.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!RN(r))throw Error(wt(200));if(t==null||t._reactInternals===void 0)throw Error(wt(38));return IN(t,e,r,!1,n)};Ao.version="18.3.1-next-f1338f8080-20240426";function xB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xB)}catch(t){console.error(t)}}xB(),xM.exports=Ao;var Th=xM.exports;const ate=zc(Th);var vB,lT=Th;vB=lT.createRoot,lT.hydrateRoot;const ote="modulepreload",lte=function(t){return"/"+t},cT={},qf=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=lte(c),c in cT)return;cT[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":ote,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function cte(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var yB={exports:{}},bB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=O;function dte(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ute=typeof Object.is=="function"?Object.is:dte,hte=D0.useState,fte=D0.useEffect,mte=D0.useLayoutEffect,pte=D0.useDebugValue;function gte(t,e){var r=e(),n=hte({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return mte(function(){i.value=r,i.getSnapshot=e,W5(i)&&a({inst:i})},[t,r,e]),fte(function(){return W5(i)&&a({inst:i}),t(function(){W5(i)&&a({inst:i})})},[t]),pte(r),r}function W5(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ute(t,r)}catch{return!0}}function xte(t,e){return e()}var vte=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xte:gte;bB.useSyncExternalStore=D0.useSyncExternalStore!==void 0?D0.useSyncExternalStore:vte;yB.exports=bB;var wB=yB.exports;const yte=bk.useInsertionEffect,bte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wte=bte?O.useLayoutEffect:O.useEffect,Nte=yte||wte,NB=t=>{const e=O.useRef([t,(...r)=>e[0](...r)]).current;return Nte(()=>{e[0]=t}),e[1]},jte="popstate",u6="pushState",h6="replaceState",_te="hashchange",dT=[jte,u6,h6,_te],Ste=t=>{for(const e of dT)addEventListener(e,t);return()=>{for(const e of dT)removeEventListener(e,t)}},jB=(t,e)=>wB.useSyncExternalStore(Ste,t,e),kte=()=>location.search,Cte=({ssrSearch:t=""}={})=>jB(kte,()=>t),uT=()=>location.pathname,Ate=({ssrPath:t}={})=>jB(uT,t?()=>t:uT),Ete=(t,{replace:e=!1,state:r=null}={})=>history[e?h6:u6](r,"",t),Tte=(t={})=>[Ate(t),Ete],hT=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[hT]>"u"){for(const t of[u6,h6]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,hT,{value:!0})}const Pte=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",_B=(t="")=>t==="/"?"":t,Fte=(t,e)=>t[0]==="~"?t.slice(1):_B(e)+t,Ote=(t="",e)=>Pte(fT(_B(t)),fT(e)),fT=t=>{try{return decodeURI(t)}catch{return t}},SB={hook:Tte,searchHook:Cte,parser:cte,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:t=>t},kB=O.createContext(SB),og=()=>O.useContext(kB),CB={},AB=O.createContext(CB),Vc=()=>O.useContext(AB),DN=t=>{const[e,r]=t.hook(t);return[Ote(t.base,e),NB((n,i)=>r(Fte(n,t.base),i))]},sn=()=>DN(og()),f6=(t,e,r,n)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=i.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[l]:[]]:[!1,null]},M0=t=>f6(og().parser,t,sn()[0]),Lte=({children:t,...e})=>{var u,h;const r=og(),n=e.hook?SB:r;let i=n;const[a,o]=((u=e.ssrPath)==null?void 0:u.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=O.useRef({}),c=l.current,d=c;for(let m in n){const f=m==="base"?n[m]+(e[m]||""):e[m]||n[m];c===d&&f!==d[m]&&(l.current=d={...d}),d[m]=f,(f!==n[m]||f!==i[m])&&(i=d)}return O.createElement(kB.Provider,{value:i,children:t})},mT=({children:t,component:e},r)=>e?O.createElement(e,{params:r}):typeof t=="function"?t(r):t,Rte=t=>{let e=O.useRef(CB);const r=e.current;return e.current=Object.keys(t).length!==Object.keys(r).length||Object.entries(t).some(([n,i])=>i!==r[n])?t:r},At=({path:t,nest:e,match:r,...n})=>{const i=og(),[a]=DN(i),[o,l,c]=r??f6(i.parser,t,a,e),d=Rte({...Vc(),...l});if(!o)return null;const u=c?O.createElement(Lte,{base:c},mT(n,d)):mT(n,d);return O.createElement(AB.Provider,{value:d,children:u})},Re=O.forwardRef((t,e)=>{const r=og(),[n,i]=DN(r),{to:a="",href:o=a,onClick:l,asChild:c,children:d,className:u,replace:h,state:m,...f}=t,g=NB(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),i(o,t)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&O.isValidElement(d)?O.cloneElement(d,{onClick:g,href:p}):O.createElement("a",{...f,onClick:g,href:p,className:u!=null&&u.call?u(n===o):u,children:d,ref:e})}),EB=t=>Array.isArray(t)?t.flatMap(e=>EB(e&&e.type===O.Fragment?e.props.children:e)):[t],Ite=({children:t,location:e})=>{const r=og(),[n]=DN(r);for(const i of EB(t)){let a=0;if(O.isValidElement(i)&&(a=f6(r.parser,i.props.path,e||n,i.props.nest))[0])return O.cloneElement(i,{match:a})}return null};var lg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dte={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ou,pk,hR,Mte=(hR=class{constructor(){Ge(this,Ou,Dte);Ge(this,pk,!1)}setTimeoutProvider(t){et(this,Ou,t)}setTimeout(t,e){return Y(this,Ou).setTimeout(t,e)}clearTimeout(t){Y(this,Ou).clearTimeout(t)}setInterval(t,e){return Y(this,Ou).setInterval(t,e)}clearInterval(t){Y(this,Ou).clearInterval(t)}},Ou=new WeakMap,pk=new WeakMap,hR),pf=new Mte;function Bte(t){setTimeout(t,0)}var rm=typeof window>"u"||"Deno"in globalThis;function wa(){}function Ute(t,e){return typeof t=="function"?t(e):t}function hS(t){return typeof t=="number"&&t>=0&&t!==1/0}function TB(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oh(t,e){return typeof t=="function"?t(e):t}function zo(t,e){return typeof t=="function"?t(e):t}function pT(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==m6(o,e.options))return!1}else if(!jv(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function gT(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(sm(e.options.mutationKey)!==sm(a))return!1}else if(!jv(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function m6(t,e){return((e==null?void 0:e.queryKeyHashFn)||sm)(t)}function sm(t){return JSON.stringify(t,(e,r)=>fS(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function jv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>jv(t[r],e[r])):!1}var $te=Object.prototype.hasOwnProperty;function PB(t,e){if(t===e)return t;const r=xT(t)&&xT(e);if(!r&&!(fS(t)&&fS(e)))return e;const i=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),o=a.length,l=r?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=r?d:a[d],h=t[u],m=e[u];if(h===m){l[u]=h,(r?d<i:$te.call(t,u))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){l[u]=m;continue}const f=PB(h,m);l[u]=f,f===h&&c++}return i===o&&c===i?t:l}function X2(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function xT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fS(t){if(!vT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!vT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vT(t){return Object.prototype.toString.call(t)==="[object Object]"}function qte(t){return new Promise(e=>{pf.setTimeout(e,t)})}function mS(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?PB(t,e):e}function zte(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Vte(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var p6=Symbol();function FB(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===p6?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function OB(t,e){return typeof t=="function"?t(...e):!!t}var bf,Lu,Jp,fR,Hte=(fR=class extends lg{constructor(){super();Ge(this,bf);Ge(this,Lu);Ge(this,Jp);et(this,Jp,e=>{if(!rm&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,Lu)||this.setEventListener(Y(this,Jp))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Lu))==null||e.call(this),et(this,Lu,void 0))}setEventListener(e){var r;et(this,Jp,e),(r=Y(this,Lu))==null||r.call(this),et(this,Lu,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Y(this,bf)!==e&&(et(this,bf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Y(this,bf)=="boolean"?Y(this,bf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},bf=new WeakMap,Lu=new WeakMap,Jp=new WeakMap,fR),g6=new Hte;function pS(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Wte=Bte;function Kte(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=Wte;const a=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var li=Kte(),Zp,Ru,e0,mR,Gte=(mR=class extends lg{constructor(){super();Ge(this,Zp,!0);Ge(this,Ru);Ge(this,e0);et(this,e0,e=>{if(!rm&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,Ru)||this.setEventListener(Y(this,e0))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,Ru))==null||e.call(this),et(this,Ru,void 0))}setEventListener(e){var r;et(this,e0,e),(r=Y(this,Ru))==null||r.call(this),et(this,Ru,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Zp)!==e&&(et(this,Zp,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Y(this,Zp)}},Zp=new WeakMap,Ru=new WeakMap,e0=new WeakMap,mR),J2=new Gte;function Yte(t){return Math.min(1e3*2**t,3e4)}function LB(t){return(t??"online")==="online"?J2.isOnline():!0}var gS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function RB(t){let e=!1,r=0,n;const i=pS(),a=()=>i.status!=="pending",o=p=>{var x;if(!a()){const y=new gS(p);m(y),(x=t.onCancel)==null||x.call(t,y)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>g6.isFocused()&&(t.networkMode==="always"||J2.isOnline())&&t.canRun(),u=()=>LB(t.networkMode)&&t.canRun(),h=p=>{a()||(n==null||n(),i.resolve(p))},m=p=>{a()||(n==null||n(),i.reject(p))},f=()=>new Promise(p=>{var x;n=y=>{(a()||d())&&p(y)},(x=t.onPause)==null||x.call(t)}).then(()=>{var p;n=void 0,a()||(p=t.onContinue)==null||p.call(t)}),g=()=>{if(a())return;let p;const x=r===0?t.initialPromise:void 0;try{p=x??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var N;if(a())return;const v=t.retry??(rm?0:3),b=t.retryDelay??Yte,w=typeof b=="function"?b(r,y):b,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(e||!_){m(y);return}r++,(N=t.onFail)==null||N.call(t,r,y),qte(w).then(()=>d()?void 0:f()).then(()=>{e?m(y):g()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?g():f().then(g),i)}}var wf,pR,IB=(pR=class{constructor(){Ge(this,wf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hS(this.gcTime)&&et(this,wf,pf.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rm?1/0:5*60*1e3))}clearGcTimeout(){Y(this,wf)&&(pf.clearTimeout(Y(this,wf)),et(this,wf,void 0))}},wf=new WeakMap,pR),Nf,t0,Bo,jf,mi,cy,_f,gl,ud,gR,Qte=(gR=class extends IB{constructor(e){super();Ge(this,gl);Ge(this,Nf);Ge(this,t0);Ge(this,Bo);Ge(this,jf);Ge(this,mi);Ge(this,cy);Ge(this,_f);et(this,_f,!1),et(this,cy,e.defaultOptions),this.setOptions(e.options),this.observers=[],et(this,jf,e.client),et(this,Bo,Y(this,jf).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,et(this,Nf,yT(this.options)),this.state=e.state??Y(this,Nf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,mi))==null?void 0:e.promise}setOptions(e){if(this.options={...Y(this,cy),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=yT(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),et(this,Nf,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Bo).remove(this)}setData(e,r){const n=mS(this.state.data,e,this.options);return it(this,gl,ud).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){it(this,gl,ud).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=Y(this,mi))==null?void 0:n.promise;return(i=Y(this,mi))==null||i.cancel(e),r?r.then(wa).catch(wa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Nf))}isActive(){return this.observers.some(e=>zo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===p6||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>oh(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!TB(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Y(this,mi))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Y(this,mi))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,Bo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Y(this,mi)&&(Y(this,_f)?Y(this,mi).cancel({revert:!0}):Y(this,mi).cancelRetry()),this.scheduleGc()),Y(this,Bo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,gl,ud).call(this,{type:"invalidate"})}async fetch(e,r){var c,d,u,h,m,f,g,p,x,y,v,b;if(this.state.fetchStatus!=="idle"&&((c=Y(this,mi))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,mi))return Y(this,mi).continueRetry(),Y(this,mi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(et(this,_f,!0),n.signal)})},a=()=>{const w=FB(this.options,r),N=(()=>{const j={client:Y(this,jf),queryKey:this.queryKey,meta:this.meta};return i(j),j})();return et(this,_f,!1),this.options.persister?this.options.persister(w,N,this):w(N)},l=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,jf),state:this.state,fetchFn:a};return i(w),w})();(d=this.options.behavior)==null||d.onFetch(l,this),et(this,t0,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&it(this,gl,ud).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),et(this,mi,RB({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:w=>{w instanceof gS&&w.revert&&this.setState({...Y(this,t0),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{it(this,gl,ud).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{it(this,gl,ud).call(this,{type:"pause"})},onContinue:()=>{it(this,gl,ud).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const w=await Y(this,mi).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(f=(m=Y(this,Bo).config).onSuccess)==null||f.call(m,w,this),(p=(g=Y(this,Bo).config).onSettled)==null||p.call(g,w,this.state.error,this),w}catch(w){if(w instanceof gS){if(w.silent)return Y(this,mi).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw it(this,gl,ud).call(this,{type:"error",error:w}),(y=(x=Y(this,Bo).config).onError)==null||y.call(x,w,this),(b=(v=Y(this,Bo).config).onSettled)==null||b.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},Nf=new WeakMap,t0=new WeakMap,Bo=new WeakMap,jf=new WeakMap,mi=new WeakMap,cy=new WeakMap,_f=new WeakMap,gl=new WeakSet,ud=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...DB(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return et(this,t0,e.manual?i:void 0),i;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),li.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,Bo).notify({query:this,type:"updated",action:e})})},gR);function DB(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LB(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yT(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ma,Yr,dy,xa,Sf,r0,xd,Iu,uy,s0,n0,kf,Cf,Du,i0,gs,kx,xS,vS,yS,bS,wS,NS,jS,MB,xR,Xte=(xR=class extends lg{constructor(e,r){super();Ge(this,gs);Ge(this,Ma);Ge(this,Yr);Ge(this,dy);Ge(this,xa);Ge(this,Sf);Ge(this,r0);Ge(this,xd);Ge(this,Iu);Ge(this,uy);Ge(this,s0);Ge(this,n0);Ge(this,kf);Ge(this,Cf);Ge(this,Du);Ge(this,i0,new Set);this.options=r,et(this,Ma,e),et(this,Iu,null),et(this,xd,pS()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Yr).addObserver(this),bT(Y(this,Yr),this.options)?it(this,gs,kx).call(this):this.updateResult(),it(this,gs,bS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _S(Y(this,Yr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _S(Y(this,Yr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,gs,wS).call(this),it(this,gs,NS).call(this),Y(this,Yr).removeObserver(this)}setOptions(e){const r=this.options,n=Y(this,Yr);if(this.options=Y(this,Ma).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zo(this.options.enabled,Y(this,Yr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,gs,jS).call(this),Y(this,Yr).setOptions(this.options),r._defaulted&&!X2(this.options,r)&&Y(this,Ma).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Yr),observer:this});const i=this.hasListeners();i&&wT(Y(this,Yr),n,this.options,r)&&it(this,gs,kx).call(this),this.updateResult(),i&&(Y(this,Yr)!==n||zo(this.options.enabled,Y(this,Yr))!==zo(r.enabled,Y(this,Yr))||oh(this.options.staleTime,Y(this,Yr))!==oh(r.staleTime,Y(this,Yr)))&&it(this,gs,xS).call(this);const a=it(this,gs,vS).call(this);i&&(Y(this,Yr)!==n||zo(this.options.enabled,Y(this,Yr))!==zo(r.enabled,Y(this,Yr))||a!==Y(this,Du))&&it(this,gs,yS).call(this,a)}getOptimisticResult(e){const r=Y(this,Ma).getQueryCache().build(Y(this,Ma),e),n=this.createResult(r,e);return Zte(this,n)&&(et(this,xa,n),et(this,r0,this.options),et(this,Sf,Y(this,Yr).state)),n}getCurrentResult(){return Y(this,xa)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&!this.options.experimental_prefetchInRender&&Y(this,xd).status==="pending"&&Y(this,xd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,i))})}trackProp(e){Y(this,i0).add(e)}getCurrentQuery(){return Y(this,Yr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Y(this,Ma).defaultQueryOptions(e),n=Y(this,Ma).getQueryCache().build(Y(this,Ma),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return it(this,gs,kx).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,xa)))}createResult(e,r){var E;const n=Y(this,Yr),i=this.options,a=Y(this,xa),o=Y(this,Sf),l=Y(this,r0),d=e!==n?e.state:Y(this,dy),{state:u}=e;let h={...u},m=!1,f;if(r._optimisticResults){const A=this.hasListeners(),C=!A&&bT(e,r),T=A&&wT(e,n,r,i);(C||T)&&(h={...h,...DB(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=h;f=h.data;let y=!1;if(r.placeholderData!==void 0&&f===void 0&&x==="pending"){let A;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=a.data,y=!0):A=typeof r.placeholderData=="function"?r.placeholderData((E=Y(this,n0))==null?void 0:E.state.data,Y(this,n0)):r.placeholderData,A!==void 0&&(x="success",f=mS(a==null?void 0:a.data,A,r),m=!0)}if(r.select&&f!==void 0&&!y)if(a&&f===(o==null?void 0:o.data)&&r.select===Y(this,uy))f=Y(this,s0);else try{et(this,uy,r.select),f=r.select(f),f=mS(a==null?void 0:a.data,f,r),et(this,s0,f),et(this,Iu,null)}catch(A){et(this,Iu,A)}Y(this,Iu)&&(g=Y(this,Iu),f=Y(this,s0),p=Date.now(),x="error");const v=h.fetchStatus==="fetching",b=x==="pending",w=x==="error",_=b&&v,N=f!==void 0,k={status:x,fetchStatus:h.fetchStatus,isPending:b,isSuccess:x==="success",isError:w,isInitialLoading:_,isLoading:_,data:f,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&N,isStale:x6(e,r),refetch:this.refetch,promise:Y(this,xd),isEnabled:zo(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=L=>{k.status==="error"?L.reject(k.error):k.data!==void 0&&L.resolve(k.data)},C=()=>{const L=et(this,xd,k.promise=pS());A(L)},T=Y(this,xd);switch(T.status){case"pending":e.queryHash===n.queryHash&&A(T);break;case"fulfilled":(k.status==="error"||k.data!==T.value)&&C();break;case"rejected":(k.status!=="error"||k.error!==T.reason)&&C();break}}return k}updateResult(){const e=Y(this,xa),r=this.createResult(Y(this,Yr),this.options);if(et(this,Sf,Y(this,Yr).state),et(this,r0,this.options),Y(this,Sf).data!==void 0&&et(this,n0,Y(this,Yr)),X2(r,e))return;et(this,xa,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!Y(this,i0).size)return!0;const o=new Set(a??Y(this,i0));return this.options.throwOnError&&o.add("error"),Object.keys(Y(this,xa)).some(l=>{const c=l;return Y(this,xa)[c]!==e[c]&&o.has(c)})};it(this,gs,MB).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,gs,bS).call(this)}},Ma=new WeakMap,Yr=new WeakMap,dy=new WeakMap,xa=new WeakMap,Sf=new WeakMap,r0=new WeakMap,xd=new WeakMap,Iu=new WeakMap,uy=new WeakMap,s0=new WeakMap,n0=new WeakMap,kf=new WeakMap,Cf=new WeakMap,Du=new WeakMap,i0=new WeakMap,gs=new WeakSet,kx=function(e){it(this,gs,jS).call(this);let r=Y(this,Yr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(wa)),r},xS=function(){it(this,gs,wS).call(this);const e=oh(this.options.staleTime,Y(this,Yr));if(rm||Y(this,xa).isStale||!hS(e))return;const n=TB(Y(this,xa).dataUpdatedAt,e)+1;et(this,kf,pf.setTimeout(()=>{Y(this,xa).isStale||this.updateResult()},n))},vS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Yr)):this.options.refetchInterval)??!1},yS=function(e){it(this,gs,NS).call(this),et(this,Du,e),!(rm||zo(this.options.enabled,Y(this,Yr))===!1||!hS(Y(this,Du))||Y(this,Du)===0)&&et(this,Cf,pf.setInterval(()=>{(this.options.refetchIntervalInBackground||g6.isFocused())&&it(this,gs,kx).call(this)},Y(this,Du)))},bS=function(){it(this,gs,xS).call(this),it(this,gs,yS).call(this,it(this,gs,vS).call(this))},wS=function(){Y(this,kf)&&(pf.clearTimeout(Y(this,kf)),et(this,kf,void 0))},NS=function(){Y(this,Cf)&&(pf.clearInterval(Y(this,Cf)),et(this,Cf,void 0))},jS=function(){const e=Y(this,Ma).getQueryCache().build(Y(this,Ma),this.options);if(e===Y(this,Yr))return;const r=Y(this,Yr);et(this,Yr,e),et(this,dy,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},MB=function(e){li.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Y(this,xa))}),Y(this,Ma).getQueryCache().notify({query:Y(this,Yr),type:"observerResultsUpdated"})})},xR);function Jte(t,e){return zo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function bT(t,e){return Jte(t,e)||t.state.data!==void 0&&_S(t,e,e.refetchOnMount)}function _S(t,e,r){if(zo(e.enabled,t)!==!1&&oh(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&x6(t,e)}return!1}function wT(t,e,r,n){return(t!==e||zo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&x6(t,r)}function x6(t,e){return zo(e.enabled,t)!==!1&&t.isStaleByTime(oh(e.staleTime,t))}function Zte(t,e){return!X2(t.getCurrentResult(),e)}function NT(t){return{onFetch:(e,r)=>{var u,h,m,f,g;const n=e.options,i=(m=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((f=e.state.data)==null?void 0:f.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=FB(e.options,e.fetchOptions),v=async(b,w,_)=>{if(p)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const j=(()=>{const C={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return x(C),C})(),k=await y(j),{maxPages:E}=e.options,A=_?Vte:zte;return{pages:A(b.pages,k,E),pageParams:A(b.pageParams,w,E)}};if(i&&a.length){const b=i==="backward",w=b?ere:jT,_={pages:a,pageParams:o},N=w(n,_);l=await v(_,N,b)}else{const b=t??a.length;do{const w=c===0?o[0]??n.initialPageParam:jT(n,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var p,x;return(x=(p=e.options).persister)==null?void 0:x.call(p,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=d}}}function jT(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ere(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var hy,gc,va,Af,xc,ku,vR,tre=(vR=class extends IB{constructor(e){super();Ge(this,xc);Ge(this,hy);Ge(this,gc);Ge(this,va);Ge(this,Af);et(this,hy,e.client),this.mutationId=e.mutationId,et(this,va,e.mutationCache),et(this,gc,[]),this.state=e.state||BB(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,gc).includes(e)||(Y(this,gc).push(e),this.clearGcTimeout(),Y(this,va).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){et(this,gc,Y(this,gc).filter(r=>r!==e)),this.scheduleGc(),Y(this,va).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,gc).length||(this.state.status==="pending"?this.scheduleGc():Y(this,va).remove(this))}continue(){var e;return((e=Y(this,Af))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,u,h,m,f,g,p,x,y,v,b,w,_,N,j,k,E;const r=()=>{it(this,xc,ku).call(this,{type:"continue"})},n={client:Y(this,hy),meta:this.options.meta,mutationKey:this.options.mutationKey};et(this,Af,RB({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,C)=>{it(this,xc,ku).call(this,{type:"failed",failureCount:A,error:C})},onPause:()=>{it(this,xc,ku).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,va).canRun(this)}));const i=this.state.status==="pending",a=!Y(this,Af).canStart();try{if(i)r();else{it(this,xc,ku).call(this,{type:"pending",variables:e,isPaused:a}),await((l=(o=Y(this,va).config).onMutate)==null?void 0:l.call(o,e,this,n));const C=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,n));C!==this.state.context&&it(this,xc,ku).call(this,{type:"pending",context:C,variables:e,isPaused:a})}const A=await Y(this,Af).start();return await((h=(u=Y(this,va).config).onSuccess)==null?void 0:h.call(u,A,e,this.state.context,this,n)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,A,e,this.state.context,n)),await((p=(g=Y(this,va).config).onSettled)==null?void 0:p.call(g,A,null,this.state.variables,this.state.context,this,n)),await((y=(x=this.options).onSettled)==null?void 0:y.call(x,A,null,e,this.state.context,n)),it(this,xc,ku).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(v=Y(this,va).config).onError)==null?void 0:b.call(v,A,e,this.state.context,this,n)),await((_=(w=this.options).onError)==null?void 0:_.call(w,A,e,this.state.context,n)),await((j=(N=Y(this,va).config).onSettled)==null?void 0:j.call(N,void 0,A,this.state.variables,this.state.context,this,n)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,A,e,this.state.context,n)),A}finally{it(this,xc,ku).call(this,{type:"error",error:A})}}finally{Y(this,va).runNext(this)}}},hy=new WeakMap,gc=new WeakMap,va=new WeakMap,Af=new WeakMap,xc=new WeakSet,ku=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),li.batch(()=>{Y(this,gc).forEach(n=>{n.onMutationUpdate(e)}),Y(this,va).notify({mutation:this,type:"updated",action:e})})},vR);function BB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vd,xl,fy,yR,rre=(yR=class extends lg{constructor(e={}){super();Ge(this,vd);Ge(this,xl);Ge(this,fy);this.config=e,et(this,vd,new Set),et(this,xl,new Map),et(this,fy,0)}build(e,r,n){const i=new tre({client:e,mutationCache:this,mutationId:++H1(this,fy)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){Y(this,vd).add(e);const r=cb(e);if(typeof r=="string"){const n=Y(this,xl).get(r);n?n.push(e):Y(this,xl).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,vd).delete(e)){const r=cb(e);if(typeof r=="string"){const n=Y(this,xl).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&Y(this,xl).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=cb(e);if(typeof r=="string"){const n=Y(this,xl).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=cb(e);if(typeof r=="string"){const i=(n=Y(this,xl).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){li.batch(()=>{Y(this,vd).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,vd).clear(),Y(this,xl).clear()})}getAll(){return Array.from(Y(this,vd))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>gT(r,n))}findAll(e={}){return this.getAll().filter(r=>gT(e,r))}notify(e){li.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return li.batch(()=>Promise.all(e.map(r=>r.continue().catch(wa))))}},vd=new WeakMap,xl=new WeakMap,fy=new WeakMap,yR);function cb(t){var e;return(e=t.options.scope)==null?void 0:e.id}var yd,Mu,Ba,bd,Bd,c2,SS,bR,sre=(bR=class extends lg{constructor(r,n){super();Ge(this,Bd);Ge(this,yd);Ge(this,Mu);Ge(this,Ba);Ge(this,bd);et(this,yd,r),this.setOptions(n),this.bindMethods(),it(this,Bd,c2).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=Y(this,yd).defaultMutationOptions(r),X2(this.options,n)||Y(this,yd).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Ba),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&sm(n.mutationKey)!==sm(this.options.mutationKey)?this.reset():((i=Y(this,Ba))==null?void 0:i.state.status)==="pending"&&Y(this,Ba).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Y(this,Ba))==null||r.removeObserver(this)}onMutationUpdate(r){it(this,Bd,c2).call(this),it(this,Bd,SS).call(this,r)}getCurrentResult(){return Y(this,Mu)}reset(){var r;(r=Y(this,Ba))==null||r.removeObserver(this),et(this,Ba,void 0),it(this,Bd,c2).call(this),it(this,Bd,SS).call(this)}mutate(r,n){var i;return et(this,bd,n),(i=Y(this,Ba))==null||i.removeObserver(this),et(this,Ba,Y(this,yd).getMutationCache().build(Y(this,yd),this.options)),Y(this,Ba).addObserver(this),Y(this,Ba).execute(r)}},yd=new WeakMap,Mu=new WeakMap,Ba=new WeakMap,bd=new WeakMap,Bd=new WeakSet,c2=function(){var n;const r=((n=Y(this,Ba))==null?void 0:n.state)??BB();et(this,Mu,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},SS=function(r){li.batch(()=>{var n,i,a,o,l,c,d,u;if(Y(this,bd)&&this.hasListeners()){const h=Y(this,Mu).variables,m=Y(this,Mu).context,f={client:Y(this,yd),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=Y(this,bd)).onSuccess)==null||i.call(n,r.data,h,m,f),(o=(a=Y(this,bd)).onSettled)==null||o.call(a,r.data,null,h,m,f)):(r==null?void 0:r.type)==="error"&&((c=(l=Y(this,bd)).onError)==null||c.call(l,r.error,h,m,f),(u=(d=Y(this,bd)).onSettled)==null||u.call(d,void 0,r.error,h,m,f))}this.listeners.forEach(h=>{h(Y(this,Mu))})})},bR),vc,wR,nre=(wR=class extends lg{constructor(e={}){super();Ge(this,vc);this.config=e,et(this,vc,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??m6(i,r);let o=this.get(a);return o||(o=new Qte({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){Y(this,vc).has(e.queryHash)||(Y(this,vc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Y(this,vc).get(e.queryHash);r&&(e.destroy(),r===e&&Y(this,vc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){li.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,vc).get(e)}getAll(){return[...Y(this,vc).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>pT(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>pT(e,n)):r}notify(e){li.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){li.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){li.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vc=new WeakMap,wR),xn,Bu,Uu,a0,o0,$u,l0,c0,NR,ire=(NR=class{constructor(t={}){Ge(this,xn);Ge(this,Bu);Ge(this,Uu);Ge(this,a0);Ge(this,o0);Ge(this,$u);Ge(this,l0);Ge(this,c0);et(this,xn,t.queryCache||new nre),et(this,Bu,t.mutationCache||new rre),et(this,Uu,t.defaultOptions||{}),et(this,a0,new Map),et(this,o0,new Map),et(this,$u,0)}mount(){H1(this,$u)._++,Y(this,$u)===1&&(et(this,l0,g6.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,xn).onFocus())})),et(this,c0,J2.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,xn).onOnline())})))}unmount(){var t,e;H1(this,$u)._--,Y(this,$u)===0&&((t=Y(this,l0))==null||t.call(this),et(this,l0,void 0),(e=Y(this,c0))==null||e.call(this),et(this,c0,void 0))}isFetching(t){return Y(this,xn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,Bu).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,xn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=Y(this,xn).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(oh(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return Y(this,xn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=Y(this,xn).get(n.queryHash),a=i==null?void 0:i.state.data,o=Ute(e,a);if(o!==void 0)return Y(this,xn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return li.batch(()=>Y(this,xn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,xn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Y(this,xn);li.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Y(this,xn);return li.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=li.batch(()=>Y(this,xn).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(wa).catch(wa)}invalidateQueries(t,e={}){return li.batch(()=>(Y(this,xn).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=li.batch(()=>Y(this,xn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(wa)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(wa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Y(this,xn).build(this,e);return r.isStaleByTime(oh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(wa).catch(wa)}fetchInfiniteQuery(t){return t.behavior=NT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(wa).catch(wa)}ensureInfiniteQueryData(t){return t.behavior=NT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return J2.isOnline()?Y(this,Bu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,xn)}getMutationCache(){return Y(this,Bu)}getDefaultOptions(){return Y(this,Uu)}setDefaultOptions(t){et(this,Uu,t)}setQueryDefaults(t,e){Y(this,a0).set(sm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,a0).values()],r={};return e.forEach(n=>{jv(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){Y(this,o0).set(sm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,o0).values()],r={};return e.forEach(n=>{jv(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,Uu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=m6(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===p6&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,Uu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,xn).clear(),Y(this,Bu).clear()}},xn=new WeakMap,Bu=new WeakMap,Uu=new WeakMap,a0=new WeakMap,o0=new WeakMap,$u=new WeakMap,l0=new WeakMap,c0=new WeakMap,NR),UB=O.createContext(void 0),vr=t=>{const e=O.useContext(UB);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},are=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(UB.Provider,{value:t,children:e})),$B=O.createContext(!1),ore=()=>O.useContext($B);$B.Provider;function lre(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var cre=O.createContext(lre()),dre=()=>O.useContext(cre),ure=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},hre=t=>{O.useEffect(()=>{t.clearReset()},[t])},fre=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||OB(r,[t.error,n])),mre=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},pre=(t,e)=>t.isLoading&&t.isFetching&&!e,gre=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,_T=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function xre(t,e,r){var h,m,f,g,p;const n=ore(),i=dre(),a=vr(),o=a.defaultQueryOptions(t);(m=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o),o._optimisticResults=n?"isRestoring":"optimistic",mre(o),ure(o,i),hre(i);const l=!a.getQueryCache().get(o.queryHash),[c]=O.useState(()=>new e(a,o)),d=c.getOptimisticResult(o),u=!n&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(x=>{const y=u?c.subscribe(li.batchCalls(x)):wa;return c.updateResult(),y},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),O.useEffect(()=>{c.setOptions(o)},[o,c]),gre(o,d))throw _T(o,c,i);if(fre({result:d,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((g=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,d),o.experimental_prefetchInRender&&!rm&&pre(d,n)){const x=l?_T(o,c,i):(p=a.getQueryCache().get(o.queryHash))==null?void 0:p.promise;x==null||x.catch(wa).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function pt(t,e){return xre(t,Xte)}function Ft(t,e){const r=vr(),[n]=O.useState(()=>new sre(r,t));O.useEffect(()=>{n.setOptions(t)},[n,t]);const i=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(li.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=O.useCallback((o,l)=>{n.mutate(o,l).catch(wa)},[n]);if(i.error&&OB(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function vre(t){if(!t.ok){let e=t.statusText;try{const r=await t.text();if(r)try{e=JSON.parse(r).message||r}catch{e=r}}catch{}throw new Error(`${t.status}: ${e}`)}}function qB(){return localStorage.getItem("findermeister_token")}const yre=({on401:t})=>async({queryKey:e})=>{const r=qB(),n=await fetch(e.join("/"),{headers:{...r?{Authorization:`Bearer ${r}`}:{}}});return await vre(n),await n.json()},bre=new ire({defaultOptions:{queries:{queryFn:yre({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),St=async(t,e={})=>{const r=qB(),n={"Content-Type":"application/json"};r&&(n.Authorization=`Bearer ${r}`);const i={...e,headers:{...n,...e.headers}},a=await fetch(t,i);if(!a.ok){if(a.status===401)throw localStorage.removeItem("findermeister_token"),window.location.href="/login",new Error("Unauthorized");let o=`Request failed: ${a.status}`;try{const l=a.headers.get("content-type");l&&l.includes("application/json")?o=(await a.json()).message||o:o=a.statusText||o}catch(l){console.warn("Failed to parse error response:",l)}throw new Error(o)}return a.json()},wre=1,Nre=1e6;let K5=0;function jre(){return K5=(K5+1)%Number.MAX_SAFE_INTEGER,K5.toString()}const G5=new Map,ST=t=>{if(G5.has(t))return;const e=setTimeout(()=>{G5.delete(t),Hx({type:"REMOVE_TOAST",toastId:t})},Nre);G5.set(t,e)},_re=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,wre)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ST(r):t.toasts.forEach(n=>{ST(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},d2=[];let u2={toasts:[]};function Hx(t){u2=_re(u2,t),d2.forEach(e=>{e(u2)})}function Sre({...t}){const e=jre(),r=i=>Hx({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Hx({type:"DISMISS_TOAST",toastId:e});return Hx({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function ar(){const[t,e]=O.useState(u2);return O.useEffect(()=>(d2.push(e),()=>{const r=d2.indexOf(e);r>-1&&d2.splice(r,1)}),[t]),{...t,toast:Sre,dismiss:r=>Hx({type:"DISMISS_TOAST",toastId:r})}}function Pt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function kT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function MN(...t){return e=>{let r=!1;const n=t.map(i=>{const a=kT(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():kT(t[i],null)}}}}function zr(...t){return O.useCallback(MN(...t),t)}function kre(t,e){const r=O.createContext(e),n=a=>{const{children:o,...l}=a,c=O.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(a){const o=O.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function Fa(t,e=[]){let r=[];function n(a,o){const l=O.createContext(o),c=r.length;r=[...r,o];const d=h=>{var y;const{scope:m,children:f,...g}=h,p=((y=m==null?void 0:m[t])==null?void 0:y[c])||l,x=O.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:x,children:f})};d.displayName=a+"Provider";function u(h,m){var p;const f=((p=m==null?void 0:m[t])==null?void 0:p[c])||l,g=O.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[d,u]}const i=()=>{const a=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return O.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,Cre(i,...e)]}function Cre(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const h=c(a)[`__scope${d}`];return{...l,...h}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function nm(t){const e=Are(t),r=O.forwardRef((n,i)=>{const{children:a,...o}=n,l=O.Children.toArray(a),c=l.find(Ere);if(c){const d=c.props.children,u=l.map(h=>h===c?O.Children.count(d)>1?O.Children.only(null):O.isValidElement(d)?d.props.children:null:h);return s.jsx(e,{...o,ref:i,children:O.isValidElement(d)?O.cloneElement(d,void 0,u):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var zB=nm("Slot");function Are(t){const e=O.forwardRef((r,n)=>{const{children:i,...a}=r;if(O.isValidElement(i)){const o=Pre(i),l=Tre(a,i.props);return i.type!==O.Fragment&&(l.ref=n?MN(n,o):o),O.cloneElement(i,l)}return O.Children.count(i)>1?O.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VB=Symbol("radix.slottable");function HB(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=VB,e}function Ere(t){return O.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VB}function Tre(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Pre(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function BN(t){const e=t+"CollectionProvider",[r,n]=Fa(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:y}=p,v=mr.useRef(null),b=mr.useRef(new Map).current;return s.jsx(i,{scope:x,itemMap:b,collectionRef:v,children:y})};o.displayName=e;const l=t+"CollectionSlot",c=nm(l),d=mr.forwardRef((p,x)=>{const{scope:y,children:v}=p,b=a(l,y),w=zr(x,b.collectionRef);return s.jsx(c,{ref:w,children:v})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",m=nm(u),f=mr.forwardRef((p,x)=>{const{scope:y,children:v,...b}=p,w=mr.useRef(null),_=zr(x,w),N=a(u,y);return mr.useEffect(()=>(N.itemMap.set(w,{ref:w,...b}),()=>void N.itemMap.delete(w))),s.jsx(m,{[h]:"",ref:_,children:v})});f.displayName=u;function g(p){const x=a(t+"CollectionConsumer",p);return mr.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((N,j)=>b.indexOf(N.ref.current)-b.indexOf(j.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:f},g,n]}var Fre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rr=Fre.reduce((t,e)=>{const r=nm(`Primitive.${e}`),n=O.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function v6(t,e){t&&Th.flushSync(()=>t.dispatchEvent(e))}function Aa(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Ore(t,e=globalThis==null?void 0:globalThis.document){const r=Aa(t);O.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Lre="DismissableLayer",kS="dismissableLayer.update",Rre="dismissableLayer.pointerDownOutside",Ire="dismissableLayer.focusOutside",CT,WB=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cg=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,d=O.useContext(WB),[u,h]=O.useState(null),m=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=O.useState({}),g=zr(e,j=>h(j)),p=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),v=u?p.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,_=Mre(j=>{const k=j.target,E=[...d.branches].some(A=>A.contains(k));!w||E||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},m),N=Bre(j=>{const k=j.target;[...d.branches].some(A=>A.contains(k))||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},m);return Ore(j=>{v===d.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),O.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(CT=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),AT(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=CT)}},[u,m,r,d]),O.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),AT())},[u,d]),O.useEffect(()=>{const j=()=>f({});return document.addEventListener(kS,j),()=>document.removeEventListener(kS,j)},[]),s.jsx(rr.div,{...c,ref:g,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:Pt(t.onFocusCapture,N.onFocusCapture),onBlurCapture:Pt(t.onBlurCapture,N.onBlurCapture),onPointerDownCapture:Pt(t.onPointerDownCapture,_.onPointerDownCapture)})});cg.displayName=Lre;var Dre="DismissableLayerBranch",KB=O.forwardRef((t,e)=>{const r=O.useContext(WB),n=O.useRef(null),i=zr(e,n);return O.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(rr.div,{...t,ref:i})});KB.displayName=Dre;function Mre(t,e=globalThis==null?void 0:globalThis.document){const r=Aa(t),n=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){GB(Rre,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Bre(t,e=globalThis==null?void 0:globalThis.document){const r=Aa(t),n=O.useRef(!1);return O.useEffect(()=>{const i=a=>{a.target&&!n.current&&GB(Ire,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function AT(){const t=new CustomEvent(kS);document.dispatchEvent(t)}function GB(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?v6(i,a):i.dispatchEvent(a)}var Ure=cg,$re=KB,Qn=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},qre="Portal",Uy=O.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[i,a]=O.useState(!1);Qn(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?ate.createPortal(s.jsx(rr.div,{...n,ref:e}),o):null});Uy.displayName=qre;function zre(t,e){return O.useReducer((r,n)=>e[r][n]??r,t)}var el=t=>{const{present:e,children:r}=t,n=Vre(e),i=typeof r=="function"?r({present:n.isPresent}):O.Children.only(r),a=zr(n.ref,Hre(i));return typeof r=="function"||n.isPresent?O.cloneElement(i,{ref:a}):null};el.displayName="Presence";function Vre(t){const[e,r]=O.useState(),n=O.useRef(null),i=O.useRef(t),a=O.useRef("none"),o=t?"mounted":"unmounted",[l,c]=zre(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const d=db(n.current);a.current=l==="mounted"?d:"none"},[l]),Qn(()=>{const d=n.current,u=i.current;if(u!==t){const m=a.current,f=db(d);t?c("MOUNT"):f==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&m!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Qn(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=f=>{const p=db(n.current).includes(CSS.escape(f.animationName));if(f.target===e&&p&&(c("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=f=>{f.target===e&&(a.current=db(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:O.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function db(t){return(t==null?void 0:t.animationName)||"none"}function Hre(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Wre=bk[" useInsertionEffect ".trim().toString()]||Qn;function Vd({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=Kre({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const u=O.useRef(t!==void 0);O.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,n])}const d=O.useCallback(u=>{var h;if(l){const m=Gre(u)?u(t):u;m!==t&&((h=o.current)==null||h.call(o,m))}else a(u)},[l,t,a,o]);return[c,d]}function Kre({defaultProp:t,onChange:e}){const[r,n]=O.useState(t),i=O.useRef(r),a=O.useRef(e);return Wre(()=>{a.current=e},[e]),O.useEffect(()=>{var o;i.current!==r&&((o=a.current)==null||o.call(a,r),i.current=r)},[r,i]),[r,n,a]}function Gre(t){return typeof t=="function"}var YB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Yre="VisuallyHidden",UN=O.forwardRef((t,e)=>s.jsx(rr.span,{...t,ref:e,style:{...YB,...t.style}}));UN.displayName=Yre;var Qre=UN,y6="ToastProvider",[b6,Xre,Jre]=BN("Toast"),[QB]=Fa("Toast",[Jre]),[Zre,$N]=QB(y6),XB=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=O.useState(null),[d,u]=O.useState(0),h=O.useRef(!1),m=O.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${y6}\`. Expected non-empty \`string\`.`),s.jsx(b6.Provider,{scope:e,children:s.jsx(Zre,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:O.useCallback(()=>u(f=>f+1),[]),onToastRemove:O.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};XB.displayName=y6;var JB="ToastViewport",ese=["F8"],CS="toast.viewportPause",AS="toast.viewportResume",ZB=O.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=ese,label:i="Notifications ({hotkey})",...a}=t,o=$N(JB,r),l=Xre(r),c=O.useRef(null),d=O.useRef(null),u=O.useRef(null),h=O.useRef(null),m=zr(e,h,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;O.useEffect(()=>{const x=y=>{var b;n.length!==0&&n.every(w=>y[w]||y.code===w)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),O.useEffect(()=>{const x=c.current,y=h.current;if(g&&x&&y){const v=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(CS);y.dispatchEvent(N),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(AS);y.dispatchEvent(N),o.isClosePausedRef.current=!1}},w=N=>{!x.contains(N.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",v),x.addEventListener("focusout",w),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",w),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[g,o.isClosePausedRef]);const p=O.useCallback(({tabbingDirection:x})=>{const v=l().map(b=>{const w=b.ref.current,_=[w,...fse(w)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return O.useEffect(()=>{const x=h.current;if(x){const y=v=>{var _,N,j;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const k=document.activeElement,E=v.shiftKey;if(v.target===x&&E){(_=d.current)==null||_.focus();return}const T=p({tabbingDirection:E?"backwards":"forwards"}),L=T.findIndex(D=>D===k);Y5(T.slice(L+1))?v.preventDefault():E?(N=d.current)==null||N.focus():(j=u.current)==null||j.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,p]),s.jsxs($re,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(ES,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Y5(x)}}),s.jsx(b6.Slot,{scope:r,children:s.jsx(rr.ol,{tabIndex:-1,...a,ref:m})}),g&&s.jsx(ES,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Y5(x)}})]})});ZB.displayName=JB;var eU="ToastFocusProxy",ES=O.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=$N(eU,r);return s.jsx(UN,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});ES.displayName=eU;var $y="Toast",tse="toast.swipeStart",rse="toast.swipeMove",sse="toast.swipeCancel",nse="toast.swipeEnd",tU=O.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[l,c]=Vd({prop:n,defaultProp:i??!0,onChange:a,caller:$y});return s.jsx(el,{present:r||l,children:s.jsx(ose,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Aa(t.onPause),onResume:Aa(t.onResume),onSwipeStart:Pt(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pt(t.onSwipeMove,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Pt(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pt(t.onSwipeEnd,d=>{const{x:u,y:h}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});tU.displayName=$y;var[ise,ase]=QB($y,{onClose(){}}),ose=O.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:f,...g}=t,p=$N($y,r),[x,y]=O.useState(null),v=zr(e,D=>y(D)),b=O.useRef(null),w=O.useRef(null),_=i||p.duration,N=O.useRef(0),j=O.useRef(_),k=O.useRef(0),{onToastAdd:E,onToastRemove:A}=p,C=Aa(()=>{var H;(x==null?void 0:x.contains(document.activeElement))&&((H=p.viewport)==null||H.focus()),o()}),T=O.useCallback(D=>{!D||D===1/0||(window.clearTimeout(k.current),N.current=new Date().getTime(),k.current=window.setTimeout(C,D))},[C]);O.useEffect(()=>{const D=p.viewport;if(D){const H=()=>{T(j.current),d==null||d()},X=()=>{const ee=new Date().getTime()-N.current;j.current=j.current-ee,window.clearTimeout(k.current),c==null||c()};return D.addEventListener(CS,X),D.addEventListener(AS,H),()=>{D.removeEventListener(CS,X),D.removeEventListener(AS,H)}}},[p.viewport,_,c,d,T]),O.useEffect(()=>{a&&!p.isClosePausedRef.current&&T(_)},[a,_,p.isClosePausedRef,T]),O.useEffect(()=>(E(),()=>A()),[E,A]);const L=O.useMemo(()=>x?lU(x):null,[x]);return p.viewport?s.jsxs(s.Fragment,{children:[L&&s.jsx(lse,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:L}),s.jsx(ise,{scope:r,onClose:C,children:Th.createPortal(s.jsx(b6.ItemSlot,{scope:r,children:s.jsx(Ure,{asChild:!0,onEscapeKeyDown:Pt(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||C(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(rr.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Pt(t.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:Pt(t.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:Pt(t.onPointerMove,D=>{if(!b.current)return;const H=D.clientX-b.current.x,X=D.clientY-b.current.y,ee=!!w.current,Q=["left","right"].includes(p.swipeDirection),G=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,z=Q?G(0,H):0,V=Q?0:G(0,X),F=D.pointerType==="touch"?10:2,I={x:z,y:V},B={originalEvent:D,delta:I};ee?(w.current=I,ub(rse,h,B,{discrete:!1})):ET(I,p.swipeDirection,F)?(w.current=I,ub(tse,u,B,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(H)>F||Math.abs(X)>F)&&(b.current=null)}),onPointerUp:Pt(t.onPointerUp,D=>{const H=w.current,X=D.target;if(X.hasPointerCapture(D.pointerId)&&X.releasePointerCapture(D.pointerId),w.current=null,b.current=null,H){const ee=D.currentTarget,Q={originalEvent:D,delta:H};ET(H,p.swipeDirection,p.swipeThreshold)?ub(nse,f,Q,{discrete:!0}):ub(sse,m,Q,{discrete:!0}),ee.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),lse=t=>{const{__scopeToast:e,children:r,...n}=t,i=$N($y,e),[a,o]=O.useState(!1),[l,c]=O.useState(!1);return use(()=>o(!0)),O.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:s.jsx(Uy,{asChild:!0,children:s.jsx(UN,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},cse="ToastTitle",rU=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(rr.div,{...n,ref:e})});rU.displayName=cse;var dse="ToastDescription",sU=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(rr.div,{...n,ref:e})});sU.displayName=dse;var nU="ToastAction",iU=O.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?s.jsx(oU,{altText:r,asChild:!0,children:s.jsx(w6,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nU}\`. Expected non-empty \`string\`.`),null)});iU.displayName=nU;var aU="ToastClose",w6=O.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=ase(aU,r);return s.jsx(oU,{asChild:!0,children:s.jsx(rr.button,{type:"button",...n,ref:e,onClick:Pt(t.onClick,i.onClose)})})});w6.displayName=aU;var oU=O.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return s.jsx(rr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function lU(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),hse(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lU(n))}}),e}function ub(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?v6(i,a):i.dispatchEvent(a)}var ET=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function use(t=()=>{}){const e=Aa(t);Qn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function hse(t){return t.nodeType===t.ELEMENT_NODE}function fse(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Y5(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var mse=XB,cU=ZB,dU=tU,uU=rU,hU=sU,fU=iU,mU=w6;function pU(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=pU(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function gU(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=pU(t))&&(n&&(n+=" "),n+=e);return n}const TT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,PT=gU,dg=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return PT(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(d=>{const u=r==null?void 0:r[d],h=a==null?void 0:a[d];if(u===null)return null;const m=TT(u)||TT(h);return i[d][m]}),l=r&&Object.entries(r).reduce((d,u)=>{let[h,m]=u;return m===void 0||(d[h]=m),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:h,className:m,...f}=u;return Object.entries(f).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...a,...l}[p]):{...a,...l}[p]===x})?[...d,h,m]:d},[]);return PT(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xU=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>O.createElement("svg",{ref:c,...gse,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:xU("lucide",i),...l},[...o.map(([d,u])=>O.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(t,e)=>{const r=O.forwardRef(({className:n,...i},a)=>O.createElement(xse,{ref:a,iconNode:e,className:xU(`lucide-${pse(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=ut("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=ut("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=ut("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=ut("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=ut("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=ut("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ut("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=ut("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ut("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ut("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=ut("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=ut("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=ut("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=ut("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=ut("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ut("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ut("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ut("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ut("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ut("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=ut("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=ut("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=ut("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ut("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ut("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=ut("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=ut("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ut("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=ut("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=ut("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ut("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ut("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=ut("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ut("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ut("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=ut("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ut("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ut("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=ut("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ut("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=ut("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=ut("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=ut("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=ut("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=ut("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=ut("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=ut("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=ut("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=ut("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ut("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ut("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=ut("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ut("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=ut("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=ut("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=ut("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ut("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=ut("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=ut("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ut("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=ut("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=ut("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ut("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=ut("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ut("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=ut("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=ut("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=ut("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ut("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=ut("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=ut("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ut("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ut("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ut("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=ut("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=ut("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ut("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=ut("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ut("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ut("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=ut("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=ut("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=ut("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=ut("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=ut("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=ut("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=ut("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ut("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_6="-",Hse=t=>{const e=Kse(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(_6);return l[0]===""&&l.length!==1&&l.shift(),SU(l,e)||Wse(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},SU=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?SU(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(_6);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},UT=/^\[(.+)\]$/,Wse=t=>{if(UT.test(t)){const e=UT.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Kse=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Yse(Object.entries(t.classGroups),r).forEach(([a,o])=>{RS(o,n,a,e)}),n},RS=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:$T(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Gse(i)){RS(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{RS(o,$T(e,a),r,n)})})},$T=(t,e)=>{let r=t;return e.split(_6).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Gse=t=>t.isThemeGetter,Yse=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,Qse=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},kU="!",Xse=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let d=0,u=0,h;for(let x=0;x<l.length;x++){let y=l[x];if(d===0){if(y===i&&(n||l.slice(x,x+a)===e)){c.push(l.slice(u,x)),u=x+a;continue}if(y==="/"){h=x;continue}}y==="["?d++:y==="]"&&d--}const m=c.length===0?l:l.substring(u),f=m.startsWith(kU),g=f?m.substring(1):m,p=h&&h>u?h-u:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},Jse=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Zse=t=>({cache:Qse(t.cacheSize),parseClassName:Xse(t),...Hse(t)}),ene=/\s+/,tne=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(ene);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:f}=r(d);let g=!!f,p=n(g?m.substring(0,f):m);if(!p){if(!g){l=d+(l.length>0?" "+l:l);continue}if(p=n(m),!p){l=d+(l.length>0?" "+l:l);continue}g=!1}const x=Jse(u).join(":"),y=h?x+kU:x,v=y+p;if(a.includes(v))continue;a.push(v);const b=i(p,g);for(let w=0;w<b.length;++w){const _=b[w];a.push(y+_)}l=d+(l.length>0?" "+l:l)}return l};function rne(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=CU(e))&&(n&&(n+=" "),n+=r);return n}const CU=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=CU(t[n]))&&(r&&(r+=" "),r+=e);return r};function sne(t,...e){let r,n,i,a=o;function o(c){const d=e.reduce((u,h)=>h(u),t());return r=Zse(d),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const u=tne(c,r);return i(c,u),u}return function(){return a(rne.apply(null,arguments))}}const zs=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},AU=/^\[(?:([a-z-]+):)?(.+)\]$/i,nne=/^\d+\/\d+$/,ine=new Set(["px","full","screen"]),ane=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,one=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,od=t=>Ip(t)||ine.has(t)||nne.test(t),bu=t=>hg(t,"length",vne),Ip=t=>!!t&&!Number.isNaN(Number(t)),Q5=t=>hg(t,"number",Ip),lx=t=>!!t&&Number.isInteger(Number(t)),une=t=>t.endsWith("%")&&Ip(t.slice(0,-1)),Fr=t=>AU.test(t),wu=t=>ane.test(t),hne=new Set(["length","size","percentage"]),fne=t=>hg(t,hne,EU),mne=t=>hg(t,"position",EU),pne=new Set(["image","url"]),gne=t=>hg(t,pne,bne),xne=t=>hg(t,"",yne),cx=()=>!0,hg=(t,e,r)=>{const n=AU.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},vne=t=>one.test(t)&&!lne.test(t),EU=()=>!1,yne=t=>cne.test(t),bne=t=>dne.test(t),wne=()=>{const t=zs("colors"),e=zs("spacing"),r=zs("blur"),n=zs("brightness"),i=zs("borderColor"),a=zs("borderRadius"),o=zs("borderSpacing"),l=zs("borderWidth"),c=zs("contrast"),d=zs("grayscale"),u=zs("hueRotate"),h=zs("invert"),m=zs("gap"),f=zs("gradientColorStops"),g=zs("gradientColorStopPositions"),p=zs("inset"),x=zs("margin"),y=zs("opacity"),v=zs("padding"),b=zs("saturate"),w=zs("scale"),_=zs("sepia"),N=zs("skew"),j=zs("space"),k=zs("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",Fr,e],T=()=>[Fr,e],L=()=>["",od,bu],D=()=>["auto",Ip,Fr],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Fr],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],V=()=>[Ip,Fr];return{cacheSize:500,separator:":",theme:{colors:[cx],spacing:[od,bu],blur:["none","",wu,Fr],brightness:V(),borderColor:[t],borderRadius:["none","","full",wu,Fr],borderSpacing:T(),borderWidth:L(),contrast:V(),grayscale:G(),hueRotate:V(),invert:G(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[une,bu],inset:C(),margin:C(),opacity:V(),padding:T(),saturate:V(),scale:V(),sepia:G(),skew:V(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Fr]}],container:["container"],columns:[{columns:[wu]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Fr]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lx,Fr]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fr]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",lx,Fr]}],"grid-cols":[{"grid-cols":[cx]}],"col-start-end":[{col:["auto",{span:["full",lx,Fr]},Fr]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[cx]}],"row-start-end":[{row:["auto",{span:[lx,Fr]},Fr]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fr]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fr,e]}],"min-w":[{"min-w":[Fr,e,"min","max","fit"]}],"max-w":[{"max-w":[Fr,e,"none","full","min","max","fit","prose",{screen:[wu]},wu]}],h:[{h:[Fr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",wu,bu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Q5]}],"font-family":[{font:[cx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fr]}],"line-clamp":[{"line-clamp":["none",Ip,Q5]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",od,Fr]}],"list-image":[{"list-image":["none",Fr]}],"list-style-type":[{list:["none","disc","decimal",Fr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",od,bu]}],"underline-offset":[{"underline-offset":["auto",od,Fr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),mne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gne]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[od,Fr]}],"outline-w":[{outline:[od,bu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[od,bu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wu,xne]}],"shadow-color":[{shadow:[cx]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wu,Fr]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fr]}],duration:[{duration:V()}],ease:[{ease:["linear","in","out","in-out",Fr]}],delay:[{delay:V()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[lx,Fr]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[od,bu,Q5]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nne=sne(wne);function Ot(...t){return Nne(gU(t))}const jne=mse,TU=O.forwardRef(({className:t,...e},r)=>s.jsx(cU,{ref:r,className:Ot("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));TU.displayName=cU.displayName;const _ne=dg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PU=O.forwardRef(({className:t,variant:e,...r},n)=>s.jsx(dU,{ref:n,className:Ot(_ne({variant:e}),t),...r}));PU.displayName=dU.displayName;const Sne=O.forwardRef(({className:t,...e},r)=>s.jsx(fU,{ref:r,className:Ot("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Sne.displayName=fU.displayName;const FU=O.forwardRef(({className:t,...e},r)=>s.jsx(mU,{ref:r,className:Ot("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(ko,{className:"h-4 w-4"})}));FU.displayName=mU.displayName;const OU=O.forwardRef(({className:t,...e},r)=>s.jsx(uU,{ref:r,className:Ot("text-sm font-semibold",t),...e}));OU.displayName=uU.displayName;const LU=O.forwardRef(({className:t,...e},r)=>s.jsx(hU,{ref:r,className:Ot("text-sm opacity-90",t),...e}));LU.displayName=hU.displayName;function kne(){const{toasts:t}=ar();return s.jsxs(jne,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return s.jsxs(PU,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(OU,{children:r}),n&&s.jsx(LU,{children:n})]}),i,s.jsx(FU,{})]},e)}),s.jsx(TU,{})]})}var Cne=bk[" useId ".trim().toString()]||(()=>{}),Ane=0;function Oc(t){const[e,r]=O.useState(Cne());return Qn(()=>{r(n=>n??String(Ane++))},[t]),e?`radix-${e}`:""}const Ene=["top","right","bottom","left"],mh=Math.min,fo=Math.max,nw=Math.round,hb=Math.floor,Lc=t=>({x:t,y:t}),Tne={left:"right",right:"left",bottom:"top",top:"bottom"},Pne={start:"end",end:"start"};function IS(t,e,r){return fo(t,mh(e,r))}function Wd(t,e){return typeof t=="function"?t(e):t}function Kd(t){return t.split("-")[0]}function fg(t){return t.split("-")[1]}function S6(t){return t==="x"?"y":"x"}function k6(t){return t==="y"?"height":"width"}const Fne=new Set(["top","bottom"]);function kc(t){return Fne.has(Kd(t))?"y":"x"}function C6(t){return S6(kc(t))}function One(t,e,r){r===void 0&&(r=!1);const n=fg(t),i=C6(t),a=k6(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=iw(o)),[o,iw(o)]}function Lne(t){const e=iw(t);return[DS(t),e,DS(e)]}function DS(t){return t.replace(/start|end/g,e=>Pne[e])}const qT=["left","right"],zT=["right","left"],Rne=["top","bottom"],Ine=["bottom","top"];function Dne(t,e,r){switch(t){case"top":case"bottom":return r?e?zT:qT:e?qT:zT;case"left":case"right":return e?Rne:Ine;default:return[]}}function Mne(t,e,r,n){const i=fg(t);let a=Dne(Kd(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(DS)))),a}function iw(t){return t.replace(/left|right|bottom|top/g,e=>Tne[e])}function Bne(t){return{top:0,right:0,bottom:0,left:0,...t}}function RU(t){return typeof t!="number"?Bne(t):{top:t,right:t,bottom:t,left:t}}function aw(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function VT(t,e,r){let{reference:n,floating:i}=t;const a=kc(e),o=C6(e),l=k6(o),c=Kd(e),d=a==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[l]/2-i[l]/2;let f;switch(c){case"top":f={x:u,y:n.y-i.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(fg(e)){case"start":f[o]-=m*(r&&d?-1:1);break;case"end":f[o]+=m*(r&&d?-1:1);break}return f}const Une=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=VT(d,n,c),m=n,f={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:v,y:b,data:w,reset:_}=await y({x:u,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:f,rects:d,platform:o,elements:{reference:t,floating:e}});u=v??u,h=b??h,f={...f,[x]:{...f[x],...w}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:u,y:h}=VT(d,m,c)),p=-1)}return{x:u,y:h,placement:m,strategy:i,middlewareData:f}};async function Cv(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=Wd(e,t),g=RU(f),x=l[m?h==="floating"?"reference":"floating":h],y=aw(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},_=aw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:b,strategy:c}):v);return{top:(y.top-_.top+g.top)/w.y,bottom:(_.bottom-y.bottom+g.bottom)/w.y,left:(y.left-_.left+g.left)/w.x,right:(_.right-y.right+g.right)/w.x}}const $ne=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Wd(t,e)||{};if(d==null)return{};const h=RU(u),m={x:r,y:n},f=C6(i),g=k6(f),p=await o.getDimensions(d),x=f==="y",y=x?"top":"left",v=x?"bottom":"right",b=x?"clientHeight":"clientWidth",w=a.reference[g]+a.reference[f]-m[f]-a.floating[g],_=m[f]-a.reference[f],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let j=N?N[b]:0;(!j||!await(o.isElement==null?void 0:o.isElement(N)))&&(j=l.floating[b]||a.floating[g]);const k=w/2-_/2,E=j/2-p[g]/2-1,A=mh(h[y],E),C=mh(h[v],E),T=A,L=j-p[g]-C,D=j/2-p[g]/2+k,H=IS(T,D,L),X=!c.arrow&&fg(i)!=null&&D!==H&&a.reference[g]/2-(D<T?A:C)-p[g]/2<0,ee=X?D<T?D-T:D-L:0;return{[f]:m[f]+ee,data:{[f]:H,centerOffset:D-H-ee,...X&&{alignmentOffset:ee}},reset:X}}}),qne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Wd(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Kd(i),v=kc(l),b=Kd(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=m||(b||!p?[iw(l)]:Lne(l)),N=g!=="none";!m&&N&&_.push(...Mne(l,p,g,w));const j=[l,..._],k=await Cv(e,x),E=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&E.push(k[y]),h){const D=One(i,o,w);E.push(k[D[0]],k[D[1]])}if(A=[...A,{placement:i,overflows:E}],!E.every(D=>D<=0)){var C,T;const D=(((C=a.flip)==null?void 0:C.index)||0)+1,H=j[D];if(H&&(!(h==="alignment"?v!==kc(H):!1)||A.every(Q=>kc(Q.placement)===v?Q.overflows[0]>0:!0)))return{data:{index:D,overflows:A},reset:{placement:H}};let X=(T=A.filter(ee=>ee.overflows[0]<=0).sort((ee,Q)=>ee.overflows[1]-Q.overflows[1])[0])==null?void 0:T.placement;if(!X)switch(f){case"bestFit":{var L;const ee=(L=A.filter(Q=>{if(N){const G=kc(Q.placement);return G===v||G==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(G=>G>0).reduce((G,z)=>G+z,0)]).sort((Q,G)=>Q[1]-G[1])[0])==null?void 0:L[0];ee&&(X=ee);break}case"initialPlacement":X=l;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function HT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function WT(t){return Ene.some(e=>t[e]>=0)}const zne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Wd(t,e);switch(n){case"referenceHidden":{const a=await Cv(e,{...i,elementContext:"reference"}),o=HT(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:WT(o)}}}case"escaped":{const a=await Cv(e,{...i,altBoundary:!0}),o=HT(a,r.floating);return{data:{escapedOffsets:o,escaped:WT(o)}}}default:return{}}}}},IU=new Set(["left","top"]);async function Vne(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Kd(r),l=fg(r),c=kc(r)==="y",d=IU.has(o)?-1:1,u=a&&c?-1:1,h=Wd(e,t);let{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*u,y:m*d}:{x:m*d,y:f*u}}const Hne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await Vne(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},Wne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=Wd(t,e),d={x:r,y:n},u=await Cv(e,c),h=kc(Kd(i)),m=S6(h);let f=d[m],g=d[h];if(a){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=f+u[x],b=f-u[y];f=IS(v,f,b)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=g+u[x],b=g-u[y];g=IS(v,g,b)}const p=l.fn({...e,[m]:f,[h]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[m]:a,[h]:o}}}}}},Kne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Wd(t,e),u={x:r,y:n},h=kc(i),m=S6(h);let f=u[m],g=u[h];const p=Wd(l,e),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=m==="y"?"height":"width",w=a.reference[m]-a.floating[b]+x.mainAxis,_=a.reference[m]+a.reference[b]-x.mainAxis;f<w?f=w:f>_&&(f=_)}if(d){var y,v;const b=m==="y"?"width":"height",w=IU.has(Kd(i)),_=a.reference[h]-a.floating[b]+(w&&((y=o.offset)==null?void 0:y[h])||0)+(w?0:x.crossAxis),N=a.reference[h]+a.reference[b]+(w?0:((v=o.offset)==null?void 0:v[h])||0)-(w?x.crossAxis:0);g<_?g=_:g>N&&(g=N)}return{[m]:f,[h]:g}}}},Gne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Wd(t,e),u=await Cv(e,d),h=Kd(i),m=fg(i),f=kc(i)==="y",{width:g,height:p}=a.floating;let x,y;h==="top"||h==="bottom"?(x=h,y=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,x=m==="end"?"top":"bottom");const v=p-u.top-u.bottom,b=g-u.left-u.right,w=mh(p-u[x],v),_=mh(g-u[y],b),N=!e.middlewareData.shift;let j=w,k=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=v),N&&!m){const A=fo(u.left,0),C=fo(u.right,0),T=fo(u.top,0),L=fo(u.bottom,0);f?k=g-2*(A!==0||C!==0?A+C:fo(u.left,u.right)):j=p-2*(T!==0||L!==0?T+L:fo(u.top,u.bottom))}await c({...e,availableWidth:k,availableHeight:j});const E=await o.getDimensions(l.floating);return g!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function WN(){return typeof window<"u"}function mg(t){return DU(t)?(t.nodeName||"").toLowerCase():"#document"}function wo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Hc(t){var e;return(e=(DU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DU(t){return WN()?t instanceof Node||t instanceof wo(t).Node:!1}function Hl(t){return WN()?t instanceof Element||t instanceof wo(t).Element:!1}function Dc(t){return WN()?t instanceof HTMLElement||t instanceof wo(t).HTMLElement:!1}function KT(t){return!WN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wo(t).ShadowRoot}const Yne=new Set(["inline","contents"]);function zy(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Wl(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Yne.has(i)}const Qne=new Set(["table","td","th"]);function Xne(t){return Qne.has(mg(t))}const Jne=[":popover-open",":modal"];function KN(t){return Jne.some(e=>{try{return t.matches(e)}catch{return!1}})}const Zne=["transform","translate","scale","rotate","perspective"],eie=["transform","translate","scale","rotate","perspective","filter"],tie=["paint","layout","strict","content"];function A6(t){const e=E6(),r=Hl(t)?Wl(t):t;return Zne.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||eie.some(n=>(r.willChange||"").includes(n))||tie.some(n=>(r.contain||"").includes(n))}function rie(t){let e=ph(t);for(;Dc(e)&&!$0(e);){if(A6(e))return e;if(KN(e))return null;e=ph(e)}return null}function E6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sie=new Set(["html","body","#document"]);function $0(t){return sie.has(mg(t))}function Wl(t){return wo(t).getComputedStyle(t)}function GN(t){return Hl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ph(t){if(mg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KT(t)&&t.host||Hc(t);return KT(e)?e.host:e}function MU(t){const e=ph(t);return $0(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dc(e)&&zy(e)?e:MU(e)}function Av(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=MU(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=wo(i);if(a){const l=MS(o);return e.concat(o,o.visualViewport||[],zy(i)?i:[],l&&r?Av(l):[])}return e.concat(i,Av(i,[],r))}function MS(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function BU(t){const e=Wl(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Dc(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=nw(r)!==a||nw(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function T6(t){return Hl(t)?t:t.contextElement}function Dp(t){const e=T6(t);if(!Dc(e))return Lc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=BU(e);let o=(a?nw(r.width):r.width)/n,l=(a?nw(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nie=Lc(0);function UU(t){const e=wo(t);return!E6()||!e.visualViewport?nie:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iie(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==wo(t)?!1:e}function om(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=T6(t);let o=Lc(1);e&&(n?Hl(n)&&(o=Dp(n)):o=Dp(t));const l=iie(a,r,n)?UU(a):Lc(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(a){const m=wo(a),f=n&&Hl(n)?wo(n):n;let g=m,p=MS(g);for(;p&&n&&f!==g;){const x=Dp(p),y=p.getBoundingClientRect(),v=Wl(p),b=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,w=y.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,d*=x.y,u*=x.x,h*=x.y,c+=b,d+=w,g=wo(p),p=MS(g)}}return aw({width:u,height:h,x:c,y:d})}function YN(t,e){const r=GN(t).scrollLeft;return e?e.left+r:om(Hc(t)).left+r}function $U(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-YN(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function aie(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=Hc(n),l=e?KN(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Lc(1);const u=Lc(0),h=Dc(n);if((h||!h&&!a)&&((mg(n)!=="body"||zy(o))&&(c=GN(n)),Dc(n))){const f=om(n);d=Dp(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const m=o&&!h&&!a?$U(o,c):Lc(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+m.x,y:r.y*d.y-c.scrollTop*d.y+u.y+m.y}}function oie(t){return Array.from(t.getClientRects())}function lie(t){const e=Hc(t),r=GN(t),n=t.ownerDocument.body,i=fo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=fo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+YN(t);const l=-r.scrollTop;return Wl(n).direction==="rtl"&&(o+=fo(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}const GT=25;function cie(t,e){const r=wo(t),n=Hc(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=E6();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const d=YN(n);if(d<=0){const u=n.ownerDocument,h=u.body,m=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(n.clientWidth-h.clientWidth-f);g<=GT&&(a-=g)}else d<=GT&&(a+=d);return{width:a,height:o,x:l,y:c}}const die=new Set(["absolute","fixed"]);function uie(t,e){const r=om(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Dc(t)?Dp(t):Lc(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function YT(t,e,r){let n;if(e==="viewport")n=cie(t,r);else if(e==="document")n=lie(Hc(t));else if(Hl(e))n=uie(e,r);else{const i=UU(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return aw(n)}function qU(t,e){const r=ph(t);return r===e||!Hl(r)||$0(r)?!1:Wl(r).position==="fixed"||qU(r,e)}function hie(t,e){const r=e.get(t);if(r)return r;let n=Av(t,[],!1).filter(l=>Hl(l)&&mg(l)!=="body"),i=null;const a=Wl(t).position==="fixed";let o=a?ph(t):t;for(;Hl(o)&&!$0(o);){const l=Wl(o),c=A6(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&die.has(i.position)||zy(o)&&!c&&qU(t,o))?n=n.filter(u=>u!==o):i=l,o=ph(o)}return e.set(t,n),n}function fie(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?KN(e)?[]:hie(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const h=YT(e,u,i);return d.top=fo(h.top,d.top),d.right=mh(h.right,d.right),d.bottom=mh(h.bottom,d.bottom),d.left=fo(h.left,d.left),d},YT(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function mie(t){const{width:e,height:r}=BU(t);return{width:e,height:r}}function pie(t,e,r){const n=Dc(e),i=Hc(e),a=r==="fixed",o=om(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Lc(0);function d(){c.x=YN(i)}if(n||!n&&!a)if((mg(e)!=="body"||zy(i))&&(l=GN(e)),n){const f=om(e,!0,a,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&d();a&&!n&&i&&d();const u=i&&!n&&!a?$U(i,l):Lc(0),h=o.left+l.scrollLeft-c.x-u.x,m=o.top+l.scrollTop-c.y-u.y;return{x:h,y:m,width:o.width,height:o.height}}function X5(t){return Wl(t).position==="static"}function QT(t,e){if(!Dc(t)||Wl(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Hc(t)===r&&(r=r.ownerDocument.body),r}function zU(t,e){const r=wo(t);if(KN(t))return r;if(!Dc(t)){let i=ph(t);for(;i&&!$0(i);){if(Hl(i)&&!X5(i))return i;i=ph(i)}return r}let n=QT(t,e);for(;n&&Xne(n)&&X5(n);)n=QT(n,e);return n&&$0(n)&&X5(n)&&!A6(n)?r:n||rie(t)||r}const gie=async function(t){const e=this.getOffsetParent||zU,r=this.getDimensions,n=await r(t.floating);return{reference:pie(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xie(t){return Wl(t).direction==="rtl"}const vie={convertOffsetParentRelativeRectToViewportRelativeRect:aie,getDocumentElement:Hc,getClippingRect:fie,getOffsetParent:zU,getElementRects:gie,getClientRects:oie,getDimensions:mie,getScale:Dp,isElement:Hl,isRTL:xie};function VU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yie(t,e){let r=null,n;const i=Hc(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=t.getBoundingClientRect(),{left:u,top:h,width:m,height:f}=d;if(l||e(),!m||!f)return;const g=hb(h),p=hb(i.clientWidth-(u+m)),x=hb(i.clientHeight-(h+f)),y=hb(u),b={rootMargin:-g+"px "+-p+"px "+-x+"px "+-y+"px",threshold:fo(0,mh(1,c))||1};let w=!0;function _(N){const j=N[0].intersectionRatio;if(j!==c){if(!w)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!VU(d,t.getBoundingClientRect())&&o(),w=!1}try{r=new IntersectionObserver(_,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(t)}return o(!0),a}function bie(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=T6(t),u=i||a?[...d?Av(d):[],...Av(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=d&&l?yie(d,r):null;let m=-1,f=null;o&&(f=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&f&&(f.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),r()}),d&&!c&&f.observe(d),f.observe(e));let g,p=c?om(t):null;c&&x();function x(){const y=om(t);p&&!VU(p,y)&&r(),p=y,g=requestAnimationFrame(x)}return r(),()=>{var y;u.forEach(v=>{i&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const wie=Hne,Nie=Wne,jie=qne,_ie=Gne,Sie=zne,XT=$ne,kie=Kne,Cie=(t,e,r)=>{const n=new Map,i={platform:vie,...r},a={...i.platform,_c:n};return Une(t,e,{...i,platform:a})};var Aie=typeof document<"u",Eie=function(){},h2=Aie?O.useLayoutEffect:Eie;function ow(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ow(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!ow(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function HU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JT(t,e){const r=HU(t);return Math.round(e*r)/r}function J5(t){const e=O.useRef(t);return h2(()=>{e.current=t}),e}function Tie(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=O.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,f]=O.useState(n);ow(m,n)||f(n);const[g,p]=O.useState(null),[x,y]=O.useState(null),v=O.useCallback(Q=>{Q!==N.current&&(N.current=Q,p(Q))},[]),b=O.useCallback(Q=>{Q!==j.current&&(j.current=Q,y(Q))},[]),w=a||g,_=o||x,N=O.useRef(null),j=O.useRef(null),k=O.useRef(u),E=c!=null,A=J5(c),C=J5(i),T=J5(d),L=O.useCallback(()=>{if(!N.current||!j.current)return;const Q={placement:e,strategy:r,middleware:m};C.current&&(Q.platform=C.current),Cie(N.current,j.current,Q).then(G=>{const z={...G,isPositioned:T.current!==!1};D.current&&!ow(k.current,z)&&(k.current=z,Th.flushSync(()=>{h(z)}))})},[m,e,r,C,T]);h2(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,h(Q=>({...Q,isPositioned:!1})))},[d]);const D=O.useRef(!1);h2(()=>(D.current=!0,()=>{D.current=!1}),[]),h2(()=>{if(w&&(N.current=w),_&&(j.current=_),w&&_){if(A.current)return A.current(w,_,L);L()}},[w,_,L,A,E]);const H=O.useMemo(()=>({reference:N,floating:j,setReference:v,setFloating:b}),[v,b]),X=O.useMemo(()=>({reference:w,floating:_}),[w,_]),ee=O.useMemo(()=>{const Q={position:r,left:0,top:0};if(!X.floating)return Q;const G=JT(X.floating,u.x),z=JT(X.floating,u.y);return l?{...Q,transform:"translate("+G+"px, "+z+"px)",...HU(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:z}},[r,l,X.floating,u.x,u.y]);return O.useMemo(()=>({...u,update:L,refs:H,elements:X,floatingStyles:ee}),[u,L,H,X,ee])}const Pie=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?XT({element:n.current,padding:i}).fn(r):{}:n?XT({element:n,padding:i}).fn(r):{}}}},Fie=(t,e)=>({...wie(t),options:[t,e]}),Oie=(t,e)=>({...Nie(t),options:[t,e]}),Lie=(t,e)=>({...kie(t),options:[t,e]}),Rie=(t,e)=>({...jie(t),options:[t,e]}),Iie=(t,e)=>({..._ie(t),options:[t,e]}),Die=(t,e)=>({...Sie(t),options:[t,e]}),Mie=(t,e)=>({...Pie(t),options:[t,e]});var Bie="Arrow",WU=O.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(rr.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});WU.displayName=Bie;var Uie=WU;function P6(t){const[e,r]=O.useState(void 0);return Qn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var F6="Popper",[KU,pg]=Fa(F6),[$ie,GU]=KU(F6),YU=t=>{const{__scopePopper:e,children:r}=t,[n,i]=O.useState(null);return s.jsx($ie,{scope:e,anchor:n,onAnchorChange:i,children:r})};YU.displayName=F6;var QU="PopperAnchor",XU=O.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=GU(QU,r),o=O.useRef(null),l=zr(e,o),c=O.useRef(null);return O.useEffect(()=>{const d=c.current;c.current=(n==null?void 0:n.current)||o.current,d!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(rr.div,{...i,ref:l})});XU.displayName=QU;var O6="PopperContent",[qie,zie]=KU(O6),JU=O.forwardRef((t,e)=>{var W,te,re,le,ke,Pe;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:f="optimized",onPlaced:g,...p}=t,x=GU(O6,r),[y,v]=O.useState(null),b=zr(e,He=>v(He)),[w,_]=O.useState(null),N=P6(w),j=(N==null?void 0:N.width)??0,k=(N==null?void 0:N.height)??0,E=n+(a!=="center"?"-"+a:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},C=Array.isArray(d)?d:[d],T=C.length>0,L={padding:A,boundary:C.filter(Hie),altBoundary:T},{refs:D,floatingStyles:H,placement:X,isPositioned:ee,middlewareData:Q}=Tie({strategy:"fixed",placement:E,whileElementsMounted:(...He)=>bie(...He,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[Fie({mainAxis:i+k,alignmentAxis:o}),c&&Oie({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Lie():void 0,...L}),c&&Rie({...L}),Iie({...L,apply:({elements:He,rects:Ae,availableWidth:fe,availableHeight:_t})=>{const{width:Je,height:Oe}=Ae.reference,Ce=He.floating.style;Ce.setProperty("--radix-popper-available-width",`${fe}px`),Ce.setProperty("--radix-popper-available-height",`${_t}px`),Ce.setProperty("--radix-popper-anchor-width",`${Je}px`),Ce.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),w&&Mie({element:w,padding:l}),Wie({arrowWidth:j,arrowHeight:k}),m&&Die({strategy:"referenceHidden",...L})]}),[G,z]=t$(X),V=Aa(g);Qn(()=>{ee&&(V==null||V())},[ee,V]);const F=(W=Q.arrow)==null?void 0:W.x,I=(te=Q.arrow)==null?void 0:te.y,B=((re=Q.arrow)==null?void 0:re.centerOffset)!==0,[q,U]=O.useState();return Qn(()=>{y&&U(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:ee?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(le=Q.transformOrigin)==null?void 0:le.x,(ke=Q.transformOrigin)==null?void 0:ke.y].join(" "),...((Pe=Q.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(qie,{scope:r,placedSide:G,onArrowChange:_,arrowX:F,arrowY:I,shouldHideArrow:B,children:s.jsx(rr.div,{"data-side":G,"data-align":z,...p,ref:b,style:{...p.style,animation:ee?void 0:"none"}})})})});JU.displayName=O6;var ZU="PopperArrow",Vie={top:"bottom",right:"left",bottom:"top",left:"right"},e$=O.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=zie(ZU,n),o=Vie[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(Uie,{...i,ref:r,style:{...i.style,display:"block"}})})});e$.displayName=ZU;function Hie(t){return t!==null}var Wie=t=>({name:"transformOrigin",options:t,fn(e){var x,y,v;const{placement:r,rects:n,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=t$(r),h={start:"0%",center:"50%",end:"100%"}[u],m=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,f=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let g="",p="";return d==="bottom"?(g=o?h:`${m}px`,p=`${-c}px`):d==="top"?(g=o?h:`${m}px`,p=`${n.floating.height+c}px`):d==="right"?(g=`${-c}px`,p=o?h:`${f}px`):d==="left"&&(g=`${n.floating.width+c}px`,p=o?h:`${f}px`),{data:{x:g,y:p}}}});function t$(t){const[e,r="center"]=t.split("-");return[e,r]}var r$=YU,L6=XU,R6=JU,I6=e$,[QN]=Fa("Tooltip",[pg]),D6=pg(),s$="TooltipProvider",Kie=700,ZT="tooltip.open",[Gie,n$]=QN(s$),i$=t=>{const{__scopeTooltip:e,delayDuration:r=Kie,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=O.useRef(!0),l=O.useRef(!1),c=O.useRef(0);return O.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(Gie,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:O.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:O.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:O.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:a})};i$.displayName=s$;var a$="Tooltip",[kOe,XN]=QN(a$),BS="TooltipTrigger",Yie=O.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=XN(BS,r),a=n$(BS,r),o=D6(r),l=O.useRef(null),c=zr(e,l,i.onTriggerChange),d=O.useRef(!1),u=O.useRef(!1),h=O.useCallback(()=>d.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(L6,{asChild:!0,...o,children:s.jsx(rr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Pt(t.onPointerMove,m=>{m.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Pt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Pt(t.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Pt(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:Pt(t.onBlur,i.onClose),onClick:Pt(t.onClick,i.onClose)})})});Yie.displayName=BS;var Qie="TooltipPortal",[COe,Xie]=QN(Qie,{forceMount:void 0}),q0="TooltipContent",o$=O.forwardRef((t,e)=>{const r=Xie(q0,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=XN(q0,t.__scopeTooltip);return s.jsx(el,{present:n||o.open,children:o.disableHoverableContent?s.jsx(l$,{side:i,...a,ref:e}):s.jsx(Jie,{side:i,...a,ref:e})})}),Jie=O.forwardRef((t,e)=>{const r=XN(q0,t.__scopeTooltip),n=n$(q0,t.__scopeTooltip),i=O.useRef(null),a=zr(e,i),[o,l]=O.useState(null),{trigger:c,onClose:d}=r,u=i.current,{onPointerInTransitChange:h}=n,m=O.useCallback(()=>{l(null),h(!1)},[h]),f=O.useCallback((g,p)=>{const x=g.currentTarget,y={x:g.clientX,y:g.clientY},v=sae(y,x.getBoundingClientRect()),b=nae(y,v),w=iae(p.getBoundingClientRect()),_=oae([...b,...w]);l(_),h(!0)},[h]);return O.useEffect(()=>()=>m(),[m]),O.useEffect(()=>{if(c&&u){const g=x=>f(x,u),p=x=>f(x,c);return c.addEventListener("pointerleave",g),u.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",p)}}},[c,u,f,m]),O.useEffect(()=>{if(o){const g=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(x))||(u==null?void 0:u.contains(x)),b=!aae(y,o);v?m():b&&(m(),d())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,u,o,d,m]),s.jsx(l$,{...t,ref:a})}),[Zie,eae]=QN(a$,{isInside:!1}),tae=HB("TooltipContent"),l$=O.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=XN(q0,r),d=D6(r),{onClose:u}=c;return O.useEffect(()=>(document.addEventListener(ZT,u),()=>document.removeEventListener(ZT,u)),[u]),O.useEffect(()=>{if(c.trigger){const h=m=>{const f=m.target;f!=null&&f.contains(c.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,u]),s.jsx(cg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:s.jsxs(R6,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(tae,{children:n}),s.jsx(Zie,{scope:r,isInside:!0,children:s.jsx(Qre,{id:c.contentId,role:"tooltip",children:i||n})})]})})});o$.displayName=q0;var c$="TooltipArrow",rae=O.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=D6(r);return eae(c$,r).isInside?null:s.jsx(I6,{...i,...n,ref:e})});rae.displayName=c$;function sae(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nae(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function iae(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function aae(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(i=!i)}return i}function oae(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),lae(e)}function lae(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var cae=i$,d$=o$;const dae=cae,uae=O.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(d$,{ref:n,sideOffset:e,className:Ot("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));uae.displayName=d$.displayName;const _e=O.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Ot("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));_e.displayName="Card";const Ze=O.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Ot("flex flex-col space-y-1.5 p-6",t),...e}));Ze.displayName="CardHeader";const Xe=O.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Ot("text-2xl font-semibold leading-none tracking-tight",t),...e}));Xe.displayName="CardTitle";const Ka=O.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Ot("text-sm text-muted-foreground",t),...e}));Ka.displayName="CardDescription";const Se=O.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Ot("p-6 pt-0",t),...e}));Se.displayName="CardContent";const hae=O.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Ot("flex items-center p-6 pt-0",t),...e}));hae.displayName="CardFooter";const M6=dg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ie=O.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?zB:"button";return s.jsx(o,{className:Ot(M6({variant:e,size:r,className:t})),ref:a,...i})});ie.displayName="Button";const u$=O.createContext(void 0),Z5="findermeister_token",Qi={getToken(){return localStorage.getItem(Z5)},setToken(t){localStorage.setItem(Z5,t)},clearToken(){localStorage.removeItem(Z5)},getAuthHeaders(){const t=this.getToken();return t?{Authorization:`Bearer ${t}`}:{}},async register(t){const e=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let n="Registration failed";try{const i=await e.json();n=i.message||i.error||"Registration failed"}catch{try{n=await e.text()||`Registration failed (Status: ${e.status})`}catch{n=`Registration failed (Status: ${e.status})`}}throw new Error(n)}const r=await e.json();return this.setToken(r.token),r},async login(t){const e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let n="Login failed";try{const i=await e.json();n=i.message||i.error||"Login failed"}catch{try{n=await e.text()||`Login failed (Status: ${e.status})`}catch{n=`Login failed (Status: ${e.status})`}}throw new Error(n)}const r=await e.json();return this.setToken(r.token),r},async getCurrentUser(){if(!this.getToken())throw new Error("No authentication token found");const e=await fetch("/api/auth/me",{headers:this.getAuthHeaders(),credentials:"include"});if(!e.ok){e.status===401&&this.clearToken();let r="Failed to get current user";try{const i=await e.json();r=i.message||i.error||"Failed to get current user"}catch{try{r=await e.text()||`Failed to get current user (Status: ${e.status})`}catch{r=`Failed to get current user (Status: ${e.status})`}}const n=new Error(r);throw n.status=e.status,n}return e.json()},logout(){this.clearToken()},async refreshToken(){try{const t=await fetch("/api/auth/refresh",{method:"POST",headers:this.getAuthHeaders(),credentials:"include"});if(!t.ok)return this.clearToken(),null;const e=await t.json();return e.token?(this.setToken(e.token),e.token):null}catch(t){return console.error("Token refresh failed:",t),this.clearToken(),null}},isAuthenticated(){return!!this.getToken()}};function fae({children:t}){const[e,r]=O.useState(null),[n,i]=O.useState(null),[a,o]=O.useState(Qi.isAuthenticated()),l=vr(),c=async()=>{try{return await Qi.refreshToken()?(l.invalidateQueries({queryKey:["/api/auth/me"]}),!0):!1}catch(x){return console.error("Manual token refresh failed:",x),!1}},{data:d,isLoading:u,error:h}=pt({queryKey:["/api/auth/me"],queryFn:()=>Qi.getCurrentUser(),enabled:Qi.isAuthenticated(),retry:(x,y)=>y.status===401&&x<2,staleTime:1e3*60*5,refetchOnWindowFocus:!1});O.useEffect(()=>{console.log("Auth effect triggered:",{data:d,authError:h,isAuthLoading:u}),d?(console.log("Setting user from auth data:",d.user),r(d.user),i(d.profile),o(!0)):h?(console.error("Auth error, clearing token:",h),h.status===401?Qi.refreshToken().then(x=>{x?l.invalidateQueries({queryKey:["/api/auth/me"]}):(Qi.clearToken(),r(null),i(null),o(!1),window.location.href="/login")}):(r(null),i(null),o(!1))):!u&&!Qi.isAuthenticated()&&(r(null),i(null),o(!1))},[d,h,u,l]),O.useEffect(()=>{let x;return a&&e&&(x=setInterval(()=>{console.log("Running automatic token refresh..."),Qi.refreshToken().then(y=>{y?(console.log("Token refreshed successfully"),l.invalidateQueries({queryKey:["/api/auth/me"]})):(console.error("Automatic token refresh failed"),Qi.logout(),window.location.href="/login")}).catch(y=>{console.error("Automatic token refresh error:",y),Qi.logout(),window.location.href="/login"})},4*60*1e3)),()=>{x&&clearInterval(x)}},[a,e,l]);const m=async(x,y)=>{try{const v=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,password:y})});if(!v.ok){let w="Login failed";try{const _=await v.json();w=_.message||_.error||"Login failed"}catch{try{w=await v.text()||`Login failed (Status: ${v.status})`}catch{w=`Login failed (Status: ${v.status})`}}throw new Error(w)}const b=await v.json();return Qi.setToken(b.token),r(b.user),o(!0),l.invalidateQueries({queryKey:["/api/auth/me"]}),b}catch(v){throw console.error("Login error:",v),v}},f=async x=>{const y=await Qi.register(x);r(y.user),o(!0),l.invalidateQueries({queryKey:["/api/auth/me"]})},g=()=>{r(null),i(null),o(!1),l.clear(),Qi.logout()},p={user:e,profile:n,isLoading:u&&Qi.isAuthenticated(),isAuthenticated:!!e,login:m,register:f,logout:g,setUser:r,getToken:Qi.getToken,refreshToken:Qi.refreshToken,refreshAuthToken:c};return O.createElement(u$.Provider,{value:p},t)}function tr(){const t=O.useContext(u$);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var e4="focusScope.autoFocusOnMount",t4="focusScope.autoFocusOnUnmount",eP={bubbles:!1,cancelable:!0},mae="FocusScope",JN=O.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=O.useState(null),d=Aa(i),u=Aa(a),h=O.useRef(null),m=zr(e,p=>c(p)),f=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(n){let p=function(b){if(f.paused||!l)return;const w=b.target;l.contains(w)?h.current=w:Cu(h.current,{select:!0})},x=function(b){if(f.paused||!l)return;const w=b.relatedTarget;w!==null&&(l.contains(w)||Cu(h.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Cu(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),v.disconnect()}}},[n,l,f.paused]),O.useEffect(()=>{if(l){rP.add(f);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(e4,eP);l.addEventListener(e4,d),l.dispatchEvent(y),y.defaultPrevented||(pae(bae(h$(l)),{select:!0}),document.activeElement===p&&Cu(l))}return()=>{l.removeEventListener(e4,d),setTimeout(()=>{const y=new CustomEvent(t4,eP);l.addEventListener(t4,u),l.dispatchEvent(y),y.defaultPrevented||Cu(p??document.body,{select:!0}),l.removeEventListener(t4,u),rP.remove(f)},0)}}},[l,d,u,f]);const g=O.useCallback(p=>{if(!r&&!n||f.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const v=p.currentTarget,[b,w]=gae(v);b&&w?!p.shiftKey&&y===w?(p.preventDefault(),r&&Cu(b,{select:!0})):p.shiftKey&&y===b&&(p.preventDefault(),r&&Cu(w,{select:!0})):y===v&&p.preventDefault()}},[r,n,f.paused]);return s.jsx(rr.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});JN.displayName=mae;function pae(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Cu(n,{select:e}),document.activeElement!==r)return}function gae(t){const e=h$(t),r=tP(e,t),n=tP(e.reverse(),t);return[r,n]}function h$(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function tP(t,e){for(const r of t)if(!xae(r,{upTo:e}))return r}function xae(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vae(t){return t instanceof HTMLInputElement&&"select"in t}function Cu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&vae(t)&&e&&t.select()}}var rP=yae();function yae(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=sP(t,e),t.unshift(e)},remove(e){var r;t=sP(t,e),(r=t[0])==null||r.resume()}}}function sP(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function bae(t){return t.filter(e=>e.tagName!=="A")}var r4=0;function B6(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??nP()),document.body.insertAdjacentElement("beforeend",t[1]??nP()),r4++,()=>{r4===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),r4--}},[])}function nP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _c=function(){return _c=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_c.apply(this,arguments)};function f$(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function wae(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var f2="right-scroll-bar-position",m2="width-before-scroll-bar",Nae="with-scroll-bars-hidden",jae="--removed-body-scroll-bar-size";function s4(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _ae(t,e){var r=O.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Sae=typeof window<"u"?O.useLayoutEffect:O.useEffect,iP=new WeakMap;function kae(t,e){var r=_ae(null,function(n){return t.forEach(function(i){return s4(i,n)})});return Sae(function(){var n=iP.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(l){a.has(l)||s4(l,null)}),a.forEach(function(l){i.has(l)||s4(l,o)})}iP.set(r,t)},[t]),r}function Cae(t){return t}function Aae(t,e){e===void 0&&(e=Cae);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var u=o;o=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return i}function Eae(t){t===void 0&&(t={});var e=Aae(null);return e.options=_c({async:!0,ssr:!1},t),e}var m$=function(t){var e=t.sideCar,r=f$(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return O.createElement(n,_c({},r))};m$.isSideCarExport=!0;function Tae(t,e){return t.useMedium(e),m$}var p$=Eae(),n4=function(){},ZN=O.forwardRef(function(t,e){var r=O.useRef(null),n=O.useState({onScrollCapture:n4,onWheelCapture:n4,onTouchMoveCapture:n4}),i=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,m=t.sideCar,f=t.noRelative,g=t.noIsolation,p=t.inert,x=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,b=t.gapMode,w=f$(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=m,N=kae([r,e]),j=_c(_c({},w),i);return O.createElement(O.Fragment,null,u&&O.createElement(_,{sideCar:p$,removeScrollBar:d,shards:h,noRelative:f,noIsolation:g,inert:p,setCallbacks:a,allowPinchZoom:!!x,lockRef:r,gapMode:b}),o?O.cloneElement(O.Children.only(l),_c(_c({},j),{ref:N})):O.createElement(v,_c({},j,{className:c,ref:N}),l))});ZN.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ZN.classNames={fullWidth:m2,zeroRight:f2};var Pae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fae(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Pae();return e&&t.setAttribute("nonce",e),t}function Oae(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Lae(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Rae=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Fae())&&(Oae(e,r),Lae(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Iae=function(){var t=Rae();return function(e,r){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},g$=function(){var t=Iae(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Dae={left:0,top:0,right:0,gap:0},i4=function(t){return parseInt(t||"",10)||0},Mae=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[i4(r),i4(n),i4(i)]},Bae=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Dae;var e=Mae(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Uae=g$(),Mp="data-scroll-locked",$ae=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Nae,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Mp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(f2,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(m2,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(f2," .").concat(f2,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(m2," .").concat(m2,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Mp,`] {
    `).concat(jae,": ").concat(l,`px;
  }
`)},aP=function(){var t=parseInt(document.body.getAttribute(Mp)||"0",10);return isFinite(t)?t:0},qae=function(){O.useEffect(function(){return document.body.setAttribute(Mp,(aP()+1).toString()),function(){var t=aP()-1;t<=0?document.body.removeAttribute(Mp):document.body.setAttribute(Mp,t.toString())}},[])},zae=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;qae();var a=O.useMemo(function(){return Bae(i)},[i]);return O.createElement(Uae,{styles:$ae(a,!e,i,r?"":"!important")})},US=!1;if(typeof window<"u")try{var fb=Object.defineProperty({},"passive",{get:function(){return US=!0,!0}});window.addEventListener("test",fb,fb),window.removeEventListener("test",fb,fb)}catch{US=!1}var zm=US?{passive:!1}:!1,Vae=function(t){return t.tagName==="TEXTAREA"},x$=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Vae(t)&&r[e]==="visible")},Hae=function(t){return x$(t,"overflowY")},Wae=function(t){return x$(t,"overflowX")},oP=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=v$(t,n);if(i){var a=y$(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Kae=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Gae=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},v$=function(t,e){return t==="v"?Hae(e):Wae(e)},y$=function(t,e){return t==="v"?Kae(e):Gae(e)},Yae=function(t,e){return t==="h"&&e==="rtl"?-1:1},Qae=function(t,e,r,n,i){var a=Yae(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),d=!1,u=o>0,h=0,m=0;do{if(!l)break;var f=y$(t,l),g=f[0],p=f[1],x=f[2],y=p-x-a*g;(g||y)&&v$(t,l)&&(h+=y,m+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(m)<1)&&(d=!0),d},mb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lP=function(t){return[t.deltaX,t.deltaY]},cP=function(t){return t&&"current"in t?t.current:t},Xae=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Jae=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Zae=0,Vm=[];function eoe(t){var e=O.useRef([]),r=O.useRef([0,0]),n=O.useRef(),i=O.useState(Zae++)[0],a=O.useState(g$)[0],o=O.useRef(t);O.useEffect(function(){o.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var p=wae([t.lockRef.current],(t.shards||[]).map(cP),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=O.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=mb(p),v=r.current,b="deltaX"in p?p.deltaX:v[0]-y[0],w="deltaY"in p?p.deltaY:v[1]-y[1],_,N=p.target,j=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in p&&j==="h"&&N.type==="range")return!1;var k=oP(j,N);if(!k)return!0;if(k?_=j:(_=j==="v"?"h":"v",k=oP(j,N)),!k)return!1;if(!n.current&&"changedTouches"in p&&(b||w)&&(n.current=_),!_)return!0;var E=n.current||_;return Qae(E,x,p,E==="h"?b:w)},[]),c=O.useCallback(function(p){var x=p;if(!(!Vm.length||Vm[Vm.length-1]!==a)){var y="deltaY"in x?lP(x):mb(x),v=e.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&Xae(_.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(cP).filter(Boolean).filter(function(_){return _.contains(x.target)}),w=b.length>0?l(x,b[0]):!o.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),d=O.useCallback(function(p,x,y,v){var b={name:p,delta:x,target:y,should:v,shadowParent:toe(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),u=O.useCallback(function(p){r.current=mb(p),n.current=void 0},[]),h=O.useCallback(function(p){d(p.type,lP(p),p.target,l(p,t.lockRef.current))},[]),m=O.useCallback(function(p){d(p.type,mb(p),p.target,l(p,t.lockRef.current))},[]);O.useEffect(function(){return Vm.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,zm),document.addEventListener("touchmove",c,zm),document.addEventListener("touchstart",u,zm),function(){Vm=Vm.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,zm),document.removeEventListener("touchmove",c,zm),document.removeEventListener("touchstart",u,zm)}},[]);var f=t.removeScrollBar,g=t.inert;return O.createElement(O.Fragment,null,g?O.createElement(a,{styles:Jae(i)}):null,f?O.createElement(zae,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function toe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const roe=Tae(p$,eoe);var ej=O.forwardRef(function(t,e){return O.createElement(ZN,_c({},t,{ref:e,sideCar:roe}))});ej.classNames=ZN.classNames;var soe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Hm=new WeakMap,pb=new WeakMap,gb={},a4=0,b$=function(t){return t&&(t.host||b$(t.parentNode))},noe=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=b$(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},ioe=function(t,e,r,n){var i=noe(e,Array.isArray(t)?t:[t]);gb[r]||(gb[r]=new WeakMap);var a=gb[r],o=[],l=new Set,c=new Set(i),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};i.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))u(m);else try{var f=m.getAttribute(n),g=f!==null&&f!=="false",p=(Hm.get(m)||0)+1,x=(a.get(m)||0)+1;Hm.set(m,p),a.set(m,x),o.push(m),p===1&&g&&pb.set(m,!0),x===1&&m.setAttribute(r,"true"),g||m.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return u(e),l.clear(),a4++,function(){o.forEach(function(h){var m=Hm.get(h)-1,f=a.get(h)-1;Hm.set(h,m),a.set(h,f),m||(pb.has(h)||h.removeAttribute(n),pb.delete(h)),f||h.removeAttribute(r)}),a4--,a4||(Hm=new WeakMap,Hm=new WeakMap,pb=new WeakMap,gb={})}},U6=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=soe(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),ioe(n,i,r,"aria-hidden")):function(){return null}},tj="Dialog",[w$,N$]=Fa(tj),[aoe,Jl]=w$(tj),j$=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=O.useRef(null),c=O.useRef(null),[d,u]=Vd({prop:n,defaultProp:i??!1,onChange:a,caller:tj});return s.jsx(aoe,{scope:e,triggerRef:l,contentRef:c,contentId:Oc(),titleId:Oc(),descriptionId:Oc(),open:d,onOpenChange:u,onOpenToggle:O.useCallback(()=>u(h=>!h),[u]),modal:o,children:r})};j$.displayName=tj;var _$="DialogTrigger",S$=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Jl(_$,r),a=zr(e,i.triggerRef);return s.jsx(rr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":z6(i.open),...n,ref:a,onClick:Pt(t.onClick,i.onOpenToggle)})});S$.displayName=_$;var $6="DialogPortal",[ooe,k$]=w$($6,{forceMount:void 0}),C$=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Jl($6,e);return s.jsx(ooe,{scope:e,forceMount:r,children:O.Children.map(n,o=>s.jsx(el,{present:r||a.open,children:s.jsx(Uy,{asChild:!0,container:i,children:o})}))})};C$.displayName=$6;var lw="DialogOverlay",A$=O.forwardRef((t,e)=>{const r=k$(lw,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Jl(lw,t.__scopeDialog);return a.modal?s.jsx(el,{present:n||a.open,children:s.jsx(coe,{...i,ref:e})}):null});A$.displayName=lw;var loe=nm("DialogOverlay.RemoveScroll"),coe=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Jl(lw,r);return s.jsx(ej,{as:loe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(rr.div,{"data-state":z6(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),lm="DialogContent",E$=O.forwardRef((t,e)=>{const r=k$(lm,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Jl(lm,t.__scopeDialog);return s.jsx(el,{present:n||a.open,children:a.modal?s.jsx(doe,{...i,ref:e}):s.jsx(uoe,{...i,ref:e})})});E$.displayName=lm;var doe=O.forwardRef((t,e)=>{const r=Jl(lm,t.__scopeDialog),n=O.useRef(null),i=zr(e,r.contentRef,n);return O.useEffect(()=>{const a=n.current;if(a)return U6(a)},[]),s.jsx(T$,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pt(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Pt(t.onFocusOutside,a=>a.preventDefault())})}),uoe=O.forwardRef((t,e)=>{const r=Jl(lm,t.__scopeDialog),n=O.useRef(!1),i=O.useRef(!1);return s.jsx(T$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),T$=O.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=Jl(lm,r),c=O.useRef(null),d=zr(e,c);return B6(),s.jsxs(s.Fragment,{children:[s.jsx(JN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(cg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":z6(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(foe,{titleId:l.titleId}),s.jsx(poe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),q6="DialogTitle",P$=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Jl(q6,r);return s.jsx(rr.h2,{id:i.titleId,...n,ref:e})});P$.displayName=q6;var F$="DialogDescription",O$=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Jl(F$,r);return s.jsx(rr.p,{id:i.descriptionId,...n,ref:e})});O$.displayName=F$;var L$="DialogClose",R$=O.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Jl(L$,r);return s.jsx(rr.button,{type:"button",...n,ref:e,onClick:Pt(t.onClick,()=>i.onOpenChange(!1))})});R$.displayName=L$;function z6(t){return t?"open":"closed"}var I$="DialogTitleWarning",[hoe,D$]=kre(I$,{contentName:lm,titleName:q6,docsSlug:"dialog"}),foe=({titleId:t})=>{const e=D$(I$),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},moe="DialogDescriptionWarning",poe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${D$(moe).contentName}}.`;return O.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},V6=j$,H6=S$,W6=C$,Vy=A$,Hy=E$,Wy=P$,Ky=O$,rj=R$;const M$=V6,B$=H6,goe=W6,U$=O.forwardRef(({className:t,...e},r)=>s.jsx(Vy,{className:Ot("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));U$.displayName=Vy.displayName;const xoe=dg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),K6=O.forwardRef(({side:t="right",className:e,children:r,...n},i)=>s.jsxs(goe,{children:[s.jsx(U$,{}),s.jsxs(Hy,{ref:i,className:Ot(xoe({side:t}),e),...n,children:[r,s.jsxs(rj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(ko,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));K6.displayName=Hy.displayName;const voe=O.forwardRef(({className:t,...e},r)=>s.jsx(Wy,{ref:r,className:Ot("text-lg font-semibold text-foreground",t),...e}));voe.displayName=Wy.displayName;const yoe=O.forwardRef(({className:t,...e},r)=>s.jsx(Ky,{ref:r,className:Ot("text-sm text-muted-foreground",t),...e}));yoe.displayName=Ky.displayName;var boe=O.createContext(void 0);function sj(t){const e=O.useContext(boe);return t||e||"ltr"}var o4="rovingFocusGroup.onEntryFocus",woe={bubbles:!1,cancelable:!0},Gy="RovingFocusGroup",[$S,$$,Noe]=BN(Gy),[joe,nj]=Fa(Gy,[Noe]),[_oe,Soe]=joe(Gy),q$=O.forwardRef((t,e)=>s.jsx($S.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx($S.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(koe,{...t,ref:e})})}));q$.displayName=Gy;var koe=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,m=O.useRef(null),f=zr(e,m),g=sj(a),[p,x]=Vd({prop:o,defaultProp:l??null,onChange:c,caller:Gy}),[y,v]=O.useState(!1),b=Aa(d),w=$$(r),_=O.useRef(!1),[N,j]=O.useState(0);return O.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(o4,b),()=>k.removeEventListener(o4,b)},[b]),s.jsx(_oe,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:p,onItemFocus:O.useCallback(k=>x(k),[x]),onItemShiftTab:O.useCallback(()=>v(!0),[]),onFocusableItemAdd:O.useCallback(()=>j(k=>k+1),[]),onFocusableItemRemove:O.useCallback(()=>j(k=>k-1),[]),children:s.jsx(rr.div,{tabIndex:y||N===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:Pt(t.onMouseDown,()=>{_.current=!0}),onFocus:Pt(t.onFocus,k=>{const E=!_.current;if(k.target===k.currentTarget&&E&&!y){const A=new CustomEvent(o4,woe);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const C=w().filter(X=>X.focusable),T=C.find(X=>X.active),L=C.find(X=>X.id===p),H=[T,L,...C].filter(Boolean).map(X=>X.ref.current);H$(H,u)}}_.current=!1}),onBlur:Pt(t.onBlur,()=>v(!1))})})}),z$="RovingFocusGroupItem",V$=O.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=Oc(),d=a||c,u=Soe(z$,r),h=u.currentTabStopId===d,m=$$(r),{onFocusableItemAdd:f,onFocusableItemRemove:g,currentTabStopId:p}=u;return O.useEffect(()=>{if(n)return f(),()=>g()},[n,f,g]),s.jsx($S.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:s.jsx(rr.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:Pt(t.onMouseDown,x=>{n?u.onItemFocus(d):x.preventDefault()}),onFocus:Pt(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:Pt(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=Eoe(x,u.orientation,u.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=m().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(x.currentTarget);b=u.loop?Toe(b,w+1):b.slice(w+1)}setTimeout(()=>H$(b))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:p!=null}):o})})});V$.displayName=z$;var Coe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Aoe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Eoe(t,e,r){const n=Aoe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Coe[n]}function H$(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Toe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var W$=q$,K$=V$,qS=["Enter"," "],Poe=["ArrowDown","PageUp","Home"],G$=["ArrowUp","PageDown","End"],Foe=[...Poe,...G$],Ooe={ltr:[...qS,"ArrowRight"],rtl:[...qS,"ArrowLeft"]},Loe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yy="Menu",[Ev,Roe,Ioe]=BN(Yy),[_m,Y$]=Fa(Yy,[Ioe,pg,nj]),ij=pg(),Q$=nj(),[Doe,Sm]=_m(Yy),[Moe,Qy]=_m(Yy),X$=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,l=ij(e),[c,d]=O.useState(null),u=O.useRef(!1),h=Aa(a),m=sj(i);return O.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(r$,{...l,children:s.jsx(Doe,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:d,children:s.jsx(Moe,{scope:e,onClose:O.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:m,modal:o,children:n})})})};X$.displayName=Yy;var Boe="MenuAnchor",G6=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=ij(r);return s.jsx(L6,{...i,...n,ref:e})});G6.displayName=Boe;var Y6="MenuPortal",[Uoe,J$]=_m(Y6,{forceMount:void 0}),Z$=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=Sm(Y6,e);return s.jsx(Uoe,{scope:e,forceMount:r,children:s.jsx(el,{present:r||a.open,children:s.jsx(Uy,{asChild:!0,container:i,children:n})})})};Z$.displayName=Y6;var Yo="MenuContent",[$oe,Q6]=_m(Yo),eq=O.forwardRef((t,e)=>{const r=J$(Yo,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Sm(Yo,t.__scopeMenu),o=Qy(Yo,t.__scopeMenu);return s.jsx(Ev.Provider,{scope:t.__scopeMenu,children:s.jsx(el,{present:n||a.open,children:s.jsx(Ev.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(qoe,{...i,ref:e}):s.jsx(zoe,{...i,ref:e})})})})}),qoe=O.forwardRef((t,e)=>{const r=Sm(Yo,t.__scopeMenu),n=O.useRef(null),i=zr(e,n);return O.useEffect(()=>{const a=n.current;if(a)return U6(a)},[]),s.jsx(X6,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Pt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),zoe=O.forwardRef((t,e)=>{const r=Sm(Yo,t.__scopeMenu);return s.jsx(X6,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Voe=nm("MenuContent.ScrollLock"),X6=O.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,disableOutsideScroll:g,...p}=t,x=Sm(Yo,r),y=Qy(Yo,r),v=ij(r),b=Q$(r),w=Roe(r),[_,N]=O.useState(null),j=O.useRef(null),k=zr(e,j,x.onContentChange),E=O.useRef(0),A=O.useRef(""),C=O.useRef(0),T=O.useRef(null),L=O.useRef("right"),D=O.useRef(0),H=g?ej:O.Fragment,X=g?{as:Voe,allowPinchZoom:!0}:void 0,ee=G=>{var W,te;const z=A.current+G,V=w().filter(re=>!re.disabled),F=document.activeElement,I=(W=V.find(re=>re.ref.current===F))==null?void 0:W.textValue,B=V.map(re=>re.textValue),q=rle(B,z,I),U=(te=V.find(re=>re.textValue===q))==null?void 0:te.ref.current;(function re(le){A.current=le,window.clearTimeout(E.current),le!==""&&(E.current=window.setTimeout(()=>re(""),1e3))})(z),U&&setTimeout(()=>U.focus())};O.useEffect(()=>()=>window.clearTimeout(E.current),[]),B6();const Q=O.useCallback(G=>{var V,F;return L.current===((V=T.current)==null?void 0:V.side)&&nle(G,(F=T.current)==null?void 0:F.area)},[]);return s.jsx($oe,{scope:r,searchRef:A,onItemEnter:O.useCallback(G=>{Q(G)&&G.preventDefault()},[Q]),onItemLeave:O.useCallback(G=>{var z;Q(G)||((z=j.current)==null||z.focus(),N(null))},[Q]),onTriggerLeave:O.useCallback(G=>{Q(G)&&G.preventDefault()},[Q]),pointerGraceTimerRef:C,onPointerGraceIntentChange:O.useCallback(G=>{T.current=G},[]),children:s.jsx(H,{...X,children:s.jsx(JN,{asChild:!0,trapped:i,onMountAutoFocus:Pt(a,G=>{var z;G.preventDefault(),(z=j.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(cg,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,onDismiss:f,children:s.jsx(W$,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:N,onEntryFocus:Pt(c,G=>{y.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(R6,{role:"menu","aria-orientation":"vertical","data-state":gq(x.open),"data-radix-menu-content":"",dir:y.dir,...v,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Pt(p.onKeyDown,G=>{const V=G.target.closest("[data-radix-menu-content]")===G.currentTarget,F=G.ctrlKey||G.altKey||G.metaKey,I=G.key.length===1;V&&(G.key==="Tab"&&G.preventDefault(),!F&&I&&ee(G.key));const B=j.current;if(G.target!==B||!Foe.includes(G.key))return;G.preventDefault();const U=w().filter(W=>!W.disabled).map(W=>W.ref.current);G$.includes(G.key)&&U.reverse(),ele(U)}),onBlur:Pt(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(E.current),A.current="")}),onPointerMove:Pt(t.onPointerMove,Tv(G=>{const z=G.target,V=D.current!==G.clientX;if(G.currentTarget.contains(z)&&V){const F=G.clientX>D.current?"right":"left";L.current=F,D.current=G.clientX}}))})})})})})})});eq.displayName=Yo;var Hoe="MenuGroup",J6=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(rr.div,{role:"group",...n,ref:e})});J6.displayName=Hoe;var Woe="MenuLabel",tq=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(rr.div,{...n,ref:e})});tq.displayName=Woe;var cw="MenuItem",dP="menu.itemSelect",aj=O.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=O.useRef(null),o=Qy(cw,t.__scopeMenu),l=Q6(cw,t.__scopeMenu),c=zr(e,a),d=O.useRef(!1),u=()=>{const h=a.current;if(!r&&h){const m=new CustomEvent(dP,{bubbles:!0,cancelable:!0});h.addEventListener(dP,f=>n==null?void 0:n(f),{once:!0}),v6(h,m),m.defaultPrevented?d.current=!1:o.onClose()}};return s.jsx(rq,{...i,ref:c,disabled:r,onClick:Pt(t.onClick,u),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),d.current=!0},onPointerUp:Pt(t.onPointerUp,h=>{var m;d.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:Pt(t.onKeyDown,h=>{const m=l.searchRef.current!=="";r||m&&h.key===" "||qS.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});aj.displayName=cw;var rq=O.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=Q6(cw,r),l=Q$(r),c=O.useRef(null),d=zr(e,c),[u,h]=O.useState(!1),[m,f]=O.useState("");return O.useEffect(()=>{const g=c.current;g&&f((g.textContent??"").trim())},[a.children]),s.jsx(Ev.ItemSlot,{scope:r,disabled:n,textValue:i??m,children:s.jsx(K$,{asChild:!0,...l,focusable:!n,children:s.jsx(rr.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:Pt(t.onPointerMove,Tv(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pt(t.onPointerLeave,Tv(g=>o.onItemLeave(g))),onFocus:Pt(t.onFocus,()=>h(!0)),onBlur:Pt(t.onBlur,()=>h(!1))})})})}),Koe="MenuCheckboxItem",sq=O.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return s.jsx(lq,{scope:t.__scopeMenu,checked:r,children:s.jsx(aj,{role:"menuitemcheckbox","aria-checked":dw(r)?"mixed":r,...i,ref:e,"data-state":eC(r),onSelect:Pt(i.onSelect,()=>n==null?void 0:n(dw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sq.displayName=Koe;var nq="MenuRadioGroup",[Goe,Yoe]=_m(nq,{value:void 0,onValueChange:()=>{}}),iq=O.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Aa(n);return s.jsx(Goe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:s.jsx(J6,{...i,ref:e})})});iq.displayName=nq;var aq="MenuRadioItem",oq=O.forwardRef((t,e)=>{const{value:r,...n}=t,i=Yoe(aq,t.__scopeMenu),a=r===i.value;return s.jsx(lq,{scope:t.__scopeMenu,checked:a,children:s.jsx(aj,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":eC(a),onSelect:Pt(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});oq.displayName=aq;var Z6="MenuItemIndicator",[lq,Qoe]=_m(Z6,{checked:!1}),cq=O.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=Qoe(Z6,r);return s.jsx(el,{present:n||dw(a.checked)||a.checked===!0,children:s.jsx(rr.span,{...i,ref:e,"data-state":eC(a.checked)})})});cq.displayName=Z6;var Xoe="MenuSeparator",dq=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(rr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});dq.displayName=Xoe;var Joe="MenuArrow",uq=O.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=ij(r);return s.jsx(I6,{...i,...n,ref:e})});uq.displayName=Joe;var Zoe="MenuSub",[AOe,hq]=_m(Zoe),Ax="MenuSubTrigger",fq=O.forwardRef((t,e)=>{const r=Sm(Ax,t.__scopeMenu),n=Qy(Ax,t.__scopeMenu),i=hq(Ax,t.__scopeMenu),a=Q6(Ax,t.__scopeMenu),o=O.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,d={__scopeMenu:t.__scopeMenu},u=O.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return O.useEffect(()=>u,[u]),O.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(G6,{asChild:!0,...d,children:s.jsx(rq,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":gq(r.open),...t,ref:MN(e,i.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Pt(t.onPointerMove,Tv(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:Pt(t.onPointerLeave,Tv(h=>{var f,g;u();const m=(f=r.content)==null?void 0:f.getBoundingClientRect();if(m){const p=(g=r.content)==null?void 0:g.dataset.side,x=p==="right",y=x?-5:5,v=m[x?"left":"right"],b=m[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:v,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:v,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Pt(t.onKeyDown,h=>{var f;const m=a.searchRef.current!=="";t.disabled||m&&h.key===" "||Ooe[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});fq.displayName=Ax;var mq="MenuSubContent",pq=O.forwardRef((t,e)=>{const r=J$(Yo,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=Sm(Yo,t.__scopeMenu),o=Qy(Yo,t.__scopeMenu),l=hq(mq,t.__scopeMenu),c=O.useRef(null),d=zr(e,c);return s.jsx(Ev.Provider,{scope:t.__scopeMenu,children:s.jsx(el,{present:n||a.open,children:s.jsx(Ev.Slot,{scope:t.__scopeMenu,children:s.jsx(X6,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Pt(t.onFocusOutside,u=>{u.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Pt(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Pt(t.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),m=Loe[o.dir].includes(u.key);h&&m&&(a.onOpenChange(!1),(f=l.trigger)==null||f.focus(),u.preventDefault())})})})})})});pq.displayName=mq;function gq(t){return t?"open":"closed"}function dw(t){return t==="indeterminate"}function eC(t){return dw(t)?"indeterminate":t?"checked":"unchecked"}function ele(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function tle(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function rle(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=tle(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function sle(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],d=l.x,u=l.y,h=c.x,m=c.y;u>n!=m>n&&r<(h-d)*(n-u)/(m-u)+d&&(i=!i)}return i}function nle(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return sle(r,e)}function Tv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ile=X$,ale=G6,ole=Z$,lle=eq,cle=J6,dle=tq,ule=aj,hle=sq,fle=iq,mle=oq,ple=cq,gle=dq,xle=uq,vle=fq,yle=pq,oj="DropdownMenu",[ble]=Fa(oj,[Y$]),Oa=Y$(),[wle,xq]=ble(oj),vq=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Oa(e),d=O.useRef(null),[u,h]=Vd({prop:i,defaultProp:a??!1,onChange:o,caller:oj});return s.jsx(wle,{scope:e,triggerId:Oc(),triggerRef:d,contentId:Oc(),open:u,onOpenChange:h,onOpenToggle:O.useCallback(()=>h(m=>!m),[h]),modal:l,children:s.jsx(ile,{...c,open:u,onOpenChange:h,dir:n,modal:l,children:r})})};vq.displayName=oj;var yq="DropdownMenuTrigger",bq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=xq(yq,r),o=Oa(r);return s.jsx(ale,{asChild:!0,...o,children:s.jsx(rr.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:MN(e,a.triggerRef),onPointerDown:Pt(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Pt(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bq.displayName=yq;var Nle="DropdownMenuPortal",wq=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Oa(e);return s.jsx(ole,{...n,...r})};wq.displayName=Nle;var Nq="DropdownMenuContent",jq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=xq(Nq,r),a=Oa(r),o=O.useRef(!1);return s.jsx(lle,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Pt(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Pt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jq.displayName=Nq;var jle="DropdownMenuGroup",_le=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(cle,{...i,...n,ref:e})});_le.displayName=jle;var Sle="DropdownMenuLabel",_q=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(dle,{...i,...n,ref:e})});_q.displayName=Sle;var kle="DropdownMenuItem",Sq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(ule,{...i,...n,ref:e})});Sq.displayName=kle;var Cle="DropdownMenuCheckboxItem",kq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(hle,{...i,...n,ref:e})});kq.displayName=Cle;var Ale="DropdownMenuRadioGroup",Ele=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(fle,{...i,...n,ref:e})});Ele.displayName=Ale;var Tle="DropdownMenuRadioItem",Cq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(mle,{...i,...n,ref:e})});Cq.displayName=Tle;var Ple="DropdownMenuItemIndicator",Aq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(ple,{...i,...n,ref:e})});Aq.displayName=Ple;var Fle="DropdownMenuSeparator",Eq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(gle,{...i,...n,ref:e})});Eq.displayName=Fle;var Ole="DropdownMenuArrow",Lle=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(xle,{...i,...n,ref:e})});Lle.displayName=Ole;var Rle="DropdownMenuSubTrigger",Tq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(vle,{...i,...n,ref:e})});Tq.displayName=Rle;var Ile="DropdownMenuSubContent",Pq=O.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Oa(r);return s.jsx(yle,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Pq.displayName=Ile;var Dle=vq,Mle=bq,Ble=wq,Fq=jq,Oq=_q,Lq=Sq,Rq=kq,Iq=Cq,Dq=Aq,Mq=Eq,Bq=Tq,Uq=Pq;const Mc=Dle,Bc=Mle,Ule=O.forwardRef(({className:t,inset:e,children:r,...n},i)=>s.jsxs(Bq,{ref:i,className:Ot("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,s.jsx(ug,{className:"ml-auto"})]}));Ule.displayName=Bq.displayName;const $le=O.forwardRef(({className:t,...e},r)=>s.jsx(Uq,{ref:r,className:Ot("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));$le.displayName=Uq.displayName;const Kl=O.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(Ble,{children:s.jsx(Fq,{ref:n,sideOffset:e,className:Ot("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));Kl.displayName=Fq.displayName;const jr=O.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(Lq,{ref:n,className:Ot("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));jr.displayName=Lq.displayName;const qle=O.forwardRef(({className:t,children:e,checked:r,...n},i)=>s.jsxs(Rq,{ref:i,className:Ot("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Dq,{children:s.jsx(N6,{className:"h-4 w-4"})})}),e]}));qle.displayName=Rq.displayName;const zle=O.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(Iq,{ref:n,className:Ot("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Dq,{children:s.jsx(kse,{className:"h-2 w-2 fill-current"})})}),e]}));zle.displayName=Iq.displayName;const $q=O.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(Oq,{ref:n,className:Ot("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));$q.displayName=Oq.displayName;const Ku=O.forwardRef(({className:t,...e},r)=>s.jsx(Mq,{ref:r,className:Ot("-mx-1 my-1 h-px bg-muted",t),...e}));Ku.displayName=Mq.displayName;const qq="/assets/Findermeister%20logo_1755186313310-_CKLi4X0.jpg",Vle=(t,e,r,n)=>{var a,o,l,c;const i=[r,{code:e,...n||{}}];if((o=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&o.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Hf(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},uP={},zS=(t,e,r,n)=>{Hf(r)&&uP[r]||(Hf(r)&&(uP[r]=new Date),Vle(t,e,r,n))},zq=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},VS=(t,e,r)=>{t.loadNamespaces(e,zq(t,r))},hP=(t,e,r,n)=>{if(Hf(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return VS(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,zq(t,n))},Hle=(t,e,r={})=>!e.languages||!e.languages.length?(zS(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),Hf=t=>typeof t=="string",Wle=t=>typeof t=="object"&&t!==null,Kle=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Gle={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Yle=t=>Gle[t],Qle=t=>t.replace(Kle,Yle);let HS={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Qle};const Xle=(t={})=>{HS={...HS,...t}},Jle=()=>HS;let Vq;const Zle=t=>{Vq=t},ece=()=>Vq,tce={type:"3rdParty",init(t){Xle(t.options.react),Zle(t)}},rce=O.createContext();class sce{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const nce=(t,e)=>{const r=O.useRef();return O.useEffect(()=>{r.current=t},[t,e]),r.current},Hq=(t,e,r,n)=>t.getFixedT(e,r,n),ice=(t,e,r,n)=>O.useCallback(Hq(t,e,r,n),[t,e,r,n]),Wc=(t,e={})=>{var w,_,N,j;const{i18n:r}=e,{i18n:n,defaultNS:i}=O.useContext(rce)||{},a=r||n||ece();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new sce),!a){zS(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const k=(A,C)=>Hf(C)?C:Wle(C)&&Hf(C.defaultValue)?C.defaultValue:Array.isArray(A)?A[A.length-1]:A,E=[k,{},!1];return E.t=k,E.i18n={},E.ready=!1,E}(w=a.options.react)!=null&&w.wait&&zS(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Jle(),...a.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let d=i||((_=a.options)==null?void 0:_.defaultNS);d=Hf(d)?[d]:d||["translation"],(j=(N=a.reportNamespaces).addUsedNamespaces)==null||j.call(N,d);const u=(a.isInitialized||a.initializedStoreOnce)&&d.every(k=>Hle(k,a,o)),h=ice(a,e.lng||null,o.nsMode==="fallback"?d:d[0],c),m=()=>h,f=()=>Hq(a,e.lng||null,o.nsMode==="fallback"?d:d[0],c),[g,p]=O.useState(m);let x=d.join();e.lng&&(x=`${e.lng}${x}`);const y=nce(x),v=O.useRef(!0);O.useEffect(()=>{const{bindI18n:k,bindI18nStore:E}=o;v.current=!0,!u&&!l&&(e.lng?hP(a,e.lng,d,()=>{v.current&&p(f)}):VS(a,d,()=>{v.current&&p(f)})),u&&y&&y!==x&&v.current&&p(f);const A=()=>{v.current&&p(f)};return k&&(a==null||a.on(k,A)),E&&(a==null||a.store.on(E,A)),()=>{v.current=!1,a&&k&&(k==null||k.split(" ").forEach(C=>a.off(C,A))),E&&a&&E.split(" ").forEach(C=>a.store.off(C,A))}},[a,x]),O.useEffect(()=>{v.current&&u&&p(m)},[a,c,u]);const b=[g,a,u];if(b.t=g,b.i18n=a,b.ready=u,u||!u&&!l)return b;throw new Promise(k=>{e.lng?hP(a,e.lng,d,()=>k()):VS(a,d,()=>k())})};function Sr({currentPage:t}){const{logout:e}=tr(),{t:r}=Wc(),[n,i]=O.useState(!1),a=()=>{e()},o=[{path:"/admin/dashboard",label:"Dashboard",icon:vU,id:"dashboard"},{path:"/admin/users",label:"Users",icon:dn,id:"users",hasDropdown:!0,subItems:[{path:"/admin/users",label:"Manage Users",icon:dn,id:"users"},{path:"/admin/verification-management",label:"Identity Verification",icon:$r,id:"verification"},{path:"/admin/withdrawals",label:"Withdrawals",icon:Dl,id:"withdrawals"},{path:"/admin/strike-system",label:"Strike System",icon:$r,id:"strike-system"},{path:"/admin/finder-levels",label:"Finder Levels",icon:ai,id:"finder-levels"},{path:"/admin/categories",label:"Categories",icon:Use,id:"categories"},{path:"/admin/restricted-words",label:"Restricted Words",icon:$r,id:"restricted-words"},{path:"/admin/requests",label:"Finds",icon:as,id:"finds"},{path:"/admin/token-packages",label:"Token Packages",icon:Vf,id:"token-packages"},{path:"/admin/token-management",label:"Token Management",icon:aa,id:"token-management"}]},{path:"/admin/blog-posts",label:"Blog Posts",icon:as,id:"blog-posts"},{path:"/admin/faq-management",icon:Go,label:"FAQs",id:"faq-management",hasDropdown:!0,subItems:[{path:"/admin/faq-management",label:"FAQ Management",icon:Go,id:"faq-management"},{path:"/admin/faq-categories",label:"FAQ Categories",icon:Hd,id:"faq-categories"},{path:"/admin/contact-settings",label:"Contact Settings",icon:ql,id:"contact-settings"}]},{path:"/admin/settings",label:"Settings",icon:Ml,id:"settings",hasDropdown:!0,subItems:[{path:"/admin/settings",label:"Admin Settings",icon:Ml,id:"settings"},{path:"/admin/support-agents",label:"Support Agents",icon:zN,id:"support-agents"},{path:"/admin/database-export",label:"Database Export",icon:Vf,id:"database-export"},{path:"/admin/profile",label:"Profile",icon:qr,id:"profile"}]},{path:"/admin/financial-dashboard",label:"Financial",icon:aa,id:"financial"},{path:"/admin/monthly-token-grant",label:"Monthly Tokens",icon:Sv,id:"monthly-tokens"},{path:"/admin/autonomous-fund",label:"Auto Funds",icon:aa,id:"autonomous-fund"},{path:"/admin/contract-management",label:"Contracts",icon:as,id:"contracts"},{path:"/admin/disputes",label:"Disputes",icon:Wr,id:"disputes"}];return s.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex justify-between items-center h-16 px-4 sm:px-6",children:[s.jsx(Re,{href:"/admin/dashboard",children:s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("img",{src:qq,alt:"FinderMeister Logo",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-contain"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"FinderMeister"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500 ml-1 sm:ml-2 hidden sm:inline",children:"Admin"})]})]})}),s.jsx("nav",{className:"hidden lg:flex space-x-1",children:o.map(l=>{const c=l.icon,d=t===l.id||l.hasDropdown&&l.subItems&&l.subItems.some(u=>t===u.id);return l.hasDropdown&&l.subItems?s.jsxs(Mc,{children:[s.jsx(Bc,{asChild:!0,children:s.jsxs(ie,{variant:d?"default":"ghost",size:"sm",className:`flex items-center space-x-2 ${d?"bg-finder-red hover:bg-finder-red-dark text-white":"text-gray-700 hover:text-gray-900"}`,children:[s.jsx(c,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:l.label}),s.jsx(qN,{className:"w-3 h-3"})]})}),s.jsx(Kl,{align:"start",className:"w-48",children:l.subItems.map(u=>{const h=u.icon;return s.jsx(jr,{asChild:!0,children:s.jsx(Re,{href:u.path,children:s.jsxs("div",{className:"flex items-center space-x-2 w-full cursor-pointer",children:[s.jsx(h,{className:"w-4 h-4"}),s.jsx("span",{children:u.label})]})})},u.id)})})]},l.id):s.jsx(Re,{href:l.path,children:s.jsxs(ie,{variant:t===l.id?"default":"ghost",size:"sm",className:`flex items-center space-x-2 ${t===l.id?"bg-finder-red hover:bg-finder-red-dark text-white":"text-gray-700 hover:text-gray-900"}`,children:[s.jsx(c,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:l.label})]})},l.id)})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:a,className:"hidden sm:flex items-center space-x-2",children:[s.jsx(Rp,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden md:inline",children:"Logout"})]}),s.jsxs(M$,{open:n,onOpenChange:i,children:[s.jsx(B$,{asChild:!0,children:s.jsx(ie,{variant:"outline",size:"sm",className:"lg:hidden",children:s.jsx(qy,{className:"w-4 h-4"})})}),s.jsxs(K6,{side:"right",className:"w-[300px] max-w-[85vw] flex flex-col",children:[s.jsx("div",{className:"flex-shrink-0 pt-6 pb-4",children:s.jsx("div",{className:"text-lg font-semibold text-gray-900 px-2",children:"Admin Panel"})}),s.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:s.jsx("div",{className:"space-y-1 px-2",children:o.map(l=>{const c=l.icon;return t===l.id||l.hasDropdown&&l.subItems&&l.subItems.some(d=>t===d.id),l.hasDropdown&&l.subItems?s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs font-medium text-gray-600 px-3 py-2 border-b border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(c,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:l.label})]})}),s.jsx("div",{className:"space-y-1",children:l.subItems.map(d=>{const u=d.icon;return s.jsx(Re,{href:d.path,children:s.jsxs(ie,{variant:"ghost",size:"sm",className:`w-full justify-start h-10 pl-8 pr-2 text-sm ${t===d.id?"bg-finder-red hover:bg-finder-red-dark text-white":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"}`,onClick:()=>i(!1),children:[s.jsx(u,{className:"w-4 h-4 mr-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:d.label})]})},d.id)})})]},l.id):s.jsx(Re,{href:l.path,children:s.jsxs(ie,{variant:"ghost",size:"sm",className:`w-full justify-start h-10 px-3 text-sm ${t===l.id?"bg-finder-red hover:bg-finder-red-dark text-white":"text-gray-700 hover:text-gray-900 hover:bg-gray-100"}`,onClick:()=>i(!1),children:[s.jsx(c,{className:"w-4 h-4 mr-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:l.label})]})},l.id)})})}),s.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 pt-4 pb-4",children:s.jsx("div",{className:"px-2",children:s.jsxs(ie,{variant:"outline",size:"sm",onClick:a,className:"w-full justify-start h-10 px-3 text-sm",children:[s.jsx(Rp,{className:"w-4 h-4 mr-3"}),s.jsx("span",{children:"Logout"})]})})})]})]})]})]})})})}const z0="/assets/Findermeister%20logo_1755186313310-_CKLi4X0.jpg",xb=[{code:"en",name:"language.english",flag:""},{code:"pidgin",name:"language.pidgin",flag:""},{code:"yo",name:"language.yoruba",flag:""},{code:"ha",name:"language.hausa",flag:""},{code:"ig",name:"language.igbo",flag:""},{code:"fr",name:"language.french",flag:""},{code:"de",name:"language.german",flag:""},{code:"es",name:"language.spanish",flag:""},{code:"pt",name:"language.portuguese",flag:""},{code:"ar",name:"language.arabic",flag:""}];function WS({variant:t="default",className:e=""}){const{i18n:r,t:n}=Wc(),[i,a]=O.useState(!1),o=xb.find(c=>c.code===r.language)||xb[0],l=c=>{r.changeLanguage(c),a(!1)};return t==="mobile"?s.jsxs("div",{className:`space-y-2 ${e}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-2",children:[s.jsx(OS,{className:"w-4 h-4"}),s.jsx("span",{children:n("language.select_language")})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:xb.map(c=>s.jsxs("button",{onClick:()=>l(c.code),className:`flex items-center space-x-2 p-2 text-sm rounded-lg transition-colors ${r.language===c.code?"bg-finder-red text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[s.jsx("span",{children:c.flag}),s.jsx("span",{className:"truncate",children:n(c.name)})]},c.code))})]}):s.jsxs(Mc,{open:i,onOpenChange:a,children:[s.jsx(Bc,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",size:"sm",className:`flex items-center space-x-2 text-white hover:bg-white/10 border border-white/20 ${e}`,"data-testid":"language-switcher",children:[s.jsx(OS,{className:"w-4 h-4"}),s.jsx("span",{children:o.flag}),s.jsx("span",{className:"hidden sm:inline text-xs",children:n(o.name).split(" ")[0]})]})}),s.jsx(Kl,{align:"end",className:"w-48",children:xb.map(c=>s.jsxs(jr,{onClick:()=>l(c.code),className:`flex items-center justify-between cursor-pointer ${r.language===c.code?"bg-finder-red/10":""}`,children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{children:c.flag}),s.jsx("span",{className:"font-medium",children:n(c.name)})]}),r.language===c.code&&s.jsx("div",{className:"w-2 h-2 bg-finder-red rounded-full"})]},c.code))})]})}function ds({currentPage:t}){const{user:e,logout:r}=tr(),{t:n}=Wc(),[i,a]=O.useState(!1),o=()=>{r()};return s.jsx("header",{className:"bg-finder-red text-white px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs(Re,{href:"/",className:"flex items-center space-x-2",children:[s.jsx("img",{src:z0,alt:"FinderMeister Logo",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-contain bg-white p-1"}),s.jsx("span",{className:"text-lg sm:text-xl font-bold",children:"FinderMeister"})]}),s.jsx("nav",{className:"hidden lg:flex items-center space-x-1 xl:space-x-2",children:e?s.jsxs(s.Fragment,{children:[s.jsxs(Re,{href:"/client/dashboard",className:`flex items-center space-x-1 hover:underline px-2 py-1 rounded transition-colors text-sm ${t==="dashboard"?"bg-white text-finder-red font-medium":"hover:bg-finder-red-dark"}`,children:[s.jsx(DT,{className:"w-3 h-3 lg:w-4 lg:h-4"}),s.jsx("span",{className:"text-xs lg:text-sm",children:n("navigation.dashboard")})]}),s.jsxs(Re,{href:"/client/create-find",className:`flex items-center space-x-1 hover:underline px-2 py-1 rounded transition-colors text-sm ${t==="create-find"?"bg-white text-finder-red font-medium":"hover:bg-finder-red-dark"}`,children:[s.jsx(rn,{className:"w-3 h-3 lg:w-4 lg:h-4"}),s.jsx("span",{className:"text-xs lg:text-sm",children:n("navigation.create_find")})]}),s.jsxs(Re,{href:"/client/finds",className:`flex items-center space-x-1 hover:underline px-2 py-1 rounded transition-colors text-sm ${t==="finds"?"bg-white text-finder-red font-medium":"hover:bg-finder-red-dark"}`,children:[s.jsx(as,{className:"w-3 h-3 lg:w-4 lg:h-4"}),s.jsx("span",{className:"text-xs lg:text-sm",children:n("navigation.my_finds")})]}),s.jsxs(Re,{href:"/client/browse-finds",className:`flex items-center space-x-1 hover:underline px-2 py-1 rounded transition-colors text-sm ${t==="browse-finds"?"bg-white text-finder-red font-medium":"hover:bg-finder-red-dark"}`,children:[s.jsx(Ds,{className:"w-3 h-3 lg:w-4 lg:h-4"}),s.jsx("span",{className:"text-xs lg:text-sm",children:"Browse Finds"})]}),s.jsxs(Re,{href:"/client/contracts",className:`flex items-center space-x-1 hover:underline px-2 py-1 rounded transition-colors text-sm ${t==="contracts"?"bg-white text-finder-red font-medium":"hover:bg-finder-red-dark"}`,children:[s.jsx(am,{className:"w-3 h-3 lg:w-4 lg:h-4"}),s.jsx("span",{className:"text-xs lg:text-sm",children:"Contracts"})]}),s.jsxs(Re,{href:"/client/tokens",className:`flex items-center space-x-1 hover:underline px-2 py-1 rounded transition-colors text-sm ${t==="tokens"?"bg-white text-finder-red font-medium":"hover:bg-finder-red-dark"}`,children:[s.jsx(aa,{className:"w-3 h-3 lg:w-4 lg:h-4"}),s.jsx("span",{className:"text-xs lg:text-sm",children:"Findertokens"})]}),s.jsx(WS,{}),s.jsxs(Mc,{children:[s.jsx(Bc,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",className:"text-white hover:bg-finder-red-dark p-2",children:[s.jsx(qr,{className:"w-5 h-5 mr-2"}),e.firstName||"Profile"]})}),s.jsxs(Kl,{align:"end",className:"w-48",children:[s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/messages",className:"flex items-center w-full cursor-pointer",children:[s.jsx(ql,{className:"w-4 h-4 mr-2"}),"Messages"]})}),s.jsx(Ku,{}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/client/profile",className:"flex items-center w-full cursor-pointer",children:[s.jsx(Ml,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/client/change-password",className:"flex items-center w-full cursor-pointer",children:[s.jsx(zf,{className:"w-4 h-4 mr-2"}),"Change Password"]})}),s.jsx(Ku,{}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/support",className:"flex items-center w-full cursor-pointer",children:[s.jsx(Go,{className:"w-4 h-4 mr-2"}),"Help Center"]})}),s.jsx(Ku,{}),s.jsxs(jr,{onClick:o,className:"flex items-center cursor-pointer",children:[s.jsx(Rp,{className:"w-4 h-4 mr-2"}),"Log Out"]})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Re,{href:"/login",className:"text-white hover:underline cursor-pointer",children:"How it Works"}),s.jsx(Re,{href:"/login",className:"text-white hover:underline cursor-pointer",children:"Log In"}),s.jsx(Re,{href:"/register",className:"text-white hover:underline cursor-pointer",children:"Sign Up"})]})}),e&&s.jsxs("div",{className:"lg:hidden flex items-center space-x-3",children:[s.jsxs(Mc,{children:[s.jsx(Bc,{asChild:!0,children:s.jsx("button",{className:"text-white hover:bg-white/10 p-2 rounded-full",children:s.jsx(qr,{className:"w-5 h-5"})})}),s.jsxs(Kl,{align:"end",className:"w-48",children:[s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/client/profile",className:"flex items-center w-full cursor-pointer",children:[s.jsx(Ml,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/client/change-password",className:"flex items-center w-full cursor-pointer",children:[s.jsx(zf,{className:"w-4 h-4 mr-2"}),"Change Password"]})}),s.jsx(Ku,{}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/support",className:"flex items-center w-full cursor-pointer",children:[s.jsx(Go,{className:"w-4 h-4 mr-2"}),"Help Center"]})})]})]}),s.jsx("button",{onClick:o,className:"text-white hover:bg-white/10 p-2 rounded-full",title:"Log Out",children:s.jsx(Rp,{className:"w-5 h-5"})})]}),s.jsxs(M$,{open:i,onOpenChange:a,children:[s.jsx(B$,{asChild:!0,children:s.jsx("button",{className:"lg:hidden text-white",children:s.jsx(qy,{className:"w-6 h-6"})})}),s.jsx(K6,{side:"right",className:"w-80 bg-finder-red text-white",children:s.jsx("nav",{className:"flex flex-col space-y-3 mt-6",children:e?s.jsxs(s.Fragment,{children:[s.jsxs(Re,{href:"/client/dashboard",className:`flex items-center space-x-2 py-2 px-3 rounded ${t==="dashboard"?"bg-white text-finder-red font-medium":"hover:bg-white/10"}`,onClick:()=>a(!1),children:[s.jsx(DT,{className:"w-4 h-4"}),s.jsx("span",{children:"Dashboard"})]}),s.jsxs(Re,{href:"/client/create-find",className:`flex items-center space-x-2 py-2 px-3 rounded ${t==="create-find"?"bg-white text-finder-red font-medium":"hover:bg-white/10"}`,onClick:()=>a(!1),children:[s.jsx(rn,{className:"w-4 h-4"}),s.jsx("span",{children:"Post Find"})]}),s.jsxs(Re,{href:"/client/finds",className:`flex items-center space-x-2 py-2 px-3 rounded ${t==="finds"?"bg-white text-finder-red font-medium":"hover:bg-white/10"}`,onClick:()=>a(!1),children:[s.jsx(as,{className:"w-4 h-4"}),s.jsx("span",{children:"My Finds"})]}),s.jsxs(Re,{href:"/client/browse-finds",className:`flex items-center space-x-2 py-2 px-3 rounded ${t==="browse-finds"?"bg-white text-finder-red font-medium":"hover:bg-white/10"}`,onClick:()=>a(!1),children:[s.jsx(Ds,{className:"w-4 h-4"}),s.jsx("span",{children:"Browse Finds"})]}),s.jsxs(Re,{href:"/client/contracts",className:`flex items-center space-x-2 py-2 px-3 rounded ${t==="contracts"?"bg-white text-finder-red font-medium":"hover:bg-white/10"}`,onClick:()=>a(!1),children:[s.jsx(am,{className:"w-4 h-4"}),s.jsx("span",{children:"Contracts"})]}),s.jsxs(Re,{href:"/client/tokens",className:`flex items-center space-x-2 py-2 px-3 rounded ${t==="tokens"?"bg-white text-finder-red font-medium":"hover:bg-white/10"}`,onClick:()=>a(!1),children:[s.jsx(aa,{className:"w-4 h-4"}),s.jsx("span",{children:"Findertokens"})]}),s.jsxs(Re,{href:"/messages",className:`flex items-center space-x-2 py-2 px-3 rounded ${t==="messages"?"bg-white text-finder-red font-medium":"hover:bg-white/10"}`,onClick:()=>a(!1),children:[s.jsx(ql,{className:"w-4 h-4"}),s.jsx("span",{children:"Messages"})]}),s.jsxs("div",{className:"border-t border-white/20 pt-3 mt-3",children:[s.jsxs("div",{className:"flex items-center py-2 px-3 text-white font-medium",children:[s.jsx(qr,{className:"w-5 h-5 mr-2"}),e.firstName||"Profile"]}),s.jsxs(Re,{href:"/client/profile",className:"block py-2 px-6 hover:bg-white/10 rounded",onClick:()=>a(!1),children:[s.jsx(Ml,{className:"w-4 h-4 mr-2 inline"}),"Edit Profile"]}),s.jsxs(Re,{href:"/client/change-password",className:"block py-2 px-6 hover:bg-white/10 rounded",onClick:()=>a(!1),children:[s.jsx(zf,{className:"w-4 h-4 mr-2 inline"}),"Change Password"]}),s.jsxs(Re,{href:"/support",className:"block py-2 px-6 hover:bg-white/10 rounded",onClick:()=>a(!1),children:[s.jsx(Go,{className:"w-4 h-4 mr-2 inline"}),"Help Center"]}),s.jsxs("button",{onClick:()=>{o(),a(!1)},className:"flex items-center w-full py-2 px-6 hover:bg-white/10 rounded text-left",children:[s.jsx(Rp,{className:"w-4 h-4 mr-2"}),"Log Out"]}),s.jsx("div",{className:"border-t border-white/20 pt-4 mt-4",children:s.jsx(WS,{variant:"mobile",className:"px-6"})})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Re,{href:"/login",className:"block py-2 px-3 hover:bg-white/10 rounded",onClick:()=>a(!1),children:"How it Works"}),s.jsx(Re,{href:"/login",className:"block py-2 px-3 hover:bg-white/10 rounded",onClick:()=>a(!1),children:"Log In"}),s.jsx(Re,{href:"/register",className:"block py-2 px-3 hover:bg-white/10 rounded",onClick:()=>a(!1),children:"Sign Up"})]})})})]})]})})}function ace(){return wB.useSyncExternalStore(oce,()=>!0,()=>!1)}function oce(){return()=>{}}var tC="Avatar",[lce]=Fa(tC),[cce,Wq]=lce(tC),Kq=O.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=O.useState("idle");return s.jsx(cce,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(rr.span,{...n,ref:e})})});Kq.displayName=tC;var Gq="AvatarImage",Yq=O.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=Wq(Gq,r),l=dce(n,a),c=Aa(d=>{i(d),o.onImageLoadingStatusChange(d)});return Qn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(rr.img,{...a,ref:e,src:n}):null});Yq.displayName=Gq;var Qq="AvatarFallback",Xq=O.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=Wq(Qq,r),[o,l]=O.useState(n===void 0);return O.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(rr.span,{...i,ref:e}):null});Xq.displayName=Qq;function fP(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function dce(t,{referrerPolicy:e,crossOrigin:r}){const n=ace(),i=O.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=O.useState(()=>fP(a,t));return Qn(()=>{l(fP(a,t))},[a,t]),Qn(()=>{const c=h=>()=>{l(h)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,r,e]),o}var Jq=Kq,Zq=Yq,ez=Xq;const Hn=O.forwardRef(({className:t,...e},r)=>s.jsx(Jq,{ref:r,className:Ot("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Hn.displayName=Jq.displayName;const uce=O.forwardRef(({className:t,...e},r)=>s.jsx(Zq,{ref:r,className:Ot("aspect-square h-full w-full",t),...e}));uce.displayName=Zq.displayName;const Wn=O.forwardRef(({className:t,...e},r)=>s.jsx(ez,{ref:r,className:Ot("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wn.displayName=ez.displayName;const hce=dg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ye({className:t,variant:e,...r}){return s.jsx("div",{className:Ot(hce({variant:e}),t),...r})}const mP=t=>{const e=typeof t=="string"?parseFloat(t):t,r=e>1e3?e/100:e;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2,maximumFractionDigits:2}).format(r)};function ps({currentPage:t}){const{user:e,logout:r}=tr(),{t:n}=Wc(),[i,a]=O.useState(!1),{data:o}=pt({queryKey:["/api/finder/profile"],enabled:!!e&&e.role==="finder"}),{data:l}=pt({queryKey:["/api/finder/pending-earnings"],enabled:!!e&&e.role==="finder"}),{data:c}=pt({queryKey:["/api/verification/status"],enabled:!!e&&e.role==="finder"}),d=()=>{r(),window.location.href="/"},u=(e==null?void 0:e.isVerified)||!1,h=(c==null?void 0:c.isRequired)||!1,m=h&&!u,f=g=>g.split(" ").map(p=>p[0]).join("").toUpperCase();return s.jsx("header",{className:"bg-finder-red text-white px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs(Re,{href:"/",className:"flex items-center space-x-2",children:[s.jsx("img",{src:qq,alt:"FinderMeister Logo",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-contain bg-white p-1"}),s.jsx("span",{className:"text-lg sm:text-xl font-bold",children:"FinderMeister"})]}),s.jsxs("nav",{className:"flex items-center space-x-2 md:space-x-4",children:[s.jsx(Re,{href:"/finder/dashboard",className:`hidden md:inline hover:underline text-sm ${t==="dashboard"?"font-semibold":""}`,children:"Dashboard"}),s.jsx(Re,{href:"/finder/browse-finds",className:`hidden md:inline hover:underline text-sm ${t==="browse"?"font-semibold":""}`,children:"Browse Finds"}),s.jsx(Re,{href:"/finder/contracts",className:`hidden md:inline hover:underline text-sm ${t==="contracts"?"font-semibold":""}`,children:"My Contracts"}),s.jsx(Re,{href:"/verification",className:`hidden md:inline hover:underline text-sm ${t==="verification"?"font-semibold":""}`,children:"Verification"}),s.jsx(Re,{href:"/finder/profile",className:`hidden md:inline hover:underline text-sm ${t==="profile"?"font-semibold":""}`,children:"Profile"}),s.jsxs(Mc,{open:i,onOpenChange:a,children:[s.jsx(Bc,{asChild:!0,children:s.jsx(ie,{variant:"ghost",className:"md:hidden text-white hover:bg-white/10 p-2",children:s.jsx(qy,{className:"w-5 h-5"})})}),s.jsxs(Kl,{align:"end",className:"w-56",children:[s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/finder/dashboard",className:"flex items-center cursor-pointer",children:[s.jsx(VN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/finder/browse-finds",className:"flex items-center cursor-pointer",children:[s.jsx(Ds,{className:"mr-2 h-4 w-4"}),"Browse Finds"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/finder/contracts",className:"flex items-center cursor-pointer",children:[s.jsx(as,{className:"mr-2 h-4 w-4"}),"My Contracts"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/verification",className:"flex items-center cursor-pointer",children:[s.jsx($r,{className:"mr-2 h-4 w-4"}),"Verification"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/finder/profile",className:"flex items-center cursor-pointer",children:[s.jsx(qr,{className:"mr-2 h-4 w-4"}),"Profile"]})})]})]}),s.jsx(WS,{}),s.jsxs(Mc,{children:[s.jsx(Bc,{asChild:!0,children:s.jsxs(ie,{variant:"ghost",className:"flex items-center space-x-2 text-white hover:bg-white/10 px-2 sm:px-3",children:[s.jsx(Hn,{className:"w-8 h-8",children:s.jsx(Wn,{className:"bg-white text-finder-red text-sm font-semibold",children:e!=null&&e.firstName?f(`${e.firstName} ${e.lastName}`):"U"})}),s.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:e!=null&&e.firstName?`${e.firstName} ${e.lastName}`:"User"}),s.jsx(qN,{className:"w-4 h-4"})]})}),s.jsxs(Kl,{align:"end",className:"w-64",children:[s.jsxs("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 border-b",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Available Balance"}),s.jsx("span",{className:"text-lg font-bold text-green-600",children:mP((o==null?void 0:o.availableBalance)||"0.00")})]}),l&&l.contractCount>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-orange-600 flex items-center",children:[s.jsx(hr,{className:"w-3 h-3 mr-1"}),"Pending (",l.contractCount,")"]}),s.jsx("span",{className:"text-sm font-semibold text-orange-700",children:mP(l.netAmount)})]})]}),s.jsx($q,{className:"font-normal px-3 py-2",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("p",{className:"text-sm font-medium leading-none",children:[e==null?void 0:e.firstName," ",e==null?void 0:e.lastName]}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e==null?void 0:e.email}),m&&s.jsx("div",{className:"mt-2",children:s.jsxs(Ye,{variant:"outline",className:"text-yellow-700 border-yellow-300 bg-yellow-50",children:[s.jsx(Wr,{className:"w-3 h-3 mr-1"}),"Verification Required"]})})]})}),s.jsx(Ku,{}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/messages",className:"flex items-center cursor-pointer px-3 py-2",children:[s.jsx(Mi,{className:"mr-2 h-4 w-4"}),"Messages"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/finder/tokens",className:"flex items-center cursor-pointer px-3 py-2",children:[s.jsx(kv,{className:"mr-2 h-4 w-4"}),"Findertokens"]})}),s.jsx(Ku,{}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/finder/profile",className:"flex items-center cursor-pointer px-3 py-2",children:[s.jsx(qr,{className:"mr-2 h-4 w-4"}),"Profile"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/finder/withdrawals",className:"flex items-center cursor-pointer px-3 py-2",children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Withdrawals"]})}),s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/finder/security",className:"flex items-center px-3 py-2",children:[s.jsx($r,{className:"mr-2 h-4 w-4"}),"Security"]})}),h&&s.jsx(jr,{asChild:!0,children:s.jsxs(Re,{href:"/verification",className:`flex items-center px-3 py-2 ${m?"text-yellow-700 bg-yellow-50":"text-gray-700"}`,children:[s.jsx($r,{className:"w-4 h-4 mr-3"}),"Account Verification",m&&s.jsx(Wr,{className:"w-3 h-3 ml-auto text-yellow-600"})]})}),s.jsx(Ku,{}),s.jsxs(jr,{onClick:d,className:"cursor-pointer px-3 py-2 text-red-600 focus:text-red-600",children:[s.jsx(Rp,{className:"mr-2 h-4 w-4"}),"Log Out"]})]})]})]})]})})}function fce(){const{user:t}=tr(),e=()=>{if(!t)return null;switch(t.role){case"admin":return s.jsx(Sr,{});case"client":return s.jsx(ds,{});case"finder":return s.jsx(ps,{});default:return null}},r=()=>{if(!t)return"/";switch(t.role){case"admin":return"/admin/dashboard";case"client":return"/client/dashboard";case"finder":return"/finder/dashboard";default:return"/"}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e(),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)] px-4",children:s.jsx(_e,{className:"w-full max-w-md mx-4",children:s.jsxs(Se,{className:"pt-6 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(ia,{className:"h-16 w-16 text-finder-red"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"404 - Page Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The page you're looking for doesn't exist or has been moved."}),s.jsx(Re,{href:r(),children:s.jsxs(ie,{className:"bg-finder-red hover:bg-finder-red-dark",children:[s.jsx(VN,{className:"w-4 h-4 mr-2"}),"Go Home"]})})]})})})]})}const KS=[{name:"Novice",badge_icon:"leaf",badge_emoji:"",color:"#10b981",description:"The First Step on the Path - New finders starting their journey on FinderMeister"},{name:"Pathfinder",badge_icon:"compass",badge_emoji:"",color:"#f59e0b",description:"The Trailblazer of New Routes - Building experience with successful finds"},{name:"Seeker",badge_icon:"eye",badge_emoji:"",color:"#3b82f6",description:"The Knowledge Collector - Skilled finders with proven excellence"},{name:"Meister",badge_icon:"torch",badge_emoji:"",color:"#8b5cf6",description:"The Master of Craft - Expert finders with exceptional performance"},{name:"GrandMeister",badge_icon:"crown",badge_emoji:"",color:"#000000",description:"The Legendary Elite - Pinnacle of FinderMeister achievement"}],mce={pathfinderLevels:KS};function pce(){const{isAuthenticated:t,user:e}=tr(),{pathfinderLevels:r}=mce;if(t&&e){if(e.role==="client")return window.location.href="/client/dashboard",null;if(e.role==="finder")return window.location.href="/finder/dashboard",null;if(e.role==="admin")return window.location.href="/admin/dashboard",null}return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-100",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:z0,alt:"FinderMeister Logo",className:"w-10 h-10 lg:w-12 lg:h-12 object-contain rounded-full"}),s.jsx("span",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"FinderMeister"})]}),s.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[s.jsx("a",{href:"#how-it-works",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"How it Works"}),s.jsx("a",{href:"#finder-path",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:"Finder Path"}),s.jsx(Re,{href:"/login",children:s.jsx(ie,{variant:"ghost",className:"text-gray-600 hover:text-gray-900",children:"Log In"})}),s.jsx(Re,{href:"/register",children:s.jsx(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white px-6 py-2 font-medium",children:"Sign Up"})})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(Re,{href:"/register",children:s.jsx(ie,{size:"sm",className:"bg-finder-red hover:bg-finder-red-dark text-white",children:"Sign Up"})})})]})})}),s.jsx("section",{className:"relative bg-white overflow-hidden",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"py-12 lg:py-20",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6",children:["Trouble Finding a",s.jsx("br",{className:"hidden sm:block"}),s.jsx("span",{className:"text-finder-red",children:" Product or Service?"})]}),s.jsx("p",{className:"text-xl lg:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Post your request. Finders will help you source what you need, safely and easily."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-16",children:[s.jsx(Re,{href:"/register",children:s.jsx(ie,{size:"lg",className:"w-full sm:w-auto bg-finder-red hover:bg-finder-red-dark text-white px-8 py-4 text-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:"Post a Find"})}),s.jsx(Re,{href:"/register/finder",children:s.jsx(ie,{size:"lg",variant:"outline",className:"border-2 border-finder-red text-finder-red hover:bg-finder-red hover:text-white px-8 py-4 text-lg font-semibold transition-all",children:"Become a Finder"})})]}),s.jsxs("div",{className:"flex justify-center space-x-8 lg:space-x-12 opacity-60",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-gray-100 rounded-full flex items-center justify-center mb-2",children:s.jsx("svg",{className:"w-6 h-6 lg:w-8 lg:h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),s.jsx("span",{className:"text-sm text-gray-500 hidden lg:block",children:"Home"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-gray-100 rounded-full flex items-center justify-center mb-2",children:s.jsx("svg",{className:"w-6 h-6 lg:w-8 lg:h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7Z"})})}),s.jsx("span",{className:"text-sm text-gray-500 hidden lg:block",children:"Services"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-gray-100 rounded-full flex items-center justify-center mb-2",children:s.jsx("svg",{className:"w-6 h-6 lg:w-8 lg:h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),s.jsx("span",{className:"text-sm text-gray-500 hidden lg:block",children:"Shopping"})]})]})]})})})}),s.jsx("section",{id:"how-it-works",className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Three simple steps to get what you need"})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8 lg:gap-12",children:[s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-finder-red text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow",children:s.jsx("svg",{className:"w-10 h-10 lg:w-12 lg:h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-finder-red",children:s.jsx("span",{className:"text-finder-red font-bold text-sm",children:"1"})})]}),s.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900 mb-4",children:"Post a Request"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Clients describe what they need"})]}),s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-finder-red text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow",children:s.jsx("svg",{className:"w-10 h-10 lg:w-12 lg:h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-finder-red",children:s.jsx("span",{className:"text-finder-red font-bold text-sm",children:"2"})})]}),s.jsx("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900 mb-4",children:"Get Proposals"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Finders suggest how they'll help"})]}),s.jsxs("div",{className:"text-center group",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-finder-red text-white rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:shadow-xl transition-shadow",children:s.jsx(am,{className:"w-10 h-10 lg:w-12 lg:h-12"})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-finder-red",children:s.jsx("span",{className:"text-finder-red font-bold text-sm",children:"3"})})]}),s.jsxs("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900 mb-4",children:["Choose a Finder",s.jsx("br",{}),"& Pay Safely"]}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Funds held in escrow until delivery"})]})]}),s.jsxs("div",{className:"mt-16 grid md:grid-cols-3 gap-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[s.jsx($r,{className:"w-6 h-6 text-finder-red"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Your money is safe until you confirm delivery"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[s.jsx(ui,{className:"w-6 h-6 text-finder-red"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"Reviews & ratings build trust"})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[s.jsx(dn,{className:"w-6 h-6 text-finder-red"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"No special skills needed to be a Finder"})]})]})]})}),s.jsx("section",{id:"finder-path",className:"py-16 lg:py-24 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Finder Path"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Build your reputation and unlock new opportunities"})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-6 lg:gap-8",children:r.map((n,i)=>s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"w-16 h-16 lg:w-20 lg:h-20 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg group-hover:shadow-xl transition-shadow",style:{backgroundColor:n.color},children:s.jsx("span",{className:"text-2xl lg:text-3xl",children:n.badge_emoji})}),s.jsx("h3",{className:"font-semibold text-gray-900 text-sm lg:text-base",children:n.name})]},n.name))}),s.jsxs("div",{className:"text-center mt-12",children:[s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Join us and become part of Nigeria's fastest-growing finder community"}),s.jsx(Re,{href:"/register/finder",children:s.jsx(ie,{size:"lg",className:"bg-finder-red hover:bg-finder-red-dark text-white px-8 py-4 text-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:"Start Your Finder Journey"})})]})]})}),s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[s.jsx("img",{src:z0,alt:"FinderMeister Logo",className:"w-10 h-10 object-contain rounded-full"}),s.jsx("span",{className:"text-xl font-bold",children:"FinderMeister"})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-gray-400 mb-8",children:[s.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"About"}),s.jsx("a",{href:"/support/contact",className:"hover:text-white transition-colors",children:"Contact Us"}),s.jsx("a",{href:"/support",className:"hover:text-white transition-colors",children:"Support"}),s.jsx("a",{href:"/support/help-center",className:"hover:text-white transition-colors",children:"FAQ"}),s.jsx("a",{href:"/privacy-policy",className:"hover:text-white transition-colors",children:"Privacy"}),s.jsx("a",{href:"/terms-and-conditions",className:"hover:text-white transition-colors",children:"TOS"})]}),s.jsx("p",{className:"text-gray-400",children:" 2025 FinderMeister. All rights reserved."})]})})}),s.jsx("div",{className:"md:hidden fixed bottom-6 left-4 right-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-full shadow-lg p-4 flex justify-center space-x-4",children:[s.jsx(Re,{href:"/login",children:s.jsx(ie,{variant:"ghost",size:"sm",className:"text-gray-600",children:"Log In"})}),s.jsx(Re,{href:"#how-it-works",children:s.jsx(ie,{variant:"ghost",size:"sm",className:"text-gray-600",children:"How it Works"})})]})})]})}const at=O.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:Ot("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));at.displayName="Input";var gce="Label",tz=O.forwardRef((t,e)=>s.jsx(rr.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));tz.displayName=gce;var rz=tz;const xce=dg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=O.forwardRef(({className:t,...e},r)=>s.jsx(rz,{ref:r,className:Ot(xce(),t),...e}));Te.displayName=rz.displayName;const qi=V6,gh=H6,vce=W6,sz=O.forwardRef(({className:t,...e},r)=>s.jsx(Vy,{ref:r,className:Ot("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));sz.displayName=Vy.displayName;const Ni=O.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(vce,{children:[s.jsx(sz,{}),s.jsxs(Hy,{ref:n,className:Ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,s.jsxs(rj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(ko,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ni.displayName=Hy.displayName;const ji=({className:t,...e})=>s.jsx("div",{className:Ot("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ji.displayName="DialogHeader";const lj=({className:t,...e})=>s.jsx("div",{className:Ot("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});lj.displayName="DialogFooter";const _i=O.forwardRef(({className:t,...e},r)=>s.jsx(Wy,{ref:r,className:Ot("text-lg font-semibold leading-none tracking-tight",t),...e}));_i.displayName=Wy.displayName;const Xy=O.forwardRef(({className:t,...e},r)=>s.jsx(Ky,{ref:r,className:Ot("text-sm text-muted-foreground",t),...e}));Xy.displayName=Ky.displayName;function GS({currentPage:t}){const[e,r]=O.useState(!1);return s.jsxs("header",{className:"bg-finder-red text-white px-4 sm:px-6 py-4",children:[s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs(Re,{href:"/",className:"flex items-center space-x-2 mr-8",children:[s.jsx("img",{src:z0,alt:"FinderMeister Logo",className:"w-6 h-6 object-contain rounded-full"}),s.jsx("span",{className:"text-xl font-bold",children:"FinderMeister"})]}),s.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[s.jsx(Re,{href:"/browse-requests",className:`hover:underline transition-all duration-200 ${t==="browse"?"bg-white text-finder-red px-3 py-1 rounded font-medium":""}`,children:"Browse Requests"}),s.jsx(Re,{href:"/login",className:`hover:underline transition-all duration-200 ${t==="login"?"bg-white text-finder-red px-3 py-1 rounded font-medium":""}`,children:"Log In"}),s.jsx(Re,{href:"/register",className:`hover:underline transition-all duration-200 ${t==="register"?"bg-white text-finder-red px-3 py-1 rounded font-medium":""}`,children:"Sign Up"})]}),s.jsx(ie,{variant:"ghost",size:"sm",className:"md:hidden text-white hover:bg-finder-red-dark",onClick:()=>r(!e),children:e?s.jsx(ko,{className:"w-5 h-5"}):s.jsx(qy,{className:"w-5 h-5"})})]}),e&&s.jsx("div",{className:"md:hidden mt-4 pb-4 border-t border-finder-red/70",children:s.jsxs("nav",{className:"flex flex-col space-y-3 pt-4",children:[s.jsx(Re,{href:"/browse-requests",className:`hover:bg-finder-red-dark px-3 py-2 rounded transition-colors duration-200 ${t==="browse"?"bg-white text-finder-red font-medium":""}`,onClick:()=>r(!1),children:"Browse Requests"}),s.jsx(Re,{href:"/login",className:`hover:bg-finder-red-dark px-3 py-2 rounded transition-colors duration-200 ${t==="login"?"bg-white text-finder-red font-medium":""}`,onClick:()=>r(!1),children:"Log In"}),s.jsx(Re,{href:"/register",className:`hover:bg-finder-red-dark px-3 py-2 rounded transition-colors duration-200 ${t==="register"?"bg-white text-finder-red font-medium":""}`,onClick:()=>r(!1),children:"Sign Up"})]})})]})}function yce(){const[,t]=sn(),{login:e}=tr(),{toast:r}=ar(),[n,i]=O.useState(!1),[a,o]=O.useState({email:"",password:""}),[l,c]=O.useState(!1),[d,u]=O.useState(""),[h,m]=O.useState(!1),[f,g]=O.useState(!1),p=async v=>{v.preventDefault(),i(!0);try{const b=await e(a.email,a.password);r({title:"Success",description:"Logged in successfully!"});const w=b.user.role;t(w==="admin"?"/admin/dashboard":w==="finder"?"/finder/dashboard":w==="client"?"/client/dashboard":"/")}catch(b){r({variant:"destructive",title:"Error",description:b.message||"Login failed"})}finally{i(!1)}},x=v=>{o({...a,[v.target.name]:v.target.value})},y=async v=>{v.preventDefault(),m(!0);try{const b=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d})}),w=await b.json();b.ok?(r({title:"Reset Email Sent",description:"If an account with that email exists, we've sent you a password reset link."}),g(!1),u("")):r({variant:"destructive",title:"Error",description:w.message||"Failed to send reset email"})}catch{r({variant:"destructive",title:"Error",description:"Something went wrong. Please try again."})}finally{m(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(GS,{currentPage:"login"}),s.jsx("section",{className:"py-8 sm:py-16",children:s.jsx("div",{className:"max-w-md mx-auto px-4 sm:px-6",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Log In"}),s.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx(Re,{href:"/register",className:"text-finder-red hover:underline font-medium",children:"Sign Up"})]})]}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"email",className:"text-gray-700 font-medium",children:"Email"}),s.jsx(at,{id:"email",name:"email",type:"email",required:!0,value:a.email,onChange:x,className:"mt-1 h-12 bg-white border-gray-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",placeholder:"",style:{borderColor:"hsl(210, 20%, 90%)"},onFocus:v=>{v.currentTarget.style.borderColor="hsl(1, 81%, 53%)",v.currentTarget.style.boxShadow="0 0 0 3px hsl(1, 81%, 90%)"},onBlur:v=>{v.currentTarget.style.borderColor="hsl(210, 20%, 90%)",v.currentTarget.style.boxShadow="none"}})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"password",className:"text-gray-700 font-medium",children:"Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(at,{id:"password",name:"password",type:l?"text":"password",required:!0,value:a.password,onChange:x,className:"pr-12 h-12 bg-white border-gray-300 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",placeholder:"",style:{borderColor:"hsl(210, 20%, 90%)"},onFocus:v=>{v.currentTarget.style.borderColor="hsl(1, 81%, 53%)",v.currentTarget.style.boxShadow="0 0 0 3px hsl(1, 81%, 90%)"},onBlur:v=>{v.currentTarget.style.borderColor="hsl(210, 20%, 90%)",v.currentTarget.style.boxShadow="none"}}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600",children:l?s.jsx(Ld,{className:"w-5 h-5"}):s.jsx(ms,{className:"w-5 h-5"})})]})]}),s.jsx(ie,{type:"submit",className:"w-full bg-finder-red hover:bg-finder-red-dark text-white py-3 font-medium",disabled:n,children:n?"Logging in...":"Log In"})]}),s.jsx("div",{className:"text-center mt-4",children:s.jsxs(qi,{open:f,onOpenChange:g,children:[s.jsx(gh,{asChild:!0,children:s.jsx("button",{type:"button",className:"text-sm text-finder-red hover:underline font-medium",children:"Forgot your password?"})}),s.jsxs(Ni,{className:"sm:max-w-md",children:[s.jsx(ji,{children:s.jsx(_i,{children:"Reset Password"})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"reset-email",className:"text-gray-700 font-medium",children:"Email Address"}),s.jsx(at,{id:"reset-email",type:"email",placeholder:"Enter your email address",value:d,onChange:v=>u(v.target.value),required:!0,className:"mt-1"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ie,{type:"button",variant:"outline",className:"flex-1",onClick:()=>g(!1),disabled:h,children:"Cancel"}),s.jsx(ie,{type:"submit",className:"flex-1 bg-finder-red hover:bg-finder-red-dark",disabled:h,children:h?"Sending...":"Send Reset Link"})]})]})]})]})})]})})})]})}function pP(t,[e,r]){return Math.min(r,Math.max(e,t))}function rC(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bce=[" ","Enter","ArrowUp","ArrowDown"],wce=[" ","Enter"],cm="Select",[cj,dj,Nce]=BN(cm),[gg]=Fa(cm,[Nce,pg]),uj=pg(),[jce,Fh]=gg(cm),[_ce,Sce]=gg(cm),nz=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:f,form:g}=t,p=uj(e),[x,y]=O.useState(null),[v,b]=O.useState(null),[w,_]=O.useState(!1),N=sj(d),[j,k]=Vd({prop:n,defaultProp:i??!1,onChange:a,caller:cm}),[E,A]=Vd({prop:o,defaultProp:l,onChange:c,caller:cm}),C=O.useRef(null),T=x?g||!!x.closest("form"):!0,[L,D]=O.useState(new Set),H=Array.from(L).map(X=>X.props.value).join(";");return s.jsx(r$,{...p,children:s.jsxs(jce,{required:f,scope:e,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:_,contentId:Oc(),value:E,onValueChange:A,open:j,onOpenChange:k,dir:N,triggerPointerDownPosRef:C,disabled:m,children:[s.jsx(cj.Provider,{scope:e,children:s.jsx(_ce,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(X=>{D(ee=>new Set(ee).add(X))},[]),onNativeOptionRemove:O.useCallback(X=>{D(ee=>{const Q=new Set(ee);return Q.delete(X),Q})},[]),children:r})}),T?s.jsxs(Az,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:E,onChange:X=>A(X.target.value),disabled:m,form:g,children:[E===void 0?s.jsx("option",{value:""}):null,Array.from(L)]},H):null]})})};nz.displayName=cm;var iz="SelectTrigger",az=O.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=uj(r),o=Fh(iz,r),l=o.disabled||n,c=zr(e,o.onTriggerChange),d=dj(r),u=O.useRef("touch"),[h,m,f]=Tz(p=>{const x=d().filter(b=>!b.disabled),y=x.find(b=>b.value===o.value),v=Pz(x,p,y);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),f()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(L6,{asChild:!0,...a,children:s.jsx(rr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ez(o.value)?"":void 0,...i,ref:c,onClick:Pt(i.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&g(p)}),onPointerDown:Pt(i.onPointerDown,p=>{u.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Pt(i.onKeyDown,p=>{const x=h.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(x&&p.key===" ")&&bce.includes(p.key)&&(g(),p.preventDefault())})})})});az.displayName=iz;var oz="SelectValue",lz=O.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=t,c=Fh(oz,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,h=zr(e,c.onValueNodeChange);return Qn(()=>{d(u)},[d,u]),s.jsx(rr.span,{...l,ref:h,style:{pointerEvents:"none"},children:Ez(c.value)?s.jsx(s.Fragment,{children:o}):a})});lz.displayName=oz;var kce="SelectIcon",cz=O.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return s.jsx(rr.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});cz.displayName=kce;var Cce="SelectPortal",dz=t=>s.jsx(Uy,{asChild:!0,...t});dz.displayName=Cce;var dm="SelectContent",uz=O.forwardRef((t,e)=>{const r=Fh(dm,t.__scopeSelect),[n,i]=O.useState();if(Qn(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Th.createPortal(s.jsx(hz,{scope:t.__scopeSelect,children:s.jsx(cj.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(fz,{...t,ref:e})});uz.displayName=dm;var ml=10,[hz,Oh]=gg(dm),Ace="SelectContentImpl",Ece=nm("SelectContent.RemoveScroll"),fz=O.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:x,...y}=t,v=Fh(dm,r),[b,w]=O.useState(null),[_,N]=O.useState(null),j=zr(e,W=>w(W)),[k,E]=O.useState(null),[A,C]=O.useState(null),T=dj(r),[L,D]=O.useState(!1),H=O.useRef(!1);O.useEffect(()=>{if(b)return U6(b)},[b]),B6();const X=O.useCallback(W=>{const[te,...re]=T().map(Pe=>Pe.ref.current),[le]=re.slice(-1),ke=document.activeElement;for(const Pe of W)if(Pe===ke||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===te&&_&&(_.scrollTop=0),Pe===le&&_&&(_.scrollTop=_.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==ke))return},[T,_]),ee=O.useCallback(()=>X([k,b]),[X,k,b]);O.useEffect(()=>{L&&ee()},[L,ee]);const{onOpenChange:Q,triggerPointerDownPosRef:G}=v;O.useEffect(()=>{if(b){let W={x:0,y:0};const te=le=>{var ke,Pe;W={x:Math.abs(Math.round(le.pageX)-(((ke=G.current)==null?void 0:ke.x)??0)),y:Math.abs(Math.round(le.pageY)-(((Pe=G.current)==null?void 0:Pe.y)??0))}},re=le=>{W.x<=10&&W.y<=10?le.preventDefault():b.contains(le.target)||Q(!1),document.removeEventListener("pointermove",te),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",te),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",te),document.removeEventListener("pointerup",re,{capture:!0})}}},[b,Q,G]),O.useEffect(()=>{const W=()=>Q(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[Q]);const[z,V]=Tz(W=>{const te=T().filter(ke=>!ke.disabled),re=te.find(ke=>ke.ref.current===document.activeElement),le=Pz(te,W,re);le&&setTimeout(()=>le.ref.current.focus())}),F=O.useCallback((W,te,re)=>{const le=!H.current&&!re;(v.value!==void 0&&v.value===te||le)&&(E(W),le&&(H.current=!0))},[v.value]),I=O.useCallback(()=>b==null?void 0:b.focus(),[b]),B=O.useCallback((W,te,re)=>{const le=!H.current&&!re;(v.value!==void 0&&v.value===te||le)&&C(W)},[v.value]),q=n==="popper"?YS:mz,U=q===YS?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return s.jsx(hz,{scope:r,content:b,viewport:_,onViewportChange:N,itemRefCallback:F,selectedItem:k,onItemLeave:I,itemTextRefCallback:B,focusSelectedItem:ee,selectedItemText:A,position:n,isPositioned:L,searchRef:z,children:s.jsx(ej,{as:Ece,allowPinchZoom:!0,children:s.jsx(JN,{asChild:!0,trapped:v.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Pt(i,W=>{var te;(te=v.trigger)==null||te.focus({preventScroll:!0}),W.preventDefault()}),children:s.jsx(cg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:s.jsx(q,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:W=>W.preventDefault(),...y,...U,onPlaced:()=>D(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Pt(y.onKeyDown,W=>{const te=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!te&&W.key.length===1&&V(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let le=T().filter(ke=>!ke.disabled).map(ke=>ke.ref.current);if(["ArrowUp","End"].includes(W.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ke=W.target,Pe=le.indexOf(ke);le=le.slice(Pe+1)}setTimeout(()=>X(le)),W.preventDefault()}})})})})})})});fz.displayName=Ace;var Tce="SelectItemAlignedPosition",mz=O.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Fh(dm,r),o=Oh(dm,r),[l,c]=O.useState(null),[d,u]=O.useState(null),h=zr(e,j=>u(j)),m=dj(r),f=O.useRef(!1),g=O.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=o,b=O.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&p&&x&&y){const j=a.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),E=a.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(a.dir!=="rtl"){const ke=A.left-k.left,Pe=E.left-ke,He=j.left-Pe,Ae=j.width+He,fe=Math.max(Ae,k.width),_t=window.innerWidth-ml,Je=pP(Pe,[ml,Math.max(ml,_t-fe)]);l.style.minWidth=Ae+"px",l.style.left=Je+"px"}else{const ke=k.right-A.right,Pe=window.innerWidth-E.right-ke,He=window.innerWidth-j.right-Pe,Ae=j.width+He,fe=Math.max(Ae,k.width),_t=window.innerWidth-ml,Je=pP(Pe,[ml,Math.max(ml,_t-fe)]);l.style.minWidth=Ae+"px",l.style.right=Je+"px"}const C=m(),T=window.innerHeight-ml*2,L=p.scrollHeight,D=window.getComputedStyle(d),H=parseInt(D.borderTopWidth,10),X=parseInt(D.paddingTop,10),ee=parseInt(D.borderBottomWidth,10),Q=parseInt(D.paddingBottom,10),G=H+X+L+Q+ee,z=Math.min(x.offsetHeight*5,G),V=window.getComputedStyle(p),F=parseInt(V.paddingTop,10),I=parseInt(V.paddingBottom,10),B=j.top+j.height/2-ml,q=T-B,U=x.offsetHeight/2,W=x.offsetTop+U,te=H+X+W,re=G-te;if(te<=B){const ke=C.length>0&&x===C[C.length-1].ref.current;l.style.bottom="0px";const Pe=d.clientHeight-p.offsetTop-p.offsetHeight,He=Math.max(q,U+(ke?I:0)+Pe+ee),Ae=te+He;l.style.height=Ae+"px"}else{const ke=C.length>0&&x===C[0].ref.current;l.style.top="0px";const He=Math.max(B,H+p.offsetTop+(ke?F:0)+U)+re;l.style.height=He+"px",p.scrollTop=te-B+p.offsetTop}l.style.margin=`${ml}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[m,a.trigger,a.valueNode,l,d,p,x,y,a.dir,n]);Qn(()=>b(),[b]);const[w,_]=O.useState();Qn(()=>{d&&_(window.getComputedStyle(d).zIndex)},[d]);const N=O.useCallback(j=>{j&&g.current===!0&&(b(),v==null||v(),g.current=!1)},[b,v]);return s.jsx(Fce,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:s.jsx(rr.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});mz.displayName=Tce;var Pce="SelectPopperPosition",YS=O.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ml,...a}=t,o=uj(r);return s.jsx(R6,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});YS.displayName=Pce;var[Fce,sC]=gg(dm,{}),QS="SelectViewport",pz=O.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=Oh(QS,r),o=sC(QS,r),l=zr(e,a.onViewportChange),c=O.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(cj.Slot,{scope:r,children:s.jsx(rr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Pt(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&h){const f=Math.abs(c.current-u.scrollTop);if(f>0){const g=window.innerHeight-ml*2,p=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),y=Math.max(p,x);if(y<g){const v=y+f,b=Math.min(g,v),w=v-b;h.style.height=b+"px",h.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});pz.displayName=QS;var gz="SelectGroup",[Oce,Lce]=gg(gz),Rce=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Oc();return s.jsx(Oce,{scope:r,id:i,children:s.jsx(rr.div,{role:"group","aria-labelledby":i,...n,ref:e})})});Rce.displayName=gz;var xz="SelectLabel",vz=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Lce(xz,r);return s.jsx(rr.div,{id:i.id,...n,ref:e})});vz.displayName=xz;var uw="SelectItem",[Ice,yz]=gg(uw),bz=O.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,l=Fh(uw,r),c=Oh(uw,r),d=l.value===n,[u,h]=O.useState(a??""),[m,f]=O.useState(!1),g=zr(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,n,i)}),p=Oc(),x=O.useRef("touch"),y=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Ice,{scope:r,value:n,disabled:i,textId:p,isSelected:d,onItemTextChange:O.useCallback(v=>{h(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:s.jsx(cj.ItemSlot,{scope:r,value:n,disabled:i,textValue:u,children:s.jsx(rr.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:Pt(o.onFocus,()=>f(!0)),onBlur:Pt(o.onBlur,()=>f(!1)),onClick:Pt(o.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:Pt(o.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:Pt(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Pt(o.onPointerMove,v=>{var b;x.current=v.pointerType,i?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pt(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Pt(o.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(wce.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});bz.displayName=uw;var Ex="SelectItemText",wz=O.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Fh(Ex,r),l=Oh(Ex,r),c=yz(Ex,r),d=Sce(Ex,r),[u,h]=O.useState(null),m=zr(e,y=>h(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),f=u==null?void 0:u.textContent,g=O.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=d;return Qn(()=>(p(g),()=>x(g)),[p,x,g]),s.jsxs(s.Fragment,{children:[s.jsx(rr.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Th.createPortal(a.children,o.valueNode):null]})});wz.displayName=Ex;var Nz="SelectItemIndicator",jz=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return yz(Nz,r).isSelected?s.jsx(rr.span,{"aria-hidden":!0,...n,ref:e}):null});jz.displayName=Nz;var XS="SelectScrollUpButton",_z=O.forwardRef((t,e)=>{const r=Oh(XS,t.__scopeSelect),n=sC(XS,t.__scopeSelect),[i,a]=O.useState(!1),o=zr(e,n.onScrollButtonChange);return Qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(kz,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_z.displayName=XS;var JS="SelectScrollDownButton",Sz=O.forwardRef((t,e)=>{const r=Oh(JS,t.__scopeSelect),n=sC(JS,t.__scopeSelect),[i,a]=O.useState(!1),o=zr(e,n.onScrollButtonChange);return Qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(kz,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Sz.displayName=JS;var kz=O.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=Oh("SelectScrollButton",r),o=O.useRef(null),l=dj(r),c=O.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return O.useEffect(()=>()=>c(),[c]),Qn(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),s.jsx(rr.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Pt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Pt(i.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Pt(i.onPointerLeave,()=>{c()})})}),Dce="SelectSeparator",Cz=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(rr.div,{"aria-hidden":!0,...n,ref:e})});Cz.displayName=Dce;var ZS="SelectArrow",Mce=O.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=uj(r),a=Fh(ZS,r),o=Oh(ZS,r);return a.open&&o.position==="popper"?s.jsx(I6,{...i,...n,ref:e}):null});Mce.displayName=ZS;var Bce="SelectBubbleInput",Az=O.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=O.useRef(null),a=zr(n,i),o=rC(e);return O.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),s.jsx(rr.select,{...r,style:{...YB,...r.style},ref:a,defaultValue:e})});Az.displayName=Bce;function Ez(t){return t===""||t===void 0}function Tz(t){const e=Aa(t),r=O.useRef(""),n=O.useRef(0),i=O.useCallback(o=>{const l=r.current+o;e(l),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=O.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function Pz(t,e,r){const i=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=Uce(t,Math.max(a,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Uce(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $ce=nz,Fz=az,qce=lz,zce=cz,Vce=dz,Oz=uz,Hce=pz,Lz=vz,Rz=bz,Wce=wz,Kce=jz,Iz=_z,Dz=Sz,Mz=Cz;const Br=$ce,Ur=qce,Ir=O.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(Fz,{ref:n,className:Ot("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(zce,{asChild:!0,children:s.jsx(qN,{className:"h-4 w-4 opacity-50"})})]}));Ir.displayName=Fz.displayName;const Bz=O.forwardRef(({className:t,...e},r)=>s.jsx(Iz,{ref:r,className:Ot("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Sse,{className:"h-4 w-4"})}));Bz.displayName=Iz.displayName;const Uz=O.forwardRef(({className:t,...e},r)=>s.jsx(Dz,{ref:r,className:Ot("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(qN,{className:"h-4 w-4"})}));Uz.displayName=Dz.displayName;const Dr=O.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>s.jsx(Vce,{children:s.jsxs(Oz,{ref:i,className:Ot("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(Bz,{}),s.jsx(Hce,{className:Ot("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(Uz,{})]})}));Dr.displayName=Oz.displayName;const Gce=O.forwardRef(({className:t,...e},r)=>s.jsx(Lz,{ref:r,className:Ot("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Gce.displayName=Lz.displayName;const dt=O.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(Rz,{ref:n,className:Ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Kce,{children:s.jsx(N6,{className:"h-4 w-4"})})}),s.jsx(Wce,{children:e})]}));dt.displayName=Rz.displayName;const Yce=O.forwardRef(({className:t,...e},r)=>s.jsx(Mz,{ref:r,className:Ot("-mx-1 my-1 h-px bg-muted",t),...e}));Yce.displayName=Mz.displayName;function Qce(){const[,t]=sn(),{register:e}=tr(),{toast:r}=ar(),[n,i]=O.useState("client"),[a,o]=O.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",bio:"",category:"",categories:[],skills:"",availability:"full-time"}),[l,c]=O.useState(!1),[d,u]=O.useState(!1),[h,m]=O.useState({minLength:!1,hasUppercase:!1,hasLowercase:!1,hasNumber:!1,hasSpecialChar:!1,isValid:!1}),[f,g]=O.useState(!1),[p,x]=O.useState(!1),[y,v]=O.useState(!1),{data:b=[],isLoading:w}=pt({queryKey:["/api/categories"]}),_=k=>{const{name:E,value:A}=k.target;o({...a,[E]:A}),E==="password"&&N(A)},N=k=>{const E={minLength:k.length>=8,hasUppercase:/[A-Z]/.test(k),hasLowercase:/[a-z]/.test(k),hasNumber:/\d/.test(k),hasSpecialChar:/[!@#$%^&*(),.?":{}|<>]/.test(k)};E.isValid=Object.values(E).every(Boolean),m(E)},j=async k=>{if(k.preventDefault(),a.password!==a.confirmPassword){r({variant:"destructive",title:"Error",description:"Passwords do not match"});return}if(!h.isValid){r({variant:"destructive",title:"Error",description:"Password does not meet security requirements"});return}if(!d){r({variant:"destructive",title:"Error",description:"Please accept the terms and conditions"});return}if(n==="finder"&&a.categories.length===0){r({variant:"destructive",title:"Error",description:"Please select at least one category"});return}c(!0);try{const E=a.skills.split(",").map(C=>C.trim()).filter(C=>C!==""),A={firstName:a.firstName,lastName:a.lastName,email:a.email,password:a.password,phone:a.phone,role:n};n==="finder"&&(A.bio=a.bio,A.category=a.category,A.categories=a.categories,A.skills=E,A.availability=a.availability),await e(A),r({title:"Success!",description:`Your ${n} account has been created successfully.`}),t(n==="finder"?"/finder/dashboard":"/client/dashboard")}catch(E){r({variant:"destructive",title:"Registration Failed",description:E.message||"Failed to create account"})}finally{c(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-finder-red text-white px-3 sm:px-4 lg:px-6 py-3 sm:py-4 shadow-lg",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Re,{href:"/",className:"flex items-center space-x-2 flex-shrink-0",children:[s.jsx("img",{src:z0,alt:"FinderMeister Logo",className:"w-7 h-7 sm:w-8 sm:h-8 object-contain rounded-full"}),s.jsx("span",{className:"text-lg sm:text-xl lg:text-2xl font-bold truncate",children:"FinderMeister"})]}),s.jsxs("nav",{className:"hidden lg:flex items-center space-x-8",children:[s.jsx(Re,{href:"#how-it-works",className:"hover:underline hover:text-gray-200 transition-all duration-200 text-sm xl:text-base",children:"How it Works"}),s.jsx(Re,{href:"/login",className:"hover:underline hover:text-gray-200 transition-all duration-200 text-sm xl:text-base",children:"Log In"}),s.jsx("span",{className:"bg-white text-finder-red px-4 py-2 rounded-lg font-medium text-sm xl:text-base shadow-sm hover:shadow-md transition-shadow duration-200",children:"Sign Up"})]}),s.jsx(ie,{variant:"ghost",size:"sm",className:"lg:hidden text-white hover:bg-finder-red-dark p-2 rounded-md transition-colors duration-200",onClick:()=>v(!y),"aria-label":"Toggle menu",children:y?s.jsx(ko,{className:"w-6 h-6"}):s.jsx(qy,{className:"w-6 h-6"})})]}),y&&s.jsx("div",{className:"lg:hidden mt-4 pb-4 border-t border-finder-red-light/30 animate-in slide-in-from-top-2 duration-200",children:s.jsxs("nav",{className:"flex flex-col space-y-2 pt-4 px-2",children:[s.jsx(Re,{href:"#how-it-works",className:"hover:bg-finder-red-dark px-4 py-3 rounded-lg transition-colors duration-200 text-sm font-medium",onClick:()=>v(!1),children:"How it Works"}),s.jsx(Re,{href:"/login",className:"hover:bg-finder-red-dark px-4 py-3 rounded-lg transition-colors duration-200 text-sm font-medium",onClick:()=>v(!1),children:"Log In"}),s.jsx("div",{className:"bg-white text-finder-red px-4 py-3 rounded-lg font-medium text-sm text-center shadow-sm",children:"Sign Up"})]})})]})}),s.jsx("div",{className:"max-w-md mx-auto py-8 sm:py-12 px-4 sm:px-6",children:s.jsx("section",{className:"py-4 sm:py-8",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 sm:p-8",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Create Your Account"}),s.jsxs("p",{className:"text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base",children:["Join FinderMeister as a ",n==="client"?"client to request services":"finder to offer your services","."]}),s.jsx("div",{className:"bg-finder-red rounded-full w-12 h-12 sm:w-16 sm:h-16 flex items-center justify-center mx-auto mb-4",children:s.jsx(qr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})})]}),s.jsxs("form",{onSubmit:j,className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx(Te,{className:"text-base sm:text-lg font-semibold text-gray-900",children:"I want to:"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("button",{type:"button",onClick:()=>i("client"),className:`p-3 sm:p-4 border-2 rounded-lg text-center transition-all ${n==="client"?"border-finder-red bg-finder-red/10 text-finder-red":"border-gray-300 text-gray-600 hover:border-gray-400"}`,children:[s.jsx("div",{className:"font-semibold text-sm sm:text-base",children:"Client"}),s.jsx("div",{className:"text-xs mt-1",children:"Request services"})]}),s.jsxs("button",{type:"button",onClick:()=>i("finder"),className:`p-3 sm:p-4 border-2 rounded-lg text-center transition-all ${n==="finder"?"border-finder-red bg-finder-red/10 text-finder-red":"border-gray-300 text-gray-600 hover:border-gray-400"}`,children:[s.jsx("div",{className:"font-semibold text-sm sm:text-base",children:"Finder"}),s.jsx("div",{className:"text-xs mt-1",children:"Provide services"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"firstName",className:"sr-only",children:"First name"}),s.jsx(at,{id:"firstName",name:"firstName",type:"text",required:!0,value:a.firstName,onChange:_,placeholder:"First name",className:"h-10 sm:h-12 border-gray-300 rounded-md text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"lastName",className:"sr-only",children:"Last name"}),s.jsx(at,{id:"lastName",name:"lastName",type:"text",required:!0,value:a.lastName,onChange:_,placeholder:"Last name",className:"h-10 sm:h-12 border-gray-300 rounded-md text-sm sm:text-base"})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"email",className:"sr-only",children:"Email"}),s.jsx(at,{id:"email",name:"email",type:"email",required:!0,value:a.email,onChange:_,placeholder:"Email",className:"h-10 sm:h-12 border-gray-300 rounded-md text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"password",className:"sr-only",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{id:"password",name:"password",type:f?"text":"password",required:!0,value:a.password,onChange:_,placeholder:"Password",className:"h-10 sm:h-12 border-gray-300 rounded-md pr-12 text-sm sm:text-base"}),s.jsx("button",{type:"button",onClick:()=>g(k=>!k),className:"absolute inset-y-0 right-0 px-3 text-gray-500 hover:text-gray-700",children:f?"Hide":"Show"})]}),s.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[s.jsxs("div",{className:`flex items-center gap-2 ${h.minLength?"text-green-600":"text-gray-500"}`,children:[s.jsx("span",{children:h.minLength?"":""}),s.jsx("span",{children:"At least 8 characters"})]}),s.jsxs("div",{className:`flex items-center gap-2 ${h.hasUppercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("span",{children:h.hasUppercase?"":""}),s.jsx("span",{children:"Contains uppercase letter (A-Z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 ${h.hasLowercase?"text-green-600":"text-gray-500"}`,children:[s.jsx("span",{children:h.hasLowercase?"":""}),s.jsx("span",{children:"Contains lowercase letter (a-z)"})]}),s.jsxs("div",{className:`flex items-center gap-2 ${h.hasNumber?"text-green-600":"text-gray-500"}`,children:[s.jsx("span",{children:h.hasNumber?"":""}),s.jsx("span",{children:"Contains a number (0-9)"})]}),s.jsxs("div",{className:`flex items-center gap-2 ${h.hasSpecialChar?"text-green-600":"text-gray-500"}`,children:[s.jsx("span",{children:h.hasSpecialChar?"":""}),s.jsx("span",{children:"Contains a special character (!@#$%^&*...)"})]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm password"}),s.jsx(at,{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:a.confirmPassword,onChange:_,placeholder:"Confirm password",className:"h-10 sm:h-12 border-gray-300 rounded-md text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"phone",className:"sr-only",children:"Phone number"}),s.jsx(at,{id:"phone",name:"phone",type:"tel",required:!0,value:a.phone,onChange:_,placeholder:"Phone number",className:"h-10 sm:h-12 border-gray-300 rounded-md text-sm sm:text-base"})]}),n==="finder"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"bio",className:"sr-only",children:"Bio"}),s.jsx(at,{id:"bio",name:"bio",value:a.bio,onChange:_,placeholder:"Short bio (optional)",className:"h-10 sm:h-12 border-gray-300 rounded-md text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"skills",className:"sr-only",children:"Skills"}),s.jsx(at,{id:"skills",name:"skills",value:a.skills,onChange:_,placeholder:"Skills (comma-separated)",className:"h-10 sm:h-12 border-gray-300 rounded-md text-sm sm:text-base"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"categories",children:"Categories"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Select all categories that match your skills and expertise:"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-48 overflow-y-auto p-3 border rounded-md bg-white/80",children:w?s.jsx("div",{className:"col-span-full text-center py-4 text-gray-500",children:"Loading categories..."}):b.length>0?b.filter(k=>k.isActive).map(k=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[s.jsx("input",{type:"checkbox",checked:a.categories.includes(k.name),onChange:E=>{const A=E.target.checked;o(C=>({...C,categories:A?[...C.categories,k.name]:C.categories.filter(T=>T!==k.name)}))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:k.name})]},k.id)):s.jsx("div",{className:"col-span-full text-center py-4 text-gray-500",children:"No categories available"})}),a.categories.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.categories.map(k=>s.jsxs(Ye,{variant:"secondary",className:"text-xs",children:[k,s.jsx("button",{type:"button",onClick:()=>{o(E=>({...E,categories:E.categories.filter(A=>A!==k)}))},className:"ml-1 text-gray-500 hover:text-gray-700",children:""})]},k))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"availability",children:"Availability"}),s.jsxs(Br,{value:a.availability,onValueChange:k=>o(E=>({...E,availability:k})),children:[s.jsx(Ir,{className:"bg-white/80 h-12",children:s.jsx(Ur,{placeholder:"Select your availability"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"full-time",children:"Full-time"}),s.jsx(dt,{value:"part-time",children:"Part-time"}),s.jsx(dt,{value:"contract",children:"Contract"})]})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"acceptTermsFinder",checked:d,onChange:k=>u(k.target.checked),className:"mt-1 rounded border-gray-300 text-finder-red focus:ring-finder-red"}),s.jsxs("label",{htmlFor:"acceptTermsFinder",className:"text-sm text-gray-600",children:["I agree to the"," ",s.jsx(Re,{href:"/terms-and-conditions",className:"text-finder-red hover:underline font-medium",children:"Terms and Conditions"})]})]}),s.jsx(ie,{type:"submit",disabled:l||!d||n==="finder"&&a.categories.length===0,className:"w-full h-12 bg-finder-red hover:bg-finder-red-dark text-white font-medium text-lg rounded-md",children:l?"Creating Account...":`Sign Up as ${n==="client"?"Client":"Finder"}`})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",s.jsx(Re,{href:"/login",className:"text-finder-red hover:underline font-medium",children:"Log In"})]})})]})})})})]})}function Xce(){const[,t]=sn(),{register:e}=tr(),{toast:r}=ar(),[n,i]=O.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",bio:"",category:"",categories:[],skills:"",availability:"full-time"}),[a,o]=O.useState(!1),[l,c]=O.useState(!1),{data:d=[],isLoading:u}=pt({queryKey:["/api/categories"]}),h=f=>{i({...n,[f.target.name]:f.target.value})},m=async f=>{if(f.preventDefault(),n.password!==n.confirmPassword){r({variant:"destructive",title:"Error",description:"Passwords do not match"});return}if(n.password.length<6){r({variant:"destructive",title:"Error",description:"Password must be at least 6 characters long"});return}if(!l){r({variant:"destructive",title:"Error",description:"Please accept the terms and conditions"});return}if(n.categories.length===0){r({variant:"destructive",title:"Error",description:"Please select at least one category"});return}o(!0);try{const g=n.skills.split(",").map(p=>p.trim()).filter(p=>p!=="");await e({firstName:n.firstName,lastName:n.lastName,email:n.email,password:n.password,phone:n.phone,role:"finder",bio:n.bio,category:n.category,categories:n.categories,skills:g,availability:n.availability}),r({title:"Success!",description:"Your finder account has been created successfully."}),t("/finder/dashboard")}catch(g){r({variant:"destructive",title:"Registration Failed",description:g.message||"Failed to create account"})}finally{o(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-finder-red text-white px-6 py-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[s.jsxs(Re,{href:"/",className:"flex items-center space-x-2",children:[s.jsx(am,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xl font-bold",children:"FinderMeister"})]}),s.jsxs("nav",{className:"flex items-center space-x-6",children:[s.jsx(Re,{href:"#",className:"hover:underline",children:"How it Works"}),s.jsx(Re,{href:"/login",className:"hover:underline",children:"Log In"}),s.jsx("span",{className:"bg-white text-finder-red px-3 py-1 rounded font-medium",children:"Sign Up"})]})]})}),s.jsxs("div",{className:"max-w-md mx-auto py-12 px-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Sign Up as a Finder"}),s.jsx("p",{className:"text-gray-600",children:"Create an account to find products and services for clients."})]}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("div",{className:"w-16 h-16 bg-finder-red/100 rounded-full flex items-center justify-center",children:s.jsx(zse,{className:"w-8 h-8 text-white"})})}),s.jsx(_e,{className:"border-0 shadow-lg",children:s.jsxs(Se,{className:"p-8",children:[s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"firstName",className:"sr-only",children:"First name"}),s.jsx(at,{id:"firstName",name:"firstName",type:"text",required:!0,value:n.firstName,onChange:h,placeholder:"First name",className:"h-12 border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"lastName",className:"sr-only",children:"Last name"}),s.jsx(at,{id:"lastName",name:"lastName",type:"text",required:!0,value:n.lastName,onChange:h,placeholder:"Last name",className:"h-12 border-gray-300 rounded-md"})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"email",className:"sr-only",children:"Email"}),s.jsx(at,{id:"email",name:"email",type:"email",required:!0,value:n.email,onChange:h,placeholder:"Email",className:"h-12 border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"password",className:"sr-only",children:"Password"}),s.jsx(at,{id:"password",name:"password",type:"password",required:!0,value:n.password,onChange:h,placeholder:"Password",className:"h-12 border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm password"}),s.jsx(at,{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:n.confirmPassword,onChange:h,placeholder:"Confirm password",className:"h-12 border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"phone",className:"sr-only",children:"Phone number"}),s.jsx(at,{id:"phone",name:"phone",type:"tel",required:!0,value:n.phone,onChange:h,placeholder:"Phone number",className:"h-12 border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"bio",className:"sr-only",children:"Bio"}),s.jsx(at,{id:"bio",name:"bio",value:n.bio,onChange:h,placeholder:"Short bio (optional)",className:"h-12 border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"skills",className:"sr-only",children:"Skills"}),s.jsx(at,{id:"skills",name:"skills",value:n.skills,onChange:h,placeholder:"Skills (comma-separated)",className:"h-12 border-gray-300 rounded-md"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"categories",children:"Categories"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Select all categories that match your skills and expertise:"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-48 overflow-y-auto p-3 border rounded-md bg-white/80",children:u?s.jsx("div",{className:"col-span-full text-center py-4 text-gray-500",children:"Loading categories..."}):d.length>0?d.filter(f=>f.isActive).map(f=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[s.jsx("input",{type:"checkbox",checked:n.categories.includes(f.name),onChange:g=>{const p=g.target.checked;i(x=>({...x,categories:p?[...x.categories,f.name]:x.categories.filter(y=>y!==f.name)}))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.name})]},f.id)):s.jsx("div",{className:"col-span-full text-center py-4 text-gray-500",children:"No categories available"})}),n.categories.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.categories.map(f=>s.jsxs(Ye,{variant:"secondary",className:"text-xs",children:[f,s.jsx("button",{type:"button",onClick:()=>{i(g=>({...g,categories:g.categories.filter(p=>p!==f)}))},className:"ml-1 text-gray-500 hover:text-gray-700",children:""})]},f))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"availability",children:"Availability"}),s.jsxs(Br,{value:n.availability,onValueChange:f=>i(g=>({...g,availability:f})),children:[s.jsx(Ir,{className:"bg-white/80 h-12",children:s.jsx(Ur,{placeholder:"Select your availability"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"full-time",children:"Full-time"}),s.jsx(dt,{value:"part-time",children:"Part-time"}),s.jsx(dt,{value:"contract",children:"Contract"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"acceptTermsFinder",checked:l,onChange:f=>c(f.target.checked),className:"mt-1 rounded border-gray-300 text-finder-red focus:ring-finder-red"}),s.jsxs("label",{htmlFor:"acceptTermsFinder",className:"text-sm text-gray-600",children:["I agree to the"," ",s.jsx(Re,{href:"/terms-and-conditions",className:"text-finder-red hover:underline font-medium",children:"Terms and Conditions"})]})]}),s.jsx(ie,{type:"submit",disabled:a||!l||n.categories.length===0,className:"w-full h-12 bg-finder-red hover:bg-finder-red-dark text-white font-medium text-lg rounded-md",children:a?"Creating Account...":"Sign Up"})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",s.jsx(Re,{href:"/login",className:"text-finder-red hover:underline font-medium",children:"Log In"})]})})]})})]})]})}function Jce(){const{user:t,logout:e}=tr();ar();const{t:r}=Wc(),n=d=>{if(d==null)return"0";const u=typeof d=="string"?parseFloat(d):d;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(u)},i=d=>{const u=new Date(d),m=Math.abs(new Date().getTime()-u.getTime()),f=Math.ceil(m/(1e3*60*60*24));return f===1?"1 day ago":f<7?`${f} days ago`:f<14?"1 week ago":f<30?`${Math.ceil(f/7)} weeks ago`:`${Math.ceil(f/30)} months ago`},{data:a=[],isLoading:o}=pt({queryKey:["/api/client/finds"],enabled:!!t&&t.role==="client"}),{data:l=[],isLoading:c}=pt({queryKey:["/api/client/proposals"],enabled:!!t&&t.role==="client"});return t&&t.role!=="client"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:r("common.access_denied")}),s.jsx("p",{className:"text-gray-600 mb-4",children:r("common.client_only_page")}),s.jsx(Re,{href:"/finder/dashboard",children:s.jsx(ie,{children:r("navigation.finder_dashboard")})})]})}):o||c?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{currentPage:"dashboard"}),s.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[s.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Finds"}),s.jsx("p",{className:"text-gray-600",children:"Manage your posted finds and track their progress"})]}),s.jsxs("div",{className:"mt-4 sm:mt-0 flex gap-3",children:[s.jsx(Re,{href:"/client/create-find",children:s.jsxs(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Post New Find"]})}),s.jsx(Re,{href:"/client/proposals",children:s.jsxs(ie,{variant:"outline",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"View Proposals"]})})]})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg w-fit",children:s.jsx("button",{className:"px-4 py-2 text-sm font-medium text-white bg-finder-red rounded-md",children:"Open Requests"})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-0",children:a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ds,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No finds posted yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start by posting your first find to connect with talented finders"}),s.jsx(Re,{href:"/client/create-find",children:s.jsxs(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Post Your First Find"]})})]}):s.jsxs("div",{className:"overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block bg-gray-50 px-6 py-4 border-b border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-medium text-gray-700",children:[s.jsx("div",{className:"col-span-5",children:"Title"}),s.jsx("div",{className:"col-span-2",children:"Budget"}),s.jsx("div",{className:"col-span-2",children:"Posted"}),s.jsx("div",{className:"col-span-2",children:"Status"}),s.jsx("div",{className:"col-span-1"})]})}),s.jsx("div",{className:"divide-y divide-gray-200",children:a.map(d=>{var u,h;return s.jsxs("div",{className:"px-4 sm:px-6 py-4 hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"hidden lg:grid lg:grid-cols-12 gap-4 items-center",children:[s.jsxs("div",{className:"col-span-5",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:d.title}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:d.description})]}),s.jsx("div",{className:"col-span-2",children:s.jsxs("div",{className:"text-sm font-semibold text-green-600",children:[n(d.budgetMin)," - ",n(d.budgetMax)]})}),s.jsx("div",{className:"col-span-2",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),i(d.createdAt||"")]})}),s.jsx("div",{className:"col-span-2",children:s.jsx(Ye,{variant:d.status==="active"||d.status==="open"?"default":d.status==="in_progress"?"secondary":d.status==="completed"?"outline":"destructive",className:d.status==="active"||d.status==="open"?"bg-blue-100 text-blue-700 hover:bg-blue-200":d.status==="in_progress"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":d.status==="completed"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200",children:d.status==="active"||d.status==="open"?"Open":d.status==="in_progress"?"In Progress":d.status==="completed"?"Completed":((u=d.status)==null?void 0:u.replace("_"," "))||"Pending"})}),s.jsx("div",{className:"col-span-1",children:s.jsx(Re,{href:`/client/finds/${d.id}`,children:s.jsx(ie,{size:"sm",variant:"ghost",className:"text-finder-red hover:text-finder-red-dark hover:bg-finder-red/10",children:"View"})})})]}),s.jsxs("div",{className:"lg:hidden space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:d.title}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 line-clamp-2",children:d.description})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Re,{href:`/client/finds/${d.id}`,children:s.jsxs(ie,{size:"sm",variant:"ghost",className:"text-finder-red hover:text-finder-red-dark hover:bg-finder-red/10 px-2 sm:px-3",children:[s.jsx("span",{className:"hidden sm:inline",children:"View"}),s.jsx("span",{className:"sm:hidden text-xs",children:"View"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Budget: "}),s.jsxs("span",{className:"font-semibold text-green-600",children:[n(d.budgetMin)," - ",n(d.budgetMax)]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_n,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 text-gray-500"}),s.jsx("span",{className:"text-gray-600",children:i(d.createdAt||"")})]}),s.jsx("div",{className:"flex items-center",children:s.jsx(Ye,{variant:d.status==="active"||d.status==="open"?"default":d.status==="in_progress"?"secondary":d.status==="completed"?"outline":"destructive",className:`text-xs ${d.status==="active"||d.status==="open"?"bg-blue-100 text-blue-700 hover:bg-blue-200":d.status==="in_progress"?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":d.status==="completed"?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:d.status==="active"||d.status==="open"?"Open":d.status==="in_progress"?"In Progress":d.status==="completed"?"Completed":((h=d.status)==null?void 0:h.replace("_"," "))||"Pending"})})]})]})]},d.id)})})]})})}),a.length>0&&s.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(_e,{children:s.jsxs(Se,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:a.filter(d=>d.status==="open"||d.status==="active").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Open Finds"})]})}),s.jsx(_e,{children:s.jsxs(Se,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:a.filter(d=>d.status==="in_progress").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"In Progress"})]})}),s.jsx(_e,{children:s.jsxs(Se,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:a.filter(d=>d.status==="completed").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})}),s.jsx(_e,{children:s.jsxs(Se,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:l.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Proposals"})]})})]})]})]})}const Ms=O.forwardRef(({className:t,...e},r)=>s.jsx("textarea",{className:Ot("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Ms.displayName="Textarea";const Zce=dg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),No=O.forwardRef(({className:t,variant:e,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Ot(Zce({variant:e}),t),...r}));No.displayName="Alert";const ede=O.forwardRef(({className:t,...e},r)=>s.jsx("h5",{ref:r,className:Ot("mb-1 font-medium leading-none tracking-tight",t),...e}));ede.displayName="AlertTitle";const jo=O.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Ot("text-sm [&_p]:leading-relaxed",t),...e}));jo.displayName="AlertDescription";function tde(t,e,r){const n=[];return t.forEach(i=>typeof i!="string"?n.push(i):e[Symbol.split](i).forEach((a,o,l)=>{a!==""&&n.push(a),o<l.length-1&&n.push(r)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function gP(t,e){const r=/\$/g,n="$$$$";let i=[t];if(e==null)return i;for(const a of Object.keys(e))if(a!=="_"){let o=e[a];typeof o=="string"&&(o=r[Symbol.replace](o,n)),i=tde(i,new RegExp(`%\\{${a}\\}`,"g"),o)}return i}const rde=t=>{throw new Error(`missing string: ${t}`)};var my,py,e3,jR;let $z=(jR=class{constructor(e,{onMissingKey:r=rde}={}){Ge(this,py);ce(this,"locale");Ge(this,my);this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(e)?e.forEach(it(this,py,e3),this):it(this,py,e3).call(this,e),et(this,my,r)}translate(e,r){return this.translateArray(e,r).join("")}translateArray(e,r){let n=this.locale.strings[e];if(n==null&&(Y(this,my).call(this,e),n=e),typeof n=="object"){if(r&&typeof r.smart_count<"u"){const a=this.locale.pluralize(r.smart_count);return gP(n[a],r)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return gP(n,r)}},my=new WeakMap,py=new WeakSet,e3=function(e){if(!(e!=null&&e.strings))return;const r=this.locale;Object.assign(this.locale,{strings:{...r.strings,...e.strings},pluralize:e.pluralize||r.pluralize})},jR);class qz{constructor(e,r){ce(this,"uppy");ce(this,"opts");ce(this,"id");ce(this,"defaultLocale");ce(this,"i18n");ce(this,"i18nArray");ce(this,"type");ce(this,"VERSION");this.uppy=e,this.opts=r??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:r}=this.uppy.getState();this.uppy.setState({plugins:{...r,[this.id]:{...r[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new $z([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function l4(t){return t<10?`0${t}`:t.toString()}function p2(){const t=new Date,e=l4(t.getHours()),r=l4(t.getMinutes()),n=l4(t.getSeconds());return`${e}:${r}:${n}`}const sde={debug:()=>{},warn:()=>{},error:(...t)=>console.error(`[Uppy] [${p2()}]`,...t)},nde={debug:(...t)=>console.debug(`[Uppy] [${p2()}]`,...t),warn:(...t)=>console.warn(`[Uppy] [${p2()}]`,...t),error:(...t)=>console.error(`[Uppy] [${p2()}]`,...t)};function zz(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function ide(t,e=document){return typeof t=="string"?e.querySelector(t):zz(t)?t:null}function Vz(t){for(;t&&!t.dir;)t=t.parentNode;return t==null?void 0:t.dir}var Jy,Or,Hz,lf,xP,Wz,Kz,Gz,nC,t3,r3,Pv={},Yz=[],ade=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Zy=Array.isArray;function Cc(t,e){for(var r in e)t[r]=e[r];return t}function iC(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Fv(t,e,r){var n,i,a,o={};for(a in e)a=="key"?n=e[a]:a=="ref"?i=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?Jy.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(a in t.defaultProps)o[a]===void 0&&(o[a]=t.defaultProps[a]);return Wx(t,o,n,i,null)}function Wx(t,e,r,n,i){var a={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Hz,__i:-1,__u:0};return i==null&&Or.vnode!=null&&Or.vnode(a),a}function ode(){return{current:null}}function Fl(t){return t.children}function Ga(t,e){this.props=t,this.context=e}function V0(t,e){if(e==null)return t.__?V0(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?V0(t):null}function Qz(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Qz(t)}}function vP(t){(!t.__d&&(t.__d=!0)&&lf.push(t)&&!hw.__r++||xP!=Or.debounceRendering)&&((xP=Or.debounceRendering)||Wz)(hw)}function hw(){for(var t,e,r,n,i,a,o,l=1;lf.length;)lf.length>l&&lf.sort(Kz),t=lf.shift(),l=lf.length,t.__d&&(r=void 0,n=void 0,i=(n=(e=t).__v).__e,a=[],o=[],e.__P&&((r=Cc({},n)).__v=n.__v+1,Or.vnode&&Or.vnode(r),aC(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,a,i??V0(n),!!(32&n.__u),o),r.__v=n.__v,r.__.__k[r.__i]=r,Zz(a,r,o),n.__e=n.__=null,r.__e!=i&&Qz(r)));hw.__r=0}function Xz(t,e,r,n,i,a,o,l,c,d,u){var h,m,f,g,p,x,y,v=n&&n.__k||Yz,b=e.length;for(c=lde(r,e,v,c,b),h=0;h<b;h++)(f=r.__k[h])!=null&&(m=f.__i==-1?Pv:v[f.__i]||Pv,f.__i=h,x=aC(t,f,m,i,a,o,l,c,d,u),g=f.__e,f.ref&&m.ref!=f.ref&&(m.ref&&oC(m.ref,null,f),u.push(f.ref,f.__c||g,f)),p==null&&g!=null&&(p=g),(y=!!(4&f.__u))||m.__k===f.__k?c=Jz(f,c,t,y):typeof f.type=="function"&&x!==void 0?c=x:g&&(c=g.nextSibling),f.__u&=-7);return r.__e=p,c}function lde(t,e,r,n,i){var a,o,l,c,d,u=r.length,h=u,m=0;for(t.__k=new Array(i),a=0;a<i;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+m,(o=t.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Wx(null,o,null,null,null):Zy(o)?Wx(Fl,{children:o},null,null,null):o.constructor==null&&o.__b>0?Wx(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=t,o.__b=t.__b+1,l=null,(d=o.__i=cde(o,r,c,h))!=-1&&(h--,(l=r[d])&&(l.__u|=2)),l==null||l.__v==null?(d==-1&&(i>u?m--:i<u&&m++),typeof o.type!="function"&&(o.__u|=4)):d!=c&&(d==c-1?m--:d==c+1?m++:(d>c?m--:m++,o.__u|=4))):t.__k[a]=null;if(h)for(a=0;a<u;a++)(l=r[a])!=null&&!(2&l.__u)&&(l.__e==n&&(n=V0(l)),tV(l,l));return n}function Jz(t,e,r,n){var i,a;if(typeof t.type=="function"){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,e=Jz(i[a],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=V0(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Al(t,e){return e=e||[],t==null||typeof t=="boolean"||(Zy(t)?t.some(function(r){Al(r,e)}):e.push(t)),e}function cde(t,e,r,n){var i,a,o,l=t.key,c=t.type,d=e[r],u=d!=null&&(2&d.__u)==0;if(d===null&&t.key==null||u&&l==d.key&&c==d.type)return r;if(n>(u?1:0)){for(i=r-1,a=r+1;i>=0||a<e.length;)if((d=e[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&l==d.key&&c==d.type)return o}return-1}function yP(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||ade.test(e)?r:r+"px"}function vb(t,e,r,n,i){var a,o;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||yP(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||yP(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(Gz,"$1")),o=e.toLowerCase(),e=o in t||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+a]=r,r?n?r.u=n.u:(r.u=nC,t.addEventListener(e,a?r3:t3,a)):t.removeEventListener(e,a?r3:t3,a);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function bP(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=nC++;else if(e.t<r.u)return;return r(Or.event?Or.event(e):e)}}}function aC(t,e,r,n,i,a,o,l,c,d){var u,h,m,f,g,p,x,y,v,b,w,_,N,j,k,E,A,C=e.type;if(e.constructor!=null)return null;128&r.__u&&(c=!!(32&r.__u),a=[l=e.__e=r.__e]),(u=Or.__b)&&u(e);e:if(typeof C=="function")try{if(y=e.props,v="prototype"in C&&C.prototype.render,b=(u=C.contextType)&&n[u.__c],w=u?b?b.props.value:u.__:n,r.__c?x=(h=e.__c=r.__c).__=h.__E:(v?e.__c=h=new C(y,w):(e.__c=h=new Ga(y,w),h.constructor=C,h.render=ude),b&&b.sub(h),h.props=y,h.state||(h.state={}),h.context=w,h.__n=n,m=h.__d=!0,h.__h=[],h._sb=[]),v&&h.__s==null&&(h.__s=h.state),v&&C.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Cc({},h.__s)),Cc(h.__s,C.getDerivedStateFromProps(y,h.__s))),f=h.props,g=h.state,h.__v=e,m)v&&C.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),v&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(v&&C.getDerivedStateFromProps==null&&y!==f&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(y,w),!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(y,h.__s,w)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(h.props=y,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(T){T&&(T.__=e)}),_=0;_<h._sb.length;_++)h.__h.push(h._sb[_]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(y,h.__s,w),v&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(f,g,p)})}if(h.context=w,h.props=y,h.__P=t,h.__e=!1,N=Or.__r,j=0,v){for(h.state=h.__s,h.__d=!1,N&&N(e),u=h.render(h.props,h.state,h.context),k=0;k<h._sb.length;k++)h.__h.push(h._sb[k]);h._sb=[]}else do h.__d=!1,N&&N(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++j<25);h.state=h.__s,h.getChildContext!=null&&(n=Cc(Cc({},n),h.getChildContext())),v&&!m&&h.getSnapshotBeforeUpdate!=null&&(p=h.getSnapshotBeforeUpdate(f,g)),E=u,u!=null&&u.type===Fl&&u.key==null&&(E=eV(u.props.children)),l=Xz(t,Zy(E)?E:[E],e,r,n,i,a,o,l,c,d),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),x&&(h.__E=h.__=null)}catch(T){if(e.__v=null,c||a!=null)if(T.then){for(e.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,e.__e=l}else{for(A=a.length;A--;)iC(a[A]);s3(e)}else e.__e=r.__e,e.__k=r.__k,T.then||s3(e);Or.__e(T,e,r)}else a==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):l=e.__e=dde(r.__e,e,r,n,i,a,o,c,d);return(u=Or.diffed)&&u(e),128&e.__u?void 0:l}function s3(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(s3)}function Zz(t,e,r){for(var n=0;n<r.length;n++)oC(r[n],r[++n],r[++n]);Or.__c&&Or.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(a){a.call(i)})}catch(a){Or.__e(a,i.__v)}})}function eV(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Zy(t)?t.map(eV):Cc({},t)}function dde(t,e,r,n,i,a,o,l,c){var d,u,h,m,f,g,p,x=r.props,y=e.props,v=e.type;if(v=="svg"?i="http://www.w3.org/2000/svg":v=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((f=a[d])&&"setAttribute"in f==!!v&&(v?f.localName==v:f.nodeType==3)){t=f,a[d]=null;break}}if(t==null){if(v==null)return document.createTextNode(y);t=document.createElementNS(i,v,y.is&&y),l&&(Or.__m&&Or.__m(e,a),l=!1),a=null}if(v==null)x===y||l&&t.data==y||(t.data=y);else{if(a=a&&Jy.call(t.childNodes),x=r.props||Pv,!l&&a!=null)for(x={},d=0;d<t.attributes.length;d++)x[(f=t.attributes[d]).name]=f.value;for(d in x)if(f=x[d],d!="children"){if(d=="dangerouslySetInnerHTML")h=f;else if(!(d in y)){if(d=="value"&&"defaultValue"in y||d=="checked"&&"defaultChecked"in y)continue;vb(t,d,null,f,i)}}for(d in y)f=y[d],d=="children"?m=f:d=="dangerouslySetInnerHTML"?u=f:d=="value"?g=f:d=="checked"?p=f:l&&typeof f!="function"||x[d]===f||vb(t,d,f,x[d],i);if(u)l||h&&(u.__html==h.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),Xz(e.type=="template"?t.content:t,Zy(m)?m:[m],e,r,n,v=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:r.__k&&V0(r,0),l,c),a!=null)for(d=a.length;d--;)iC(a[d]);l||(d="value",v=="progress"&&g==null?t.removeAttribute("value"):g!=null&&(g!==t[d]||v=="progress"&&!g||v=="option"&&g!=x[d])&&vb(t,d,g,x[d],i),d="checked",p!=null&&p!=t[d]&&vb(t,d,p,x[d],i))}return t}function oC(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Or.__e(i,r)}}function tV(t,e,r){var n,i;if(Or.unmount&&Or.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||oC(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){Or.__e(a,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&tV(n[i],e,r||typeof t.type!="function");r||iC(t.__e),t.__c=t.__=t.__e=void 0}function ude(t,e,r){return this.constructor(t,r)}function hde(t,e,r){var n,i,a,o;e==document&&(e=document.documentElement),Or.__&&Or.__(t,e),i=(n=!1)?null:e.__k,a=[],o=[],aC(e,t=e.__k=Fv(Fl,null,[t]),i||Pv,Pv,e.namespaceURI,i?null:e.firstChild?Jy.call(e.childNodes):null,a,i?i.__e:e.firstChild,n,o),Zz(a,t,o)}function rV(t,e,r){var n,i,a,o,l=Cc({},t.props);for(a in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)a=="key"?n=e[a]:a=="ref"?i=e[a]:l[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(l.children=arguments.length>3?Jy.call(arguments,2):r),Wx(t.type,l,n||t.key,i||t.ref,null)}Jy=Yz.slice,Or={__e:function(t,e,r,n){for(var i,a,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(l){t=l}throw t}},Hz=0,Ga.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Cc({},this.state),typeof t=="function"&&(t=t(Cc({},r),this.props)),t&&Cc(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),vP(this))},Ga.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),vP(this))},Ga.prototype.render=Fl,lf=[],Wz=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Kz=function(t,e){return t.__v.__b-e.__v.__b},hw.__r=0,Gz=/(PointerCapture)$|Capture$/i,nC=0,t3=bP(!1),r3=bP(!0);var Ov,On,c4,wP,Lv=0,sV=[],Vn=Or,NP=Vn.__b,jP=Vn.__r,_P=Vn.diffed,SP=Vn.__c,kP=Vn.unmount,CP=Vn.__;function lC(t,e){Vn.__h&&Vn.__h(On,t,Lv||e),Lv=0;var r=On.__H||(On.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function fw(t){return Lv=1,fde(iV,t)}function fde(t,e,r){var n=lC(Ov++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):iV(void 0,e),function(l){var c=n.__N?n.__N[0]:n.__[0],d=n.t(c,l);c!==d&&(n.__N=[d,n.__[1]],n.__c.setState({}))}],n.__c=On,!On.__f)){var i=function(l,c,d){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(m){return!!m.__c});if(u.every(function(m){return!m.__N}))return!a||a.call(this,l,c,d);var h=n.__c.props!==l;return u.forEach(function(m){if(m.__N){var f=m.__[0];m.__=m.__N,m.__N=void 0,f!==m.__[0]&&(h=!0)}}),a&&a.call(this,l,c,d)||h};On.__f=!0;var a=On.shouldComponentUpdate,o=On.componentWillUpdate;On.componentWillUpdate=function(l,c,d){if(this.__e){var u=a;a=void 0,i(l,c,d),a=u}o&&o.call(this,l,c,d)},On.shouldComponentUpdate=i}return n.__N||n.__}function n3(t,e){var r=lC(Ov++,3);!Vn.__s&&nV(r.__H,e)&&(r.__=t,r.u=e,On.__H.__h.push(r))}function g2(t){return Lv=5,cC(function(){return{current:t}},[])}function cC(t,e){var r=lC(Ov++,7);return nV(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function mde(t,e){return Lv=8,cC(function(){return t},e)}function pde(){for(var t;t=sV.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(x2),t.__H.__h.forEach(i3),t.__H.__h=[]}catch(e){t.__H.__h=[],Vn.__e(e,t.__v)}}Vn.__b=function(t){On=null,NP&&NP(t)},Vn.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),CP&&CP(t,e)},Vn.__r=function(t){jP&&jP(t),Ov=0;var e=(On=t.__c).__H;e&&(c4===On?(e.__h=[],On.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(x2),e.__h.forEach(i3),e.__h=[],Ov=0)),c4=On},Vn.diffed=function(t){_P&&_P(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(sV.push(e)!==1&&wP===Vn.requestAnimationFrame||((wP=Vn.requestAnimationFrame)||gde)(pde)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),c4=On=null},Vn.__c=function(t,e){e.some(function(r){try{r.__h.forEach(x2),r.__h=r.__h.filter(function(n){return!n.__||i3(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Vn.__e(n,r.__v)}}),SP&&SP(t,e)},Vn.unmount=function(t){kP&&kP(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{x2(n)}catch(i){e=i}}),r.__H=void 0,e&&Vn.__e(e,r.__v))};var AP=typeof requestAnimationFrame=="function";function gde(t){var e,r=function(){clearTimeout(n),AP&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);AP&&(e=requestAnimationFrame(r))}function x2(t){var e=On,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),On=e}function i3(t){var e=On;t.__c=t.__(),On=e}function nV(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function iV(t,e){return typeof e=="function"?e(t):e}function xde(t,e){for(var r in e)t[r]=e[r];return t}function EP(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function TP(t,e){this.props=t,this.context=e}(TP.prototype=new Ga).isPureReactComponent=!0,TP.prototype.shouldComponentUpdate=function(t,e){return EP(this.props,t)||EP(this.state,e)};var PP=Or.__b;Or.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),PP&&PP(t)};var vde=Or.__e;Or.__e=function(t,e,r,n){if(t.then){for(var i,a=e;a=a.__;)if((i=a.__c)&&i.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),i.__c(t,e)}vde(t,e,r,n)};var FP=Or.unmount;function aV(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=xde({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return aV(n,e,r)})),t}function oV(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return oV(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function d4(){this.__u=0,this.o=null,this.__b=null}function lV(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function yb(){this.i=null,this.l=null}Or.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),FP&&FP(t)},(d4.prototype=new Ga).__c=function(t,e){var r=e.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var i=lV(n.__v),a=!1,o=function(){a||(a=!0,r.__R=null,i?i(l):l())};r.__R=o;var l=function(){if(!--n.__u){if(n.state.__a){var c=n.state.__a;n.__v.__k[0]=oV(c,c.__c.__P,c.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.o.pop();)d.forceUpdate()}};n.__u++||32&e.__u||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(o,o)},d4.prototype.componentWillUnmount=function(){this.o=[]},d4.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=aV(this.__b,r,n.__O=n.__P)}this.__b=null}var i=e.__a&&Fv(Fl,null,t.fallback);return i&&(i.__u&=-33),[Fv(Fl,null,e.__a?null:t.children),i]};var OP=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(yb.prototype=new Ga).__a=function(t){var e=this,r=lV(e.__v),n=e.l.get(t);return n[0]++,function(i){var a=function(){e.props.revealOrder?(n.push(i),OP(e,t,n)):i()};r?r(a):a()}},yb.prototype.render=function(t){this.i=null,this.l=new Map;var e=Al(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},yb.prototype.componentDidUpdate=yb.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,r){OP(t,r,e)})};var yde=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,bde=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,wde=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Nde=/[A-Z0-9]/g,jde=typeof document<"u",_de=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function LP(t,e,r){return e.__k==null&&(e.textContent=""),hde(t,e),typeof r=="function"&&r(),t?t.__c:null}Ga.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(Ga.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var RP=Or.event;function Sde(){}function kde(){return this.cancelBubble}function Cde(){return this.defaultPrevented}Or.event=function(t){return RP&&(t=RP(t)),t.persist=Sde,t.isPropagationStopped=kde,t.isDefaultPrevented=Cde,t.nativeEvent=t};var Ade={enumerable:!1,configurable:!0,get:function(){return this.class}},IP=Or.vnode;Or.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,n=e.type,i={},a=n.indexOf("-")===-1;for(var o in r){var l=r[o];if(!(o==="value"&&"defaultValue"in r&&l==null||jde&&o==="children"&&n==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in r&&r.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||n!=="input"&&n!=="textarea"||_de(r.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":wde.test(o)&&(o=c):c=o="oninput":a&&bde.test(o)?o=o.replace(Nde,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&i[o=c]&&(o="oninputCapture"),i[o]=l}}n=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Al(r.children).forEach(function(d){d.props.selected=i.value.indexOf(d.props.value)!=-1})),n=="select"&&i.defaultValue!=null&&(i.value=Al(r.children).forEach(function(d){d.props.selected=i.multiple?i.defaultValue.indexOf(d.props.value)!=-1:i.defaultValue==d.props.value})),r.class&&!r.className?(i.class=r.class,Object.defineProperty(i,"className",Ade)):(r.className&&!r.class||r.class&&r.className)&&(i.class=i.className=r.className),e.props=i}(t),t.$$typeof=yde,IP&&IP(t)};var DP=Or.__r;Or.__r=function(t){DP&&DP(t),t.__c};var MP=Or.diffed;Or.diffed=function(t){MP&&MP(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value)};function Ede(t){let e=null,r;return(...n)=>(r=n,e||(e=Promise.resolve().then(()=>(e=null,t(...r)))),e)}var gy;const aN=class aN extends qz{constructor(){super(...arguments);Ge(this,gy);ce(this,"isTargetDOMEl");ce(this,"el");ce(this,"parent");ce(this,"title")}getTargetPlugin(r){let n;if(typeof(r==null?void 0:r.addTarget)=="function")n=r,n instanceof aN||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:n,UIPlugin:aN}}));else if(typeof r=="function"){const i=r;this.uppy.iteratePlugins(a=>{a instanceof i&&(n=a)})}return n}mount(r,n){const i=n.id,a=ide(r);if(a){this.isTargetDOMEl=!0;const c=document.createElement("div");return c.classList.add("uppy-Root"),et(this,gy,Ede(d=>{this.uppy.getPlugin(this.id)&&(LP(this.render(d,c),c),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(a.innerHTML=""),LP(this.render(this.uppy.getState(),c),c),this.el=c,a.appendChild(c),c.dir=this.opts.direction||Vz(c)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(r);if(o)return this.uppy.log(`Installing ${i} to ${o.id}`),this.parent=o,this.el=o.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let l=`Invalid target option given to ${i}.`;throw typeof r=="function"?l+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":l+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(l)}render(r,n){throw new Error("Extend the render method to add your plugin to a DOM element")}update(r){var n;this.el!=null&&((n=Y(this,gy))==null||n.call(this,r))}unmount(){var r;this.isTargetDOMEl&&((r=this.el)==null||r.remove()),this.onUnmount()}onMount(){}onUnmount(){}};gy=new WeakMap;let H0=aN;const Tde="4.3.2",Pde={version:Tde};var d0,oN,dV;class cV{constructor(){Ge(this,oN);ce(this,"state",{});Ge(this,d0,new Set)}getState(){return this.state}setState(e){const r={...this.state},n={...this.state,...e};this.state=n,it(this,oN,dV).call(this,r,n,e)}subscribe(e){return Y(this,d0).add(e),()=>{Y(this,d0).delete(e)}}}d0=new WeakMap,oN=new WeakSet,dV=function(...e){Y(this,d0).forEach(r=>{r(...e)})},ce(cV,"VERSION",Pde.version);function uV(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const BP={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function hV(t){var r;if(t.type)return t.type;const e=t.name?(r=uV(t.name).extension)==null?void 0:r.toLowerCase():null;return e&&e in BP?BP[e]:"application/octet-stream"}function Fde(t){return t.charCodeAt(0).toString(32)}function UP(t){let e="";return t.replace(/[^A-Z0-9]/gi,r=>(e+=`-${Fde(r)}`,"/"))+e}function Ode(t,e){let r=e||"uppy";return typeof t.name=="string"&&(r+=`-${UP(t.name.toLowerCase())}`),t.type!==void 0&&(r+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(r+=`-${UP(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(r+=`-${t.data.size}`),t.data.lastModified!==void 0&&(r+=`-${t.data.lastModified}`),r}function Lde(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function Rde(t,e){if(Lde(t))return t.id;const r=hV(t);return Ode({...t,type:r},e)}function Ide(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var e1=Ide,Dde=typeof xo=="object"&&xo&&xo.Object===Object&&xo,fV=Dde,Mde=fV,Bde=typeof self=="object"&&self&&self.Object===Object&&self,Ude=Mde||Bde||Function("return this")(),Kc=Ude,$de=Kc,qde=function(){return $de.Date.now()},zde=qde,Vde=/\s/;function Hde(t){for(var e=t.length;e--&&Vde.test(t.charAt(e)););return e}var Wde=Hde,Kde=Wde,Gde=/^\s+/;function Yde(t){return t&&t.slice(0,Kde(t)+1).replace(Gde,"")}var Qde=Yde,Xde=Kc,Jde=Xde.Symbol,dC=Jde,$P=dC,mV=Object.prototype,Zde=mV.hasOwnProperty,eue=mV.toString,dx=$P?$P.toStringTag:void 0;function tue(t){var e=Zde.call(t,dx),r=t[dx];try{t[dx]=void 0;var n=!0}catch{}var i=eue.call(t);return n&&(e?t[dx]=r:delete t[dx]),i}var rue=tue,sue=Object.prototype,nue=sue.toString;function iue(t){return nue.call(t)}var aue=iue,qP=dC,oue=rue,lue=aue,cue="[object Null]",due="[object Undefined]",zP=qP?qP.toStringTag:void 0;function uue(t){return t==null?t===void 0?due:cue:zP&&zP in Object(t)?oue(t):lue(t)}var t1=uue;function hue(t){return t!=null&&typeof t=="object"}var r1=hue,fue=t1,mue=r1,pue="[object Symbol]";function gue(t){return typeof t=="symbol"||mue(t)&&fue(t)==pue}var xue=gue,vue=Qde,VP=e1,yue=xue,HP=NaN,bue=/^[-+]0x[0-9a-f]+$/i,wue=/^0b[01]+$/i,Nue=/^0o[0-7]+$/i,jue=parseInt;function _ue(t){if(typeof t=="number")return t;if(yue(t))return HP;if(VP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=VP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vue(t);var r=wue.test(t);return r||Nue.test(t)?jue(t.slice(2),r?2:8):bue.test(t)?HP:+t}var Sue=_ue,kue=e1,u4=zde,WP=Sue,Cue="Expected a function",Aue=Math.max,Eue=Math.min;function Tue(t,e,r){var n,i,a,o,l,c,d=0,u=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(Cue);e=WP(e)||0,kue(r)&&(u=!!r.leading,h="maxWait"in r,a=h?Aue(WP(r.maxWait)||0,e):a,m="trailing"in r?!!r.trailing:m);function f(N){var j=n,k=i;return n=i=void 0,d=N,o=t.apply(k,j),o}function g(N){return d=N,l=setTimeout(y,e),u?f(N):o}function p(N){var j=N-c,k=N-d,E=e-j;return h?Eue(E,a-k):E}function x(N){var j=N-c,k=N-d;return c===void 0||j>=e||j<0||h&&k>=a}function y(){var N=u4();if(x(N))return v(N);l=setTimeout(y,p(N))}function v(N){return l=void 0,m&&n?f(N):(n=i=void 0,o)}function b(){l!==void 0&&clearTimeout(l),d=0,n=c=i=l=void 0}function w(){return l===void 0?o:v(u4())}function _(){var N=u4(),j=x(N);if(n=arguments,i=this,c=N,j){if(l===void 0)return g(c);if(h)return clearTimeout(l),l=setTimeout(y,e),f(c)}return l===void 0&&(l=setTimeout(y,e)),o}return _.cancel=b,_.flush=w,_}var pV=Tue;const Pue=zc(pV);var Fue=pV,Oue=e1,Lue="Expected a function";function Rue(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Lue);return Oue(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Fue(t,e,{leading:n,maxWait:e,trailing:i})}var Iue=Rue;const Due=zc(Iue);var Mue=function(){var e={},r=e._fns={};e.emit=function(o,l,c,d,u,h,m){var f=n(o);f.length&&i(o,f,[l,c,d,u,h,m])},e.on=function(o,l){r[o]||(r[o]=[]),r[o].push(l)},e.once=function(o,l){function c(){l.apply(this,arguments),e.off(o,c)}this.on(o,c)},e.off=function(o,l){var c=[];if(o&&l){var d=this._fns[o],u=0,h=d?d.length:0;for(u;u<h;u++)d[u]!==l&&c.push(d[u])}c.length?this._fns[o]=c:delete this._fns[o]};function n(a){var o=r[a]?r[a]:[],l=a.indexOf(":"),c=l===-1?[a]:[a.substring(0,l),a.substring(l+1)],d=Object.keys(r),u=0,h=d.length;for(u;u<h;u++){var m=d[u];if(m==="*"&&(o=o.concat(r[m])),c.length===2&&c[0]===m){o=o.concat(r[m]);break}}return o}function i(a,o,l){var c=0,d=o.length;for(c;c<d&&o[c];c++)o[c].event=a,o[c].apply(o[c],l)}return e};const Bue=zc(Mue);let Uue="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",uC=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Uue[Math.random()*64|0];return e};const $ue="4.5.3",que={version:$ue};function zue(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}const Vue={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var Hue=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const r=e<0;let n=Math.abs(e);if(r&&(n=-n),n===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.min(Math.floor(Math.log(n)/Math.log(1024)),i.length-1),o=Number(n/1024**a),l=i[a];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${l}`};const gf=zc(Hue);function gV(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}gV.prototype.match=function(t){var e=!0,r=this.parts,n,i=r.length,a;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(a=(t||"").split(this.separator),n=0;e&&n<i;n++)r[n]!=="*"&&(n<a.length?e=r[n]===a[n]:e=!1);e=e&&a}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(typeof t=="object"){e={};for(var o in t)this.match(o)&&(e[o]=t[o])}return e};var Wue=function(t,e,r){var n=new gV(t,r||/[\/\.]/);return typeof e<"u"?n.match(e):n},Kue=Wue,Gue=/[\/\+\.]/,Yue=function(t,e){function r(n){var i=Kue(n,t,Gue);return i&&i.length>=2}return e?r(e.split(";")[0]):r};const Que=zc(Yue),Xue={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Sl extends Error{constructor(r,n){super(r);ce(this,"isUserFacing");ce(this,"file");ce(this,"isRestriction",!0);this.isUserFacing=(n==null?void 0:n.isUserFacing)??!0,n!=null&&n.file&&(this.file=n.file)}}class Jue{constructor(e,r){ce(this,"getI18n");ce(this,"getOpts");this.getI18n=r,this.getOpts=()=>{var i;const n=e();if(((i=n.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(n.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return n}}validateAggregateRestrictions(e,r){const{maxTotalFileSize:n,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(o=>!o.isGhost).length+r.length>i)throw new Sl(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(n){const a=[...e,...r].reduce((o,l)=>o+(l.size??0),0);if(a>n)throw new Sl(this.getI18n()("aggregateExceedsSize",{sizeAllowed:gf(n),size:gf(a)}))}}validateSingleFile(e){const{maxFileSize:r,minFileSize:n,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?Que(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Sl(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(r&&e.size!=null&&e.size>r)throw new Sl(this.getI18n()("exceedsSize",{size:gf(r),file:e.name??this.getI18n()("unnamed")}),{file:e});if(n&&e.size!=null&&e.size<n)throw new Sl(this.getI18n()("inferiorSize",{size:gf(n)}),{file:e})}validate(e,r){r.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(e,r)}validateMinNumberOfFiles(e){const{minNumberOfFiles:r}=this.getOpts().restrictions;if(r&&Object.keys(e).length<r)throw new Sl(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:r}))}getMissingRequiredMetaFields(e){const r=new Sl(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:n}=this.getOpts().restrictions,i=[];for(const a of n)(!Object.hasOwn(e.meta,a)||e.meta[a]==="")&&i.push(a);return{missingFields:i,error:r}}}function Zue(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1].split(".",2),i=parseInt(n[0],10),a=parseInt(n[1],10);return i<15||i===15&&a<15063||i>18||i===18&&a>=18218}const bb={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var vl,yl,xy,Ef,u0,h0,Tf,nr,sf,o3,xV,l3,vV,c3,d3,u3,h3,lN,f3,Pf,yV,bV,qu,vy,Tx,wV,v2,Px;const cN=class cN{constructor(e){Ge(this,nr);Ge(this,vl,Object.create(null));Ge(this,yl);Ge(this,xy);Ge(this,Ef,Bue());Ge(this,u0,new Set);Ge(this,h0,new Set);Ge(this,Tf,new Set);ce(this,"defaultLocale");ce(this,"locale");ce(this,"opts");ce(this,"store");ce(this,"i18n");ce(this,"i18nArray");ce(this,"scheduledAutoProceed",null);ce(this,"wasOffline",!1);Ge(this,lN,(e,r)=>{const n=e?this.getFile(e.id):void 0;if(e==null||!n){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(n.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const i={bytesTotal:r.bytesTotal,percentage:r.bytesTotal!=null&&Number.isFinite(r.bytesTotal)&&r.bytesTotal>0?Math.round(r.bytesUploaded/r.bytesTotal*100):void 0};n.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...n.progress,...i,bytesUploaded:r.bytesUploaded}}):this.setFileState(e.id,{progress:{...n.progress,...i}}),Y(this,Pf).call(this)});Ge(this,Pf,Due(()=>it(this,nr,f3).call(this),500,{leading:!0,trailing:!0}));Ge(this,qu,this.updateOnlineStatus.bind(this));Ge(this,vy,new Map);this.defaultLocale=Vue;const r={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Xue,meta:{},onBeforeFileAdded:(i,a)=>!Object.hasOwn(a,i.id),onBeforeUpload:i=>i,store:new cV,logger:sde,infoTimeout:5e3},n={...r,...e};this.opts={...n,restrictions:{...r.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=nde),this.log(`Using Core v${cN.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...bb,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Zue(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),et(this,yl,new Jue(()=>this.opts,()=>this.i18n)),et(this,xy,this.store.subscribe((i,a,o)=>{this.emit("state-update",i,a,o),this.updateAll(a)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),it(this,nr,bV).call(this)}emit(e,...r){Y(this,Ef).emit(e,...r)}on(e,r){return Y(this,Ef).on(e,r),this}once(e,r){return Y(this,Ef).once(e,r),this}off(e,r){return Y(this,Ef).off(e,r),this}updateAll(e){this.iteratePlugins(r=>{r.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const r=this.getState().files;this.setState({files:{...r,...Object.fromEntries(Object.entries(e).map(([n,i])=>[n,{...r[n],...i}]))}})}setFileState(e,r){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:r})}i18nInit(){const e=n=>this.log(`Missing i18n string: ${n}`,"error"),r=new $z([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(r=>{r.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},r={...this.getState().files},n=Object.create(null);Object.keys(r).forEach(i=>{n[i]={...r[i],progress:{...r[i].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:n,...bb})}clear(){const{capabilities:e,currentUploads:r}=this.getState();if(Object.keys(r).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...bb,files:{}})}addPreProcessor(e){Y(this,u0).add(e)}removePreProcessor(e){return Y(this,u0).delete(e)}addPostProcessor(e){Y(this,Tf).add(e)}removePostProcessor(e){return Y(this,Tf).delete(e)}addUploader(e){Y(this,h0).add(e)}removeUploader(e){return Y(this,h0).delete(e)}setMeta(e){const r={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach(i=>{n[i]={...n[i],meta:{...n[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:r,files:n})}setFileMeta(e,r){const n={...this.getState().files};if(!n[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const i={...n[e].meta,...r};n[e]={...n[e],meta:i},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(r=>this.getFile(r))}getObjectOfFilesPerState(){const{files:e,totalProgress:r,error:n}=this.getState(),i=Object.values(e),a=[],o=[],l=[],c=[],d=[],u=[],h=[],m=[],f=[];for(const g of i){const{progress:p}=g;!p.uploadComplete&&p.uploadStarted&&(a.push(g),g.isPaused||m.push(g)),p.uploadStarted||o.push(g),(p.uploadStarted||p.preprocess||p.postprocess)&&l.push(g),p.uploadStarted&&c.push(g),g.isPaused&&d.push(g),p.uploadComplete&&u.push(g),g.error&&h.push(g),(p.preprocess||p.postprocess)&&f.push(g)}return{newFiles:o,startedFiles:l,uploadStartedFiles:c,pausedFiles:d,completeFiles:u,erroredFiles:h,inProgressFiles:a,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:c.length>0,isAllComplete:r===100&&u.length===i.length&&f.length===0,isAllErrored:!!n&&h.length===i.length,isAllPaused:a.length!==0&&d.length===a.length,isUploadInProgress:a.length>0,isSomeGhost:i.some(g=>g.isGhost)}}validateRestrictions(e,r=this.getFiles()){try{Y(this,yl).validate(r,[e])}catch(n){return n}return null}validateSingleFile(e){try{Y(this,yl).validateSingleFile(e)}catch(r){return r.message}return null}validateAggregateRestrictions(e){const r=this.getFiles();try{Y(this,yl).validateAggregateRestrictions(r,e)}catch(n){return n.message}return null}checkIfFileAlreadyExists(e){const{files:r}=this.getState();return!!(r[e]&&!r[e].isGhost)}addFile(e){it(this,nr,l3).call(this,e);const{nextFilesState:r,validFilesToAdd:n,errors:i}=it(this,nr,d3).call(this,[e]),a=i.filter(l=>l.isRestriction);if(it(this,nr,sf).call(this,a),i.length>0)throw i[0];this.setState({files:r});const[o]=n;return this.emit("file-added",o),this.emit("files-added",n),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),it(this,nr,c3).call(this),o.id}addFiles(e){it(this,nr,l3).call(this);const{nextFilesState:r,validFilesToAdd:n,errors:i}=it(this,nr,d3).call(this,e),a=i.filter(l=>l.isRestriction);it(this,nr,sf).call(this,a);const o=i.filter(l=>!l.isRestriction);if(o.length>0){let l=`Multiple errors occurred while adding files:
`;if(o.forEach(c=>{l+=`
 * ${c.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:l},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,l);{const c=new Error(l);throw c.errors=o,c}}this.setState({files:r}),n.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(l=>{this.log(`Added file: ${l.name}
 id: ${l.id}
 type: ${l.type}`)}),n.length>0&&it(this,nr,c3).call(this)}removeFiles(e){const{files:r,currentUploads:n}=this.getState(),i={...r},a={...n},o=Object.create(null);e.forEach(u=>{r[u]&&(o[u]=r[u],delete i[u])});function l(u){return o[u]===void 0}Object.keys(a).forEach(u=>{const h=n[u].fileIDs.filter(l);if(h.length===0){delete a[u];return}const{capabilities:m}=this.getState();if(h.length!==n[u].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[u]={...n[u],fileIDs:h}});const c={currentUploads:a,files:i};Object.keys(i).length===0&&(c.allowNewUpload=!0,c.error=null,c.recoveredState=null),this.setState(c),Y(this,Pf).call(this);const d=Object.keys(o);d.forEach(u=>{this.emit("file-removed",o[u])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const r=this.getFile(e),i=!(r.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",r,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!0};e[n]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!1,error:null};e[n]=i}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await it(this,nr,h3).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),r=Object.keys(e);r.length&&this.removeFiles(r),this.setState(bb)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const r=it(this,nr,Tx).call(this,[e],{forceAllowNewUpload:!0});return it(this,nr,Px).call(this,r)}logout(){this.iteratePlugins(e=>{var r,n;(n=(r=e.provider)==null?void 0:r.logout)==null||n.call(r)})}[Symbol.for("uppy test: updateTotalProgress")](){return it(this,nr,f3).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...r){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const n=new e(this,...r),i=n.id;if(!i)throw new Error("Your plugin must have an id");if(!n.type)throw new Error("Your plugin must have a type");const a=this.getPlugin(i);if(a){const o=`Already found a plugin named '${a.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${i} v${e.VERSION}`),n.type in Y(this,vl)?Y(this,vl)[n.type].push(n):Y(this,vl)[n.type]=[n],n.install(),this.emit("plugin-added",n),this}getPlugin(e){for(const r of Object.values(Y(this,vl))){const n=r.find(i=>i.id===e);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](e){return Y(this,vl)[e]}iteratePlugins(e){Object.values(Y(this,vl)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const r=Y(this,vl)[e.type],n=r.findIndex(o=>o.id===e.id);n!==-1&&r.splice(n,1);const a={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(a)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),Y(this,xy).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",Y(this,qu)),window.removeEventListener("offline",Y(this,qu)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,r="info",n=3e3){const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:r,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(e,r){const{logger:n}=this.opts;switch(r){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e);break}}registerRequestClient(e,r){Y(this,vy).set(e,r)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const r=Y(this,vy).get(e.remote.requestClientId);if(r==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return r}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?it(this,nr,Px).call(this,e):(it(this,nr,v2).call(this,e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...e){return it(this,nr,Tx).call(this,...e)}addResultData(e,r){if(!it(this,nr,wV).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:n}=this.getState(),i={...n[e],result:{...n[e].result,...r}};this.setState({currentUploads:{...n,[e]:i}})}async upload(){var i;(i=Y(this,vl).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(it(this,nr,u3).call(this).length>0){const a=await it(this,nr,h3).call(this);if(!(this.getFiles().filter(l=>l.progress.uploadStarted==null).length>0))return this.emit("complete",a),a;({files:e}=this.getState())}const n=this.opts.onBeforeUpload(e);return n===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&typeof n=="object"&&(e=n,this.setState({files:e})),Promise.resolve().then(()=>Y(this,yl).validateMinNumberOfFiles(e)).catch(a=>{throw it(this,nr,sf).call(this,[a]),a}).then(()=>{if(!it(this,nr,xV).call(this,e))throw new Sl(this.i18n("missingRequiredMetaField"))}).catch(a=>{throw a}).then(async()=>{const{currentUploads:a}=this.getState(),o=Object.values(a).flatMap(u=>u.fileIDs),l=[];Object.keys(e).forEach(u=>{const h=this.getFile(u);!h.progress.uploadStarted&&o.indexOf(u)===-1&&l.push(h.id)});const c=it(this,nr,Tx).call(this,l),d=await it(this,nr,Px).call(this,c);return this.emit("complete",d),d}).catch(a=>{throw this.emit("error",a),this.log(a,"error"),a}))}};vl=new WeakMap,yl=new WeakMap,xy=new WeakMap,Ef=new WeakMap,u0=new WeakMap,h0=new WeakMap,Tf=new WeakMap,nr=new WeakSet,sf=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const r=e.filter(o=>o.isUserFacing),n=4,i=r.slice(0,n),a=r.slice(n);i.forEach(({message:o,details:l=""})=>{this.info({message:o,details:l},"error",this.opts.infoTimeout)}),a.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:a.length})})},o3=function(e){const{missingFields:r,error:n}=Y(this,yl).getMissingRequiredMetaFields(e);return r.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:r,error:n.message}),this.log(n.message),this.emit("restriction-failed",e,n),!1):(r.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},xV=function(e){let r=!0;for(const n of Object.values(e))it(this,nr,o3).call(this,n)||(r=!1);return r},l3=function(e){const{allowNewUpload:r}=this.getState();if(r===!1){const n=new Sl(this.i18n("noMoreFilesAllowed"),{file:e});throw it(this,nr,sf).call(this,[n]),n}},vV=function(e){const r=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,n=hV(r),i=zue(n,r),a=uV(i).extension,o=Rde(r,this.getID()),l=r.meta||{};l.name=i,l.type=n;const c=Number.isFinite(r.data.size)?r.data.size:null;return{source:r.source||"",id:o,name:i,extension:a||"",meta:{...this.getState().meta,...l},type:n,data:r.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:c,uploadComplete:!1,uploadStarted:null},size:c,isGhost:!1,isRemote:r.isRemote||!1,remote:r.remote,preview:r.preview}},c3=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},d3=function(e){var o;let{files:r}=this.getState(),n={...r};const i=[],a=[];for(const l of e)try{let c=it(this,nr,vV).call(this,l);const d=(o=r[c.id])==null?void 0:o.isGhost;d&&(c={...r[c.id],isGhost:!1,data:l.data},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`));const u=this.opts.onBeforeFileAdded(c,n);if(r=this.getState().files,n={...r,...n},!u&&this.checkIfFileAlreadyExists(c.id))throw new Sl(this.i18n("noDuplicates",{fileName:c.name??this.i18n("unnamed")}),{file:l});if(u===!1&&!d)throw new Sl("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:l});typeof u=="object"&&u!==null&&(c=u),Y(this,yl).validateSingleFile(c),n[c.id]=c,i.push(c)}catch(c){a.push(c)}try{Y(this,yl).validateAggregateRestrictions(Object.values(r),i)}catch(l){return a.push(l),{nextFilesState:r,validFilesToAdd:[],errors:a}}return{nextFilesState:n,validFilesToAdd:i,errors:a}},u3=function(){const{files:e}=this.getState();return Object.keys(e).filter(r=>{const n=e[r];return n.error&&(!n.missingRequiredMetaFields||n.missingRequiredMetaFields.length===0)})},h3=async function(){const e=it(this,nr,u3).call(this),r={...this.getState().files};if(e.forEach(i=>{r[i]={...r[i],isPaused:!1,error:null}}),this.setState({files:r,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const n=it(this,nr,Tx).call(this,e,{forceAllowNewUpload:!0});return it(this,nr,Px).call(this,n)},lN=new WeakMap,f3=function(){const e=it(this,nr,yV).call(this);let r=null;e!=null&&(r=Math.round(e*100),r>100?r=100:r<0&&(r=0)),this.emit("progress",r??0),this.setState({totalProgress:r??0})},Pf=new WeakMap,yV=function(){const r=this.getFiles().filter(c=>c.progress.uploadStarted||c.progress.preprocess||c.progress.postprocess);if(r.length===0)return 0;if(r.every(c=>c.progress.uploadComplete))return 1;const n=c=>c.progress.bytesTotal!=null&&c.progress.bytesTotal!==0,i=r.filter(n),a=r.filter(c=>!n(c));if(i.every(c=>c.progress.uploadComplete)&&a.length>0&&!a.every(c=>c.progress.uploadComplete))return null;const o=i.reduce((c,d)=>c+(d.progress.bytesTotal??0),0),l=i.reduce((c,d)=>c+(d.progress.bytesUploaded||0),0);return o===0?0:l/o},bV=function(){const e=(i,a,o)=>{let l=i.message||"Unknown error";i.details&&(l+=` ${i.details}`),this.setState({error:l}),a!=null&&a.id in this.getState().files&&this.setFileState(a.id,{error:l,response:o})};this.on("error",e),this.on("upload-error",(i,a,o)=>{if(e(a,i,o),typeof a=="object"&&a.message){this.log(a.message,"error");const l=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));l.isUserFacing=!0,l.details=a.message,a.details&&(l.details+=` ${a.details}`),it(this,nr,sf).call(this,[l])}else it(this,nr,sf).call(this,[a])});let r=null;this.on("upload-stalled",(i,a)=>{const{message:o}=i,l=a.map(c=>c.meta.name).join(", ");r||(this.info({message:o,details:l},"warning",this.opts.infoTimeout),r=setTimeout(()=>{r=null},this.opts.infoTimeout)),this.log(`${o} ${l}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const n=i=>{const a=i.filter(l=>{const c=l!=null&&this.getFile(l.id);return c||this.log(`Not setting progress for a file that has been removed: ${l==null?void 0:l.id}`),c}),o=Object.fromEntries(a.map(l=>[l.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:l.size}}]));this.patchFilesState(o)};this.on("upload-start",n),this.on("upload-progress",Y(this,lN)),this.on("upload-success",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const o=this.getFile(i.id).progress;this.setFileState(i.id,{progress:{...o,postprocess:Y(this,Tf).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:a,uploadURL:a.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:a.bytesUploaded||o.bytesTotal}),Y(this,Pf).call(this)}),this.on("preprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:a}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.preprocess,this.setState({files:a})}),this.on("postprocess-progress",(i,a)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:a}})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a={...this.getState().files};a[i.id]={...a[i.id],progress:{...a[i.id].progress}},delete a[i.id].progress.postprocess,this.setState({files:a})}),this.on("restored",()=>{Y(this,Pf).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&it(this,nr,o3).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",Y(this,qu)),window.addEventListener("offline",Y(this,qu)),setTimeout(Y(this,qu),3e3))},qu=new WeakMap,vy=new WeakMap,Tx=function(e,r={}){const{forceAllowNewUpload:n=!1}=r,{allowNewUpload:i,currentUploads:a}=this.getState();if(!i&&!n)throw new Error("Cannot create a new upload: already uploading.");const o=uC();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...a,[o]:{fileIDs:e,step:0,result:{}}}}),o},wV=function(e){const{currentUploads:r}=this.getState();return r[e]},v2=function(e){const r={...this.getState().currentUploads};delete r[e],this.setState({currentUploads:r})},Px=async function(e){const r=()=>{const{currentUploads:o}=this.getState();return o[e]};let n=r();const i=[...Y(this,u0),...Y(this,h0),...Y(this,Tf)];try{for(let o=n.step||0;o<i.length&&n;o++){const l=i[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...n,step:o}}});const{fileIDs:c}=n;await l(c,e),n=r()}}catch(o){throw it(this,nr,v2).call(this,e),o}if(n){n.fileIDs.forEach(d=>{const u=this.getFile(d);u!=null&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const o=n.fileIDs.map(d=>this.getFile(d)),l=o.filter(d=>!d.error),c=o.filter(d=>d.error);this.addResultData(e,{successful:l,failed:c,uploadID:e}),n=r()}let a;return n&&(a=n.result,it(this,nr,v2).call(this,e)),a==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),a={successful:[],failed:[],uploadID:e}),a},ce(cN,"VERSION",que.version);let a3=cN;var ehe=0;function ge(t,e,r,n,i,a){e||(e={});var o,l,c=e;if("ref"in c)for(l in c={},e)l=="ref"?o=e[l]:c[l]=e[l];var d={type:t,props:c,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ehe,__i:-1,__u:0,__source:i,__self:a};if(typeof t=="function"&&(o=t.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return Or.vnode&&Or.vnode(d),d}const the="4.3.2",rhe={version:the},KP=300;class she extends Ga{constructor(){super(...arguments);ce(this,"ref",ode())}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,KP)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,KP)}render(){const{children:r}=this.props;return ge("div",{className:"uppy-Informer-animated",ref:this.ref,children:r})}}function nhe(t,e){return Object.assign(t,e)}function ihe(t,e){return(t==null?void 0:t.key)??e}function ahe(t,e){const r=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return r[e]||(r[e]=n=>{t.refs[e]=n})}function ux(t){const e={};for(let r=0;r<t.length;r++)if(t[r]!=null){const n=ihe(t[r],r.toString(36));e[n]=t[r]}return e}function ohe(t,e){t=t||{},e=e||{};const r=o=>Object.hasOwn(e,o)?e[o]:t[o],n={};let i=[];for(const o in t)Object.hasOwn(e,o)?i.length&&(n[o]=i,i=[]):i.push(o);const a={};for(const o in e){if(Object.hasOwn(n,o))for(let l=0;l<n[o].length;l++){const c=n[o][l];a[n[o][l]]=r(c)}a[o]=r(o)}for(let o=0;o<i.length;o++)a[i[o]]=r(i[o]);return a}const lhe=t=>t;class NV extends Ga{constructor(e,r){super(e,r),this.refs={},this.state={children:ux(Al(Al(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const r in e)e[r]&&this.performAppear(r)}componentWillReceiveProps(e){const r=ux(Al(e.children)||[]),n=this.state.children;this.setState(a=>({children:ohe(a.children,r)}));let i;for(i in r)if(Object.hasOwn(r,i)){const a=n&&Object.hasOwn(n,i);r[i]&&a&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):r[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in n)if(Object.hasOwn(n,i)){const a=r&&Object.hasOwn(r,i);n[i]&&!a&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(e){const r=this.keysToAbortLeave.indexOf(e);r!==-1&&this.keysToAbortLeave.splice(r,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const r=this.refs[e];r!=null&&r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=ux(Al(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const r=this.refs[e];r!=null&&r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const r=this.refs[e];r!=null&&r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=ux(Al(this.props.children)||[]);(!n||!Object.hasOwn(n,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const n=this.refs[e];n!=null&&n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=ux(Al(this.props.children)||[]);if(i&&Object.hasOwn(i,e))this.performEnter(e);else{const a=nhe({},this.state.children);delete a[e],this.setState({children:a})}}render({childFactory:e,transitionLeave:r,transitionName:n,transitionAppear:i,transitionEnter:a,transitionLeaveTimeout:o,transitionEnterTimeout:l,transitionAppearTimeout:c,component:d,...u},{children:h}){const m=Object.entries(h).map(([f,g])=>{if(!g)return;const p=ahe(this,f);return rV(e(g),{ref:p,key:f})}).filter(Boolean);return Fv(d,u,m)}}NV.defaultProps={component:"span",childFactory:lhe};class jV extends H0{constructor(r,n){super(r,n);ce(this,"render",r=>ge("div",{className:"uppy uppy-Informer",children:ge(NV,{children:r.info.map(n=>ge(she,{children:ge("p",{role:"alert",children:[n.message," ",n.details&&ge("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:r}=this.opts;r&&this.mount(r,this)}}ce(jV,"VERSION",rhe.version);var _V={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,n(l)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)e.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(_V);var che=_V.exports;const Gl=zc(che),dhe={position:"relative",width:"100%",minHeight:"100%"},uhe={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class hhe extends Ga{constructor(r){super(r);ce(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});ce(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var r;(r=this.focusElement)!=null&&r.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:r}=this.state;r!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:r,rowHeight:n,renderRow:i,overscanCount:a=10,...o}){const{offset:l,height:c}=this.state;let d=Math.floor(l/n),u=Math.floor(c/n);a&&(d=Math.max(0,d-d%a),u+=a);const h=d+u+4,m=r.slice(d,h),f={...dhe,height:r.length*n},g={...uhe,top:d*n};return ge("div",{onScroll:this.handleScroll,...o,children:ge("div",{role:"presentation",style:f,children:ge("div",{role:"presentation",style:g,children:m.map(i)})})})}}function fhe(){return ge("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:ge("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function GP(t,e,r,n){return t===e?t:n===0?e:t+(e-t)*2**(-n/r)}const mhe="4.2.3",phe={version:mhe},ghe={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},pc={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function xhe(t){const e=Math.floor(t/3600)%24,r=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:r,seconds:n}}function vhe(t){const e=xhe(t),r=e.hours===0?"":`${e.hours}h`,n=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${r}${n}${i}`}const yhe="",YP=()=>` ${yhe} `;function bhe(t){const{newFiles:e,isUploadStarted:r,recoveredState:n,i18n:i,uploadState:a,isSomeGhost:o,startUpload:l}=t,c=Gl("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":a===pc.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),d=e&&r&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return ge("button",{type:"button",className:c,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:l,disabled:o,"data-uppy-super-focusable":!0,children:d})}function whe(t){const{i18n:e,uppy:r}=t;return ge("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>r.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:ge("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function Nhe(t){const{i18n:e,uppy:r}=t;return ge("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>r.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:ge("g",{fill:"none",fillRule:"evenodd",children:[ge("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),ge("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function jhe(t){const{isAllPaused:e,i18n:r,isAllComplete:n,resumableUploads:i,uppy:a}=t,o=r(e?"resume":"pause");function l(){if(!n){if(!i){a.cancelAll();return}if(e){a.resumeAll();return}a.pauseAll()}}return ge("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:ge("g",{fill:"none",fillRule:"evenodd",children:[ge("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),ge("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function _he(t){const{i18n:e,doneButtonHandler:r}=t;return ge("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:r,"data-uppy-super-focusable":!0,children:e("done")})}function SV(){return ge("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:ge("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function She(t){const{progress:e}=t,{value:r,mode:n,message:i}=e;return ge("div",{className:"uppy-StatusBar-content",children:[ge(SV,{}),n==="determinate"?`${Math.round(r*100)}%  `:"",i]})}function khe(t){const{numUploads:e,complete:r,totalUploadedSize:n,totalSize:i,totalETA:a,i18n:o}=t,l=e>1,c=gf(n);return ge("div",{className:"uppy-StatusBar-statusSecondary",children:[l&&o("filesUploadedOfTotal",{complete:r,smart_count:e}),ge("span",{className:"uppy-StatusBar-additionalInfo",children:[l&&YP(),i!=null?o("dataUploadedOfTotal",{complete:c,total:gf(i)}):o("dataUploadedOfUnknown",{complete:c}),YP(),a!=null&&o("xTimeLeft",{time:vhe(a)})]})]})}function kV(t){const{i18n:e,complete:r,numUploads:n}=t;return ge("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:r,smart_count:n})})}function Che(t){const{i18n:e,newFiles:r,startUpload:n}=t,i=Gl("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return ge("div",{className:"uppy-StatusBar-statusSecondary",children:[ge("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:r})}),ge("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:r}),onClick:n,children:e("upload")})]})}function Ahe(t){const{i18n:e,supportsUploadProgress:r,totalProgress:n,showProgressDetails:i,isUploadStarted:a,isAllComplete:o,isAllPaused:l,newFiles:c,numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:f,startUpload:g}=t,p=c&&a;if(!a||o)return null;const x=e(l?"paused":"uploading");function y(){return!l&&!p&&i?r?ge(khe,{numUploads:d,complete:u,totalUploadedSize:h,totalSize:m,totalETA:f,i18n:e}):ge(kV,{i18n:e,complete:u,numUploads:d}):null}return ge("div",{className:"uppy-StatusBar-content",title:x,children:[l?null:ge(SV,{}),ge("div",{className:"uppy-StatusBar-status",children:[ge("div",{className:"uppy-StatusBar-statusPrimary",children:r&&n!==0?`${x}: ${n}%`:x}),y(),p?ge(Che,{i18n:e,newFiles:c,startUpload:g}):null]})]})}function Ehe(t){const{i18n:e}=t;return ge("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:ge("div",{className:"uppy-StatusBar-status",children:ge("div",{className:"uppy-StatusBar-statusPrimary",children:[ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:ge("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function The(t){const{error:e,i18n:r,complete:n,numUploads:i}=t;function a(){const o=`${r("uploadFailed")} 

 ${e}`;alert(o)}return ge("div",{className:"uppy-StatusBar-content",title:r("uploadFailed"),children:[ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:ge("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),ge("div",{className:"uppy-StatusBar-status",children:[ge("div",{className:"uppy-StatusBar-statusPrimary",children:[r("uploadFailed"),ge("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":r("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:a,type:"button",children:"?"})]}),ge(kV,{i18n:r,complete:n,numUploads:i})]})]})}function h4(t){const e=[];let r="indeterminate",n;for(const{progress:a}of Object.values(t)){const{preprocess:o,postprocess:l}=a;n==null&&(o||l)&&({mode:r,message:n}=o||l),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(l==null?void 0:l.mode)==="determinate"&&e.push(l.value)}const i=e.reduce((a,o)=>a+o/e.length,0);return{mode:r,message:n,value:i}}const{STATE_ERROR:QP,STATE_WAITING:Phe,STATE_PREPROCESSING:f4,STATE_UPLOADING:wb,STATE_POSTPROCESSING:m4,STATE_COMPLETE:Nb}=pc;function Fhe({newFiles:t,allowNewUpload:e,isUploadInProgress:r,isAllPaused:n,resumableUploads:i,error:a,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:c=!1,hideRetryButton:d=!1,recoveredState:u,uploadState:h,totalProgress:m,files:f,supportsUploadProgress:g,hideAfterFinish:p=!1,isSomeGhost:x,doneButtonHandler:y=void 0,isUploadStarted:v,i18n:b,startUpload:w,uppy:_,isAllComplete:N,showProgressDetails:j=void 0,numUploads:k,complete:E,totalSize:A,totalETA:C,totalUploadedSize:T}){function L(){switch(h){case m4:case f4:{const te=h4(f);return te.mode==="determinate"?te.value*100:m}case QP:return null;case wb:return g?m:null;default:return m}}function D(){switch(h){case m4:case f4:{const{mode:te}=h4(f);return te==="indeterminate"}case wb:return!g;default:return!1}}const H=L(),X=H??100,ee=!a&&t&&(!r&&!n||u)&&e&&!o,Q=!c&&h!==Phe&&h!==Nb,G=i&&!l&&h===wb,z=a&&!N&&!d,V=y&&h===Nb,F=Gl("uppy-StatusBar-progress",{"is-indeterminate":D()}),I=Gl("uppy-StatusBar",`is-${h}`,{"has-ghosts":x}),B=(()=>{switch(h){case f4:case m4:return ge(She,{progress:h4(f)});case Nb:return ge(Ehe,{i18n:b});case QP:return ge(The,{error:a,i18n:b,numUploads:k,complete:E});case wb:return ge(Ahe,{i18n:b,supportsUploadProgress:g,totalProgress:m,showProgressDetails:j,isUploadStarted:v,isAllComplete:N,isAllPaused:n,newFiles:t,numUploads:k,complete:E,totalUploadedSize:T,totalSize:A,totalETA:C,startUpload:w});default:return null}})();return!(ee||z||G||Q||V)&&!B||h===Nb&&p?null:ge("div",{className:I,children:[ge("div",{className:F,style:{width:`${X}%`},role:"progressbar","aria-label":`${X}%`,"aria-valuetext":`${X}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":H}),B,ge("div",{className:"uppy-StatusBar-actions",children:[ee?ge(bhe,{newFiles:t,isUploadStarted:v,recoveredState:u,i18n:b,isSomeGhost:x,startUpload:w,uploadState:h}):null,z?ge(whe,{i18n:b,uppy:_}):null,G?ge(jhe,{isAllPaused:n,i18n:b,isAllComplete:N,resumableUploads:i,uppy:_}):null,Q?ge(Nhe,{i18n:b,uppy:_}):null,V?ge(_he,{i18n:b,doneButtonHandler:y}):null]})]})}const Ohe=2e3,Lhe=2e3;function Rhe(t,e,r,n){if(t)return pc.STATE_ERROR;if(e)return pc.STATE_COMPLETE;if(r)return pc.STATE_WAITING;let i=pc.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:l}=n[a[o]];if(l.uploadStarted&&!l.uploadComplete)return pc.STATE_UPLOADING;l.preprocess&&(i=pc.STATE_PREPROCESSING),l.postprocess&&i!==pc.STATE_PREPROCESSING&&(i=pc.STATE_POSTPROCESSING)}return i}const Ihe={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var v_,zu,Vu,Ff,wd,dN,CV,yy;let Dhe=(v_=class extends H0{constructor(r,n){super(r,{...Ihe,...n});Ge(this,dN);Ge(this,zu);Ge(this,Vu);Ge(this,Ff);Ge(this,wd);ce(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));Ge(this,yy,()=>{const{recoveredState:r}=this.uppy.getState();if(et(this,Ff,null),et(this,wd,null),r){et(this,Vu,Object.values(r.files).reduce((n,{progress:i})=>n+i.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}et(this,zu,performance.now()),et(this,Vu,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=ghe,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(r){const{capabilities:n,files:i,allowNewUpload:a,totalProgress:o,error:l,recoveredState:c}=r,{newFiles:d,startedFiles:u,completeFiles:h,isUploadStarted:m,isAllComplete:f,isAllPaused:g,isUploadInProgress:p,isSomeGhost:x}=this.uppy.getObjectOfFilesPerState(),y=c?Object.values(i):d,v=!!n.resumableUploads,b=n.uploadProgress!==!1;let w=null,_=0;u.every(j=>j.progress.bytesTotal!=null&&j.progress.bytesTotal!==0)?(w=0,u.forEach(j=>{w+=j.progress.bytesTotal||0,_+=j.progress.bytesUploaded||0})):u.forEach(j=>{_+=j.progress.bytesUploaded||0});const N=it(this,dN,CV).call(this,{uploaded:_,total:w});return Fhe({error:l,uploadState:Rhe(l,f,c,r.files||{}),allowNewUpload:a,totalProgress:o,totalSize:w,totalUploadedSize:_,isAllComplete:!1,isAllPaused:g,isUploadStarted:m,isUploadInProgress:p,isSomeGhost:x,recoveredState:c,complete:h.length,newFiles:y.length,numUploads:u.length,totalETA:N,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:v,supportsUploadProgress:b,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const r=this.el;Vz(r)||(r.dir="ltr")}install(){const{target:r}=this.opts;r&&this.mount(r,this),this.uppy.on("upload",Y(this,yy)),et(this,zu,performance.now()),et(this,Vu,this.uppy.getFiles().reduce((n,i)=>n+i.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",Y(this,yy))}},zu=new WeakMap,Vu=new WeakMap,Ff=new WeakMap,wd=new WeakMap,dN=new WeakSet,CV=function(r){if(r.total==null||r.total===0)return null;const n=r.total-r.uploaded;if(n<=0)return null;Y(this,zu)??et(this,zu,performance.now());const i=performance.now()-Y(this,zu);if(i===0)return Math.round((Y(this,wd)??0)/100)/10;const a=r.uploaded-Y(this,Vu);if(et(this,Vu,r.uploaded),a<=0)return Math.round((Y(this,wd)??0)/100)/10;const o=a/i,l=Y(this,Ff)==null?o:GP(o,Y(this,Ff),Ohe,i);et(this,Ff,l);const c=n/l,d=Math.max(Y(this,wd)-i,0),u=Y(this,wd)==null?c:GP(c,d,Lhe,i);return et(this,wd,u),et(this,zu,performance.now()),Math.round(u/100)/10},yy=new WeakMap,ce(v_,"VERSION",phe.version),v_);const Mhe=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Bhe(t,e,r){const n=Mhe.exec(t),i=e.mimeType??(n==null?void 0:n[1])??"plain/text";let a;if((n==null?void 0:n[2])!=null){const o=atob(decodeURIComponent(n[3])),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);a=[l]}else(n==null?void 0:n[3])!=null&&(a=[decodeURIComponent(n[3])]);return new Blob(a,{type:i})}function XP(t){return t.startsWith("blob:")}function JP(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function hs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var AV=typeof self<"u"?self:global;const Rv=typeof navigator<"u",Uhe=Rv&&typeof HTMLImageElement>"u",ZP=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),EV=AV.Buffer,TV=!!EV,$he=t=>t!==void 0;function PV(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter($he).length===0)}function wi(t){let e=new Error(t);throw delete e.stack,e}function e8(t){let e=function(r){let n=0;return r.ifd0.enabled&&(n+=1024),r.exif.enabled&&(n+=2048),r.makerNote&&(n+=2048),r.userComment&&(n+=1024),r.gps.enabled&&(n+=512),r.interop.enabled&&(n+=100),r.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const p4=t=>String.fromCharCode.apply(null,t),t8=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;let Iv=class ap{static from(e,r){return e instanceof this&&e.le===r?e:new ap(e,void 0,void 0,r)}constructor(e,r=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-r);let a=new DataView(e,r,n);this._swapDataView(a)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof ap){n===void 0&&(n=e.byteLength-r),(r+=e.byteOffset)+n>e.byteOffset+e.byteLength&&wi("Creating view outside of available memory in ArrayBuffer");let a=new DataView(e.buffer,r,n);this._swapDataView(a)}else if(typeof e=="number"){let a=new DataView(new ArrayBuffer(e));this._swapDataView(a)}else wi("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,r,n=ap){return e instanceof DataView||e instanceof ap?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||wi("BufferView.set(): Invalid data argument."),this.toUint8().set(e,r),new n(this,r,e.byteLength)}subarray(e,r){return r=r||this._lengthToEnd(e),new ap(this,e,r)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,r){return new Uint8Array(this.buffer,this.byteOffset+e,r)}getString(e=0,r=this.byteLength){return i=this.getUint8Array(e,r),t8?t8.decode(i):TV?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(p4(i)));var i}getLatin1String(e=0,r=this.byteLength){let n=this.getUint8Array(e,r);return p4(n)}getUnicodeString(e=0,r=this.byteLength){const n=[];for(let i=0;i<r&&e+i<this.byteLength;i+=2)n.push(this.getUint16(e+i));return p4(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,r=this.le){return this.dataView.getInt16(e,r)}getInt32(e,r=this.le){return this.dataView.getInt32(e,r)}getUint16(e,r=this.le){return this.dataView.getUint16(e,r)}getUint32(e,r=this.le){return this.dataView.getUint32(e,r)}getFloat32(e,r=this.le){return this.dataView.getFloat32(e,r)}getFloat64(e,r=this.le){return this.dataView.getFloat64(e,r)}getFloat(e,r=this.le){return this.dataView.getFloat32(e,r)}getDouble(e,r=this.le){return this.dataView.getFloat64(e,r)}getUintBytes(e,r,n){switch(r){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,r,n){switch(r){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}};function m3(t,e){wi(`${t} '${e}' was not loaded, try using full build of exifr.`)}let hC=class extends Map{constructor(e){super(),this.kind=e}get(e,r){return this.has(e)||m3(this.kind,e),r&&(e in r||function(n,i){wi(`Unknown ${n} '${i}'.`)}(this.kind,e),r[e].enabled||m3(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};var FV=new hC("file parser"),kl=new hC("segment parser"),fC=new hC("file reader");let qhe=AV.fetch;function r8(t,e){return(r=t).startsWith("data:")||r.length>1e4?g3(t,e,"base64"):ZP&&t.includes("://")?p3(t,e,"url",s8):ZP?g3(t,e,"fs"):Rv?p3(t,e,"url",s8):void wi("Invalid input argument");var r}async function p3(t,e,r,n){return fC.has(r)?g3(t,e,r):n?async function(i,a){let o=await a(i);return new Iv(o)}(t,n):void wi(`Parser ${r} is not loaded`)}async function g3(t,e,r){let n=new(fC.get(r))(t,e);return await n.read(),n}const s8=t=>qhe(t).then(e=>e.arrayBuffer()),x3=t=>new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=r,n.readAsArrayBuffer(t)}),mC=new Map,zhe=new Map,Vhe=new Map,jb=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],OV=["jfif","xmp","icc","iptc","ihdr"],v3=["tiff",...OV],fi=["ifd0","ifd1","exif","gps","interop"],_b=[...v3,...fi],Sb=["makerNote","userComment"],LV=["translateKeys","translateValues","reviveValues","multiSegment"],kb=[...LV,"sanitize","mergeOutput","silentErrors"];let RV=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}},hx=class extends RV{get needed(){return this.enabled||this.deps.size>0}constructor(e,r,n,i){if(super(),hs(this,"enabled",!1),hs(this,"skip",new Set),hs(this,"pick",new Set),hs(this,"deps",new Set),hs(this,"translateKeys",!1),hs(this,"translateValues",!1),hs(this,"reviveValues",!1),this.key=e,this.enabled=r,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=fi.includes(e),this.canBeFiltered&&(this.dict=mC.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:a,skip:o}=n;a&&a.length>0&&this.translateTagSet(a,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:wi(`Invalid options argument: ${n}`)}applyInheritables(e){let r,n;for(r of LV)n=e[r],n!==void 0&&(this[r]=n)}translateTagSet(e,r){if(this.dict){let n,i,{tagKeys:a,tagValues:o}=this.dict;for(n of e)typeof n=="string"?(i=o.indexOf(n),i===-1&&(i=a.indexOf(Number(n))),i!==-1&&r.add(Number(a[i]))):r.add(n)}else for(let n of e)r.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,mw(this.pick,this.deps)):this.enabled&&this.pick.size>0&&mw(this.pick,this.deps)}};var ga={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},n8=new Map;let pC=class extends RV{static useCached(e){let r=n8.get(e);return r!==void 0||(r=new this(e),n8.set(e,r)),r}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):wi(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Rv?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of jb)this[e]=ga[e];for(e of kb)this[e]=ga[e];for(e of Sb)this[e]=ga[e];for(e of _b)this[e]=new hx(e,ga[e],void 0,this)}setupFromTrue(){let e;for(e of jb)this[e]=ga[e];for(e of kb)this[e]=ga[e];for(e of Sb)this[e]=!0;for(e of _b)this[e]=new hx(e,!0,void 0,this)}setupFromArray(e){let r;for(r of jb)this[r]=ga[r];for(r of kb)this[r]=ga[r];for(r of Sb)this[r]=ga[r];for(r of _b)this[r]=new hx(r,!1,void 0,this);this.setupGlobalFilters(e,void 0,fi)}setupFromObject(e){let r;for(r of(fi.ifd0=fi.ifd0||fi.image,fi.ifd1=fi.ifd1||fi.thumbnail,Object.assign(this,e),jb))this[r]=g4(e[r],ga[r]);for(r of kb)this[r]=g4(e[r],ga[r]);for(r of Sb)this[r]=g4(e[r],ga[r]);for(r of v3)this[r]=new hx(r,ga[r],e[r],this);for(r of fi)this[r]=new hx(r,ga[r],e[r],this.tiff);this.setupGlobalFilters(e.pick,e.skip,fi,_b),e.tiff===!0?this.batchEnableWithBool(fi,!0):e.tiff===!1?this.batchEnableWithUserValue(fi,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,fi):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,fi)}batchEnableWithBool(e,r){for(let n of e)this[n].enabled=r}batchEnableWithUserValue(e,r){for(let n of e){let i=r[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,r,n,i=n){if(e&&e.length){for(let o of i)this[o].enabled=!1;let a=i8(e,n);for(let[o,l]of a)mw(this[o].pick,l),this[o].enabled=!0}else if(r&&r.length){let a=i8(r,n);for(let[o,l]of a)mw(this[o].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:r,xmp:n,iptc:i,icc:a}=this;this.makerNote?r.deps.add(37500):r.skip.add(37500),this.userComment?r.deps.add(37510):r.skip.add(37510),n.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),a.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:r,gps:n,interop:i}=this;i.needed&&(r.deps.add(40965),e.deps.add(40965)),r.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=fi.some(a=>this[a].enabled===!0)||this.makerNote||this.userComment;for(let a of fi)this[a].finalizeFilters()}get onlyTiff(){return!OV.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of v3)this[e].enabled&&!kl.has(e)&&m3("segment parser",e)}};function i8(t,e){let r,n,i,a,o=[];for(i of e){for(a of(r=mC.get(i),n=[],r))(t.includes(a[0])||t.includes(a[1]))&&n.push(a[0]);n.length&&o.push([i,n])}return o}function g4(t,e){return t!==void 0?t:e!==void 0?e:void 0}function mw(t,e){for(let r of e)t.add(r)}hs(pC,"default",ga);let Hhe=class{constructor(e){hs(this,"parsers",{}),hs(this,"output",{}),hs(this,"errors",[]),hs(this,"pushToErrors",r=>this.errors.push(r)),this.options=pC.useCached(e)}async read(e){this.file=await function(r,n){return typeof r=="string"?r8(r,n):Rv&&!Uhe&&r instanceof HTMLImageElement?r8(r.src,n):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new Iv(r):Rv&&r instanceof Blob?p3(r,n,"blob",x3):void wi("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,r=e.getUint16(0);for(let[n,i]of FV)if(i.canHandle(e,r))return this.fileParser=new i(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),wi("Unknown file format")}async parse(){let{output:e,errors:r}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),r.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&r.length>0&&(e.errors=r),PV(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let r=Object.values(this.parsers).map(async n=>{let i=await n.parse();n.assignToOutput(e,i)});this.options.silentErrors&&(r=r.map(n=>n.catch(this.pushToErrors))),await Promise.all(r)}async extractThumbnail(){this.setup();let{options:e,file:r}=this,n=kl.get("tiff",e);var i;if(r.tiff?i={start:0,type:"tiff"}:r.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let a=await this.fileParser.ensureSegmentChunk(i),o=this.parsers.tiff=new n(a,e,r),l=await o.extractThumbnail();return r.close&&r.close(),l}},Sp=class{static findPosition(e,r){let n=e.getUint16(r+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,r,n):this.headerLength,a=r+i,o=n-i;return{offset:r,length:n,headerLength:i,start:a,size:o,end:a+o}}static parse(e,r={}){return new this(e,new pC({[this.type]:r}),e).parse()}normalizeInput(e){return e instanceof Iv?e:new Iv(e)}constructor(e,r={},n){hs(this,"errors",[]),hs(this,"raw",new Map),hs(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=r,this.localOptions=r[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,r){let n=Vhe.get(r),i=zhe.get(r),a=mC.get(r),o=this.options[r],l=o.reviveValues&&!!n,c=o.translateValues&&!!i,d=o.translateKeys&&!!a,u={};for(let[h,m]of e)l&&n.has(h)?m=n.get(h)(m):c&&i.has(h)&&(m=this.translateValue(m,i.get(h))),d&&a.has(h)&&(h=a.get(h)||h),u[h]=m;return u}translateValue(e,r){return r[e]||r.DEFAULT||e}assignToOutput(e,r){this.assignObjectToOutput(e,this.constructor.type,r)}assignObjectToOutput(e,r,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[r]?Object.assign(e[r],n):e[r]=n}};hs(Sp,"headerLength",4),hs(Sp,"type",void 0),hs(Sp,"multiSegment",!1),hs(Sp,"canHandle",()=>!1);function Whe(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function Khe(t){return t>=224&&t<=239}function Ghe(t,e,r){for(let[n,i]of kl)if(i.canHandle(t,e,r))return n}let a8=class extends class{constructor(e,r,n){hs(this,"errors",[]),hs(this,"ensureSegmentChunk",async i=>{let a=i.start,o=i.size||65536;if(this.file.chunked)if(this.file.available(a,o))i.chunk=this.file.subarray(a,o);else try{i.chunk=await this.file.readChunk(a,o)}catch(l){wi(`Couldn't read segment: ${JSON.stringify(i)}. ${l.message}`)}else this.file.byteLength>a+o?i.chunk=this.file.subarray(a,o):i.size===void 0?i.chunk=this.file.subarray(a):wi("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=r,this.parsers=n}injectSegment(e,r){this.options[e].enabled&&this.createParser(e,r)}createParser(e,r){let n=new(kl.get(e))(r,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let r of e){let{type:n,chunk:i}=r,a=this.options[n];if(a&&a.enabled){let o=this.parsers[n];o&&o.append||o||this.createParser(n,i)}}}async readSegments(e){let r=e.map(this.ensureSegmentChunk);await Promise.all(r)}}{constructor(...e){super(...e),hs(this,"appSegments",[]),hs(this,"jpegSegments",[]),hs(this,"unknownSegments",[])}static canHandle(e,r){return r===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(kl.keyList())):(e=e===void 0?kl.keyList().filter(r=>this.options[r].enabled):e.filter(r=>this.options[r].enabled&&kl.has(r)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,r){this.setupSegmentFinderArgs(r);let{file:n,findAll:i,wanted:a,remaining:o}=this;if(!i&&this.file.chunked&&(i=Array.from(a).some(l=>{let c=kl.get(l),d=this.options[l];return c.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let l=!1;for(;o.size>0&&!l&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:c}=n,d=this.appSegments.some(u=>!this.file.available(u.offset||u.start,u.length||u.size));if(l=e>c&&!d?!await n.readNextChunk(e):!await n.readNextChunk(c),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,r){r-=2;let n,i,a,o,l,c,{file:d,findAll:u,wanted:h,remaining:m,options:f}=this;for(;e<r;e++)if(d.getUint8(e)===255){if(n=d.getUint8(e+1),Khe(n)){if(i=d.getUint16(e+2),a=Ghe(d,e,i),a&&h.has(a)&&(o=kl.get(a),l=o.findPosition(d,e),c=f[a],l.type=a,this.appSegments.push(l),!u&&(o.multiSegment&&c.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||m.delete(a)):m.delete(a),m.size===0)))break;f.recordUnknownSegments&&(l=Sp.findPosition(d,e),l.marker=n,this.unknownSegments.push(l)),e+=i+1}else if(Whe(n)){if(i=d.getUint16(e+2),n===218&&f.stopAfterSos!==!1)return;f.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:n}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(r=>r.multiSegment))return;let e=function(r,n){let i,a,o,l=new Map;for(let c=0;c<r.length;c++)i=r[c],a=i[n],l.has(a)?o=l.get(a):l.set(a,o=[]),o.push(i);return Array.from(l)}(this.appSegments,"type");this.mergedAppSegments=e.map(([r,n])=>{let i=kl.get(r,this.options);return i.handleMultiSegments?{type:r,chunk:i.handleMultiSegments(n)}:n[0]})}getSegment(e){return this.appSegments.find(r=>r.type===e)}async getOrFindSegment(e){let r=this.getSegment(e);return r===void 0&&(await this.findAppSegments(0,[e]),r=this.getSegment(e)),r}};hs(a8,"type","jpeg"),FV.set("jpeg",a8);const Yhe=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];let Qhe=class extends Sp{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,r,n=new Map){let{pick:i,skip:a}=this.options[r];i=new Set(i);let o=i.size>0,l=a.size===0,c=this.chunk.getUint16(e);e+=2;for(let d=0;d<c;d++){let u=this.chunk.getUint16(e);if(o){if(i.has(u)&&(n.set(u,this.parseTag(e,u,r)),i.delete(u),i.size===0))break}else!l&&a.has(u)||n.set(u,this.parseTag(e,u,r));e+=12}return n}parseTag(e,r,n){let{chunk:i}=this,a=i.getUint16(e+2),o=i.getUint32(e+4),l=Yhe[a];if(l*o<=4?e+=8:e=i.getUint32(e+8),(a<1||a>13)&&wi(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e}`),e>i.byteLength&&wi(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${r.toString(16)}, type: ${a}, offset ${e} is outside of chunk size ${i.byteLength}`),a===1)return i.getUint8Array(e,o);if(a===2)return(c=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(c=i.getString(e,o)).trim())===""?void 0:c;var c;if(a===7)return i.getUint8Array(e,o);if(o===1)return this.parseTagValue(a,e);{let d=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(a))(o),u=l;for(let h=0;h<o;h++)d[h]=this.parseTagValue(a,e),e+=u;return d}}parseTagValue(e,r){let{chunk:n}=this;switch(e){case 1:return n.getUint8(r);case 3:return n.getUint16(r);case 4:return n.getUint32(r);case 5:return n.getUint32(r)/n.getUint32(r+4);case 6:return n.getInt8(r);case 8:return n.getInt16(r);case 9:return n.getInt32(r);case 10:return n.getInt32(r)/n.getInt32(r+4);case 11:return n.getFloat(r);case 12:return n.getDouble(r);case 13:return n.getUint32(r);default:wi(`Invalid tiff type ${e}`)}}},x4=class extends Qhe{static canHandle(e,r){return e.getUint8(r+1)===225&&e.getUint32(r+4)===1165519206&&e.getUint16(r+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let r=this[e]();return r.catch!==void 0&&(r=r.catch(this.handleError)),r}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),r=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(r)}}parseBlock(e,r){let n=new Map;return this[r]=n,this.parseTags(e,r,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&wi("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&wi(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,e8(this.options));let r=this.parseBlock(this.ifd0Offset,"ifd0");return r.size!==0?(this.exifOffset=r.get(34665),this.interopOffset=r.get(40965),this.gpsOffset=r.get(34853),this.xmp=r.get(700),this.iptc=r.get(33723),this.icc=r.get(34675),this.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,e8(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,r){let n=e.get(r);n&&n.length===1&&e.set(r,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",o8(...e.get(2),e.get(1))),e.set("longitude",o8(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),r=this.ifd1.get(514);return this.chunk.getUint8Array(e,r)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,r,n,i={};for(r of fi)if(e=this[r],!PV(e))if(n=this.canTranslate?this.translateBlock(e,r):Object.fromEntries(e),this.options.mergeOutput){if(r==="ifd1")continue;Object.assign(i,n)}else i[r]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,r){if(this.globalOptions.mergeOutput)Object.assign(e,r);else for(let[n,i]of Object.entries(r))this.assignObjectToOutput(e,n,i)}};function o8(t,e,r,n){var i=t+e/60+r/3600;return n!=="S"&&n!=="W"||(i*=-1),i}hs(x4,"type","tiff"),hs(x4,"headerLength",10),kl.set("tiff",x4);const gC={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},gC,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},gC,{tiff:!1,ifd1:!0,mergeOutput:!1});const Xhe=Object.assign({},gC,{firstChunkSize:4e4,ifd0:[274]});async function Jhe(t){let e=new Hhe(Xhe);await e.read(t);let r=await e.parse();if(r&&r.ifd0)return r.ifd0[274]}const Zhe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Fx=!0,Ox=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,r,n]=e;Fx=Number(r)+.1*Number(n)<13.4,Ox=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Fx=Ox=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Fx=Ox=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Fx=Ox=Number(e)<77}}async function efe(t){let e=await Jhe(t);return Object.assign({canvas:Fx,css:Ox},Zhe[e])}let tfe=class extends Iv{constructor(...e){super(...e),hs(this,"ranges",new rfe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,r,n){if(e===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=e+r;if(i>this.byteLength){let{dataView:a}=this._extend(i);this._swapDataView(a)}}}_extend(e){let r;r=TV?EV.allocUnsafe(e):new Uint8Array(e);let n=new DataView(r.buffer,r.byteOffset,r.byteLength);return r.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:r,dataView:n}}subarray(e,r,n=!1){return r=r||this._lengthToEnd(e),n&&this._tryExtend(e,r),this.ranges.add(e,r),super.subarray(e,r)}set(e,r,n=!1){n&&this._tryExtend(r,e.byteLength,e);let i=super.set(e,r);return this.ranges.add(r,i.byteLength),i}async ensureChunk(e,r){this.chunked&&(this.ranges.available(e,r)||await this.readChunk(e,r))}available(e,r){return this.ranges.available(e,r)}},rfe=class{constructor(){hs(this,"list",[])}get length(){return this.list.length}add(e,r,n=0){let i=e+r,a=this.list.filter(o=>l8(e,o.offset,i)||l8(e,o.end,i));if(a.length>0){e=Math.min(e,...a.map(l=>l.offset)),i=Math.max(i,...a.map(l=>l.end)),r=i-e;let o=a.shift();o.offset=e,o.length=r,o.end=i,this.list=this.list.filter(l=>!a.includes(l))}else this.list.push({offset:e,length:r,end:i})}available(e,r){let n=e+r;return this.list.some(i=>i.offset<=e&&n<=i.end)}};function l8(t,e,r){return t<=e&&e<=r}class sfe extends tfe{constructor(e,r){super(0),hs(this,"chunksRead",0),this.input=e,this.options=r}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let r=this.options.chunkSize,n=await this.readChunk(e,r);return!!n&&n.byteLength===r}async readChunk(e,r){if(this.chunksRead++,(r=this.safeWrapAddress(e,r))!==0)return this._readChunk(e,r)}safeWrapAddress(e,r){return this.size!==void 0&&e+r>this.size?Math.max(0,this.size-e):r}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}fC.set("blob",class extends sfe{async readWhole(){this.chunked=!1;let t=await x3(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let r=e?t+e:void 0,n=this.input.slice(t,r),i=await x3(n);return this.set(i,t,!0)}});const nfe="4.2.3",ife={version:nfe},afe={strings:{generatingThumbnails:"Generating thumbnails..."}};function ofe(t,e,r){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(n=>{t.toBlob(n,e,r)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>Bhe(t.toDataURL(e,r),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function lfe(t,e){let r=t.width,n=t.height;(e.deg===90||e.deg===270)&&(r=t.height,n=t.width);const i=document.createElement("canvas");i.width=r,i.height=n;const a=i.getContext("2d");return a.translate(r/2,n/2),e.canvas&&(a.rotate(e.rad),a.scale(e.scaleX,e.scaleY)),a.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function cfe(t){const e=t.width/t.height,r=5e6,n=4096;let i=Math.floor(Math.sqrt(r*e)),a=Math.floor(r/Math.sqrt(r*e));if(i>n&&(i=n,a=Math.round(i/e)),a>n&&(a=n,i=Math.round(e*a)),t.width>i){const o=document.createElement("canvas");return o.width=i,o.height=a,o.getContext("2d").drawImage(t,0,0,i,a),o}return t}const dfe={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class IV extends H0{constructor(r,n){super(r,{...dfe,...n});ce(this,"queue");ce(this,"queueProcessing");ce(this,"defaultThumbnailDimension");ce(this,"thumbnailType");ce(this,"onFileAdded",r=>{!r.preview&&r.data&&JP(r.type)&&!r.isRemote&&this.addToQueue(r.id)});ce(this,"onCancelRequest",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1)});ce(this,"onFileRemoved",r=>{const n=this.queue.indexOf(r.id);n!==-1&&this.queue.splice(n,1),r.preview&&XP(r.preview)&&URL.revokeObjectURL(r.preview)});ce(this,"onRestored",()=>{this.uppy.getFiles().filter(n=>n.isRestored).forEach(n=>{(!n.preview||XP(n.preview))&&this.addToQueue(n.id)})});ce(this,"onAllFilesRemoved",()=>{this.queue=[]});ce(this,"waitUntilAllProcessed",r=>{r.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const n=()=>{r.forEach(i=>{const a=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",a)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{n(),i()}):(n(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=afe,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,n,i){const a=URL.createObjectURL(r.data),o=new Promise((c,d)=>{const u=new Image;u.src=a,u.addEventListener("load",()=>{URL.revokeObjectURL(a),c(u)}),u.addEventListener("error",h=>{URL.revokeObjectURL(a),d(h.error||new Error("Could not create thumbnail"))})}),l=efe(r.data).catch(()=>1);return Promise.all([o,l]).then(([c,d])=>{const u=this.getProportionalDimensions(c,n,i,d.deg),h=lfe(c,d),m=this.resizeImage(h,u.width,u.height);return ofe(m,this.thumbnailType,80)}).then(c=>URL.createObjectURL(c))}getProportionalDimensions(r,n,i,a){let o=r.width/r.height;if((a===90||a===270)&&(o=r.height/r.width),n!=null){let l=n;return r.width<n&&(l=r.width),{width:l,height:Math.round(l/o)}}if(i!=null){let l=i;return r.height<i&&(l=r.height),{width:Math.round(l*o),height:l}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(r,n,i){let a=cfe(r),o=Math.ceil(Math.log2(a.width/n));o<1&&(o=1);let l=n*2**(o-1),c=i*2**(o-1);const d=2;for(;o--;){const u=document.createElement("canvas");u.width=l,u.height=c,u.getContext("2d").drawImage(a,0,0,l,c),a=u,l=Math.round(l/d),c=Math.round(c/d)}return a}setPreviewURL(r,n){this.uppy.setFileState(r,{preview:n})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return JP(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(r.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}ce(IV,"VERSION",ife.version);function c8(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&zz(t)?[t]:null}const Kx=Array.from;function ufe(t){const e=Kx(t.files);return Promise.resolve(e)}function DV(t,e,r,{onSuccess:n}){t.readEntries(i=>{const a=[...e,...i];i.length?queueMicrotask(()=>{DV(t,a,r,{onSuccess:n})}):n(a)},i=>{r(i),n(e)})}function MV(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((r,n)=>t.file(r,n))},async*values(){const r=t.createReader();yield*await new Promise(i=>{DV(r,[],e,{onSuccess:a=>i(a.map(o=>MV(o,e)))})})},isSameEntry:void 0}}async function*BV(t,e,r=void 0){const n=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?n():null,yield i):r!=null&&(yield r)}else if(t.kind==="directory")for await(const i of t.values())yield*BV(i,e?n():t.name);else r!=null&&(yield r)}async function*hfe(t,e){const r=await Promise.all(Array.from(t.items,async n=>{let i;return i??(i=MV(typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry(),e)),{fileSystemHandle:i,lastResortFile:n.getAsFile()}}));for(const{lastResortFile:n,fileSystemHandle:i}of r)if(i!=null)try{yield*BV(i,"",n)}catch(a){n!=null?yield n:e(a)}else n!=null&&(yield n)}async function ffe(t,e){const r=(e==null?void 0:e.logDropError)??Function.prototype;try{const n=[];for await(const i of hfe(t,r))n.push(i);return n}catch{return ufe(t)}}const mfe="4.4.3",pfe={version:mfe};function gfe(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}class UV extends Ga{constructor(){super(...arguments);ce(this,"fileInput",null);ce(this,"folderInput",null);ce(this,"mobilePhotoFileInput",null);ce(this,"mobileVideoFileInput",null);ce(this,"triggerFileInputClick",()=>{var r;(r=this.fileInput)==null||r.click()});ce(this,"triggerFolderInputClick",()=>{var r;(r=this.folderInput)==null||r.click()});ce(this,"triggerVideoCameraInputClick",()=>{var r;(r=this.mobileVideoFileInput)==null||r.click()});ce(this,"triggerPhotoCameraInputClick",()=>{var r;(r=this.mobilePhotoFileInput)==null||r.click()});ce(this,"onFileInputChange",r=>{this.props.handleInputChange(r),r.currentTarget.value=""});ce(this,"renderHiddenInput",(r,n)=>{var i;return ge("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:n})});ce(this,"renderHiddenCameraInput",(r,n,i)=>{const o={photo:"image/*",video:"video/*"}[r];return ge("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:n===""?"environment":n,accept:o,ref:i})});ce(this,"renderMyDeviceAcquirer",()=>ge("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:ge("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[ge("div",{className:"uppy-DashboardTab-inner",children:ge("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:ge("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),ge("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));ce(this,"renderPhotoCamera",()=>ge("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:ge("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[ge("div",{className:"uppy-DashboardTab-inner",children:ge("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:ge("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),ge("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));ce(this,"renderVideoCamera",()=>ge("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:ge("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[ge("div",{className:"uppy-DashboardTab-inner",children:ge("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:ge("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),ge("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));ce(this,"renderBrowseButton",(r,n)=>{const i=this.props.acquirers.length;return ge("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":i===0,children:r})});ce(this,"renderDropPasteBrowseTagline",r=>{const n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),a=this.props.fileManagerSelectionType,o=a.charAt(0).toUpperCase()+a.slice(1);return ge("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:n,browseFolders:i,browse:n}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:n,browseFolders:i,browse:n})})});ce(this,"renderAcquirer",r=>{var n;return ge("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id,children:ge("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":((n=this.props.activePickerPanel)==null?void 0:n.id)===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id),children:[ge("div",{className:"uppy-DashboardTab-inner",children:r.icon()}),ge("div",{className:"uppy-DashboardTab-name",children:r.name})]})})});ce(this,"renderAcquirers",r=>{const n=[...r],i=n.splice(r.length-2,r.length);return ge(Fl,{children:[n.map(a=>this.renderAcquirer(a)),ge("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(a=>this.renderAcquirer(a))})]})});ce(this,"renderSourcesList",(r,n)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:a}=this.props;let o=[];const l="myDevice";n||o.push({key:l,elements:this.renderMyDeviceAcquirer()}),i&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),a&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...r.map(h=>({key:h.id,elements:this.renderAcquirer(h)}))),o.length===1&&o[0].key===l&&(o=[]);const d=[...o],u=d.splice(o.length-2,o.length);return ge(Fl,{children:[this.renderDropPasteBrowseTagline(o.length),ge("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:h,elements:m})=>ge(Fl,{children:m},h)),ge("span",{role:"presentation",style:{"white-space":"nowrap"},children:u.map(({key:h,elements:m})=>ge(Fl,{children:m},h))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:r}=this.props,n=ge("span",{children:[ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:ge("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),ge("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=r("poweredBy",{uppy:n});return ge("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:n,nativeCameraFacingMode:i}=this.props;return ge("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,a=>{this.fileInput=a}),this.renderHiddenInput(!0,a=>{this.folderInput=a}),r&&this.renderHiddenCameraInput("photo",i,a=>{this.mobilePhotoFileInput=a}),n&&this.renderHiddenCameraInput("video",i,a=>{this.mobileVideoFileInput=a}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),ge("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&ge("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const xfe=t=>ge("div",{className:Gl("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel,children:[ge("div",{className:"uppy-DashboardContent-bar",children:[ge("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18n("addingMoreFiles")}),ge("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1),children:t.i18n("back")})]}),ge(UV,{...t})]});function vfe(t){const e=t.files[t.fileCardFor],r=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return ge("div",{className:Gl("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[ge("div",{className:"uppy-DashboardContent-bar",children:[ge("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:t.i18nArray("editing",{file:ge("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),ge("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:t.i18n("cancel")}),ge("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor,children:t.i18n("save")})]}),ge("div",{className:"uppy-DashboardContent-panelBody",children:t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))})]})}function yfe(){return ge("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:ge("g",{fill:"#686DE0",fillRule:"evenodd",children:[ge("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),ge("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),ge("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function bfe(){return ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ge("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function wfe(){return ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ge("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function Nfe(){return ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ge("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function jfe(){return ge("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:ge("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function _fe(){return ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ge("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[ge("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),ge("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function Sfe(){return ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ge("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function xC(t){const e={color:"#838999",icon:_fe()};if(!t)return e;const r=t.split("/")[0],n=t.split("/")[1];return r==="text"?{color:"#5a5e69",icon:Sfe()}:r==="image"?{color:"#686de0",icon:yfe()}:r==="audio"?{color:"#068dbb",icon:bfe()}:r==="video"?{color:"#19af67",icon:wfe()}:r==="application"&&n==="pdf"?{color:"#e25149",icon:Nfe()}:r==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:jfe()}:e}function Gu(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function $V(t){const{file:e}=t;if(e.preview)return ge("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:r,icon:n}=xC(e.type);return ge("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[ge("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:r},children:n}),ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:ge("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function kfe(t){const{computedMetaFields:e,requiredMetaFields:r,updateMeta:n,form:i,formState:a}=t,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const c=`uppy-Dashboard-FileCard-input-${l.id}`,d=r.includes(l.id);return ge("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[ge("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:c,children:l.name}),l.render!==void 0?l.render({value:a[l.id],onChange:u=>n(u,l.id),fieldCSSClasses:o,required:d,form:i.id},Fv):ge("input",{className:o.text,id:c,form:i.id,type:l.type||"text",required:d,value:a[l.id],placeholder:l.placeholder,onInput:u=>n(u.target.value,l.id),"data-uppy-super-focusable":!0})]},l.id)})}function Cfe(t){const{files:e,fileCardFor:r,toggleFileCard:n,saveFileCard:i,metaFields:a,requiredMetaFields:o,openFileEditor:l,i18n:c,i18nArray:d,className:u,canEditFile:h}=t,m=()=>typeof a=="function"?a(e[r]):a,f=e[r],g=m()??[],p=h(f),x={};g.forEach(j=>{x[j.id]=f.meta[j.id]??""});const[y,v]=fw(x),b=mde(j=>{j.preventDefault(),i(y,r)},[i,y,r]),w=(j,k)=>{v({...y,[k]:j})},_=()=>{n(!1)},[N]=fw(()=>{const j=document.createElement("form");return j.setAttribute("tabindex","-1"),j.id=uC(),j});return n3(()=>(document.body.appendChild(N),N.addEventListener("submit",b),()=>{N.removeEventListener("submit",b),document.body.removeChild(N)}),[N,b]),ge("div",{className:Gl("uppy-Dashboard-FileCard",u),"data-uppy-panelType":"FileCard",onDragOver:Gu,onDragLeave:Gu,onDrop:Gu,onPaste:Gu,children:[ge("div",{className:"uppy-DashboardContent-bar",children:[ge("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:ge("span",{className:"uppy-DashboardContent-titleFile",children:f.meta?f.meta.name:f.name})})}),ge("button",{className:"uppy-DashboardContent-back",type:"button",form:N.id,title:c("finishEditingFile"),onClick:_,children:c("cancel")})]}),ge("div",{className:"uppy-Dashboard-FileCard-inner",children:[ge("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:xC(f.type).color},children:[ge($V,{file:f}),p&&ge("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:j=>{b(j),l(f)},children:c("editImage")})]}),ge("div",{className:"uppy-Dashboard-FileCard-info",children:ge(kfe,{computedMetaFields:g,requiredMetaFields:o,updateMeta:w,form:N,formState:y})}),ge("div",{className:"uppy-Dashboard-FileCard-actions",children:[ge("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:N.id,children:c("saveChanges")}),ge("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:_,form:N.id,children:c("cancel")})]})]})]})}function Afe(t,e){if(t===e)return!0;if(!t||!e)return!1;const r=Object.keys(t),n=Object.keys(e),i=r.length;if(n.length!==i)return!1;for(let a=0;a<i;a++){const o=r[a];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function Efe(t,e="Copy the URL below"){return new Promise(r=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();const i=()=>{document.body.removeChild(n),window.prompt(e,t),r()};try{return document.execCommand("copy")?(document.body.removeChild(n),r()):i()}catch{return document.body.removeChild(n),i()}})}function Tfe({file:t,uploadInProgressOrComplete:e,metaFields:r,canEditFile:n,i18n:i,onClick:a}){return!e&&r&&r.length>0||!e&&n(t)?ge("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:t.meta.name}),title:i("editFileWithFilename",{file:t.meta.name}),onClick:()=>a(),children:ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:ge("g",{fillRule:"evenodd",children:[ge("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),ge("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),ge("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function Pfe({i18n:t,onClick:e,file:r}){return ge("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:()=>e(),children:ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[ge("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),ge("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function Ffe({file:t,uppy:e,i18n:r}){const n=i=>{Efe(t.uploadURL,r("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(r("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>i.target.focus({preventScroll:!0}))};return ge("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":r("copyLink"),title:r("copyLink"),onClick:i=>n(i),children:ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:ge("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function Ofe(t){const{uppy:e,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:a,showLinkToFileUploadResult:o,showRemoveButton:l,i18n:c,toggleFileCard:d,openFileEditor:u}=t;return ge("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[ge(Tfe,{i18n:c,file:r,uploadInProgressOrComplete:n,canEditFile:i,metaFields:a,onClick:()=>{a&&a.length>0?d(!0,r.id):u(r)}}),o&&r.uploadURL?ge(Ffe,{file:r,uppy:e,i18n:c}):null,l?ge(Pfe,{i18n:c,file:r,onClick:()=>e.removeFile(r.id)}):null]})}const v4="...";function qV(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=v4.length+1)return`${t.slice(0,e-1)}`;const r=e-v4.length,n=Math.ceil(r/2),i=Math.floor(r/2);return t.slice(0,n)+v4+t.slice(-i)}const Lfe=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function zV(t){const{file:e,toggleFileCard:r,i18n:n,metaFields:i}=t,{missingRequiredMetaFields:a}=e;if(!(a!=null&&a.length))return null;const o=a.map(l=>Lfe(l,i)).join(", ");return ge("div",{className:"uppy-Dashboard-Item-errorMessage",children:[n("missingRequiredMetaFields",{smart_count:a.length,fields:o})," ",ge("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>r(!0,e.id),children:n("editFile")})]})}const Rfe=t=>{const{author:e,name:r}=t.file.meta;function n(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return ge("div",{className:"uppy-Dashboard-Item-name",title:r,children:qV(r,n())})},Ife=t=>{var i;const{author:e}=t.file.meta,r=(i=t.file.remote)==null?void 0:i.providerName,n="";return e?ge("div",{className:"uppy-Dashboard-Item-author",children:[ge("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:qV(e.name,13)}),r?ge(Fl,{children:[` ${n} `,r,` ${n} `]}):null]}):null},Dfe=t=>t.file.size&&ge("div",{className:"uppy-Dashboard-Item-statusSize",children:gf(t.file.size)}),Mfe=t=>t.file.isGhost&&ge("span",{children:["  ",ge("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0),children:t.i18n("reSelect")})]}),Bfe=({file:t,onClick:e})=>t.error?ge("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function Ufe(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:i,toggleAddFilesPanel:a,isSingleFile:o,containerHeight:l,containerWidth:c}=t;return ge("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[ge("div",{className:"uppy-Dashboard-Item-fileName",children:[Rfe({file:e,isSingleFile:o,containerHeight:l,containerWidth:c}),ge(Bfe,{file:e,onClick:()=>alert(e.error)})]}),ge("div",{className:"uppy-Dashboard-Item-status",children:[Ife({file:e}),Dfe({file:e}),Mfe({file:e,toggleAddFilesPanel:a,i18n:r})]}),ge(zV,{file:e,i18n:r,toggleFileCard:n,metaFields:i})]})}function $fe(t){const{file:e,i18n:r,toggleFileCard:n,metaFields:i,showLinkToFileUploadResult:a}=t,l=e.preview?"rgba(255, 255, 255, 0.5)":xC(e.type).color;return ge("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:l},children:[a&&e.uploadURL&&ge("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:ge("span",{hidden:!0,children:e.meta.name})}),ge($V,{file:e}),ge(zV,{file:e,i18n:r,toggleFileCard:n,metaFields:i})]})}function qfe(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function d8(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function y4(t){return ge("div",{className:"uppy-Dashboard-Item-progress",children:ge("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":d8(t),title:d8(t),onClick:()=>qfe(t),children:t.children})})}function Cb({children:t}){return ge("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:t})}function b4({progress:t}){const e=2*Math.PI*15;return ge("g",{children:[ge("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),ge("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*t})]})}function zfe(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?ge("div",{className:"uppy-Dashboard-Item-progress",children:ge("div",{className:"uppy-Dashboard-Item-progressIndicator",children:ge(Cb,{children:[ge("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),ge("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):t.recoveredState?null:t.error&&!t.hideRetryButton?ge(y4,{...t,children:ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[ge("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),ge("path",{d:"M7.9 3H10v2H7.9z"}),ge("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),ge("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):t.resumableUploads&&!t.hidePauseResumeButton?ge(y4,{...t,children:ge(Cb,{children:[ge(b4,{progress:t.file.progress.percentage}),t.file.isPaused?ge("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):ge("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[ge("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),ge("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?ge(y4,{...t,children:ge(Cb,{children:[ge(b4,{progress:t.file.progress.percentage}),ge("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):ge("div",{className:"uppy-Dashboard-Item-progress",children:ge("div",{className:"uppy-Dashboard-Item-progressIndicator",children:ge(Cb,{children:ge(b4,{progress:t.file.progress.percentage})})})})}class Vfe extends Ga{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!Afe(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,r=e.progress.preprocess||e.progress.postprocess,n=!!e.progress.uploadComplete&&!r&&!e.error,i=!!e.progress.uploadStarted||!!r,a=e.progress.uploadStarted&&!e.progress.uploadComplete||r,o=e.error||!1,{isGhost:l}=e;let c=(this.props.individualCancellation||!a)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(c=!0);const d=Gl({"uppy-Dashboard-Item":!0,"is-inprogress":a&&!this.props.recoveredState,"is-processing":r,"is-complete":n,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l});return ge("div",{className:d,id:`uppy_${e.id}`,role:this.props.role,children:[ge("div",{className:"uppy-Dashboard-Item-preview",children:[ge($fe,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),ge(zfe,{uppy:this.props.uppy,file:e,error:o,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),ge("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[ge(Ufe,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),ge(Ofe,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:c,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Hfe(t,e){const r=[];let n=[];return t.forEach(i=>{n.length<e?n.push(i):(r.push(n),n=[i])}),n.length&&r.push(n),r}function Wfe({id:t,i18n:e,uppy:r,files:n,resumableUploads:i,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,isSingleFile:h,toggleFileCard:m,handleRequestThumbnail:f,handleCancelThumbnail:g,recoveredState:p,individualCancellation:x,itemsPerRow:y,openFileEditor:v,canEditFile:b,toggleAddFilesPanel:w,containerWidth:_,containerHeight:N}){const j=y===1?71:200,k=cC(()=>{const A=(T,L)=>Number(n[L].isGhost)-Number(n[T].isGhost),C=Object.keys(n);return p&&C.sort(A),Hfe(C,y)},[n,y,p]),E=A=>ge("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:A.map(C=>ge(Vfe,{uppy:r,id:t,i18n:e,resumableUploads:i,individualCancellation:x,hideRetryButton:a,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:d,metaFields:u,recoveredState:p,isSingleFile:h,containerWidth:_,containerHeight:N,toggleFileCard:m,handleRequestThumbnail:f,handleCancelThumbnail:g,role:"listitem",openFileEditor:v,canEditFile:b,toggleAddFilesPanel:w,file:n[C]},C))},A[0]);return h?ge("div",{class:"uppy-Dashboard-files",children:E(k[0])}):ge(hhe,{class:"uppy-Dashboard-files",role:"list",data:k,renderRow:E,rowHeight:j})}function Kfe({activePickerPanel:t,className:e,hideAllPanels:r,i18n:n,state:i,uppy:a}){const o=g2(null);return ge("div",{className:Gl("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:Gu,onDragLeave:Gu,onDrop:Gu,onPaste:Gu,children:[ge("div",{className:"uppy-DashboardContent-bar",children:[ge("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n("importFrom",{name:t.name})}),ge("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r,children:n("cancel")})]}),ge("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:a.getPlugin(t.id).render(i,o.current)})]})}const lc={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Gfe(t,e,r,n={}){if(t)return lc.STATE_ERROR;if(e)return lc.STATE_COMPLETE;if(r)return lc.STATE_PAUSED;let i=lc.STATE_WAITING;const a=Object.keys(n);for(let o=0;o<a.length;o++){const{progress:l}=n[a[o]];if(l.uploadStarted&&!l.uploadComplete)return lc.STATE_UPLOADING;l.preprocess&&i!==lc.STATE_UPLOADING&&(i=lc.STATE_PREPROCESSING),l.postprocess&&i!==lc.STATE_UPLOADING&&i!==lc.STATE_PREPROCESSING&&(i=lc.STATE_POSTPROCESSING)}return i}function Yfe({files:t,i18n:e,isAllComplete:r,isAllErrored:n,isAllPaused:i,inProgressNotPausedFiles:a,newFiles:o,processingFiles:l}){switch(Gfe(n,r,i,t)){case"uploading":return e("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:l.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error")}}function Qfe(t){const{i18n:e,isAllComplete:r,hideCancelButton:n,maxNumberOfFiles:i,toggleAddFilesPanel:a,uppy:o}=t;let{allowNewUpload:l}=t;return l&&i&&(l=t.totalFileCount<t.maxNumberOfFiles),ge("div",{className:"uppy-DashboardContent-bar",children:[!r&&!n?ge("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):ge("div",{}),ge("div",{className:"uppy-DashboardContent-title",children:ge(Yfe,{...t})}),l?ge("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>a(!0),children:[ge("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:ge("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),ge("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):ge("div",{})]})}const Wm="uppy-transition-slideDownUp",u8=250;function Ab({children:t}){const[e,r]=fw(null),[n,i]=fw(""),a=g2(),o=g2(),l=g2(),c=()=>{i(`${Wm}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Wm}-enter ${Wm}-enter-active`),a.current=setTimeout(()=>{i("")},u8)})},d=()=>{i(`${Wm}-leave`),cancelAnimationFrame(l.current),clearTimeout(a.current),a.current=void 0,l.current=requestAnimationFrame(()=>{i(`${Wm}-leave ${Wm}-leave-active`),o.current=setTimeout(()=>{r(null),i("")},u8)})};return n3(()=>{const u=Al(t)[0];e!==u&&(u&&!e?c():e&&!u&&!o.current&&d(),r(u))},[t,e]),n3(()=>()=>{clearTimeout(a.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),e?rV(e,{className:Gl(n,e.props.className)}):null}const h8=900,f8=700,w4=576,m8=330;function Xfe(t){const e=t.totalFileCount===0,r=t.totalFileCount===1,n=t.containerWidth>w4,i=t.containerHeight>m8,a=Gl({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>w4,"uppy-size--lg":t.containerWidth>f8,"uppy-size--xl":t.containerWidth>h8,"uppy-size--height-md":t.containerHeight>m8,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&r&&i});let o=1;t.containerWidth>h8?o=5:t.containerWidth>f8?o=4:t.containerWidth>w4&&(o=3);const l=t.showSelectedFiles&&!e,c=t.recoveredState?Object.keys(t.recoveredState.files).length:null,d=t.files?Object.keys(t.files).filter(m=>t.files[m].isGhost).length:0,u=()=>d>0?t.i18n("recoveredXFiles",{smart_count:d}):t.i18n("recoveredAllFiles");return ge("div",{className:a,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&gfe(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop,children:[ge("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),ge("div",{className:"uppy-Dashboard-inner",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""},children:[t.inline?null:ge("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal,children:ge("span",{"aria-hidden":"true",children:""})}),ge("div",{className:"uppy-Dashboard-innerWrap",children:[ge("div",{className:"uppy-Dashboard-dropFilesHereHint",children:t.i18n("dropHint")}),l&&ge(Qfe,{...t}),c&&ge("div",{className:"uppy-Dashboard-serviceMsg",children:[ge("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:ge("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[ge("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),ge("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),ge("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),ge("strong",{className:"uppy-Dashboard-serviceMsg-title",children:t.i18n("sessionRestored")}),ge("div",{className:"uppy-Dashboard-serviceMsg-text",children:u()})]}),l?ge(Wfe,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:r,itemsPerRow:o,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):ge(UV,{i18n:t.i18n,i18nArray:t.i18nArray,acquirers:t.acquirers,handleInputChange:t.handleInputChange,maxNumberOfFiles:t.maxNumberOfFiles,allowedFileTypes:t.allowedFileTypes,showNativePhotoCameraButton:t.showNativePhotoCameraButton,showNativeVideoCameraButton:t.showNativeVideoCameraButton,nativeCameraFacingMode:t.nativeCameraFacingMode,showPanel:t.showPanel,activePickerPanel:t.activePickerPanel,disableLocalFiles:t.disableLocalFiles,fileManagerSelectionType:t.fileManagerSelectionType,note:t.note,proudlyDisplayPoweredByUppy:t.proudlyDisplayPoweredByUppy}),ge(Ab,{children:t.showAddFilesPanel?ge(xfe,{...t,isSizeMD:n},"AddFiles"):null}),ge(Ab,{children:t.fileCardFor?ge(Cfe,{...t},"FileCard"):null}),ge(Ab,{children:t.activePickerPanel?ge(Kfe,{...t},"Picker"):null}),ge(Ab,{children:t.showFileEditor?ge(vfe,{...t},"Editor"):null}),ge("div",{className:"uppy-Dashboard-progressindicators",children:t.progressindicators.map(m=>t.uppy.getPlugin(m.id).render(t.state))})]})]})]})}const Jfe={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},VV=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function HV(t,e){if(e){const r=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(r)return r}return t}function Zfe(){let t=!1;return Pue((r,n)=>{const i=HV(r,n),a=i.contains(document.activeElement);if(a&&t)return;const o=i.querySelector("[data-uppy-super-focusable]");if(!(a&&!o))if(o)o.focus({preventScroll:!0}),t=!0;else{const l=i.querySelector(VV);l==null||l.focus({preventScroll:!0}),t=!1}},260)}function p8(t,e){const r=e[0];r&&(r.focus(),t.preventDefault())}function eme(t,e){const r=e[e.length-1];r&&(r.focus(),t.preventDefault())}function tme(t){return t.contains(document.activeElement)}function WV(t,e,r){const n=HV(r,e),i=Kx(n.querySelectorAll(VV)),a=i.indexOf(document.activeElement);tme(n)?t.shiftKey&&a===0?eme(t,i):!t.shiftKey&&a===i.length-1&&p8(t,i):p8(t,i)}function rme(t,e,r){e===null||WV(t,e,r)}const g8=9,sme=27;function x8(){const t={};return t.promise=new Promise((e,r)=>{t.resolve=e,t.reject=r}),t}const nme={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:fhe,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var y_,f0,Of,by,m0,uN,hN,fN,Lf,mN,pN,p0,Si,y3,b3,KV,w3,N3,GV;let ime=(y_=class extends H0{constructor(r,n){var a;const i=(n==null?void 0:n.autoOpen)??null;super(r,{...nme,...n,autoOpen:i});Ge(this,Si);Ge(this,f0);ce(this,"modalName",`uppy-Dashboard-${uC()}`);ce(this,"superFocus",Zfe());ce(this,"ifFocusedOnUppyRecently",!1);ce(this,"dashboardIsDisabled");ce(this,"savedScrollPosition");ce(this,"savedActiveElement");ce(this,"resizeObserver");ce(this,"darkModeMediaQuery");ce(this,"makeDashboardInsidesVisibleAnywayTimeout");ce(this,"removeTarget",r=>{const i=this.getPluginState().targets.filter(a=>a.id!==r.id);this.setPluginState({targets:i})});ce(this,"addTarget",r=>{const n=r.id||r.constructor.name,i=r.title||n,a=r.type;if(a!=="acquirer"&&a!=="progressindicator"&&a!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:n,name:i,type:a},c=this.getPluginState().targets.slice();return c.push(o),this.setPluginState({targets:c}),this.el});ce(this,"hideAllPanels",()=>{var i;const r=this.getPluginState(),n={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};r.activePickerPanel===n.activePickerPanel&&r.showAddFilesPanel===n.showAddFilesPanel&&r.showFileEditor===n.showFileEditor&&r.activeOverlayType===n.activeOverlayType||(this.setPluginState(n),this.uppy.emit("dashboard:close-panel",(i=r.activePickerPanel)==null?void 0:i.id))});ce(this,"showPanel",r=>{const{targets:n}=this.getPluginState(),i=n.find(a=>a.type==="acquirer"&&a.id===r);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",r)});ce(this,"canEditFile",r=>{const{targets:n}=this.getPluginState();return Y(this,Lf).call(this,n).some(a=>this.uppy.getPlugin(a.id).canEditFile(r))});ce(this,"openFileEditor",r=>{const{targets:n}=this.getPluginState(),i=Y(this,Lf).call(this,n);this.setPluginState({showFileEditor:!0,fileCardFor:r.id||null,activeOverlayType:"FileEditor"}),i.forEach(a=>{this.uppy.getPlugin(a.id).selectFile(r)})});ce(this,"closeFileEditor",()=>{const{metaFields:r}=this.getPluginState();r&&r.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});ce(this,"saveFileEditor",()=>{const{targets:r}=this.getPluginState();Y(this,Lf).call(this,r).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});ce(this,"openModal",()=>{const{promise:r,resolve:n}=x8();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),n()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),n();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),r});ce(this,"closeModal",r=>{var c;const n=(r==null?void 0:r.manualClose)??!0,{isHidden:i,isClosing:a}=this.getPluginState();if(i||a)return;const{promise:o,resolve:l}=x8();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),l()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),l();return document.removeEventListener("keydown",this.handleKeyDownInModal),n&&this.opts.browserBackButtonClose&&(c=history.state)!=null&&c[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});ce(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);ce(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());ce(this,"setDarkModeCapability",r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,darkMode:r}})});ce(this,"handleSystemDarkModeChange",r=>{const n=r.matches;this.uppy.log(`[Dashboard] Dark mode is ${n?"on":"off"}`),this.setDarkModeCapability(n)});ce(this,"toggleFileCard",(r,n)=>{const i=this.uppy.getFile(n);r?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:r?n:null,activeOverlayType:r?"FileCard":null})});ce(this,"toggleAddFilesPanel",r=>{this.setPluginState({showAddFilesPanel:r,activeOverlayType:r?"AddFiles":null})});ce(this,"addFiles",r=>{const n=r.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(n)}catch(i){this.uppy.log(i)}});ce(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(r=>{const n=r[0],{width:i,height:a}=n.contentRect;this.setPluginState({containerWidth:i,containerHeight:a,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const r=this.getPluginState(),n=!this.opts.inline&&r.isHidden;!r.areInsidesReadyToBeVisible&&!n&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});ce(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});ce(this,"recordIfFocusedOnUppyRecently",r=>{this.el.contains(r.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});ce(this,"disableInteractiveElements",r=>{const n=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=Y(this,f0)??Kx(this.el.querySelectorAll(n)).filter(a=>!a.classList.contains("uppy-Dashboard-close"));for(const a of i)a.tagName==="A"?a.setAttribute("aria-disabled",r):a.disabled=r;r?et(this,f0,i):et(this,f0,null),this.dashboardIsDisabled=r});ce(this,"updateBrowserHistory",()=>{var r;(r=history.state)!=null&&r[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});ce(this,"handlePopState",r=>{var n;this.isModalOpen()&&(!r.state||!r.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((n=r.state)!=null&&n[this.modalName])&&history.back()});ce(this,"handleKeyDownInModal",r=>{r.keyCode===sme&&this.requestCloseModal(),r.keyCode===g8&&WV(r,this.getPluginState().activeOverlayType,this.el)});ce(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});ce(this,"handlePaste",r=>{this.uppy.iteratePlugins(i=>{var a;i.type==="acquirer"&&((a=i.handleRootPaste)==null||a.call(i,r))});const n=Kx(r.clipboardData.files);n.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(n))});ce(this,"handleInputChange",r=>{r.preventDefault();const n=Kx(r.currentTarget.files||[]);n.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(n))});ce(this,"handleDragOver",r=>{r.preventDefault(),r.stopPropagation();const n=()=>{let l=!0;return this.uppy.iteratePlugins(c=>{var d;(d=c.canHandleRootDrop)!=null&&d.call(c,r)&&(l=!0)}),l},i=()=>{const{types:l}=r.dataTransfer;return l.some(c=>c==="Files")},a=n(),o=i();if(!a&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!a)||!this.uppy.getState().allowNewUpload){r.dataTransfer.dropEffect="none";return}r.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(r)});ce(this,"handleDragLeave",r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(r)});ce(this,"handleDrop",async r=>{r.preventDefault(),r.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var l;o.type==="acquirer"&&((l=o.handleRootDrop)==null||l.call(o,r))});let n=!1;const i=o=>{this.uppy.log(o,"error"),n||(this.uppy.info(o.message,"error"),n=!0)};this.uppy.log("[Dashboard] Processing dropped files");const a=await ffe(r.dataTransfer,{logDropError:i});a.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(a)),this.opts.onDrop(r)});ce(this,"handleRequestThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",r)});ce(this,"handleCancelThumbnail",r=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",r)});ce(this,"handleKeyDownInInline",r=>{r.keyCode===g8&&rme(r,this.getPluginState().activeOverlayType,this.el)});ce(this,"handlePasteOnBody",r=>{this.el.contains(document.activeElement)&&this.handlePaste(r)});ce(this,"handleComplete",({failed:r})=>{this.opts.closeAfterFinish&&!(r!=null&&r.length)&&this.requestCloseModal()});ce(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});Ge(this,Of,()=>{if(this.opts.disableThumbnailGenerator)return;const r=600,n=this.uppy.getFiles();if(n.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:r});const a={...n[0],preview:void 0};i==null||i.requestThumbnail(a).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});Ge(this,by,r=>{const n=r[0],{metaFields:i}=this.getPluginState(),a=i&&i.length>0,o=this.canEditFile(n);a&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,n.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(n)});ce(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const r=c8(this.opts.trigger);r?r.forEach(n=>n.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",Y(this,p0)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",Y(this,Of)),this.uppy.on("file-removed",Y(this,Of)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",Y(this,by))});ce(this,"removeEvents",()=>{const r=c8(this.opts.trigger);!this.opts.inline&&r&&r.forEach(n=>n.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",Y(this,p0)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",Y(this,Of)),this.uppy.off("file-removed",Y(this,Of)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",Y(this,by))});ce(this,"superFocusOnEachUpdate",()=>{const r=this.el.contains(document.activeElement),n=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,a=!this.opts.inline;i&&(a||r||n&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});ce(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});ce(this,"saveFileCard",(r,n)=>{this.uppy.setFileMeta(n,r),this.toggleFileCard(!1,n)});Ge(this,m0,r=>{const n=this.uppy.getPlugin(r.id);return{...r,icon:n.icon||this.opts.defaultPickerIcon,render:n.render}});Ge(this,uN,r=>{const n=this.uppy.getPlugin(r.id);return typeof n.isSupported!="function"?!0:n.isSupported()});Ge(this,hN,r=>r.filter(n=>n.type==="acquirer"&&Y(this,uN).call(this,n)).map(Y(this,m0)));Ge(this,fN,r=>r.filter(n=>n.type==="progressindicator").map(Y(this,m0)));Ge(this,Lf,r=>r.filter(n=>n.type==="editor").map(Y(this,m0)));ce(this,"render",r=>{const n=this.getPluginState(),{files:i,capabilities:a,allowNewUpload:o}=r,{newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:g,isAllComplete:p,isAllPaused:x}=this.uppy.getObjectOfFilesPerState(),y=Y(this,hN).call(this,n.targets),v=Y(this,fN).call(this,n.targets),b=Y(this,Lf).call(this,n.targets);let w;return this.opts.theme==="auto"?w=a.darkMode?"dark":"light":w=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Xfe({state:r,isHidden:n.isHidden,files:i,newFiles:l,uploadStartedFiles:c,completeFiles:d,erroredFiles:u,inProgressFiles:h,inProgressNotPausedFiles:m,processingFiles:f,isUploadStarted:g,isAllComplete:p,isAllPaused:x,totalFileCount:Object.keys(i).length,totalProgress:r.totalProgress,allowNewUpload:o,acquirers:y,theme:w,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:n.activePickerPanel,showFileEditor:n.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:n.isClosing,progressindicators:v,editors:b,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:r.recoveredState,metaFields:n.metaFields,resumableUploads:a.resumableUploads||!1,individualCancellation:a.individualCancellation,isMobileDevice:a.isMobileDevice,fileCardFor:n.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:n.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:n.containerWidth,containerHeight:n.containerHeight,areInsidesReadyToBeVisible:n.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:n.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});Ge(this,mN,()=>{const{plugins:r}=this.opts;r.forEach(n=>{const i=this.uppy.getPlugin(n);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${n}', make sure to uppy.use() the plugins you are specifying`,"warning")})});Ge(this,pN,()=>{this.uppy.iteratePlugins(Y(this,p0))});Ge(this,p0,r=>{var i;const n=["acquirer","editor"];r&&!((i=r.opts)!=null&&i.target)&&n.includes(r.type)&&(this.getPluginState().targets.some(o=>r.id===o.id)||r.mount(this,r))});ce(this,"install",()=>{var c;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:r,closeAfterFinish:n}=this.opts;if(r&&n)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:a}=this.uppy.opts;(i||a)&&n&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(Dhe,{id:it(this,Si,w3).call(this),target:this,...it(this,Si,y3).call(this)}),this.opts.disableInformer||this.uppy.use(jV,{id:it(this,Si,GV).call(this),target:this,...it(this,Si,KV).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(IV,{id:it(this,Si,N3).call(this),...it(this,Si,b3).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const l=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l),this.opts.theme==="auto"&&((c=this.darkModeMediaQuery)==null||c.addListener(this.handleSystemDarkModeChange)),Y(this,mN).call(this),Y(this,pN).call(this),this.initEvents()});ce(this,"uninstall",()=>{var n;if(!this.opts.disableInformer){const i=this.uppy.getPlugin(`${this.id}:Informer`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableStatusBar){const i=this.uppy.getPlugin(`${this.id}:StatusBar`);i&&this.uppy.removePlugin(i)}if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:r}=this.opts;r.forEach(i=>{const a=this.uppy.getPlugin(i);a&&a.unmount()}),this.opts.theme==="auto"&&((n=this.darkModeMediaQuery)==null||n.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=Jfe,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(a=this.opts).onRequestCloseModal??(a.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(r){var n,i;super.setOptions(r),(n=this.uppy.getPlugin(it(this,Si,w3).call(this)))==null||n.setOptions(it(this,Si,y3).call(this)),(i=this.uppy.getPlugin(it(this,Si,N3).call(this)))==null||i.setOptions(it(this,Si,b3).call(this))}},f0=new WeakMap,Of=new WeakMap,by=new WeakMap,m0=new WeakMap,uN=new WeakMap,hN=new WeakMap,fN=new WeakMap,Lf=new WeakMap,mN=new WeakMap,pN=new WeakMap,p0=new WeakMap,Si=new WeakSet,y3=function(){const{hideUploadButton:r,hideRetryButton:n,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideProgressAfterFinish:l,locale:c,doneButtonHandler:d}=this.opts;return{hideUploadButton:r,hideRetryButton:n,hidePauseResumeButton:i,hideCancelButton:a,showProgressDetails:o,hideAfterFinish:l,locale:c,doneButtonHandler:d}},b3=function(){const{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:i,waitForThumbnailsBeforeUpload:a}=this.opts;return{thumbnailWidth:r,thumbnailHeight:n,thumbnailType:i,waitForThumbnailsBeforeUpload:a,lazy:!a}},KV=function(){return{}},w3=function(){return`${this.id}:StatusBar`},N3=function(){return`${this.id}:ThumbnailGenerator`},GV=function(){return`${this.id}:Informer`},ce(y_,"VERSION",pfe.version),y_);const ame=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ome=/^(aria-|data-)/,YV=t=>Object.fromEntries(Object.entries(t).filter(([e])=>ome.test(e)||ame.includes(e)));function lme(t,e){const r=YV(t);return Object.keys(t).some(n=>!Object.hasOwn(r,n)&&t[n]!==e[n])}class QV extends O.Component{constructor(){super(...arguments);ce(this,"container");ce(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(r){const{uppy:n,open:i,onRequestClose:a}=this.props;if(r.uppy!==n)this.uninstallPlugin(r),this.installPlugin();else if(lme(this.props,r)){const{uppy:o,...l}={...this.props,inline:!1,onRequestCloseModal:a};this.plugin.setOptions(l)}r.open&&!i?this.plugin.closeModal():!r.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:r=this.container,open:n,onRequestClose:i,uppy:a,...o}=this.props,l={id:"DashboardModal",...o,inline:!1,target:r,open:n,onRequestCloseModal:i};a.use(ime,l),this.plugin=a.getPlugin(l.id),n&&this.plugin.openModal()}uninstallPlugin(r=this.props){const{uppy:n}=r;n.removePlugin(this.plugin)}render(){return O.createElement("div",{className:"uppy-Container",ref:r=>{this.container=r},...YV(this.props)})}}ce(QV,"defaultProps",{open:void 0,onRequestClose:void 0});O.createContext({uppy:void 0,status:"init",progress:0});var cme={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s1=O;function dme(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ume=typeof Object.is=="function"?Object.is:dme,hme=s1.useSyncExternalStore,fme=s1.useRef,mme=s1.useEffect,pme=s1.useMemo,gme=s1.useDebugValue;cme.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=fme(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=pme(function(){function c(f){if(!d){if(d=!0,u=f,f=n(f),i!==void 0&&o.hasValue){var g=o.value;if(i(g,f))return h=g}return h=f}if(g=h,ume(u,f))return g;var p=n(f);return i!==void 0&&i(g,p)?(u=f,g):(u=f,h=p)}var d=!1,u,h,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,i]);var l=hme(t,a[0],a[1]);return mme(function(){o.hasValue=!0,o.value=l},[l]),gme(l),l};function XV(t,e){return Object.hasOwn(t,e)}class xme extends Error{constructor(r,n){super(r);ce(this,"isNetworkError");ce(this,"cause");this.cause=n==null?void 0:n.cause,this.cause&&XV(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}class vme extends Error{constructor(r,n=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");ce(this,"cause");ce(this,"isNetworkError");ce(this,"request");this.cause=r,this.isNetworkError=!0,this.request=n}}function yme(...t){return fetch(...t).catch(e=>{throw e.name==="AbortError"?e:new vme(e)})}function bme(t){var i;const r=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(t))==null?void 0:i[1];return`${/^http:\/\//i.test(t)?"ws":"wss"}://${r}`}class wme extends Error{constructor(){super(...arguments);ce(this,"name","UserFacingApiError")}}var JV={};function Jo(t,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var Nme=Jo;Jo.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Jo.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Jo.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=new Date().getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var n=this;return this._timer=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r),this._options.unref&&this._timer.unref(),!0};Jo.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Jo.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)};Jo.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)};Jo.prototype.start=Jo.prototype.try;Jo.prototype.errors=function(){return this._errors};Jo.prototype.attempts=function(){return this._attempts};Jo.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],a=i.message,o=(t[a]||0)+1;t[a]=o,o>=r&&(e=i,r=o)}return e};(function(t){var e=Nme;t.operation=function(r){var n=t.timeouts(r);return new e(n,{forever:r&&(r.forever||r.retries===1/0),unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})},t.timeouts=function(r){if(r instanceof Array)return[].concat(r);var n={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in r)n[i]=r[i];if(n.minTimeout>n.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],o=0;o<n.retries;o++)a.push(this.createTimeout(o,n));return r&&r.forever&&!a.length&&a.push(this.createTimeout(o,n)),a.sort(function(l,c){return l-c}),a},t.createTimeout=function(r,n){var i=n.randomize?Math.random()+1:1,a=Math.round(i*Math.max(n.minTimeout,1)*Math.pow(n.factor,r));return a=Math.min(a,n.maxTimeout),a},t.wrap=function(r,n,i){if(n instanceof Array&&(i=n,n=null),!i){i=[];for(var a in r)typeof r[a]=="function"&&i.push(a)}for(var o=0;o<i.length;o++){var l=i[o],c=r[l];r[l]=(function(u){var h=t.operation(n),m=Array.prototype.slice.call(arguments,1),f=m.pop();m.push(function(g){h.retry(g)||(g&&(arguments[0]=h.mainError()),f.apply(this,arguments))}),h.attempt(function(){u.apply(r,m)})}).bind(r,c),r[l].options=n}}})(JV);var jme=JV;const _me=zc(jme),Sme=Object.prototype.toString,kme=t=>Sme.call(t)==="[object Error]",Cme=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function Ame(t){if(!(t&&kme(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:r,stack:n}=t;return r==="Load failed"?n===void 0||"__sentry_captured__"in t:r.startsWith("error sending request for url")?!0:Cme.has(r)}class j3 extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const v8=(t,e,r)=>{const n=r.retries-(e-1);return t.attemptNumber=e,t.retriesLeft=n,t};async function y8(t,e){return new Promise((r,n)=>{e={...e},e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.retries??(e.retries=10);const i=_me.operation(e),a=()=>{var l;i.stop(),n((l=e.signal)==null?void 0:l.reason)};e.signal&&!e.signal.aborted&&e.signal.addEventListener("abort",a,{once:!0});const o=()=>{var l;(l=e.signal)==null||l.removeEventListener("abort",a),i.stop()};i.attempt(async l=>{try{const c=await t(l);o(),r(c)}catch(c){try{if(!(c instanceof Error))throw new TypeError(`Non-error was thrown: "${c}". You should only throw errors.`);if(c instanceof j3)throw c.originalError;if(c instanceof TypeError&&!Ame(c))throw c;if(v8(c,l,e),await e.shouldRetry(c)||(i.stop(),n(c)),await e.onFailedAttempt(c),!i.retry(c))throw i.mainError()}catch(d){v8(d,l,e),o(),n(d)}}})})}const Eme="4.5.2",Tme={version:Eme};class Pme extends Error{constructor(){super("Authorization required");ce(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function Fme(t){return t.replace(/\/$/,"")}const b8=10,Ome=5*60*1e3,Lme=401;class Rme extends Error{constructor({statusCode:r,message:n}){super(n);ce(this,"statusCode");this.name="HttpError",this.statusCode=r}}async function Ime(t){if(t.status===Lme)throw new Pme;if(t.ok)return t.json();let e=`Failed request with status: ${t.status}. ${t.statusText}`,r;try{r=await t.json(),r.message&&(e=`${e} message: ${r.message}`),r.requestId&&(e=`${e} request-Id: ${r.requestId}`)}catch(n){throw new Error(e,{cause:n})}throw t.status>=400&&t.status<=499&&r.message?new wme(r.message):new Rme({statusCode:t.status,message:e})}function Dme(t,e,r){const{progress:n,bytesUploaded:i,bytesTotal:a}=e;n&&(t.uppy.log(`Upload progress: ${n}`),t.uppy.emit("upload-progress",r,{uploadStarted:r.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:a}))}var Rf,kh,_3,gN,S3;class ZV{constructor(e,r){Ge(this,kh);Ge(this,Rf);ce(this,"uppy");ce(this,"opts");Ge(this,gN,async({file:e,postBody:r,signal:n})=>{var a;if(((a=e.remote)==null?void 0:a.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(e.remote.url,{...e.remote.body,...r},{signal:n})).token});this.uppy=e,this.opts=r,this.onReceiveResponse=this.onReceiveResponse.bind(this),et(this,Rf,r.companionHeaders)}setCompanionHeaders(e){et(this,Rf,e)}[Symbol.for("uppy test: getCompanionHeaders")](){return Y(this,Rf)}get hostname(){const{companion:e}=this.uppy.getState(),r=this.opts.companionUrl;return Fme(e!=null&&e[r]?e[r]:r)}async headers(e=!1){return{...{Accept:"application/json",...e?void 0:{"Content-Type":"application/json"}},...Y(this,Rf)}}onReceiveResponse(e){const{headers:r}=e,i=this.uppy.getState().companion||{},a=this.opts.companionUrl;r.has("i-am")&&r.get("i-am")!==i[a]&&this.uppy.setState({companion:{...i,[a]:r.get("i-am")}})}async request({path:e,method:r="GET",data:n,skipPostResponse:i,signal:a}){try{const o=await this.headers(!n),l=await yme(it(this,kh,_3).call(this,e),{method:r,signal:a,headers:o,credentials:this.opts.companionCookiesRule||"same-origin",body:n?JSON.stringify(n):null});return i||this.onReceiveResponse(l),await Ime(l)}catch(o){throw o.isAuthError||o.name==="UserFacingApiError"||o.name==="AbortError"?o:new xme(`Could not ${r} ${it(this,kh,_3).call(this,e)}`,{cause:o})}}async get(e,r){return this.request({...r,path:e})}async post(e,r,n){return this.request({...n,path:e,method:"POST",data:r})}async delete(e,r,n){return this.request({...n,path:e,method:"DELETE",data:r})}async uploadRemoteFile(e,r,n){try{const{signal:i,getQueue:a}=n||{};return await y8(async()=>{var d;const o=(d=this.uppy.getFile(e.id))==null?void 0:d.serverToken;if(o!=null)return this.uppy.log(`Connecting to exiting websocket ${o}`),it(this,kh,S3).call(this,{file:e,queue:a(),signal:i});const c=await a().wrapPromiseFunction(async(...u)=>{try{return await Y(this,gN).call(this,...u)}catch(h){if(h.isAuthError)throw new j3(h);if(h.cause==null)throw h;const m=h.cause,f=()=>[408,409,429,418,423].includes(m.statusCode)||m.statusCode>=500&&m.statusCode<=599&&![501,505].includes(m.statusCode);throw m.name==="HttpError"&&!f()?new j3(m):m}},{priority:-1})({file:e,postBody:r,signal:i}).abortOn(i);if(this.uppy.getFile(e.id))return this.uppy.setFileState(e.id,{serverToken:c}),it(this,kh,S3).call(this,{file:this.uppy.getFile(e.id),queue:a(),signal:i})},{retries:b8,signal:i,onFailedAttempt:o=>this.uppy.log(`Retrying upload due to: ${o.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",e,i),i}}}Rf=new WeakMap,kh=new WeakSet,_3=function(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`},gN=new WeakMap,S3=async function({file:e,queue:r,signal:n}){let i;const{capabilities:a}=this.uppy.getState();try{return await new Promise((o,l)=>{const c=e.serverToken,d=bme(e.remote.companionUrl);let u,h,m,{isPaused:f}=e;const g=(j,k)=>{if(u==null||u.readyState!==u.OPEN){this.uppy.log(`Cannot send "${j}" to socket ${e.id} because the socket state was ${String(u==null?void 0:u.readyState)}`,"warning");return}u.send(JSON.stringify({action:j,payload:k??{}}))};function p(){a.resumableUploads&&g(f?"pause":"resume")}const x=async()=>{h&&h.abort(),h=new AbortController;const j=E=>{var A;this.uppy.setFileState(e.id,{serverToken:null}),(A=h==null?void 0:h.abort)==null||A.call(h),l(E)};function k(){clearTimeout(m),!f&&(m=setTimeout(()=>j(new Error("Timeout waiting for message from Companion socket")),Ome))}try{await r.wrapPromiseFunction(async()=>{await y8(async()=>new Promise((A,C)=>{u=new WebSocket(`${d}/api/${c}`),k(),u.addEventListener("close",()=>{u=void 0,C(new Error("Socket closed unexpectedly"))}),u.addEventListener("error",L=>{this.uppy.log(`Companion socket error ${JSON.stringify(L)}, closing socket`,"warning"),u==null||u.close()}),u.addEventListener("open",()=>{p()}),u.addEventListener("message",L=>{var D,H,X;k();try{const{action:ee,payload:Q}=JSON.parse(L.data);switch(ee){case"progress":{Dme(this,Q,this.uppy.getFile(e.id));break}case"success":{const G=(D=Q.response)==null?void 0:D.responseText;this.uppy.emit("upload-success",this.uppy.getFile(e.id),{uploadURL:Q.url,status:((H=Q.response)==null?void 0:H.status)??200,body:G?JSON.parse(G):void 0}),(X=h==null?void 0:h.abort)==null||X.call(h),o();break}case"error":{const{message:G}=Q.error;throw Object.assign(new Error(G),{cause:Q.error})}default:this.uppy.log(`Companion socket unknown action ${ee}`,"warning")}}catch(ee){j(ee)}});const T=()=>{this.uppy.log(`Closing socket ${e.id}`),clearTimeout(m),u&&u.close(),u=void 0};h.signal.addEventListener("abort",()=>{T()})}),{retries:b8,signal:h.signal,onFailedAttempt:()=>{h.signal.aborted||this.uppy.log(`Retrying websocket ${e.id}`)}})})().abortOn(h.signal)}catch(E){if(h.signal.aborted)return;j(E)}},y=j=>{a.resumableUploads&&(f=j,u&&p())},v=j=>{var k;a.individualCancellation&&j.id===e.id&&(g("cancel"),(k=h==null?void 0:h.abort)==null||k.call(h),this.uppy.log(`upload ${e.id} was removed`),o())},b=()=>{var j;g("cancel"),(j=h==null?void 0:h.abort)==null||j.call(h),this.uppy.log(`upload ${e.id} was canceled`),o()},w=(j,k)=>{(j==null?void 0:j.id)===e.id&&y(k)},_=()=>y(!0),N=()=>y(!1);this.uppy.on("file-removed",v),this.uppy.on("cancel-all",b),this.uppy.on("upload-pause",w),this.uppy.on("pause-all",_),this.uppy.on("resume-all",N),i=()=>{this.uppy.off("file-removed",v),this.uppy.off("cancel-all",b),this.uppy.off("upload-pause",w),this.uppy.off("pause-all",_),this.uppy.off("resume-all",N)},n.addEventListener("abort",()=>{h==null||h.abort()}),x()})}finally{i==null||i()}},ce(ZV,"VERSION",Tme.version);var yc,wy;class Mme{constructor(e){Ge(this,yc);Ge(this,wy,[]);et(this,yc,e)}on(e,r){return Y(this,wy).push([e,r]),Y(this,yc).on(e,r)}remove(){for(const[e,r]of Y(this,wy).splice(0))Y(this,yc).off(e,r)}onFilePause(e,r){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&r(i)})}onFileRemove(e,r){this.on("file-removed",n=>{e===n.id&&r(n.id)})}onPause(e,r){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&r(i)})}onRetry(e,r){this.on("upload-retry",n=>{e===(n==null?void 0:n.id)&&r()})}onRetryAll(e,r){this.on("retry-all",()=>{Y(this,yc).getFile(e)&&r()})}onPauseAll(e,r){this.on("pause-all",()=>{Y(this,yc).getFile(e)&&r()})}onCancelAll(e,r){this.on("cancel-all",(...n)=>{Y(this,yc).getFile(e)&&r(...n)})}onResumeAll(e,r){this.on("resume-all",()=>{Y(this,yc).getFile(e)&&r()})}}yc=new WeakMap,wy=new WeakMap;const{AbortController:N4}=globalThis,eH=(t="Aborted",e)=>{const r=new DOMException(t,"AbortError");return e!=null&&XV(e,"cause")&&Object.defineProperty(r,"cause",{__proto__:null,configurable:!0,writable:!0,value:e.cause}),r};function Bme(t){const e=r=>"error"in r&&!!r.error;return t.filter(r=>!e(r))}function Ume(t){return t.filter(e=>{var r;return!((r=e.progress)!=null&&r.uploadStarted)||!e.isRestored})}function w8(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}function $me(t){return new Error("Cancelled",{cause:t})}function N8(t){var e;if(t!=null){const r=()=>this.abort(t.reason);t.addEventListener("abort",r,{once:!0});const n=()=>{t.removeEventListener("abort",r)};(e=this.then)==null||e.call(this,n,n)}return this}var Nd,bc,jd,g0,wc,x0,If,na,k3,Lx,tH,rH,sH,xN,v0;class qme{constructor(e){Ge(this,na);Ge(this,Nd,0);Ge(this,bc,[]);Ge(this,jd,!1);Ge(this,g0);Ge(this,wc,1);Ge(this,x0);Ge(this,If);ce(this,"limit");Ge(this,xN,()=>this.resume());Ge(this,v0,()=>{if(Y(this,jd)){et(this,If,setTimeout(Y(this,v0),0));return}et(this,wc,this.limit),this.limit=Math.ceil((Y(this,x0)+Y(this,wc))/2);for(let e=Y(this,wc);e<=this.limit;e++)it(this,na,Lx).call(this);Y(this,x0)-Y(this,wc)>3?et(this,If,setTimeout(Y(this,v0),2e3)):et(this,wc,Math.floor(Y(this,wc)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,r){return!Y(this,jd)&&Y(this,Nd)<this.limit?it(this,na,k3).call(this,e):it(this,na,rH).call(this,e,r)}wrapSyncFunction(e,r){return(...n)=>{const i=this.run(()=>(e(...n),queueMicrotask(()=>i.done()),()=>{}),r);return{abortOn:N8,abort(){i.abort()}}}}wrapPromiseFunction(e,r){return(...n)=>{let i;const a=new Promise((o,l)=>{i=this.run(()=>{let c,d;try{d=Promise.resolve(e(...n))}catch(u){d=Promise.reject(u)}return d.then(u=>{c?l(c):(i.done(),o(u))},u=>{c?l(c):(i.done(),l(u))}),u=>{c=$me(u)}},r)});return a.abort=o=>{i.abort(o)},a.abortOn=N8,a}}resume(){et(this,jd,!1),clearTimeout(Y(this,g0));for(let e=0;e<this.limit;e++)it(this,na,Lx).call(this)}pause(e=null){et(this,jd,!0),clearTimeout(Y(this,g0)),e!=null&&et(this,g0,setTimeout(Y(this,xN),e))}rateLimit(e){clearTimeout(Y(this,If)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(et(this,x0,this.limit-1),this.limit=Y(this,wc),et(this,If,setTimeout(Y(this,v0),e)))}get isPaused(){return Y(this,jd)}}Nd=new WeakMap,bc=new WeakMap,jd=new WeakMap,g0=new WeakMap,wc=new WeakMap,x0=new WeakMap,If=new WeakMap,na=new WeakSet,k3=function(e){et(this,Nd,Y(this,Nd)+1);let r=!1,n;try{n=e()}catch(i){throw et(this,Nd,Y(this,Nd)-1),i}return{abort:i=>{r||(r=!0,et(this,Nd,Y(this,Nd)-1),n==null||n(i),it(this,na,Lx).call(this))},done:()=>{r||(r=!0,et(this,Nd,Y(this,Nd)-1),it(this,na,Lx).call(this))}}},Lx=function(){queueMicrotask(()=>it(this,na,tH).call(this))},tH=function(){if(Y(this,jd)||Y(this,Nd)>=this.limit||Y(this,bc).length===0)return;const e=Y(this,bc).shift();if(e==null)throw new Error("Invariant violation: next is null");const r=it(this,na,k3).call(this,e.fn);e.abort=r.abort,e.done=r.done},rH=function(e,r){const n={fn:e,priority:(r==null?void 0:r.priority)||0,abort:()=>{it(this,na,sH).call(this,n)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=Y(this,bc).findIndex(a=>n.priority>a.priority);return i===-1?Y(this,bc).push(n):Y(this,bc).splice(i,0,n),n},sH=function(e){const r=Y(this,bc).indexOf(e);r!==-1&&Y(this,bc).splice(r,1)},xN=new WeakMap,v0=new WeakMap;const zme="4.3.2",Vme={version:zme};function Hme({method:t="PUT",CanonicalUri:e="/",CanonicalQueryString:r="",SignedHeaders:n,HashedPayload:i}){const a=Object.keys(n).map(o=>o.toLowerCase()).sort();return[t,e,r,...a.map(o=>`${o}:${n[o]}`),"",a.join(";"),i].join(`
`)}const vC=new TextEncoder,yC={name:"HMAC",hash:"SHA-256"};async function Wme(t){const{subtle:e}=globalThis.crypto;return e.digest(yC.hash,vC.encode(t))}async function Kme(t){const{subtle:e}=globalThis.crypto;return e.importKey("raw",typeof t=="string"?vC.encode(t):t,yC,!1,["sign"])}function j8(t){const e=new Uint8Array(t);let r="";for(let n=0;n<e.length;n++)r+=e[n].toString(16).padStart(2,"0");return r}async function fx(t,e){const{subtle:r}=globalThis.crypto;return r.sign(yC,await Kme(t),vC.encode(e))}async function Gme({accountKey:t,accountSecret:e,sessionToken:r,bucketName:n,Key:i,Region:a,expires:o,uploadId:l,partNumber:c}){const d="s3",u=`${d}.${a}.amazonaws.com`,h=`/${n}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,E=>`%${E.charCodeAt(0).toString(16).toUpperCase()}`)}`,m="UNSIGNED-PAYLOAD",f=new Date().toISOString().replace(/[-:]|\.\d+/g,""),g=f.slice(0,8),p=`${g}/${a}/${d}/aws4_request`,x=new URL(`https://${u}${h}`);x.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),x.searchParams.set("X-Amz-Content-Sha256",m),x.searchParams.set("X-Amz-Credential",`${t}/${p}`),x.searchParams.set("X-Amz-Date",f),x.searchParams.set("X-Amz-Expires",o),x.searchParams.set("X-Amz-Security-Token",r),x.searchParams.set("X-Amz-SignedHeaders","host"),c&&x.searchParams.set("partNumber",c),l&&x.searchParams.set("uploadId",l),x.searchParams.set("x-id",c&&l?"UploadPart":"PutObject");const y=Hme({CanonicalUri:h,CanonicalQueryString:x.search.slice(1),SignedHeaders:{host:u},HashedPayload:m}),v=j8(await Wme(y)),b=["AWS4-HMAC-SHA256",f,p,v].join(`
`),w=await fx(`AWS4${e}`,g),_=await fx(w,a),N=await fx(_,d),j=await fx(N,"aws4_request"),k=j8(await fx(j,b));return x.searchParams.set("X-Amz-Signature",k),x}const Yme=1024*1024,_8={getChunkSize(t){return Math.ceil(t.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(t){throw t}};function Qme(t){if(typeof t=="string")return parseInt(t,10);if(typeof t=="number")return t;throw new TypeError("Expected a number")}const y2=Symbol("pausing upload, not an actual error");var bl,Uo,Nc,_d,Sd,Ny,jy,y0,Df,b0,_y,w0,Sy,Xl,nH,iH,C3,ky,Cy,aH;class Xme{constructor(e,r){Ge(this,Xl);ce(this,"options");Ge(this,bl,new N4);Ge(this,Uo,[]);Ge(this,Nc,[]);Ge(this,_d);Ge(this,Sd);Ge(this,Ny,!1);Ge(this,jy);Ge(this,y0);Ge(this,Df);Ge(this,b0);Ge(this,_y,e=>(e==null?void 0:e.cause)===y2?null:Y(this,jy).call(this,e));Ge(this,w0,1e4);Ge(this,Sy,5*Yme);Ge(this,ky,e=>r=>{if(!r.lengthComputable)return;Y(this,Nc)[e].uploaded=Qme(r.loaded);const n=Y(this,Nc).reduce((i,a)=>i+a.uploaded,0);this.options.onProgress(n,Y(this,_d).size)});Ge(this,Cy,e=>r=>{Y(this,Uo)[e]=null,Y(this,Nc)[e].etag=r,Y(this,Nc)[e].done=!0;const n={PartNumber:e+1,ETag:r};this.options.onPartComplete(n)});var n;this.options={..._8,...r},(n=this.options).getChunkSize??(n.getChunkSize=_8.getChunkSize),et(this,_d,e),et(this,Sd,r.file),et(this,y0,this.options.onSuccess),et(this,jy,this.options.onError),et(this,Df,this.options.shouldUseMultipart),et(this,b0,r.uploadId&&r.key),it(this,Xl,nH).call(this)}start(){Y(this,Ny)?(Y(this,bl).signal.aborted||Y(this,bl).abort(y2),et(this,bl,new N4),it(this,Xl,C3).call(this)):Y(this,b0)?(this.options.companionComm.restoreUploadFile(Y(this,Sd),{uploadId:this.options.uploadId,key:this.options.key}),it(this,Xl,C3).call(this)):it(this,Xl,iH).call(this)}pause(){Y(this,bl).abort(y2),et(this,bl,new N4)}abort(e){e!=null&&e.really?it(this,Xl,aH).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return Y(this,Nc)}}bl=new WeakMap,Uo=new WeakMap,Nc=new WeakMap,_d=new WeakMap,Sd=new WeakMap,Ny=new WeakMap,jy=new WeakMap,y0=new WeakMap,Df=new WeakMap,b0=new WeakMap,_y=new WeakMap,w0=new WeakMap,Sy=new WeakMap,Xl=new WeakSet,nH=function(){const e=Y(this,_d).size,r=typeof Y(this,Df)=="function"?Y(this,Df).call(this,Y(this,Sd)):!!Y(this,Df);if(r&&e>Y(this,Sy)){let n=Math.max(this.options.getChunkSize(Y(this,_d)),Y(this,Sy)),i=Math.floor(e/n);i>Y(this,w0)&&(i=Y(this,w0),n=e/Y(this,w0)),et(this,Uo,Array(i));for(let a=0,o=0;a<e;a+=n,o++){const l=Math.min(e,a+n),c=()=>{const d=a;return Y(this,_d).slice(d,l)};if(Y(this,Uo)[o]={getData:c,onProgress:Y(this,ky).call(this,o),onComplete:Y(this,Cy).call(this,o),shouldUseMultipart:r},Y(this,b0)){const d=a+n>e?e-a:n;Y(this,Uo)[o].setAsUploaded=()=>{Y(this,Uo)[o]=null,Y(this,Nc)[o].uploaded=d}}}}else et(this,Uo,[{getData:()=>Y(this,_d),onProgress:Y(this,ky).call(this,0),onComplete:Y(this,Cy).call(this,0),shouldUseMultipart:r}]);et(this,Nc,Y(this,Uo).map(()=>({uploaded:0})))},iH=function(){this.options.companionComm.uploadFile(Y(this,Sd),Y(this,Uo),Y(this,bl).signal).then(Y(this,y0),Y(this,_y)),et(this,Ny,!0)},C3=function(){this.options.companionComm.resumeUploadFile(Y(this,Sd),Y(this,Uo),Y(this,bl).signal).then(Y(this,y0),Y(this,_y))},ky=new WeakMap,Cy=new WeakMap,aH=function(){Y(this,bl).abort(),this.options.companionComm.abortFileUpload(Y(this,Sd)).catch(e=>this.options.log(e))};function ra(t){if(t!=null&&t.aborted)throw eH("The operation was aborted",{cause:t.reason})}function Jme(t){const e=new URL(t);return e.search="",e.hash="",e.href}var Ay,wl,Ey,Ty,Py,Fy,N0,j0,_0,S0,Mf,k0,Nl,bm,oH,A3;class Zme{constructor(e,r,n,i){Ge(this,bm);Ge(this,Ay);Ge(this,wl,new WeakMap);Ge(this,Ey);Ge(this,Ty);Ge(this,Py);Ge(this,Fy);Ge(this,N0);Ge(this,j0);Ge(this,_0);Ge(this,S0);Ge(this,Mf);Ge(this,k0);Ge(this,Nl);et(this,j0,e),et(this,Mf,n),et(this,Nl,i),this.setOptions(r)}setOptions(e){const r=Y(this,j0);"abortMultipartUpload"in e&&et(this,Ay,r.wrapPromiseFunction(e.abortMultipartUpload,{priority:1})),"createMultipartUpload"in e&&et(this,Ey,r.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&et(this,Ty,r.wrapPromiseFunction(e.signPart)),"listParts"in e&&et(this,Fy,r.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&et(this,S0,r.wrapPromiseFunction(e.completeMultipartUpload,{priority:1})),"retryDelays"in e&&et(this,_0,e.retryDelays??[]),"uploadPartBytes"in e&&et(this,k0,r.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0})),"getUploadParameters"in e&&et(this,Py,r.wrapPromiseFunction(e.getUploadParameters))}async getUploadId(e,r){let n;for(;n=Y(this,wl).get(e.data),n!=null;)try{return await n}catch{}const i=Y(this,Ey).call(this,Y(this,Nl).call(this,e),r),a=()=>{i.abort(r.reason),Y(this,wl).delete(e.data)};return r.addEventListener("abort",a,{once:!0}),Y(this,wl).set(e.data,i),i.then(async o=>{r.removeEventListener("abort",a),Y(this,Mf).call(this,e,o),Y(this,wl).set(e.data,o)},()=>{r.removeEventListener("abort",a),Y(this,wl).delete(e.data)}),i}async abortFileUpload(e){const r=Y(this,wl).get(e.data);if(r==null)return;Y(this,wl).delete(e.data),Y(this,Mf).call(this,e,Object.create(null));let n;try{n=await r}catch{return}await Y(this,Ay).call(this,Y(this,Nl).call(this,e),n)}async uploadFile(e,r,n){if(ra(n),r.length===1&&!r[0].shouldUseMultipart)return it(this,bm,A3).call(this,e,r[0],n);const{uploadId:i,key:a}=await this.getUploadId(e,n);ra(n);try{const o=await Promise.all(r.map((l,c)=>this.uploadChunk(e,c+1,l,n)));return ra(n),await Y(this,S0).call(this,Y(this,Nl).call(this,e),{key:a,uploadId:i,parts:o,signal:n},n).abortOn(n)}catch(o){throw(o==null?void 0:o.cause)!==y2&&(o==null?void 0:o.name)!=="AbortError"&&this.abortFileUpload(e),o}}restoreUploadFile(e,r){Y(this,wl).set(e.data,r)}async resumeUploadFile(e,r,n){if(ra(n),r.length===1&&r[0]!=null&&!r[0].shouldUseMultipart)return it(this,bm,A3).call(this,e,r[0],n);const{uploadId:i,key:a}=await this.getUploadId(e,n);ra(n);const o=await Y(this,Fy).call(this,Y(this,Nl).call(this,e),{uploadId:i,key:a,signal:n},n).abortOn(n);ra(n);const l=await Promise.all(r.map((c,d)=>{var m;const u=d+1,h=o.find(({PartNumber:f})=>f===u);return h==null?this.uploadChunk(e,u,c,n):((m=c==null?void 0:c.setAsUploaded)==null||m.call(c),{PartNumber:u,ETag:h.ETag})}));return ra(n),Y(this,S0).call(this,Y(this,Nl).call(this,e),{key:a,uploadId:i,parts:l,signal:n},n).abortOn(n)}async uploadChunk(e,r,n,i){ra(i);const{uploadId:a,key:o}=await this.getUploadId(e,i),l=Y(this,_0).values(),c=Y(this,_0).values(),d=()=>{const u=l.next();return u==null||u.done?null:u.value};for(;;){ra(i);const u=n.getData(),{onProgress:h,onComplete:m}=n;let f;try{f=await Y(this,Ty).call(this,Y(this,Nl).call(this,e),{uploadId:a,key:o,partNumber:r,body:u,signal:i}).abortOn(i)}catch(g){const p=d();if(p==null||i.aborted)throw g;await new Promise(x=>setTimeout(x,p));continue}ra(i);try{return{PartNumber:r,...await Y(this,k0).call(this,{signature:f,body:u,size:u.size,onProgress:h,onComplete:m,signal:i}).abortOn(i)}}catch(g){if(!await it(this,bm,oH).call(this,g,c))throw g}}}}Ay=new WeakMap,wl=new WeakMap,Ey=new WeakMap,Ty=new WeakMap,Py=new WeakMap,Fy=new WeakMap,N0=new WeakMap,j0=new WeakMap,_0=new WeakMap,S0=new WeakMap,Mf=new WeakMap,k0=new WeakMap,Nl=new WeakMap,bm=new WeakSet,oH=async function(e,r){var a;const n=Y(this,j0),i=(a=e==null?void 0:e.source)==null?void 0:a.status;if(i==null)return!1;if(i===403&&e.message==="Request has expired"){if(!n.isPaused){if(n.limit===1||Y(this,N0)==null){const o=r.next();if(o==null||o.done)return!1;et(this,N0,o.value)}n.rateLimit(0),await new Promise(o=>setTimeout(o,Y(this,N0)))}}else if(i===429){if(!n.isPaused){const o=r.next();if(o==null||o.done)return!1;n.rateLimit(o.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)n.isPaused||(n.pause(),window.addEventListener("online",()=>{n.resume()},{once:!0}));else{const o=r.next();if(o==null||o.done)return!1;await new Promise(l=>setTimeout(l,o.value))}}return!0},A3=async function(e,r,n){const{method:i="POST",url:a,fields:o,headers:l}=await Y(this,Py).call(this,Y(this,Nl).call(this,e),{signal:n}).abortOn(n);let c;const d=r.getData();if(i.toUpperCase()==="POST"){const g=new FormData;Object.entries(o).forEach(([p,x])=>g.set(p,x)),g.set("file",d),c=g}else c=d;const{onProgress:u,onComplete:h}=r,m=await Y(this,k0).call(this,{signature:{url:a,headers:l,method:i},body:c,size:d.size,onProgress:u,onComplete:h,signal:n}).abortOn(n),f=o==null?void 0:o.key;return Y(this,Mf).call(this,e,{key:f}),{...m,location:m.location??Jme(a),bucket:o==null?void 0:o.bucket,key:f}};function Km(t){if(t!=null&&t.error){const e=new Error(t.message);throw Object.assign(e,t.error),e}return t}function S8(t){const e=t.Expiration;if(e){const r=Math.floor((new Date(e)-Date.now())/1e3);if(r>9)return r}}function k8({meta:t,allowedMetaFields:e,querify:r=!1}){const n=e??Object.keys(t);return t?Object.fromEntries(n.filter(i=>t[i]!=null).map(i=>{const a=r?`metadata[${i}]`:i,o=String(t[i]);return[a,o]})):{}}const epe={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:t=>(t.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var C0,ya,oi,T3,Au,jl,lH,vN,A0,cH,dH,Oy,E0,Bf,Ly;const yN=class yN extends qz{constructor(r,n){super(r,{...epe,uploadPartBytes:yN.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...n});Ge(this,oi);Ge(this,C0);Ge(this,ya);ce(this,"requests");ce(this,"uploaderEvents");ce(this,"uploaders");Ge(this,jl);Ge(this,vN,(r,{key:n,uploadId:i})=>{const a=this.uppy.getFile(r.id);a!=null&&this.uppy.setFileState(r.id,{s3Multipart:{...a.s3Multipart,key:n,uploadId:i}})});Ge(this,A0,r=>this.uppy.getFile(r.id)||r);Ge(this,Oy,async r=>{if(r.length===0)return;const n=this.uppy.getFilesByIds(r),i=Bme(n),a=Ume(i);this.uppy.emit("upload-start",a);const o=i.map(c=>{if(c.isRemote){const d=()=>this.requests;Y(this,Bf).call(this,!1);const u=new AbortController,h=f=>{f.id===c.id&&u.abort()};this.uppy.on("file-removed",h);const m=this.uppy.getRequestClientForFile(c).uploadRemoteFile(c,it(this,oi,dH).call(this,c),{signal:u.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",h)},{priority:-1})(),m}return it(this,oi,cH).call(this,c)}),l=await Promise.allSettled(o);return Y(this,Bf).call(this,!0),l});Ge(this,E0,()=>{var r;(r=Y(this,ya))==null||r.setCompanionHeaders(this.opts.headers)});Ge(this,Bf,r=>{const{capabilities:n}=this.uppy.getState();this.uppy.setState({capabilities:{...n,resumableUploads:r}})});Ge(this,Ly,()=>{Y(this,Bf).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",it(this,oi,T3).call(this,n);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:n!=null&&n.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const a of Object.keys(i))this.opts[a]==null&&(this.opts[a]=i[a].bind(this));this.requests=this.opts.rateLimitedQueue??new qme(this.opts.limit),et(this,C0,new Zme(this.requests,this.opts,Y(this,vN),Y(this,A0))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return Y(this,ya)}setOptions(r){Y(this,C0).setOptions(r),super.setOptions(r),it(this,oi,T3).call(this,r)}resetUploaderReferences(r,n){this.uploaders[r]&&(this.uploaders[r].abort({really:(n==null?void 0:n.abort)||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null)}createMultipartUpload(r,n){it(this,oi,Au).call(this,"createMultipartUpload"),ra(n);const i=w8(this.opts.allowedMetaFields,r.meta),a=k8({meta:r.meta,allowedMetaFields:i});return Y(this,ya).post("s3/multipart",{filename:r.name,type:r.type,metadata:a},{signal:n}).then(Km)}listParts(r,{key:n,uploadId:i,signal:a},o){a??(a=o),it(this,oi,Au).call(this,"listParts"),ra(a);const l=encodeURIComponent(n);return Y(this,ya).get(`s3/multipart/${encodeURIComponent(i)}?key=${l}`,{signal:a}).then(Km)}completeMultipartUpload(r,{key:n,uploadId:i,parts:a,signal:o},l){o??(o=l),it(this,oi,Au).call(this,"completeMultipartUpload"),ra(o);const c=encodeURIComponent(n),d=encodeURIComponent(i);return Y(this,ya).post(`s3/multipart/${d}/complete?key=${c}`,{parts:a.map(({ETag:u,PartNumber:h})=>({ETag:u,PartNumber:h}))},{signal:o}).then(Km)}async createSignedURL(r,n){const i=await it(this,oi,lH).call(this,n),a=S8(i.credentials)||604800,{uploadId:o,key:l,partNumber:c}=n;return{method:"PUT",expires:a,fields:{},url:`${await Gme({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:a,bucketName:i.bucket,Region:i.region,Key:l??`${crypto.randomUUID()}-${r.name}`,uploadId:o,partNumber:c})}`,headers:{"Content-Type":r.type}}}signPart(r,{uploadId:n,key:i,partNumber:a,signal:o}){if(it(this,oi,Au).call(this,"signPart"),ra(o),n==null||i==null||a==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const l=encodeURIComponent(i);return Y(this,ya).get(`s3/multipart/${encodeURIComponent(n)}/${a}?key=${l}`,{signal:o}).then(Km)}abortMultipartUpload(r,{key:n,uploadId:i,signal:a}){it(this,oi,Au).call(this,"abortMultipartUpload");const o=encodeURIComponent(n),l=encodeURIComponent(i);return Y(this,ya).delete(`s3/multipart/${l}?key=${o}`,void 0,{signal:a}).then(Km)}getUploadParameters(r,n){it(this,oi,Au).call(this,"getUploadParameters");const{meta:i}=r,{type:a,name:o}=i,l=w8(this.opts.allowedMetaFields,r.meta),c=k8({meta:i,allowedMetaFields:l,querify:!0}),d=new URLSearchParams({filename:o,type:a,...c});return Y(this,ya).get(`s3/params?${d}`,n)}static async uploadPartBytes({signature:{url:r,expires:n,headers:i,method:a="PUT"},body:o,size:l=o.size,onProgress:c,onComplete:d,signal:u}){if(ra(u),r==null)throw new Error("Cannot upload to an undefined URL");return new Promise((h,m)=>{const f=new XMLHttpRequest;f.open(a,r,!0),i&&Object.keys(i).forEach(x=>{f.setRequestHeader(x,i[x])}),f.responseType="text",typeof n=="number"&&(f.timeout=n*1e3);function g(){f.abort()}function p(){u==null||u.removeEventListener("abort",g)}u==null||u.addEventListener("abort",g),f.upload.addEventListener("progress",x=>{c(x)}),f.addEventListener("abort",()=>{p(),m(eH())}),f.addEventListener("timeout",()=>{p();const x=new Error("Request has expired");x.source={status:403},m(x)}),f.addEventListener("load",()=>{if(p(),f.status===403&&f.responseText.includes("<Message>Request has expired</Message>")){const w=new Error("Request has expired");w.source=f,m(w);return}if(f.status<200||f.status>=300){const w=new Error("Non 2xx");w.source=f,m(w);return}c==null||c({loaded:l,lengthComputable:!0});const x=f.getAllResponseHeaders().trim().split(/[\r\n]+/),y={__proto__:null};for(const w of x){const _=w.split(": "),N=_.shift(),j=_.join(": ");y[N]=j}const{etag:v,location:b}=y;if(a.toUpperCase()==="POST"&&b==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),v==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(v),h({...y,ETag:v})}),f.addEventListener("error",x=>{p();const y=new Error("Unknown error");y.source=x.target,m(y)}),f.send(o)})}install(){Y(this,Bf).call(this,!0),this.uppy.addPreProcessor(Y(this,E0)),this.uppy.addUploader(Y(this,Oy)),this.uppy.on("cancel-all",Y(this,Ly))}uninstall(){this.uppy.removePreProcessor(Y(this,E0)),this.uppy.removeUploader(Y(this,Oy)),this.uppy.off("cancel-all",Y(this,Ly))}};C0=new WeakMap,ya=new WeakMap,oi=new WeakSet,T3=function(r){r==null||!("endpoint"in r||"companionUrl"in r||"headers"in r||"companionHeaders"in r||"cookiesRule"in r||"companionCookiesRule"in r)||("companionUrl"in r&&!("endpoint"in r)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in r&&!("headers"in r)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in r&&!("cookiesRule"in r)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in r?et(this,ya,new ZV(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in r&&Y(this,E0).call(this),"cookiesRule"in r&&(Y(this,ya).opts.companionCookiesRule=r.cookiesRule)))},Au=function(r){if(!Y(this,ya))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${r}\` implementation.`)},jl=new WeakMap,lH=async function(r){if(ra(r==null?void 0:r.signal),Y(this,jl)==null){const{getTemporarySecurityCredentials:n}=this.opts;n===!0?(it(this,oi,Au).call(this,"getTemporarySecurityCredentials"),et(this,jl,Y(this,ya).get("s3/sts",r).then(Km))):et(this,jl,n(r)),et(this,jl,await Y(this,jl)),setTimeout(()=>{et(this,jl,null)},(S8(Y(this,jl).credentials)||0)*500)}return Y(this,jl)},vN=new WeakMap,A0=new WeakMap,cH=function(r){return new Promise((n,i)=>{const a=(u,h)=>{const m=this.uppy.getFile(r.id);this.uppy.emit("upload-progress",m,{uploadStarted:m.progress.uploadStarted??0,bytesUploaded:u,bytesTotal:h})},o=u=>{this.uppy.log(u),this.uppy.emit("upload-error",r,u),this.resetUploaderReferences(r.id),i(u)},l=u=>{const h={body:{...u},status:200,uploadURL:u.location};this.resetUploaderReferences(r.id),this.uppy.emit("upload-success",Y(this,A0).call(this,r),h),u.location&&this.uppy.log(`Download ${r.name} from ${u.location}`),n(void 0)},c=new Xme(r.data,{companionComm:Y(this,C0),log:(...u)=>this.uppy.log(...u),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:a,onError:o,onSuccess:l,onPartComplete:u=>{this.uppy.emit("s3-multipart:part-uploaded",Y(this,A0).call(this,r),u)},file:r,shouldUseMultipart:this.opts.shouldUseMultipart,...r.s3Multipart});this.uploaders[r.id]=c;const d=new Mme(this.uppy);this.uploaderEvents[r.id]=d,d.onFileRemove(r.id,u=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${u} was removed`)}),d.onCancelAll(r.id,()=>{c.abort(),this.resetUploaderReferences(r.id,{abort:!0}),n(`upload ${r.id} was canceled`)}),d.onFilePause(r.id,u=>{u?c.pause():c.start()}),d.onPauseAll(r.id,()=>{c.pause()}),d.onResumeAll(r.id,()=>{c.start()}),c.start()})},dH=function(r){var n;return{...(n=r.remote)==null?void 0:n.body,protocol:"s3-multipart",size:r.data.size,metadata:r.meta}},Oy=new WeakMap,E0=new WeakMap,Bf=new WeakMap,Ly=new WeakMap,ce(yN,"VERSION",Vme.version);let E3=yN;function bC({maxNumberOfFiles:t=5,maxFileSize:e=31457280,onGetUploadParameters:r,onComplete:n,buttonClassName:i,children:a,disabled:o=!1}){const[l,c]=O.useState(!1),[d]=O.useState(()=>new a3({restrictions:{maxNumberOfFiles:t,maxFileSize:e,allowedFileTypes:null},autoProceed:!1}).use(E3,{shouldUseMultipart:!1,getUploadParameters:r}).on("complete",u=>{n==null||n(u),c(!1)}));return s.jsxs("div",{children:[s.jsx(ie,{onClick:()=>c(!0),className:i,disabled:o,type:"button",children:a}),s.jsx(QV,{uppy:d,open:l,onRequestClose:()=>c(!1),proudlyDisplayPoweredByUppy:!1,showProgressDetails:!0,showRemoveButtonAfterComplete:!0,note:"Upload files to share in your conversation"})]})}function tpe(){const[,t]=sn(),{user:e}=tr(),{toast:r}=ar(),n=vr(),[i,a]=O.useState(1),[o,l]=O.useState([]),[c,d]=O.useState({title:"",description:"",category:"",minBudget:"",maxBudget:"",timeframe:"",location:"",requirements:"",boostAmount:""}),{data:u,isLoading:h}=pt({queryKey:["/api/verification/status"],enabled:!!e}),{data:m=[]}=pt({queryKey:["/api/categories"]}),f=Ft({mutationFn:async N=>{const j=localStorage.getItem("findermeister_token")||localStorage.getItem("token");if(!j)throw new Error("Authentication required. Please log in again.");const k=await fetch("/api/client/finds",{method:"POST",headers:{Authorization:`Bearer ${j}`},body:N});if(!k.ok){const E=await k.json();throw k.status===401||k.status===403?(localStorage.removeItem("token"),localStorage.removeItem("findermeister_token"),localStorage.removeItem("user"),E.code==="TOKEN_EXPIRED"?new Error("Your session has expired. Please log in again."):E.code==="TOKEN_INVALID"?new Error("Invalid session. Please log in again."):new Error("Session expired. Please log in again.")):E}return k.json()},onSuccess:N=>{n.invalidateQueries({queryKey:["/api/client/finds"]});let j="Find Posted Successfully!",k="Your find is now live and visible to finders.",E="/client/dashboard";N.status==="under_review"?(j="Find Submitted for Review",k=N.message,E="/client/finds/pending"):r({title:j,description:k}),d({title:"",description:"",category:"",minBudget:"",maxBudget:"",timeframe:"",location:"",requirements:"",boostAmount:""}),l([]),a(1),setTimeout(()=>{t(E)},1500)},onError:N=>{var j,k,E;(j=N.message)!=null&&j.includes("Session expired")||(k=N.message)!=null&&k.includes("Authentication required")?r({variant:"destructive",title:"Session Expired",description:"Please log in again to continue.",action:s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{t("/auth/login")},className:"bg-white hover:bg-gray-50 text-gray-900 border-gray-300",children:[s.jsx(_v,{className:"w-4 h-4 mr-2"}),"Login"]})}):N.verificationRequired||(E=N.message)!=null&&E.includes("verification required")?r({variant:"destructive",title:"Account Verification Required",description:N.message||"You must verify your account before posting finds.",action:s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>{t("/verification")},className:"bg-white hover:bg-gray-50 text-gray-900 border-gray-300",children:[s.jsx(_v,{className:"w-4 h-4 mr-2"}),"Verify Account"]})}):r({variant:"destructive",title:"Error posting find",description:N.message||"Something went wrong. Please try again."})}}),g=(N,j)=>{d(k=>({...k,[N]:j}))},p=N=>{l(N)},x=N=>{l(j=>j.filter((k,E)=>E!==N))},y=N=>{switch(N){case 1:return c.title.trim()!==""&&c.description.trim()!==""&&c.category!=="";case 2:return c.minBudget!==""&&c.maxBudget!==""&&c.timeframe!=="";case 3:return!0;default:return!1}},v=()=>{y(i)?a(N=>Math.min(N+1,4)):r({variant:"destructive",title:"Required fields missing",description:"Please fill in all required fields before continuing."})},b=()=>{a(N=>Math.max(N-1,1))},w=()=>{if(!y(1)||!y(2)){r({variant:"destructive",title:"Required fields missing",description:"Please fill in all required fields."});return}const N=new FormData;N.append("title",c.title),N.append("description",c.description),N.append("category",c.category),N.append("budgetMin",c.minBudget),N.append("budgetMax",c.maxBudget),N.append("timeframe",c.timeframe),c.location&&N.append("location",c.location),c.requirements&&N.append("requirements",c.requirements),c.boostAmount&&parseInt(c.boostAmount)>0&&N.append("boostAmount",c.boostAmount),o.forEach(j=>{N.append("attachments",j)}),f.mutate(N)};return h?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(ds,{currentPage:"create-find"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Checking verification status..."})]})})]}):(u==null?void 0:u.isRequired)&&!(e!=null&&e.isVerified)?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(ds,{currentPage:"create-find"}),s.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 py-12",children:s.jsxs(_e,{className:"border-yellow-200 bg-yellow-50",children:[s.jsxs(Ze,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx($r,{className:"w-8 h-8 text-yellow-600"})})}),s.jsx(Xe,{className:"text-xl text-yellow-800",children:"Account Verification Required"})]}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs(No,{className:"border-yellow-300 bg-yellow-50",children:[s.jsx(Wr,{className:"h-4 w-4 text-yellow-600"}),s.jsx(jo,{className:"text-yellow-800",children:"You must verify your account before you can post finds. This helps maintain trust and security in our community."})]}),u.verification&&s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Current Status:"}),s.jsx(Ye,{variant:u.verification.status==="pending"?"secondary":u.verification.status==="rejected"?"destructive":"default",children:u.verification.status.charAt(0).toUpperCase()+u.verification.status.slice(1)})]}),u.verification.status==="pending"&&s.jsx("p",{className:"text-sm text-gray-600",children:"Your verification is under review. You'll be able to post finds once it's approved."}),u.verification.status==="rejected"&&s.jsx("p",{className:"text-sm text-gray-600",children:"Your verification was rejected. Please submit a new verification with the correct documents."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:"What you need to do:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-500 mr-2",children:""}),"Complete the identity verification process"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-500 mr-2",children:""}),"Upload clear photos of your ID document"]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-blue-500 mr-2",children:""}),"Take a selfie for identity confirmation"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(ie,{onClick:()=>t("/verification"),className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[s.jsx($r,{className:"w-4 h-4 mr-2"}),u.verification?"Update Verification":"Start Verification"]}),s.jsxs(ie,{variant:"outline",onClick:()=>t("/client/dashboard"),className:"flex-1",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})]})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(ds,{currentPage:"create-find"}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(N=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${i>=N?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:N}),N<4&&s.jsx("div",{className:`h-1 w-16 sm:w-24 mx-2 ${i>N?"bg-blue-600":"bg-gray-200"}`})]},N))}),s.jsxs("div",{className:"flex justify-between mt-2 text-xs sm:text-sm text-gray-600",children:[s.jsx("span",{children:"Basic Info"}),s.jsx("span",{children:"Budget & Time"}),s.jsx("span",{children:"Details"}),s.jsx("span",{children:"Review"})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"text-2xl font-bold text-gray-900",children:[i===1&&"What are you looking for?",i===2&&"Budget and Timeline",i===3&&"Additional Details",i===4&&"Review and Post"]})}),s.jsxs(Se,{className:"space-y-6",children:[i===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"title",className:"text-base font-medium",children:["Find Title ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(at,{id:"title",placeholder:"e.g., Looking for a vintage leather jacket",value:c.title,onChange:N=>g("title",N.target.value),className:"mt-2"})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"category",className:"text-base font-medium",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Br,{value:c.category,onValueChange:N=>g("category",N),children:[s.jsx(Ir,{className:"mt-2",children:s.jsx(Ur,{placeholder:"Select a category"})}),s.jsx(Dr,{children:m.filter(N=>N.isActive).map(N=>s.jsx(dt,{value:N.name,children:N.name},N.id))})]})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"description",className:"text-base font-medium",children:["Description ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Ms,{id:"description",rows:5,placeholder:"Provide detailed information about what you're looking for, including specifications, preferred brands, condition requirements, etc.",value:c.description,onChange:N=>g("description",N.target.value),className:"mt-2 resize-none"})]})]}),i===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(Te,{className:"text-base font-medium mb-3 block",children:["Budget Range () ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"minBudget",className:"text-sm",children:"Minimum"}),s.jsx(at,{id:"minBudget",type:"number",placeholder:"5,000",value:c.minBudget,onChange:N=>g("minBudget",N.target.value),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"maxBudget",className:"text-sm",children:"Maximum"}),s.jsx(at,{id:"maxBudget",type:"number",placeholder:"20,000",value:c.maxBudget,onChange:N=>g("maxBudget",N.target.value),className:"mt-1"})]})]})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"timeframe",className:"text-base font-medium",children:["When do you need this? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Br,{value:c.timeframe,onValueChange:N=>g("timeframe",N),children:[s.jsx(Ir,{className:"mt-2",children:s.jsx(Ur,{placeholder:"Select timeframe"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"asap",children:"ASAP (1-2 days)"}),s.jsx(dt,{value:"week",children:"Within a week"}),s.jsx(dt,{value:"two_weeks",children:"Within 2 weeks"}),s.jsx(dt,{value:"month",children:"Within a month"}),s.jsx(dt,{value:"no_rush",children:"No rush"})]})]})]})]}),i===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"location",className:"text-base font-medium",children:"Preferred Location"}),s.jsx(at,{id:"location",placeholder:"e.g., Lagos, Abuja, Online",value:c.location,onChange:N=>g("location",N.target.value),className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"requirements",className:"text-base font-medium",children:"Special Requirements"}),s.jsx(Ms,{id:"requirements",rows:4,placeholder:"Any specific requirements, conditions, or notes for finders...",value:c.requirements,onChange:N=>g("requirements",N.target.value),className:"mt-2 resize-none"})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[s.jsxs(Te,{htmlFor:"boostAmount",className:"text-base font-medium text-blue-900 flex items-center mb-2",children:[s.jsx(fh,{className:"w-4 h-4 mr-2"}),"Boost Your Find (Optional)"]}),s.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Boost your find to appear at the top of the list. Average boost amount is 10 Findertokens."}),s.jsxs(Br,{value:c.boostAmount,onValueChange:N=>g("boostAmount",N),children:[s.jsx(Ir,{className:"mt-2 bg-white",children:s.jsx(Ur,{placeholder:"Select boost amount"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"0",children:"No Boost (Free)"}),s.jsx(dt,{value:"5",children:"5 Findertokens - Standard Boost"}),s.jsx(dt,{value:"10",children:"10 Findertokens - Priority Boost"}),s.jsx(dt,{value:"20",children:"20 Findertokens - Premium Boost"}),s.jsx(dt,{value:"50",children:"50 Findertokens - VIP Boost"})]})]}),parseInt(c.boostAmount)>0&&s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Your find will be boosted for 7 days and appear above non-boosted finds."})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-base font-medium mb-3 block",children:"Attachments (Optional)"}),s.jsx(bC,{onFilesSelected:p,maxFiles:5,acceptedTypes:["image/*",".pdf",".doc",".docx"],maxSize:10}),o.length>0&&s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Selected Files:"}),o.map((N,j)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:N.name}),s.jsx(ie,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(j),className:"h-8 w-8 p-0 text-gray-500 hover:text-red-500",children:s.jsx(ko,{className:"h-4 w-4"})})]},j))]})]})]}),i===4&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Review Your Find"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Title:"}),s.jsx("p",{className:"text-gray-900",children:c.title})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Category:"}),s.jsx("p",{className:"text-gray-900",children:c.category})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Budget:"}),s.jsxs("p",{className:"text-gray-900",children:["",c.minBudget," - ",c.maxBudget]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Timeframe:"}),s.jsx("p",{className:"text-gray-900",children:c.timeframe})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Description:"}),s.jsx("p",{className:"text-gray-900",children:c.description})]}),c.location&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Location:"}),s.jsx("p",{className:"text-gray-900",children:c.location})]}),c.requirements&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Requirements:"}),s.jsx("p",{className:"text-gray-900",children:c.requirements})]}),c.boostAmount&&parseInt(c.boostAmount)>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Boost Amount:"}),s.jsxs("p",{className:"text-gray-900",children:[c.boostAmount," Findertokens"]})]}),o.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700",children:"Attachments:"}),s.jsxs("p",{className:"text-gray-900",children:[o.length," file(s) selected"]})]})]})]}),s.jsxs(No,{children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsx(jo,{children:"Once posted, your find will be visible to all finders. Make sure all information is accurate."})]})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsxs(ie,{type:"button",variant:"outline",onClick:i===1?()=>t("/client/dashboard"):b,className:"flex items-center",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),i===1?"Cancel":"Previous"]}),i<4?s.jsxs(ie,{type:"button",onClick:v,disabled:!y(i),className:"flex items-center bg-blue-600 hover:bg-blue-700",children:["Next",s.jsx(uh,{className:"w-4 h-4 ml-2"})]}):s.jsx(ie,{type:"button",onClick:w,disabled:f.isPending,className:"flex items-center bg-green-600 hover:bg-green-700",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Posting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Post Find"]})})]})]})]})]})]})}var rpe="Separator",C8="horizontal",spe=["horizontal","vertical"],uH=O.forwardRef((t,e)=>{const{decorative:r,orientation:n=C8,...i}=t,a=npe(n)?n:C8,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(rr.div,{"data-orientation":a,...l,...i,ref:e})});uH.displayName=rpe;function npe(t){return spe.includes(t)}var hH=uH;const Rc=O.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>s.jsx(hH,{ref:i,decorative:r,orientation:e,className:Ot("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Rc.displayName=hH.displayName;function Rs(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function xh(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const fH=6048e5,ipe=864e5,Eb=43200,A8=1440;let ape={};function n1(){return ape}function Dv(t,e){var l,c,d,u;const r=n1(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=Rs(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function pw(t){return Dv(t,{weekStartsOn:1})}function mH(t){const e=Rs(t),r=e.getFullYear(),n=xh(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=pw(n),a=xh(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=pw(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function E8(t){const e=Rs(t);return e.setHours(0,0,0,0),e}function gw(t){const e=Rs(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ope(t,e){const r=E8(t),n=E8(e),i=+r-gw(r),a=+n-gw(n);return Math.round((i-a)/ipe)}function lpe(t){const e=mH(t),r=xh(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),pw(r)}function b2(t,e){const r=Rs(t),n=Rs(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function cpe(t){return xh(t,Date.now())}function dpe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function upe(t){if(!dpe(t)&&typeof t!="number")return!1;const e=Rs(t);return!isNaN(Number(e))}function hpe(t,e){const r=Rs(t),n=Rs(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function fpe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function mpe(t,e){return+Rs(t)-+Rs(e)}function ppe(t){const e=Rs(t);return e.setHours(23,59,59,999),e}function gpe(t){const e=Rs(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function xpe(t){const e=Rs(t);return+ppe(e)==+gpe(e)}function vpe(t,e){const r=Rs(t),n=Rs(e),i=b2(r,n),a=Math.abs(hpe(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let l=b2(r,n)===-i;xpe(Rs(t))&&a===1&&b2(t,n)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function ype(t,e,r){const n=mpe(t,e)/1e3;return fpe(r==null?void 0:r.roundingMethod)(n)}function bpe(t){const e=Rs(t),r=xh(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const wpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Npe=(t,e,r)=>{let n;const i=wpe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function j4(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const jpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_pe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Spe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kpe={date:j4({formats:jpe,defaultWidth:"full"}),time:j4({formats:_pe,defaultWidth:"full"}),dateTime:j4({formats:Spe,defaultWidth:"full"})},Cpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ape=(t,e,r,n)=>Cpe[t];function mx(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const Epe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ppe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ope={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rpe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ipe={ordinalNumber:Rpe,era:mx({values:Epe,defaultWidth:"wide"}),quarter:mx({values:Tpe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mx({values:Ppe,defaultWidth:"wide"}),day:mx({values:Fpe,defaultWidth:"wide"}),dayPeriod:mx({values:Ope,defaultWidth:"wide",formattingValues:Lpe,defaultFormattingWidth:"wide"})};function px(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Mpe(l,h=>h.test(o)):Dpe(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function Dpe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Mpe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Bpe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Upe=/^(\d+)(th|st|nd|rd)?/i,$pe=/\d+/i,qpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zpe={any:[/^b/i,/^(a|c)/i]},Vpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hpe={any:[/1/i,/2/i,/3/i,/4/i]},Wpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ype={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jpe={ordinalNumber:Bpe({matchPattern:Upe,parsePattern:$pe,valueCallback:t=>parseInt(t,10)}),era:px({matchPatterns:qpe,defaultMatchWidth:"wide",parsePatterns:zpe,defaultParseWidth:"any"}),quarter:px({matchPatterns:Vpe,defaultMatchWidth:"wide",parsePatterns:Hpe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:px({matchPatterns:Wpe,defaultMatchWidth:"wide",parsePatterns:Kpe,defaultParseWidth:"any"}),day:px({matchPatterns:Gpe,defaultMatchWidth:"wide",parsePatterns:Ype,defaultParseWidth:"any"}),dayPeriod:px({matchPatterns:Qpe,defaultMatchWidth:"any",parsePatterns:Xpe,defaultParseWidth:"any"})},pH={code:"en-US",formatDistance:Npe,formatLong:kpe,formatRelative:Ape,localize:Ipe,match:Jpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zpe(t){const e=Rs(t);return ope(e,bpe(e))+1}function e0e(t){const e=Rs(t),r=+pw(e)-+lpe(e);return Math.round(r/fH)+1}function gH(t,e){var u,h,m,f;const r=Rs(t),n=r.getFullYear(),i=n1(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((f=(m=i.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=xh(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Dv(o,e),c=xh(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=Dv(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function t0e(t,e){var l,c,d,u;const r=n1(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=gH(t,e),a=xh(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Dv(a,e)}function r0e(t,e){const r=Rs(t),n=+Dv(r,e)-+t0e(r,e);return Math.round(n/fH)+1}function js(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Nu={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return js(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):js(r+1,2)},d(t,e){return js(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return js(t.getHours()%12||12,e.length)},H(t,e){return js(t.getHours(),e.length)},m(t,e){return js(t.getMinutes(),e.length)},s(t,e){return js(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return js(i,e.length)}},Gm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T8={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Nu.y(t,e)},Y:function(t,e,r,n){const i=gH(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return js(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):js(a,e.length)},R:function(t,e){const r=mH(t);return js(r,e.length)},u:function(t,e){const r=t.getFullYear();return js(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return js(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return js(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Nu.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return js(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=r0e(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):js(i,e.length)},I:function(t,e,r){const n=e0e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):js(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Nu.d(t,e)},D:function(t,e,r){const n=Zpe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):js(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return js(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return js(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return js(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Gm.noon:n===0?i=Gm.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Gm.evening:n>=12?i=Gm.afternoon:n>=4?i=Gm.morning:i=Gm.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Nu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Nu.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):js(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):js(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Nu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Nu.s(t,e)},S:function(t,e){return Nu.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return F8(n);case"XXXX":case"XX":return nf(n);case"XXXXX":case"XXX":default:return nf(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return F8(n);case"xxxx":case"xx":return nf(n);case"xxxxx":case"xxx":default:return nf(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+P8(n,":");case"OOOO":default:return"GMT"+nf(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+P8(n,":");case"zzzz":default:return"GMT"+nf(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return js(n,e.length)},T:function(t,e,r){const n=t.getTime();return js(n,e.length)}};function P8(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+js(a,2)}function F8(t,e){return t%60===0?(t>0?"-":"+")+js(Math.abs(t)/60,2):nf(t,e)}function nf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=js(Math.trunc(n/60),2),a=js(n%60,2);return r+i+e+a}const O8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},s0e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return O8(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",O8(n,e)).replace("{{time}}",xH(i,e))},n0e={p:xH,P:s0e},i0e=/^D+$/,a0e=/^Y+$/,o0e=["D","DD","YY","YYYY"];function l0e(t){return i0e.test(t)}function c0e(t){return a0e.test(t)}function d0e(t,e,r){const n=u0e(t,e,r);if(console.warn(n),o0e.includes(t))throw new RangeError(n)}function u0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const h0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m0e=/^'([^]*?)'?$/,p0e=/''/g,g0e=/[a-zA-Z]/;function Ri(t,e,r){var u,h,m,f;const n=n1(),i=n.locale??pH,a=n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((f=(m=n.locale)==null?void 0:m.options)==null?void 0:f.weekStartsOn)??0,l=Rs(t);if(!upe(l))throw new RangeError("Invalid time value");let c=e.match(f0e).map(g=>{const p=g[0];if(p==="p"||p==="P"){const x=n0e[p];return x(g,i.formatLong)}return g}).join("").match(h0e).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:x0e(g)};if(T8[p])return{isToken:!0,value:g};if(p.match(g0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(c0e(p)||l0e(p))&&d0e(p,e,String(t));const x=T8[p[0]];return x(l,p,i.localize,d)}).join("")}function x0e(t){const e=t.match(m0e);return e?e[1].replace(p0e,"'"):t}function v0e(t,e,r){const n=n1(),i=(r==null?void 0:r.locale)??n.locale??pH,a=2520,o=b2(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=Rs(e),d=Rs(t)):(c=Rs(t),d=Rs(e));const u=ype(d,c),h=(gw(d)-gw(c))/1e3,m=Math.round((u-h)/60);let f;if(m<2)return r!=null&&r.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,l):u<10?i.formatDistance("lessThanXSeconds",10,l):u<20?i.formatDistance("lessThanXSeconds",20,l):u<40?i.formatDistance("halfAMinute",0,l):u<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):m===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",m,l);if(m<45)return i.formatDistance("xMinutes",m,l);if(m<90)return i.formatDistance("aboutXHours",1,l);if(m<A8){const g=Math.round(m/60);return i.formatDistance("aboutXHours",g,l)}else{if(m<a)return i.formatDistance("xDays",1,l);if(m<Eb){const g=Math.round(m/A8);return i.formatDistance("xDays",g,l)}else if(m<Eb*2)return f=Math.round(m/Eb),i.formatDistance("aboutXMonths",f,l)}if(f=vpe(d,c),f<12){const g=Math.round(m/Eb);return i.formatDistance("xMonths",g,l)}else{const g=f%12,p=Math.trunc(f/12);return g<3?i.formatDistance("aboutXYears",p,l):g<9?i.formatDistance("overXYears",p,l):i.formatDistance("almostXYears",p+1,l)}}function vH(t,e){return v0e(t,cpe(t),e)}function y0e(){var h;const{id:t}=Vc(),[,e]=sn(),{user:r}=tr(),{toast:n}=ar(),i=vr(),{data:a,isLoading:o}=pt({queryKey:["/api/finds",t],enabled:!!t&&!!r}),{data:l=[],isLoading:c}=pt({queryKey:["/api/finds",t,"proposals"],enabled:!!t&&!!r&&!!a}),d=Ft({mutationFn:async m=>St(`/api/proposals/${m}/accept`,{method:"POST"}),onSuccess:m=>{i.invalidateQueries({queryKey:["/api/finds",t,"proposals"]}),i.invalidateQueries({queryKey:["/api/finds",t]}),m.payment&&m.payment.required?n({title:"Proposal Accepted!",description:"Please complete payment to fund the escrow and start work."}):n({title:"Proposal Accepted!",description:"The proposal has been accepted and a contract has been created."})},onError:m=>{console.error("Accept proposal error:",m);const f=m.message||"Please try again later.";n({variant:"destructive",title:"Failed to Accept Proposal",description:f})}});if(!r||r.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(qr,{className:"w-10 h-10 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"This find is only accessible by clients."}),s.jsx(ie,{onClick:()=>e("/login"),className:"bg-blue-600 hover:bg-blue-700",children:"Sign In"})]})});if(o||c)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:"finds"}),s.jsx("main",{className:"max-w-6xl mx-auto px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-6 sm:p-8",children:[s.jsx("div",{className:"h-8 bg-slate-200 rounded-lg w-1/2 mb-4"}),s.jsx("div",{className:"h-32 bg-slate-200 rounded-lg mb-6"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"}),s.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"}),s.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2 h-96 bg-white/70 backdrop-blur-sm rounded-2xl"}),s.jsx("div",{className:"h-96 bg-white/70 backdrop-blur-sm rounded-2xl"})]})]})})]});if(!a)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(as,{className:"w-10 h-10 text-slate-400"})}),s.jsx("h3",{className:"text-2xl font-semibold text-slate-900 mb-2",children:"Find Not Found"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"The find you're looking for doesn't exist or has been removed."}),s.jsxs(ie,{onClick:()=>e("/client/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})]})});const u=((h=a._count)==null?void 0:h.proposals)||l.length||0;return a.status==="active"||a.status,a.status==="active"||a.status,s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:"finds"}),s.jsxs("main",{className:"max-w-6xl mx-auto px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"text-center sm:text-left mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-2",children:a.title}),s.jsxs("p",{className:"text-sm sm:text-lg text-slate-600 mb-4",children:["Posted on ",Ri(new Date(a.createdAt),"MMM d, yyyy"),"  ",u," proposals received"]})]}),s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl mb-6",children:s.jsx(Se,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(Sc,{className:"w-6 h-6 text-green-600"})}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-1",children:"Budget Range"}),s.jsxs("p",{className:"text-sm sm:text-lg font-bold text-green-600",children:["",parseInt(a.budgetMin||"0").toLocaleString()," - ",parseInt(a.budgetMax||"0").toLocaleString()]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(dn,{className:"w-6 h-6 text-blue-600"})}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-1",children:"Proposals"}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-blue-600",children:u})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(hr,{className:"w-6 h-6 text-amber-600"})}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-1",children:"Timeline"}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-amber-600",children:a.timeframe||"Flexible"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(Hd,{className:"w-6 h-6 text-purple-600"})}),s.jsx("p",{className:"text-xs sm:text-sm text-slate-600 mb-1",children:"Category"}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-purple-600 capitalize",children:a.category})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6 sm:space-y-8",children:[s.jsxs(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center text-slate-900",children:[s.jsx(as,{className:"w-5 h-5 mr-2 text-blue-600"}),"Project Description"]})}),s.jsxs(Se,{className:"p-6 sm:p-8",children:[s.jsx("div",{className:"bg-slate-50/80 rounded-lg p-6 mb-6",children:s.jsx("p",{className:"text-slate-700 leading-relaxed whitespace-pre-wrap",children:a.description})}),a.attachments&&a.attachments.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-900 mb-3",children:["Attachments (",a.attachments.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:a.attachments.map((m,f)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-slate-200 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Vf,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-slate-900",children:["attachment-",f+1]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Click to download"})]})]}),s.jsx(ie,{size:"sm",variant:"outline",className:"border-slate-200 hover:bg-slate-50",children:s.jsx(ms,{className:"w-4 h-4"})})]},f))})]})]})]}),s.jsxs(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-slate-900",children:[s.jsx(dn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Proposals (",l.length,")"]}),l.length>0&&s.jsxs(ie,{onClick:()=>e(`/client/proposals?findId=${t}`),variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[s.jsx(ms,{className:"w-4 h-4 mr-1"}),"View All"]})]})}),s.jsx(Se,{className:"p-6 sm:p-8",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(dn,{className:"w-8 h-8 text-slate-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Proposals Yet"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Your find is live and finders will start submitting proposals soon."}),s.jsxs(ie,{onClick:()=>e("/client/dashboard"),variant:"outline",className:"border-slate-200 hover:bg-slate-50",children:[s.jsx(ai,{className:"w-4 h-4 mr-2"}),"View Dashboard"]})]}):s.jsxs("div",{className:"space-y-4",children:[l.slice(0,3).map(m=>{var f,g,p,x,y,v;return s.jsxs("div",{className:"p-4 bg-white rounded-lg border border-slate-200 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Hn,{className:"w-10 h-10 border-2 border-blue-200",children:s.jsx(Wn,{className:"bg-blue-100 text-blue-700 font-semibold text-sm",children:((((f=m.finder)==null?void 0:f.user.firstName)||"")+(((g=m.finder)==null?void 0:g.user.lastName)||"")).split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2)})}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-slate-900",children:[(p=m.finder)==null?void 0:p.user.firstName," ",(x=m.finder)==null?void 0:x.user.lastName]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ui,{className:"w-3 h-3 text-amber-500 fill-current mr-1"}),s.jsx("span",{children:((y=m.finder)==null?void 0:y.rating)||4.8})]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[((v=m.finder)==null?void 0:v.completedJobs)||0," completed"]})]})]})]}),s.jsx(Ye,{variant:"outline",className:m.status==="pending"?"border-amber-200 text-amber-700":m.status==="accepted"?"border-green-200 text-green-700":"border-slate-200 text-slate-700",children:m.status})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Proposal Amount"}),s.jsxs("p",{className:"font-semibold text-green-600",children:["",parseFloat(m.price||"0").toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Delivery Time"}),s.jsx("p",{className:"font-semibold text-blue-600",children:m.timeline||m.deliveryTime||"Not specified"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(ie,{onClick:()=>e(`/client/proposals/${m.id}`),variant:"outline",size:"sm",className:"flex-1 border-blue-200 text-blue-700 hover:bg-blue-50",children:[s.jsx(ms,{className:"w-4 h-4 mr-1"}),"View Details"]}),m.status==="pending"&&s.jsx(ie,{onClick:()=>d.mutate(m.id),disabled:d.isPending,size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:d.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-1"}),"Accepting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"w-4 h-4 mr-1"}),"Accept"]})})]})]},m.id)}),l.some(m=>m.status==="accepted")&&s.jsx("div",{className:"text-center pt-4 pb-2",children:s.jsx(Re,{href:"/client/contracts",children:s.jsxs(ie,{className:"bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(on,{className:"w-4 h-4 mr-2"}),"View Contract"]})})}),l.length>3&&s.jsx("div",{className:"text-center pt-4",children:s.jsxs(ie,{onClick:()=>e(`/client/proposals?findId=${t}`),variant:"outline",className:"border-slate-200 hover:bg-slate-50",children:["View ",l.length-3," More Proposals"]})})]})})]})]}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ie,{onClick:()=>e("/client/proposals"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"View All Proposals"]}),s.jsxs(ie,{variant:"outline",className:"w-full border-slate-200 hover:bg-slate-50",children:[s.jsx(Mse,{className:"w-4 h-4 mr-2"}),"Share Find"]})]})]})}),s.jsx(_e,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8",children:[s.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center",children:[s.jsx(ai,{className:"w-5 h-5 mr-2 text-blue-600"}),"Find Performance"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Proposals"}),s.jsx("span",{className:"font-semibold text-slate-900",children:l.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Response Rate"}),s.jsxs("span",{className:"font-semibold text-green-600",children:[l.length>0?Math.round(l.length/127*100):0,"%"]})]}),s.jsx(Rc,{}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:l.length>0?Math.round(l.reduce((m,f)=>m+parseInt(f.price||"0"),0)/l.length):0}),s.jsx("div",{className:"text-xs text-slate-600",children:"Average Proposal Amount ()"})]})]})]})}),s.jsx(_e,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Sa,{className:"w-6 h-6 text-amber-600"})}),s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Pro Tip"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Respond to proposals quickly to keep finders engaged and improve your response rate."}),s.jsx(ie,{variant:"outline",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",onClick:()=>e("/support/help-center"),children:"Learn More"})]})})]})]})]})]})}function b0e(){const[,t]=sn(),{user:e}=tr(),{toast:r}=ar();vr();const{data:n=[],isLoading:i}=pt({queryKey:["/api/client/proposals"],enabled:!!e&&e.role==="client"}),a=Ft({mutationFn:async d=>St(`/api/proposals/${d}/accept`,{method:"POST"}),onSuccess:d=>{r({title:"Proposal Accepted!",description:`You've successfully hired ${d.contract.finderName}. Please fund the contract to begin work.`}),t(`/client/contracts/${d.contract.id}`)},onError:d=>{r({variant:"destructive",title:"Failed to accept proposal",description:d.message||"Something went wrong. Please try again."})}}),o=(n==null?void 0:n.some(d=>d.status==="accepted"))||!1,l=Ft({mutationFn:async d=>(console.log("Creating conversation for proposal:",d),St("/api/messages/conversations",{method:"POST",body:JSON.stringify({proposalId:d})})),onSuccess:d=>{console.log("Navigation to conversation:",d.id),t(`/messages/${d.id}`)},onError:d=>{console.error("Conversation creation error:",d),console.log("Error message to show user:",d.message),r({variant:"destructive",title:"Unable to Start Conversation",description:"Please try again later."})}}),c=d=>{l.mutate(d)};return!e||e.role!=="client"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(qr,{className:"w-10 h-10 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"This page is only available for clients."}),s.jsx(ie,{onClick:()=>t("/finder/dashboard"),className:"bg-blue-600 hover:bg-blue-700",children:"Go to Finder Dashboard"})]})}):i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ps,{className:"w-8 h-8 text-blue-600 animate-spin"})}),s.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Loading Proposals"}),s.jsx("p",{className:"text-slate-600",children:"Please wait while we fetch your proposals..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:"proposals"}),s.jsxs("main",{className:"max-w-6xl mx-auto px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[s.jsxs("div",{className:"mb-8 text-center sm:text-left",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-2",children:"Received Proposals"}),s.jsx("p",{className:"text-sm sm:text-lg text-slate-600 mb-4",children:"Review proposals from talented finders and choose the best match for your project"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-center",children:[s.jsxs(ie,{onClick:()=>t("/client/create-find"),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Post New Find"]}),s.jsxs(ie,{onClick:()=>t("/client/dashboard"),variant:"outline",className:"border-slate-200 hover:bg-slate-50",children:[s.jsx(im,{className:"w-4 h-4 mr-2"}),"View My Finds"]})]})]}),n.length===0?s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-8 sm:p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(jm,{className:"w-8 h-8 sm:w-10 sm:h-10 text-slate-400"})}),s.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-slate-900 mb-3",children:"No Proposals Yet"}),s.jsx("p",{className:"text-sm sm:text-base text-slate-600 mb-6 max-w-md mx-auto",children:"Finders will submit their proposals for your finds here. Once you post a find, qualified finders will start sending proposals."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(ie,{onClick:()=>t("/client/create-find"),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Post Your First Find"]}),s.jsx(ie,{onClick:()=>t("/browse-requests"),variant:"outline",className:"border-slate-200 hover:bg-slate-50",children:"Browse Public Finds"})]})]})}):s.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.map(d=>s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl hover:shadow-2xl transition-all duration-300 group",children:s.jsxs(Se,{className:"p-6 sm:p-8",children:[s.jsxs("div",{className:"block lg:hidden space-y-6",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Hn,{className:"w-12 h-12 border-2 border-blue-200",children:s.jsx(Wn,{className:"bg-blue-100 text-blue-700 font-semibold",children:(d.finderName||"Unknown").split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:d.finderName||"Unknown Finder"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ye,{variant:d.status==="pending"?"default":"secondary",className:`text-xs ${d.status==="pending"?"bg-green-100 text-green-800 border-green-300":"bg-slate-100 text-slate-700 border-slate-300"}`,children:d.status==="pending"?" Available":d.status}),s.jsxs("div",{className:"flex items-center text-amber-500",children:[s.jsx(ui,{className:"w-3 h-3 fill-current"}),s.jsx("span",{className:"text-xs font-medium ml-1",children:"4.9"})]})]})]})]})}),d.findTitle&&s.jsxs("div",{className:"bg-slate-50/80 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-slate-900 mb-1",children:"Find:"}),s.jsx("p",{className:"text-sm text-slate-700",children:d.findTitle})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-green-50/80 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-green-700",children:["",d.price?parseInt(d.price).toLocaleString():"TBD"]}),s.jsx("div",{className:"text-xs text-green-600",children:"Proposed Price"})]}),s.jsxs("div",{className:"bg-blue-50/80 rounded-lg p-4 text-center",children:[s.jsx(hr,{className:"w-5 h-5 text-blue-600 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-semibold text-blue-700",children:d.timeline||"To be discussed"}),s.jsx("div",{className:"text-xs text-blue-600",children:"Timeline"})]})]}),d.coverLetter&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Proposal Message:"}),s.jsx("p",{className:"text-sm text-slate-700 bg-slate-50/80 rounded-lg p-4 leading-relaxed",children:d.coverLetter.length>150?`${d.coverLetter.slice(0,150)}...`:d.coverLetter})]}),s.jsx("div",{className:"flex flex-col space-y-3 pt-4 border-t border-slate-200",children:d.status==="pending"?s.jsxs(s.Fragment,{children:[s.jsx(ie,{onClick:()=>a.mutate(d.id),disabled:a.isPending||o,className:"w-full bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 disabled:bg-gray-300 disabled:text-gray-500",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Hiring..."]}):o?s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"w-4 h-4 mr-2"}),"Another Finder Hired"]}):s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"w-4 h-4 mr-2"}),"Hire This Finder"]})}),s.jsx(ie,{onClick:()=>c(d.id),disabled:l.isPending,variant:"outline",className:"w-full border-blue-200 text-blue-700 hover:bg-blue-50",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Starting Chat..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),"Message Finder"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ye,{variant:"secondary",className:"w-full justify-center py-3 bg-green-100 text-green-800 border-green-200",children:" Hired & Active"}),s.jsx(ie,{onClick:()=>c(d.id),disabled:l.isPending,variant:"outline",className:"w-full border-blue-200 text-blue-700 hover:bg-blue-50",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Starting Chat..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),"Message Finder"]})})]})})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start space-x-6 flex-1",children:[s.jsx(Hn,{className:"w-16 h-16 border-2 border-blue-200",children:s.jsx(Wn,{className:"bg-blue-100 text-blue-700 font-semibold text-lg",children:(d.finderName||"Unknown").split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2)})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-1",children:d.finderName||"Unknown Finder"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ye,{variant:d.status==="pending"?"default":"secondary",className:`${d.status==="pending"?"bg-green-100 text-green-800 border-green-300":"bg-slate-100 text-slate-700 border-slate-300"}`,children:d.status==="pending"?" Available":" Hired"}),s.jsxs("div",{className:"flex items-center text-amber-500",children:[s.jsx(ui,{className:"w-4 h-4 fill-current"}),s.jsx("span",{className:"text-sm font-medium ml-1",children:"4.9 (127 reviews)"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-700",children:["",d.price?parseInt(d.price).toLocaleString():"TBD"]}),s.jsx("div",{className:"text-sm text-slate-600",children:"Proposed Price"})]})]}),s.jsxs("div",{className:"flex items-center space-x-6 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hr,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-sm text-slate-700",children:d.timeline||"Timeline: To be discussed"})]}),d.findTitle&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(im,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-sm text-slate-700 font-medium",children:d.findTitle})]})]}),d.coverLetter&&s.jsxs("div",{className:"bg-slate-50/80 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Proposal Message:"}),s.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:d.coverLetter.length>300?`${d.coverLetter.slice(0,300)}...`:d.coverLetter})]}),s.jsx("div",{className:"flex items-center space-x-3",children:d.status==="pending"?s.jsxs(s.Fragment,{children:[s.jsx(ie,{onClick:()=>a.mutate(d.id),disabled:a.isPending||o,className:"bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 disabled:bg-gray-300 disabled:text-gray-500 px-6",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Hiring..."]}):o?s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"w-4 h-4 mr-2"}),"Another Finder Hired"]}):s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"w-4 h-4 mr-2"}),"Hire Finder"]})}),s.jsx(ie,{onClick:()=>c(d.id),disabled:l.isPending,variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50 px-6",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),"Message"]})})]}):s.jsx(ie,{onClick:()=>c(d.id),disabled:l.isPending,variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50 px-6",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Starting Chat..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),"Continue Chat"]})})})]})]})})})]})},d.id))}),n.length>0&&s.jsx("div",{className:"mt-12 text-center",children:s.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-6 sm:p-8",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Need More Options?"}),s.jsx("p",{className:"text-slate-600 mb-4",children:"Post additional finds or browse other clients' requests"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsxs(ie,{onClick:()=>t("/client/create-find"),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Post Another Find"]}),s.jsx(ie,{onClick:()=>t("/browse-requests"),variant:"outline",className:"border-slate-200 hover:bg-slate-50",children:"Browse Public Finds"})]})]})})]})]})}function _4(){const[,t]=sn(),{user:e}=tr();ar();const[r,n]=O.useState(""),[i,a]=O.useState(""),[o,l]=O.useState("newest"),[c,d]=O.useState("grid"),[u,h]=O.useState(!1),{data:m=[],isLoading:f}=pt({queryKey:["/api/client/finds"],enabled:!!e}),{data:g=[]}=pt({queryKey:["/api/categories"],enabled:!!e}),p=m.filter(v=>{const b=v.title.toLowerCase().includes(r.toLowerCase())||v.description.toLowerCase().includes(r.toLowerCase()),w=!i||i==="all"||v.category===i;return b&&w}).sort((v,b)=>{var w,_;switch(o){case"newest":return new Date(b.createdAt).getTime()-new Date(v.createdAt).getTime();case"oldest":return new Date(v.createdAt).getTime()-new Date(b.createdAt).getTime();case"budget-high":return parseInt(b.budgetMax||"0")-parseInt(v.budgetMax||"0");case"budget-low":return parseInt(v.budgetMin||"0")-parseInt(b.budgetMin||"0");case"proposals":return(((w=b._count)==null?void 0:w.proposals)||0)-(((_=v._count)==null?void 0:_.proposals)||0);default:return 0}}),x=v=>{switch(v){case"active":return{color:"bg-green-100 text-green-800 border-green-200",icon:"",label:"Active"};case"completed":return{color:"bg-blue-100 text-blue-800 border-blue-200",icon:"",label:"Completed"};case"cancelled":return{color:"bg-red-100 text-red-800 border-red-200",icon:"",label:"Cancelled"};default:return{color:"bg-amber-100 text-amber-800 border-amber-200",icon:"",label:"Pending"}}},y={total:m.length,active:m.filter(v=>v.status==="active").length,completed:m.filter(v=>v.status==="completed").length,totalProposals:m.reduce((v,b)=>{var w;return v+(((w=b._count)==null?void 0:w.proposals)||0)},0)};return!e||e.role!=="client"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs(_e,{className:"w-96 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-finder-red/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(qr,{className:"w-10 h-10 text-finder-red"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"This page is only accessible by clients."}),s.jsx(ie,{onClick:()=>t("/login"),className:"bg-finder-red hover:bg-finder-red/90",children:"Sign In"})]})}):f?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{currentPage:"finds"}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(v=>s.jsx("div",{className:"h-24 bg-white border border-gray-200 rounded-lg"},v))}),s.jsx("div",{className:"h-24 bg-white border border-gray-200 rounded-lg"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(v=>s.jsx("div",{className:"h-64 bg-white border border-gray-200 rounded-lg"},v))})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{currentPage:"finds"}),s.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[s.jsx(_e,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4 sm:p-6 text-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-finder-red/10 rounded-lg flex items-center justify-center mx-auto mb-2 sm:mb-3",children:s.jsx(U0,{className:"w-5 h-5 sm:w-6 sm:h-6 text-finder-red"})}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:y.total}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Total Finds"})]})}),s.jsx(_e,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4 sm:p-6 text-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-2 sm:mb-3",children:s.jsx(fh,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:y.active}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Active Finds"})]})}),s.jsx(_e,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4 sm:p-6 text-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-2 sm:mb-3",children:s.jsx(dn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:y.totalProposals}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Total Proposals"})]})}),s.jsx(_e,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4 sm:p-6 text-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-2 sm:mb-3",children:s.jsx(Sa,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"})}),s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:y.completed}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Completed Finds"})]})})]}),s.jsx(_e,{className:"bg-white border border-gray-200 shadow-sm mb-8",children:s.jsx(Se,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(at,{placeholder:"Search your finds...",value:r,onChange:v=>n(v.target.value),className:"pl-10 bg-white border-gray-300 focus:border-finder-red focus:ring-finder-red/20"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(Br,{value:i,onValueChange:a,children:[s.jsx(Ir,{className:"w-full sm:w-40 bg-white border-gray-300",children:s.jsx(Ur,{placeholder:"Category"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"all",children:"All Categories"}),g.map(v=>s.jsx(dt,{value:v.name,children:v.name},v.id))]})]}),s.jsxs(Br,{value:o,onValueChange:l,children:[s.jsx(Ir,{className:"w-full sm:w-40 bg-white border-gray-300",children:s.jsx(Ur,{placeholder:"Sort by"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"newest",children:"Newest First"}),s.jsx(dt,{value:"oldest",children:"Oldest First"}),s.jsx(dt,{value:"budget-high",children:"Highest Budget"}),s.jsx(dt,{value:"budget-low",children:"Lowest Budget"}),s.jsx(dt,{value:"proposals",children:"Most Proposals"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{variant:c==="grid"?"default":"outline",size:"sm",onClick:()=>d("grid"),className:`flex-1 sm:flex-none ${c==="grid"?"bg-finder-red hover:bg-finder-red/90":""}`,children:s.jsx(Tse,{className:"w-4 h-4"})}),s.jsx(ie,{variant:c==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),className:`flex-1 sm:flex-none ${c==="list"?"bg-finder-red hover:bg-finder-red/90":""}`,children:s.jsx(Ose,{className:"w-4 h-4"})})]})]})]})})}),p.length===0?s.jsx(_e,{className:"bg-white border border-gray-200 shadow-sm",children:s.jsx(Se,{className:"py-16 text-center",children:r||i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ds,{className:"w-8 h-8 text-gray-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No results found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search terms or filters to find what you're looking for."}),s.jsx(ie,{onClick:()=>{n(""),a("")},variant:"outline",className:"border-gray-300 hover:bg-gray-50",children:"Clear Filters"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 bg-finder-red/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(U0,{className:"w-8 h-8 text-finder-red"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No finds yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first find to connect with talented finders."}),s.jsxs(ie,{onClick:()=>t("/client/create-find"),className:"bg-finder-red hover:bg-finder-red/90 text-white shadow-sm hover:shadow-md transition-all duration-200",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Create Your First Find"]})]})})}):s.jsx("div",{className:`grid gap-4 ${c==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:p.map(v=>{var w;x(v.status);const b=((w=v._count)==null?void 0:w.proposals)||0;return s.jsxs(_e,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-lg hover:border-gray-300 transition-all duration-200 cursor-pointer group",onClick:()=>t(`/client/finds/${v.id}`),children:[s.jsxs("div",{className:"p-5 pb-4 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx(Ye,{variant:"secondary",className:`text-xs font-medium px-2.5 py-1 ${v.status==="active"?"bg-green-100 text-green-700 border-green-200":v.status==="completed"?"bg-blue-100 text-blue-700 border-blue-200":v.status==="cancelled"?"bg-red-100 text-red-700 border-red-200":"bg-yellow-100 text-yellow-700 border-yellow-200"}`,children:v.status==="active"?" Active":v.status==="completed"?" Completed":v.status==="cancelled"?" Cancelled":" Pending"}),s.jsxs("div",{className:"text-xs text-gray-500",children:[vH(new Date(v.createdAt))," ago"]})]}),s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 group-hover:text-finder-red transition-colors leading-tight flex-1",children:v.title}),v.isBoosted&&s.jsxs(Ye,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 text-xs flex items-center gap-1 ml-2 flex-shrink-0",children:[s.jsx(fh,{className:"w-3 h-3"}),"Boosted"]})]}),s.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:v.description})]}),s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Budget"}),s.jsxs("div",{className:"text-sm font-semibold text-green-600",children:["",parseInt(v.budgetMin||"0").toLocaleString()," - ",parseInt(v.budgetMax||"0").toLocaleString()]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Timeline"}),s.jsx("div",{className:"text-sm font-semibold text-gray-700",children:v.timeframe||"Flexible"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ye,{variant:"outline",className:"text-xs capitalize border-finder-red/20 text-finder-red bg-finder-red/5",children:v.category}),s.jsx("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(dn,{className:"w-3 h-3"}),s.jsxs("span",{children:[b," ",b===1?"proposal":"proposals"]})]})})]}),s.jsx("div",{className:"pt-2",children:s.jsxs(ie,{className:"w-full bg-finder-red hover:bg-finder-red/90 text-white transition-all duration-200 text-sm font-medium",size:"sm",children:[s.jsx("span",{children:"View Details"}),s.jsx(uh,{className:"w-4 h-4 ml-2 group-hover:translate-x-0.5 transition-transform"})]})})]})})]},v.id)})}),p.length>0&&s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",p.length," of ",m.length," finds",r&&` for "${r}"`,i&&` in ${i}`]})})]})]})}function P3({status:t,className:e="",showIcon:r=!0}){const i=(a=>{switch(a){case"verified":return{text:"Verified",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",icon:""};case"pending":return{text:"Under Review",color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",icon:""};case"rejected":return{text:"Rejected",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",icon:""};default:return{text:"Not Verified",color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",icon:""}}})(t);return s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${i.bgColor} ${i.borderColor} ${i.color} ${e}`,children:[r&&s.jsx("span",{className:"mr-1",children:i.icon}),i.text]})}function L8(){const[,t]=sn(),{user:e,isLoading:r}=tr(),{toast:n}=ar(),i=vr(),a=Vc(),c=new URLSearchParams(window.location.search).get("userId")||a.userId,d=(e==null?void 0:e.role)==="admin"&&!!c,[u,h]=O.useState(!1),[m,f]=O.useState({firstName:"",lastName:"",email:"",phone:""}),{data:g=[]}=pt({queryKey:["/api/client/finds"],queryFn:()=>St("/api/client/finds"),enabled:!d&&(e==null?void 0:e.role)==="client"}),{data:p,isLoading:x,error:y}=pt({queryKey:["/api/admin/users",c],queryFn:()=>(console.log("Fetching profile user for:",c),St(`/api/admin/users/${c}`)),enabled:!!(d&&c)}),v=Ft({mutationFn:async k=>{if(d)throw new Error("Admins can view but not edit client profiles from this page");return St("/api/auth/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})},onSuccess:k=>{i.invalidateQueries({queryKey:["/api/auth/me"]}),f({firstName:k.user.firstName,lastName:k.user.lastName,email:k.user.email,phone:k.user.phone||""}),h(!1),n({title:"Profile Updated",description:"Your profile has been updated successfully."})},onError:k=>{n({variant:"destructive",title:"Update Failed",description:k.message||"Failed to update profile. Please try again."})}}),b=d?p:e;if(O.useEffect(()=>{b&&f({firstName:b.firstName||"",lastName:b.lastName||"",email:b.email||"",phone:b.phone||""})},[b]),console.log("Profile page state:",{user:e,authLoading:r,isAdminViewing:d,viewUserId:c,displayUser:b,profileLoading:x,profileError:y,userRole:e==null?void 0:e.role,displayUserExists:!!b}),r)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ps,{className:"w-10 h-10 text-blue-600 animate-spin"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Loading..."}),s.jsx("p",{className:"text-slate-600",children:"Please wait while we load your profile."})]})});if(!e||e.role!=="client"&&e.role!=="admin")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(qr,{className:"w-10 h-10 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"This page is only accessible by clients or admins."}),s.jsx(ie,{onClick:()=>t("/login"),className:"bg-blue-600 hover:bg-blue-700",children:"Sign In"})]})});if(e.role==="admin"&&!c)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(dn,{className:"w-10 h-10 text-orange-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"User ID Required"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Please provide a userId parameter to view a client profile."}),s.jsx(ie,{onClick:()=>t("/admin/users"),className:"bg-blue-600 hover:bg-blue-700",children:"Back to Users"})]})});if(d&&x)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ps,{className:"w-10 h-10 text-blue-600 animate-spin"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Loading Profile..."}),s.jsx("p",{className:"text-slate-600",children:"Please wait while we load the user profile."})]})});if(d&&y)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ia,{className:"w-10 h-10 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Profile Not Found"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"The requested user profile could not be loaded."}),s.jsx(ie,{onClick:()=>t("/admin/users"),className:"bg-blue-600 hover:bg-blue-700",children:"Back to Users"})]})});if(!b)return console.warn("No displayUser available, redirecting to access denied"),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(qr,{className:"w-10 h-10 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Profile Not Available"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Unable to load profile data. Please try again."}),s.jsx(ie,{onClick:()=>t("/client/dashboard"),className:"bg-blue-600 hover:bg-blue-700",children:"Go to Dashboard"})]})});const w=async k=>{k.preventDefault(),v.mutate(m)},_=k=>{f(E=>({...E,[k.target.name]:k.target.value}))},N=()=>{b&&f({firstName:b.firstName||"",lastName:b.lastName||"",email:b.email||"",phone:b.phone||""}),h(!1)},j={totalFinds:(g==null?void 0:g.length)||0,activeFinds:(g==null?void 0:g.filter(k=>k.status==="open"||k.status==="in_progress").length)||0,completedFinds:(g==null?void 0:g.filter(k=>k.status==="completed").length)||0,joinDate:(b==null?void 0:b.createdAt)||new Date().toISOString()};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-red-50 to-slate-100 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] -z-10"}),s.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob -z-10",style:{backgroundColor:"hsl(1, 81%, 63%)"}}),s.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-slate-300 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000 -z-10"}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000 -z-10",style:{backgroundColor:"hsl(1, 81%, 73%)"}}),d?s.jsx(Sr,{currentPage:"users"}):s.jsx(ds,{currentPage:"profile"}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 sm:gap-12",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[s.jsx(_e,{className:"bg-white/80 backdrop-blur-xl border-white/20 shadow-2xl shadow-slate-200/25 hover:shadow-3xl transition-all duration-500 group",children:s.jsxs(Se,{className:"p-8 sm:p-10 text-center",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Hn,{className:"w-24 h-24 sm:w-28 sm:h-28 mx-auto border-4 border-white shadow-2xl ring-4 transition-all duration-300 group-hover:ring-opacity-70 ring-red-200",children:s.jsx(Wn,{className:"text-white text-2xl sm:text-3xl font-bold",style:{background:"linear-gradient(to bottom right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:(((b==null?void 0:b.firstName)||"")+((b==null?void 0:b.lastName)||"")).split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2)})}),s.jsx("div",{className:"absolute inset-0 w-24 h-24 sm:w-28 sm:h-28 mx-auto rounded-full animate-pulse",style:{background:"linear-gradient(to bottom right, hsl(1, 81%, 63%, 0.2), hsl(1, 81%, 53%, 0.2))"}})]}),s.jsx("button",{className:"absolute -bottom-2 -right-2 w-10 h-10 rounded-full flex items-center justify-center shadow-xl hover:shadow-2xl hover:scale-110 transition-all duration-200 ring-2 ring-white",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:s.jsx(Z2,{className:"w-5 h-5 text-white"})})]}),s.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold bg-clip-text text-transparent mb-3",style:{backgroundImage:"linear-gradient(to right, hsl(213, 27%, 16%), hsl(1, 81%, 53%))"},children:[b==null?void 0:b.firstName," ",b==null?void 0:b.lastName]}),s.jsx("p",{className:"text-slate-600 mb-6 font-medium",children:b==null?void 0:b.email}),s.jsx("div",{className:"flex items-center justify-center space-x-1 mb-8",children:s.jsxs("div",{className:"flex items-center bg-gradient-to-r from-blue-50 to-indigo-50 p-3 rounded-full",children:[s.jsx(_n,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsxs("span",{className:"text-sm text-slate-700 font-medium",children:["Member since ",Ri(new Date(j.joinDate),"MMM yyyy")]})]})}),s.jsx(P3,{status:b==null?void 0:b.identityVerificationStatus,className:"mb-8"}),s.jsx("div",{className:"space-y-4 text-sm",children:s.jsxs("div",{className:"flex items-center justify-center bg-slate-50/80 rounded-full py-2 px-4",children:[s.jsx(HN,{className:"w-4 h-4 mr-3",style:{color:"hsl(1, 81%, 53%)"}}),s.jsx("span",{className:"font-medium text-slate-700",children:"Nigeria"})]})})]})}),s.jsx(_e,{className:"backdrop-blur-xl border-white/30 shadow-2xl hover:shadow-3xl transition-all duration-500",style:{background:"linear-gradient(135deg, hsl(1, 81%, 95%, 0.8), hsl(210, 20%, 95%, 0.8))",boxShadow:"0 25px 50px -12px hsl(1, 81%, 53%, 0.25)"},children:s.jsxs(Se,{className:"p-8 sm:p-10",children:[s.jsxs("h3",{className:"font-bold text-slate-900 mb-6 flex items-center text-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:s.jsx(ai,{className:"w-4 h-4 text-white"})}),"Client Statistics"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white/60 rounded-2xl p-4 hover:bg-white/80 transition-all duration-200",children:[s.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:"hsl(1, 81%, 95%)"},children:s.jsx(U0,{className:"w-3 h-3",style:{color:"hsl(1, 81%, 53%)"}})}),"Total Finds"]}),s.jsx("span",{className:"font-bold text-xl text-slate-900",children:j.totalFinds})]}),s.jsxs("div",{className:"flex items-center justify-between bg-white/60 rounded-2xl p-4 hover:bg-white/80 transition-all duration-200",children:[s.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(ms,{className:"w-3 h-3 text-green-600"})}),"Active Finds"]}),s.jsx("span",{className:"font-bold text-xl text-green-600",children:j.activeFinds})]}),s.jsxs("div",{className:"flex items-center justify-between bg-white/60 rounded-2xl p-4 hover:bg-white/80 transition-all duration-200",children:[s.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center",children:[s.jsx("div",{className:"w-6 h-6 bg-slate-100 rounded-full flex items-center justify-center mr-3",children:s.jsx(Sa,{className:"w-3 h-3 text-slate-600"})}),"Completed"]}),s.jsx("span",{className:"font-bold text-xl text-slate-600",children:j.completedFinds})]}),s.jsxs("div",{className:"rounded-2xl p-6 text-center text-white shadow-lg",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:[s.jsx("div",{className:"text-3xl font-bold mb-2",children:j.totalFinds}),s.jsx("div",{className:"text-sm opacity-90 font-medium",children:"Total Requests"})]})]})]})})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-xl border border-slate-200 rounded-xl p-6",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:s.jsx($r,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"Verification Status"}),s.jsx(P3,{status:b==null?void 0:b.identityVerificationStatus,className:"text-sm font-semibold"})]})]})})}),s.jsxs(_e,{className:"bg-white/80 backdrop-blur-xl border-white/20 shadow-2xl shadow-slate-200/25 hover:shadow-3xl transition-all duration-500",children:[s.jsx(Ze,{className:"pb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs(Xe,{className:"flex items-center text-slate-900 text-xl",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:s.jsx(qr,{className:"w-4 h-4 text-white"})}),"Personal Information"]}),u?s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(ie,{onClick:N,variant:"outline",size:"sm",className:"border-slate-300 hover:bg-slate-50 transition-all duration-200",children:"Cancel"}),s.jsx(ie,{onClick:w,disabled:v.isPending,size:"sm",className:"text-white shadow-lg hover:shadow-xl transition-all duration-200",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))",backgroundImage:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},onMouseEnter:k=>{k.currentTarget.style.backgroundImage="linear-gradient(to right, hsl(1, 71%, 43%), hsl(1, 61%, 33%))"},onMouseLeave:k=>{k.currentTarget.style.backgroundImage="linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}):s.jsxs(ie,{onClick:()=>h(!0),className:"text-white shadow-lg hover:shadow-xl transition-all duration-200",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))",backgroundImage:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},onMouseEnter:k=>{k.currentTarget.style.backgroundImage="linear-gradient(to right, hsl(1, 71%, 43%), hsl(1, 61%, 33%))"},onMouseLeave:k=>{k.currentTarget.style.backgroundImage="linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},size:"sm",children:[s.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]})}),s.jsx(Se,{className:"p-8 sm:p-10",children:u?s.jsxs("form",{onSubmit:w,className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"firstName",className:"text-slate-700 font-semibold text-sm mb-3 block",children:"First Name"}),s.jsx(at,{id:"firstName",name:"firstName",value:m.firstName,onChange:_,placeholder:"Enter your first name",className:"h-12 bg-white/80 backdrop-blur-sm border-slate-200/60 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"hsl(210, 20%, 90%)"},onFocus:k=>{k.currentTarget.style.borderColor="hsl(1, 81%, 53%)",k.currentTarget.style.boxShadow="0 0 0 3px hsl(1, 81%, 90%)"},onBlur:k=>{k.currentTarget.style.borderColor="hsl(210, 20%, 90%)",k.currentTarget.style.boxShadow="none"}})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"lastName",className:"text-slate-700 font-semibold text-sm mb-3 block",children:"Last Name"}),s.jsx(at,{id:"lastName",name:"lastName",value:m.lastName,onChange:_,placeholder:"Enter your last name",className:"h-12 bg-white/80 backdrop-blur-sm border-slate-200/60 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"hsl(210, 20%, 90%)"},onFocus:k=>{k.currentTarget.style.borderColor="hsl(1, 81%, 53%)",k.currentTarget.style.boxShadow="0 0 0 3px hsl(1, 81%, 90%)"},onBlur:k=>{k.currentTarget.style.borderColor="hsl(210, 20%, 90%)",k.currentTarget.style.boxShadow="none"}})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"email",className:"text-slate-700 font-semibold text-sm mb-3 block",children:"Email Address"}),s.jsx(at,{id:"email",name:"email",type:"email",value:m.email,onChange:_,placeholder:"Enter your email address",className:"h-12 bg-white/80 backdrop-blur-sm border-slate-200/60 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"hsl(210, 20%, 90%)"},onFocus:k=>{k.currentTarget.style.borderColor="hsl(1, 81%, 53%)",k.currentTarget.style.boxShadow="0 0 0 3px hsl(1, 81%, 90%)"},onBlur:k=>{k.currentTarget.style.borderColor="hsl(210, 20%, 90%)",k.currentTarget.style.boxShadow="none"}})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"phone",className:"text-slate-700 font-semibold text-sm mb-3 block",children:"Phone Number"}),s.jsx(at,{id:"phone",name:"phone",value:m.phone,onChange:_,placeholder:"Enter your phone number",className:"h-12 bg-white/80 backdrop-blur-sm border-slate-200/60 rounded-xl shadow-sm hover:shadow-md transition-all duration-200",style:{borderColor:"hsl(210, 20%, 90%)"},onFocus:k=>{k.currentTarget.style.borderColor="hsl(1, 81%, 53%)",k.currentTarget.style.boxShadow="0 0 0 3px hsl(1, 81%, 90%)"},onBlur:k=>{k.currentTarget.style.borderColor="hsl(210, 20%, 90%)",k.currentTarget.style.boxShadow="none"}})]})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-slate-50/80 rounded-2xl p-6 hover:bg-slate-50 transition-all duration-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-500 mb-3 uppercase tracking-wider",children:"First Name"}),s.jsx("div",{className:"text-slate-900 font-semibold text-lg",children:(b==null?void 0:b.firstName)||"Not provided"})]}),s.jsxs("div",{className:"bg-slate-50/80 rounded-2xl p-6 hover:bg-slate-50 transition-all duration-200",children:[s.jsx("div",{className:"text-sm font-semibold text-slate-500 mb-3 uppercase tracking-wider",children:"Last Name"}),s.jsx("div",{className:"text-slate-900 font-semibold text-lg",children:(b==null?void 0:b.lastName)||"Not provided"})]})]}),s.jsxs("div",{className:"bg-slate-50/80 rounded-2xl p-6 hover:bg-slate-50 transition-all duration-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-500 mb-3 uppercase tracking-wider flex items-center",children:[s.jsx(jm,{className:"w-4 h-4 mr-2",style:{color:"hsl(1, 81%, 53%)"}}),"Email Address"]}),s.jsx("div",{className:"text-slate-900 font-semibold text-lg",children:b==null?void 0:b.email})]}),s.jsxs("div",{className:"bg-slate-50/80 rounded-2xl p-6 hover:bg-slate-50 transition-all duration-200",children:[s.jsxs("div",{className:"text-sm font-semibold text-slate-500 mb-3 uppercase tracking-wider flex items-center",children:[s.jsx(j6,{className:"w-4 h-4 mr-2",style:{color:"hsl(1, 81%, 53%)"}}),"Phone Number"]}),s.jsx("div",{className:"text-slate-900 font-semibold text-lg",children:(b==null?void 0:b.phone)||"Not provided"})]})]})})]}),s.jsxs(_e,{className:"bg-white/80 backdrop-blur-xl border-white/20 shadow-2xl shadow-slate-200/25 hover:shadow-3xl transition-all duration-500",children:[s.jsx(Ze,{className:"pb-6",children:s.jsxs(Xe,{className:"flex items-center text-slate-900 text-xl",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:s.jsx(Ml,{className:"w-4 h-4 text-white"})}),"Account Settings"]})}),s.jsx(Se,{className:"p-8 sm:p-10",children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 p-6 rounded-2xl transition-all duration-300 border",style:{background:"linear-gradient(to right, hsl(1, 81%, 95%, 0.8), hsl(210, 20%, 95%, 0.8))",borderColor:"hsl(1, 81%, 90%, 0.5)"},children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:s.jsx(zf,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 text-lg",children:"Password Security"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Update your account password"})]})]}),s.jsx(ie,{onClick:()=>t("/client/change-password"),className:"text-white shadow-lg hover:shadow-xl transition-all duration-200",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))",backgroundImage:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},onMouseEnter:k=>{k.currentTarget.style.backgroundImage="linear-gradient(to right, hsl(1, 71%, 43%), hsl(1, 61%, 33%))"},onMouseLeave:k=>{k.currentTarget.style.backgroundImage="linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},size:"sm",children:"Change Password"})]})})})]})]})]})})]})}function yH({proposalId:t,finderName:e="Finder",className:r="",variant:n="default",children:i}){const{user:a}=tr(),[,o]=sn(),l=vr(),{toast:c}=ar(),d=Ft({mutationFn:async()=>await St("/api/messages/conversations",{method:"POST",body:JSON.stringify({proposalId:t})}),onSuccess:u=>{l.invalidateQueries({queryKey:["/api/messages/conversations"]}),o(`/messages/${u.id}`),c({title:"Success!",description:"Conversation started successfully."})},onError:u=>{console.error("Conversation creation error:",u);const h=(u==null?void 0:u.message)||"Failed to start conversation. Please try again.";console.log("Error message to show user:",h),c({variant:"destructive",title:"Error",description:h})}});return(a==null?void 0:a.role)!=="client"?null:s.jsx(ie,{onClick:()=>d.mutate(),disabled:d.isPending,className:r,variant:n,size:"sm",children:i||s.jsxs(s.Fragment,{children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:d.isPending?"Starting...":`Message ${e}`})]})})}function w0e(){const{user:t}=tr(),{data:e=[],isLoading:r}=pt({queryKey:["/api/client/contracts"],enabled:!!t}),n=l=>{if(l==null)return"0";const c=typeof l=="string"?parseFloat(l):l;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(c)},i=e.filter(l=>!l.isCompleted).length,a=e.filter(l=>l.isCompleted).length,o=e.filter(l=>l.isCompleted).reduce((l,c)=>l+parseFloat(c.amount),0);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-red-50 to-slate-100 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] -z-10"}),s.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob -z-10",style:{backgroundColor:"hsl(1, 81%, 63%)"}}),s.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-slate-300 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-2000 -z-10"}),s.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-blob animation-delay-4000 -z-10",style:{backgroundColor:"hsl(1, 81%, 73%)"}}),s.jsx(ds,{currentPage:"contracts"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-clip-text text-transparent mb-4",style:{backgroundImage:"linear-gradient(to right, hsl(213, 27%, 16%), hsl(1, 81%, 53%))"},children:"Active Contracts"}),s.jsx("p",{className:"text-slate-600 text-lg max-w-2xl mx-auto",children:"Manage your ongoing projects and track completed work with talented finders"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[s.jsx(_e,{className:"bg-white/80 backdrop-blur-xl border-white/30 shadow-2xl transition-all duration-500 hover:shadow-3xl hover:scale-105",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full flex items-center justify-center",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:s.jsx(im,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-2",children:i}),s.jsx("div",{className:"text-sm text-slate-600 font-medium",children:"Active Contracts"})]})}),s.jsx(_e,{className:"bg-white/80 backdrop-blur-xl border-white/30 shadow-2xl transition-all duration-500 hover:shadow-3xl hover:scale-105",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full flex items-center justify-center",style:{background:"linear-gradient(to right, hsl(147, 78%, 42%), hsl(159, 100%, 36%))"},children:s.jsx(br,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-2",children:a}),s.jsx("div",{className:"text-sm text-slate-600 font-medium",children:"Completed Finds"})]})}),s.jsx(_e,{className:"bg-white/80 backdrop-blur-xl border-white/30 shadow-2xl transition-all duration-500 hover:shadow-3xl hover:scale-105",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-4 rounded-full flex items-center justify-center",style:{background:"linear-gradient(to right, hsl(42, 92%, 56%), hsl(45, 100%, 51%))"},children:s.jsx(ai,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"text-3xl font-bold text-slate-900 mb-2",children:n(o)}),s.jsx("div",{className:"text-sm text-slate-600 font-medium",children:"Total Invested"})]})})]})]}),r?s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((l,c)=>s.jsxs(_e,{className:"bg-white/80 backdrop-blur-xl border-white/30 shadow-2xl animate-pulse",children:[s.jsx(Ze,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full"}),s.jsxs("div",{children:[s.jsx("div",{className:"h-5 bg-slate-200 rounded w-40 mb-2"}),s.jsx("div",{className:"h-4 bg-slate-200 rounded w-24"})]})]}),s.jsx("div",{className:"h-8 bg-slate-200 rounded w-20"})]})}),s.jsxs(Se,{children:[s.jsx("div",{className:"h-4 bg-slate-200 rounded w-full mb-2"}),s.jsx("div",{className:"h-4 bg-slate-200 rounded w-3/4 mb-4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"h-9 bg-slate-200 rounded w-24"}),s.jsx("div",{className:"h-9 bg-slate-200 rounded w-20"})]})]})]},c))}):e.length===0?s.jsx(_e,{className:"bg-white/80 backdrop-blur-xl border-white/30 shadow-2xl",children:s.jsxs(Se,{className:"text-center py-16",children:[s.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center",style:{background:"linear-gradient(to right, hsl(210, 20%, 95%), hsl(1, 81%, 95%))"},children:s.jsx(im,{className:"w-12 h-12",style:{color:"hsl(1, 81%, 53%)"}})}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Ready to Start Your First Contract?"}),s.jsx("p",{className:"text-slate-600 mb-8 max-w-md mx-auto text-lg",children:"Post a find request and connect with talented finders to get your projects completed professionally."}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Re,{href:"/client/create-find",children:s.jsxs(ie,{size:"lg",className:"text-white shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-105 px-8 py-4",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:[s.jsx(as,{className:"w-5 h-5 mr-2"}),"Post Your First Find"]})}),s.jsxs("div",{className:"text-sm text-slate-500",children:["Or ",s.jsx(Re,{href:"/client/browse-finds",className:"text-finder-red hover:underline",children:"browse existing finds"})]})]})]})}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map(l=>{var c,d,u,h,m,f;return s.jsxs(_e,{className:"bg-white/80 backdrop-blur-xl border-white/30 shadow-2xl hover:shadow-3xl transition-all duration-500 hover:scale-105 group",children:[s.jsx(Ze,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Hn,{className:"w-12 h-12 border-2 border-white shadow-lg",children:s.jsx(Wn,{className:"text-white font-bold",style:{background:"linear-gradient(to bottom right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:(((c=l.finder)==null?void 0:c.name)||"F").split(" ").map(g=>g[0]).join("").toUpperCase().slice(0,2)})}),s.jsxs("div",{children:[s.jsx(Xe,{className:"text-lg font-bold text-slate-900 group-hover:text-finder-red transition-colors",children:((d=l.request)==null?void 0:d.title)||"Contract"}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsx(Ye,{className:`${l.isCompleted?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-blue-100 text-blue-700 border-blue-200"} border shadow-sm`,children:l.isCompleted?s.jsxs(s.Fragment,{children:[s.jsx(br,{className:"w-3 h-3 mr-1"}),"Completed"]}):s.jsxs(s.Fragment,{children:[s.jsx(hr,{className:"w-3 h-3 mr-1"}),"Active"]})})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-xl font-bold",style:{color:"hsl(1, 81%, 53%)"},children:n(l.amount)}),s.jsx("div",{className:"text-xs text-slate-500 font-medium",children:l.isCompleted&&l.completedAt?`Completed ${new Date(l.completedAt).toLocaleDateString()}`:`Started ${new Date(l.createdAt).toLocaleDateString()}`})]})]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-slate-600 bg-slate-50/80 rounded-lg p-3",children:[s.jsx(qr,{className:"w-4 h-4 mr-2",style:{color:"hsl(1, 81%, 53%)"}}),s.jsxs("span",{className:"font-medium",children:["Working with ",((u=l.finder)==null?void 0:u.name)||"Finder"]}),((h=l.finder)==null?void 0:h.rating)&&s.jsxs("div",{className:"flex items-center ml-2 text-amber-500",children:[s.jsx(ui,{className:"w-3 h-3 fill-current"}),s.jsx("span",{className:"text-xs font-medium ml-1",children:parseFloat(l.finder.rating).toFixed(1)})]})]}),s.jsx("p",{className:"text-slate-600 line-clamp-2 text-sm leading-relaxed",children:(m=l.request)==null?void 0:m.description}),s.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[s.jsxs(yH,{proposalId:l.proposalId,finderName:((f=l.finder)==null?void 0:f.name)||"Finder",variant:"outline",className:"flex-1 hover:bg-finder-red hover:text-white hover:border-finder-red transition-all duration-200",children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),"Message Finder"]}),!l.isCompleted&&!l.hasSubmission&&s.jsx(Re,{href:`/client/contracts/${l.id}`,children:s.jsxs(ie,{size:"sm",className:"text-white shadow-lg hover:shadow-xl transition-all duration-200",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:[s.jsx(ms,{className:"w-4 h-4 mr-1"}),"Details"]})}),!l.isCompleted&&l.hasSubmission&&s.jsx(Re,{href:`/orders/review/${l.id}`,children:s.jsxs(ie,{size:"sm",className:"text-white shadow-lg hover:shadow-xl transition-all duration-200",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:[s.jsx(ui,{className:"w-4 h-4 mr-1"}),"Review Work"]})}),l.isCompleted&&s.jsx(Re,{href:`/orders/review/${l.id}`,children:s.jsxs(ie,{size:"sm",variant:"secondary",className:"shadow-lg hover:shadow-xl transition-all",children:[s.jsx(ms,{className:"w-4 h-4 mr-1"}),"View Details"]})}),!l.isCompleted&&l.escrowStatus==="pending"&&s.jsx(Re,{href:`/client/fund-contract/${l.id}`,children:s.jsxs(ie,{size:"sm",className:"text-white shadow-lg hover:shadow-xl transition-all duration-200",style:{background:"linear-gradient(to right, hsl(1, 81%, 53%), hsl(1, 71%, 43%))"},children:[s.jsx($r,{className:"w-4 h-4 mr-1"}),"Fund Contract"]})})]})]})]},l.id)})})]})})]})}var wC="Progress",NC=100,[N0e]=Fa(wC),[j0e,_0e]=N0e(wC),bH=O.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=S0e,...o}=t;(i||i===0)&&!R8(i)&&console.error(k0e(`${i}`,"Progress"));const l=R8(i)?i:NC;n!==null&&!I8(n,l)&&console.error(C0e(`${n}`,"Progress"));const c=I8(n,l)?n:null,d=xw(c)?a(c,l):void 0;return s.jsx(j0e,{scope:r,value:c,max:l,children:s.jsx(rr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":xw(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":jH(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});bH.displayName=wC;var wH="ProgressIndicator",NH=O.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=_0e(wH,r);return s.jsx(rr.div,{"data-state":jH(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});NH.displayName=wH;function S0e(t,e){return`${Math.round(t/e*100)}%`}function jH(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function xw(t){return typeof t=="number"}function R8(t){return xw(t)&&!isNaN(t)&&t>0}function I8(t,e){return xw(t)&&!isNaN(t)&&t<=e&&t>=0}function k0e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${NC}\`.`}function C0e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${NC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _H=bH,A0e=NH;const SH=O.forwardRef(({className:t,value:e,...r},n)=>s.jsx(_H,{ref:n,className:Ot("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:s.jsx(A0e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));SH.displayName=_H.displayName;function kH({isOpen:t,onClose:e,contractId:r,contractTitle:n}){const{t:i}=Wc(),[a,o]=O.useState(""),[l,c]=O.useState(""),[d,u]=O.useState(""),{toast:h}=ar(),m=vr(),f=Ft({mutationFn:async()=>await St(`/api/contracts/${r}/dispute`,{method:"POST",body:JSON.stringify({type:a,description:l,evidence:d||null})}),onSuccess:()=>{h({title:i("dispute.dispute_submitted"),description:i("dispute.dispute_submitted_desc")}),e(),g(),m.invalidateQueries({queryKey:["/api/client/contracts"]}),m.invalidateQueries({queryKey:["/api/finder/contracts"]})},onError:y=>{h({variant:"destructive",title:"Error",description:y.message||"Failed to submit dispute. Please try again."})}}),g=()=>{o(""),c(""),u("")},p=()=>{g(),e()},x=y=>{if(y.preventDefault(),!a||!l.trim()){h({variant:"destructive",title:"Missing Information",description:"Please select a dispute type and provide a description."});return}f.mutate()};return s.jsx(qi,{open:t,onOpenChange:p,children:s.jsxs(Ni,{className:"sm:max-w-[525px]",children:[s.jsx(ji,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:s.jsx(Wr,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx(_i,{className:"text-xl font-semibold",children:i("dispute.submit_dispute")}),n&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["For: ",n]})]})]})}),s.jsxs("form",{onSubmit:x,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"disputeType",className:"text-sm font-medium mb-2 block",children:[i("dispute.dispute_type")," *"]}),s.jsxs(Br,{value:a,onValueChange:o,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:i("dispute.dispute_type")})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"contract_dispute",children:i("dispute.contract_issue")}),s.jsx(dt,{value:"payment_dispute",children:i("dispute.payment_issue")}),s.jsx(dt,{value:"quality_dispute",children:i("dispute.quality_issue")}),s.jsx(dt,{value:"delivery_dispute",children:i("dispute.delivery_issue")}),s.jsx(dt,{value:"communication_dispute",children:i("dispute.communication_issue")})]})]})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"description",className:"text-sm font-medium mb-2 block",children:[i("dispute.description")," *"]}),s.jsx(Ms,{id:"description",value:l,onChange:y=>c(y.target.value),placeholder:"Please describe the issue in detail...",rows:4,className:"resize-none",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Provide a clear and detailed explanation of the issue you're experiencing."})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"evidence",className:"text-sm font-medium mb-2 block",children:i("dispute.evidence")}),s.jsx(Ms,{id:"evidence",value:d,onChange:y=>u(y.target.value),placeholder:"Any supporting evidence, links, or additional context...",rows:3,className:"resize-none"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Include any relevant screenshots, messages, or documentation that supports your case."})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-amber-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-amber-800 mb-1",children:"Important Notes:"}),s.jsxs("ul",{className:"text-amber-700 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Disputes will be reviewed by our support team within 24-48 hours"}),s.jsx("li",{children:"Provide accurate and honest information"}),s.jsx("li",{children:"Both parties will be contacted during the review process"})]})]})]})}),s.jsxs(lj,{className:"gap-3",children:[s.jsx(ie,{type:"button",variant:"outline",onClick:p,disabled:f.isPending,children:"Cancel"}),s.jsx(ie,{type:"submit",disabled:f.isPending||!a||!l.trim(),className:"bg-red-600 hover:bg-red-700",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Dispute"})]})]})]})})}function D8(){var y,v,b,w,_,N,j,k,E,A,C,T,L,D;const{contractId:t}=Vc(),[,e]=sn(),{user:r}=tr(),{toast:n}=ar(),i=vr(),[a,o]=O.useState({isOpen:!1}),[l,c]=O.useState(!1),{data:d,isLoading:u}=pt({queryKey:["/api/client/contracts",t],enabled:!!t}),h=Ft({mutationFn:async H=>(console.log("Creating conversation with proposalId:",H),St("/api/messages/conversations",{method:"POST",body:JSON.stringify({proposalId:H})})),onSuccess:H=>{console.log("Conversation created successfully:",H),e(`/messages/${H.id}`),n({title:"Success!",description:"Conversation started successfully."})},onError:H=>{console.error("Conversation creation error:",H),n({variant:"destructive",title:"Unable to Start Conversation",description:(H==null?void 0:H.message)||"Please try again later."})}}),m=Ft({mutationFn:async H=>St(`/api/contracts/${H}/payment`,{method:"POST"}),onSuccess:H=>{H.authorization_url?window.location.href=H.authorization_url:n({variant:"destructive",title:"Payment Setup Failed",description:"Payment service is currently unavailable. Please contact support."})},onError:H=>{console.error("Payment initialization error:",H),n({variant:"destructive",title:"Payment Error",description:H.message||"Unable to initialize payment. Please try again or contact support."})}});Ft({mutationFn:async H=>St(`/api/contracts/${t}/payment/verify/${H}`),onSuccess:H=>{H.status==="success"?(n({title:"Payment Successful!",description:"Your contract has been funded and work can now begin."}),i.invalidateQueries({queryKey:["/api/client/contracts",t]})):n({variant:"destructive",title:"Payment Failed",description:"Payment was not successful. Please try again."})},onError:H=>{console.error("Payment verification error:",H),n({variant:"destructive",title:"Payment Verification Failed",description:"Unable to verify payment. Please contact support if money was deducted."})}}),O.useEffect(()=>{var H,X;location.pathname.includes("/fund-contract/")&&d&&d.escrowStatus==="pending"&&o({isOpen:!0,contractId:t,amount:parseFloat(d.amount),paymentUrl:"",reference:"",findTitle:((H=d==null?void 0:d.request)==null?void 0:H.title)||"Find Request",finderName:((X=d==null?void 0:d.finder)==null?void 0:X.name)||"Finder"})},[location.pathname,d,t]);const f=()=>{d!=null&&d.proposalId?(console.log("Starting conversation with proposal ID:",d.proposalId),h.mutate(d.proposalId)):(console.error("No proposal ID found in contract:",d),n({variant:"destructive",title:"Unable to Start Conversation",description:"Contract proposal information is missing."}))},g=()=>{t&&m.mutate(t)};if(!r||r.role!=="client")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx($r,{className:"w-10 h-10 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"This contract is only accessible by clients."}),s.jsx(ie,{onClick:()=>e("/login"),className:"bg-blue-600 hover:bg-blue-700",children:"Sign In"})]})});if(u)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:"contracts"}),s.jsx("main",{className:"max-w-6xl mx-auto px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:s.jsxs("div",{className:"animate-pulse space-y-6",children:[s.jsxs("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-6 sm:p-8",children:[s.jsx("div",{className:"h-8 bg-slate-200 rounded-lg w-1/3 mb-4"}),s.jsx("div",{className:"h-32 bg-slate-200 rounded-lg mb-6"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"}),s.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"}),s.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"})]})]}),s.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-6 sm:p-8",children:s.jsx("div",{className:"h-48 bg-slate-200 rounded-lg"})})]})})]});if(!d)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center bg-white/70 backdrop-blur-sm rounded-2xl shadow-xl p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(as,{className:"w-10 h-10 text-slate-400"})}),s.jsx("h3",{className:"text-2xl font-semibold text-slate-900 mb-2",children:"Contract Not Found"}),s.jsx("p",{className:"text-slate-600 mb-6",children:"The contract you're looking for doesn't exist or has been removed."}),s.jsxs(ie,{onClick:()=>e("/client/contracts"),className:"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Contracts"]})]})});const p=()=>d.isCompleted?100:d.hasSubmission?75:d.escrowStatus==="funded"?50:25,x=H=>{switch(H==null?void 0:H.toLowerCase()){case"completed":return"bg-green-100 text-green-800 border-green-200";case"active":case"funded":return"bg-blue-100 text-blue-800 border-blue-200";case"submitted":return"bg-amber-100 text-amber-800 border-amber-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:"contracts"}),s.jsxs("main",{className:"max-w-6xl mx-auto px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"text-center sm:text-left mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900 mb-2",children:"Contract Details"}),((y=d.request)==null?void 0:y.title)&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-sm font-medium text-slate-600 mb-1",children:"Find Title:"}),s.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-slate-800",children:d.request.title})]}),s.jsxs("p",{className:"text-sm sm:text-lg text-slate-600 mb-4",children:["Working with ",((v=d.finder)==null?void 0:v.name)||"Professional Finder"]})]}),s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl mb-6",children:s.jsxs(Se,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"Contract Progress"}),s.jsxs("p",{className:"text-sm text-slate-600",children:["Working with ",((b=d.finder)==null?void 0:b.name)||"Professional Finder"]})]}),s.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[p(),"% Complete"]})]}),s.jsx(SH,{value:p(),className:"h-2 mb-4"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex flex-col items-center p-2 rounded-lg bg-green-50",children:[s.jsx(br,{className:"w-4 h-4 text-green-600 mb-1"}),s.jsx("span",{className:"text-green-700 font-medium",children:"Contract"}),s.jsx("span",{className:"text-green-600",children:"Signed"})]}),s.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg ${d.escrowStatus==="funded"||d.escrowStatus==="held"?"bg-green-50":"bg-slate-50"}`,children:[s.jsx($r,{className:`w-4 h-4 mb-1 ${d.escrowStatus==="funded"||d.escrowStatus==="held"?"text-green-600":"text-slate-400"}`}),s.jsx("span",{className:`font-medium ${d.escrowStatus==="funded"||d.escrowStatus==="held"?"text-green-700":"text-slate-500"}`,children:"Payment"}),s.jsx("span",{className:d.escrowStatus==="funded"||d.escrowStatus==="held"?"text-green-600":"text-slate-400",children:d.escrowStatus==="funded"||d.escrowStatus==="held"?"Secured":"Pending"})]}),s.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg ${d.hasSubmission?"bg-green-50":"bg-slate-50"}`,children:[s.jsx(LT,{className:`w-4 h-4 mb-1 ${d.hasSubmission?"text-green-600":"text-slate-400"}`}),s.jsx("span",{className:`font-medium ${d.hasSubmission?"text-green-700":"text-slate-500"}`,children:"Work"}),s.jsx("span",{className:d.hasSubmission?"text-green-600":"text-slate-400",children:d.hasSubmission?"Submitted":"In Progress"})]}),s.jsxs("div",{className:`flex flex-col items-center p-2 rounded-lg ${d.isCompleted?"bg-green-50":"bg-slate-50"}`,children:[s.jsx(Sa,{className:`w-4 h-4 mb-1 ${d.isCompleted?"text-green-600":"text-slate-400"}`}),s.jsx("span",{className:`font-medium ${d.isCompleted?"text-green-700":"text-slate-500"}`,children:"Complete"}),s.jsx("span",{className:d.isCompleted?"text-green-600":"text-slate-400",children:d.isCompleted?"Finished":"Pending"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6 sm:space-y-8",children:[s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8",children:[s.jsx("div",{className:"flex items-start justify-between mb-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(Hn,{className:"w-12 h-12 sm:w-16 sm:h-16 border-2 border-blue-200",children:s.jsx(Wn,{className:"bg-blue-100 text-blue-700 font-semibold text-sm sm:text-lg",children:(((w=d.finder)==null?void 0:w.name)||"F").split(" ").map(H=>H[0]).join("").toUpperCase().slice(0,2)})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-slate-900 mb-1",children:((_=d.finder)==null?void 0:_.name)||((j=(N=d.finder)==null?void 0:N.email)==null?void 0:j.split("@")[0])||"Professional Finder"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsxs("div",{className:"flex items-center text-amber-500",children:[s.jsx(ui,{className:"w-4 h-4 fill-current"}),s.jsx("span",{className:"text-sm font-medium ml-1",children:(k=d.finder)!=null&&k.rating&&parseFloat(d.finder.rating)>0?parseFloat(d.finder.rating).toFixed(1):"No rating yet"})]}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("span",{className:"text-sm text-slate-600",children:"Verified Professional"})]}),((E=d.finder)==null?void 0:E.email)&&s.jsx("p",{className:"text-sm text-slate-500",children:d.finder.email})]})]})}),s.jsx(Rc,{className:"my-6"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h4",{className:"font-semibold text-slate-900 flex items-center",children:[s.jsx(im,{className:"w-4 h-4 mr-2 text-blue-600"}),"Project Details"]}),((A=d.request)==null?void 0:A.description)&&s.jsx("div",{className:"bg-slate-50/80 rounded-lg p-4",children:s.jsx("p",{className:"text-slate-700 leading-relaxed",children:d.request.description})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[((C=d.request)==null?void 0:C.category)&&s.jsxs("div",{children:[s.jsx(M8,{className:"text-slate-600",children:"Category"}),s.jsx("div",{className:"font-medium text-slate-900",children:d.request.category})]}),((T=d.request)==null?void 0:T.timeframe)&&s.jsxs("div",{children:[s.jsx(M8,{className:"text-slate-600",children:"Timeline"}),s.jsx("div",{className:"font-medium text-slate-900",children:d.request.timeframe})]})]})]}),s.jsx(Rc,{className:"my-6"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx(ie,{onClick:f,disabled:h.isPending,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:h.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Connecting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),"Message Finder"]})}),d.hasSubmission&&s.jsxs(ie,{onClick:()=>e(`/orders/review/${d.id}`),variant:"outline",className:"flex-1 border-green-200 text-green-700 hover:bg-green-50",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Review Work"]})]})]})}),d.hasSubmission&&d.orderSubmission?s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-900 flex items-center",children:[s.jsx(LT,{className:"w-5 h-5 mr-2 text-green-600"}),"Work Submission"]}),s.jsx(Ye,{className:x(d.orderSubmission.status),children:d.orderSubmission.status==="accepted"?" Accepted":d.orderSubmission.status==="submitted"?" Submitted":" "+d.orderSubmission.status})]}),s.jsx("div",{className:"bg-green-50/80 rounded-lg p-4 mb-6",children:s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(_n,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-green-900",children:["Submitted on ",new Date(d.orderSubmission.submittedAt).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),s.jsxs("p",{className:"text-sm text-green-700",children:[d.orderSubmission.attachmentPaths.length," attachment(s) included"]})]})]})})}),d.orderSubmission.submissionText&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Submission Message:"}),s.jsx("div",{className:"bg-slate-50/80 rounded-lg p-4",children:s.jsx("p",{className:"text-slate-700 leading-relaxed",children:d.orderSubmission.submissionText})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs(ie,{onClick:()=>e(`/orders/review/${d.id}`),className:"flex-1 bg-green-600 hover:bg-green-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Review Full Submission"]}),d.orderSubmission.attachmentPaths.length>0&&s.jsxs(ie,{variant:"outline",className:"flex-1 border-slate-200 hover:bg-slate-50",children:[s.jsx(B0,{className:"w-4 h-4 mr-2"}),"Download Files (",d.orderSubmission.attachmentPaths.length,")"]})]})]})}):s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx($se,{className:"w-8 h-8 text-amber-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Work In Progress"}),s.jsxs("p",{className:"text-slate-600 mb-6",children:[((L=d.finder)==null?void 0:L.name)||"The finder"," is currently working on your project. You'll be notified once they submit their completed work."]}),s.jsxs(ie,{onClick:()=>e(`/orders/review/${d.id}`),variant:"outline",className:"border-blue-200 text-blue-700 hover:bg-blue-50",children:[s.jsx(ms,{className:"w-4 h-4 mr-2"}),"Check Progress"]})]})})]}),s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-6 flex items-center",children:"Contract Summary"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50/80 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700",children:"Total Amount"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["",parseInt(d.amount||"0").toLocaleString()]})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Nn,{className:"w-6 h-6 text-green-600"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50/80 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-blue-700",children:"Escrow Status"}),s.jsx("p",{className:"font-semibold text-blue-800 capitalize",children:d.escrowStatus==="funded"||d.escrowStatus==="held"?" Secured":" Processing"})]}),s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx($r,{className:"w-6 h-6 text-blue-600"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50/80 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-700",children:"Started On"}),s.jsx("p",{className:"font-semibold text-slate-800",children:new Date(d.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center",children:s.jsx(_n,{className:"w-6 h-6 text-slate-600"})})]}),d.completedAt&&s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50/80 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700",children:"Completed On"}),s.jsx("p",{className:"font-semibold text-green-800",children:new Date(d.completedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(br,{className:"w-6 h-6 text-green-600"})})]})]})]})}),s.jsx(_e,{className:"bg-white/70 backdrop-blur-sm border-slate-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[d.escrowStatus==="pending"&&s.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-amber-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Payment Required"}),s.jsx("p",{className:"text-xs text-amber-700",children:"This contract is pending payment. Work cannot begin until escrow is funded."})]})]}),s.jsx(ie,{onClick:g,disabled:m.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white",children:m.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Setting up payment..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Fund Contract Escrow"]})})]}),s.jsxs(ie,{onClick:()=>e("/client/contracts"),variant:"outline",className:"w-full justify-start border-slate-200 hover:bg-slate-50",children:[s.jsx(as,{className:"w-4 h-4 mr-3"}),"View All Contracts"]}),s.jsxs(ie,{onClick:()=>e("/client/dashboard"),variant:"outline",className:"w-full justify-start border-slate-200 hover:bg-slate-50",children:[s.jsx(ai,{className:"w-4 h-4 mr-3"}),"Dashboard"]}),s.jsxs(ie,{onClick:()=>e("/client/proposals"),variant:"outline",className:"w-full justify-start border-slate-200 hover:bg-slate-50",children:[s.jsx(im,{className:"w-4 h-4 mr-3"}),"View Proposals"]}),s.jsxs(ie,{onClick:()=>c(!0),variant:"outline",className:"w-full justify-start border-red-200 text-red-700 hover:bg-red-50","data-testid":"button-dispute-contract",children:[s.jsx(Wr,{className:"w-4 h-4 mr-3"}),"Report Issue"]}),(r==null?void 0:r.role)==="admin"&&s.jsxs("div",{className:"pt-4 border-t border-slate-200 space-y-2",children:[s.jsx("p",{className:"text-xs font-semibold text-slate-600 uppercase tracking-wide mb-3",children:"Admin Controls"}),d.escrowStatus==="funded"&&!d.isCompleted&&s.jsxs(s.Fragment,{children:[s.jsx(E0e,{contractId:t}),s.jsx(T0e,{contractId:t})]}),d.isCompleted&&s.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-green-700",children:" Contract completed"})})]})]})]})}),s.jsx(_e,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200/60 shadow-xl",children:s.jsxs(Se,{className:"p-6 sm:p-8 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ia,{className:"w-6 h-6 text-blue-600"})}),s.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Need Help?"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Have questions about your contract or need assistance?"}),s.jsx(ie,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-700 hover:bg-blue-50",onClick:()=>e("/support"),children:"Contact Support"})]})})]})]})]}),s.jsx(P0e,{isOpen:a.isOpen,onClose:()=>o({isOpen:!1}),contractId:a.contractId||"",amount:a.amount||0,paymentUrl:a.paymentUrl||"",reference:a.reference||"",findTitle:a.findTitle||"",finderName:a.finderName||""}),s.jsx(kH,{isOpen:l,onClose:()=>c(!1),contractId:t||"",contractTitle:(D=d==null?void 0:d.request)==null?void 0:D.title})]})}function M8({className:t="",children:e}){return s.jsx("p",{className:`text-xs font-medium text-slate-500 mb-1 ${t}`,children:e})}function E0e({contractId:t}){const{toast:e}=ar(),r=vr(),n=Ft({mutationFn:async()=>St(`/api/admin/contracts/${t}/complete`,{method:"POST"}),onSuccess:()=>{e({title:"Contract Completed",description:"Contract has been marked as complete and funds released to finder."}),r.invalidateQueries({queryKey:["/api/client/contracts",t]})},onError:i=>{e({variant:"destructive",title:"Error",description:i.message||"Failed to complete contract"})}});return s.jsx(ie,{onClick:()=>{confirm("Are you sure you want to complete this contract and release funds to the finder?")&&n.mutate()},disabled:n.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white","data-testid":"button-admin-complete",children:n.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Completing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Complete Contract"]})})}function T0e({contractId:t}){const{toast:e}=ar(),r=vr(),n=Ft({mutationFn:async a=>St(`/api/admin/contracts/${t}/cancel`,{method:"POST",body:JSON.stringify({reason:a})}),onSuccess:()=>{e({title:"Contract Cancelled",description:"Contract has been cancelled and client refunded."}),r.invalidateQueries({queryKey:["/api/client/contracts",t]})},onError:a=>{e({variant:"destructive",title:"Error",description:a.message||"Failed to cancel contract"})}}),i=()=>{const a=prompt("Please provide a reason for cancelling this contract:");a&&a.trim()&&n.mutate(a.trim())};return s.jsx(ie,{onClick:i,disabled:n.isPending,variant:"outline",className:"w-full border-red-200 text-red-700 hover:bg-red-50","data-testid":"button-admin-cancel",children:n.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"animate-spin w-4 h-4 mr-2"}),"Cancelling..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fs,{className:"w-4 h-4 mr-2"}),"Cancel Contract"]})})}function P0e({isOpen:t,onClose:e,contractId:r,amount:n,paymentUrl:i,reference:a,findTitle:o,finderName:l}){const[c,d]=O.useState("loading"),[u,h]=O.useState("");return O.useEffect(()=>{t&&r&&!i?(d("loading"),h(""),St(`/api/contracts/${r}/payment`,{method:"POST"}).then(m=>{m.authorization_url?window.location.href=m.authorization_url:(d("error"),h("Payment service is currently unavailable. Please try again later."))}).catch(m=>{console.error("Payment initialization failed:",m),d("error"),h(m.message||"Payment service is currently unavailable. Please try again later or contact support.")})):i&&d("ready")},[t,r,i,e]),t?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Fund Contract"}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Contract Details:"}),s.jsx("p",{className:"font-medium",children:o}),s.jsxs("p",{className:"text-sm text-gray-600",children:["with ",l]}),s.jsxs("p",{className:"text-lg font-bold text-green-600 mt-2",children:["",n==null?void 0:n.toLocaleString()]})]}),c==="loading"&&s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Ps,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-blue-600"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Preparing payment..."})]}),c==="ready"&&i&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Click below to proceed with payment:"}),s.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(ie,{className:"w-full bg-green-600 hover:bg-green-700",children:[s.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Proceed to Payment"]})})]}),c==="error"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-sm font-medium text-red-800",children:"Payment Unavailable"})]}),s.jsx("p",{className:"text-sm text-red-700",children:u})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{onClick:()=>{d("loading"),h(""),St(`/api/contracts/${r}/payment`,{method:"POST"}).then(m=>{m.authorization_url?(window.open(m.authorization_url,"_blank","width=600,height=600"),e()):(d("error"),h("Payment service is currently unavailable. Please try again later."))}).catch(m=>{d("error"),h(m.message||"Payment service is currently unavailable. Please try again later or contact support.")})},className:"w-full bg-blue-600 hover:bg-blue-700",children:"Try Again"}),s.jsx(ie,{variant:"outline",onClick:e,className:"w-full",children:"Close"})]})]}),c!=="error"&&s.jsx(ie,{variant:"outline",onClick:e,className:"w-full mt-3",children:"Cancel"})]})}):null}function F0e(){const{user:t}=tr(),[,e]=sn(),[r,n]=O.useState("pending"),[i,a]=O.useState(null),o=new URLSearchParams(window.location.search),l=o.get("reference")||o.get("tx_ref"),c=o.get("type"),d=o.get("contractId");return o.get("status"),O.useEffect(()=>{const h=setTimeout(async()=>{var m;if(!l){console.error("No payment reference found"),n("failed");return}try{if(console.log("Client payment verification: Starting verification for reference:",l),console.log("Client payment verification: Payment type:",c),console.log("Client payment verification: Contract ID:",d),console.log("Client payment verification: Current URL:",window.location.href),c==="contract"&&d){console.log("Client payment verification: Verifying contract payment...");const f=await St(`/api/contracts/${d}/verify-payment/${l}`);console.log("Client payment verification: Contract payment result:",f),f.status==="success"?(a({type:"contract",contractId:d,amount:(m=f.contract)==null?void 0:m.amount,message:f.message||"Contract payment verified successfully"}),n("success")):(console.error("Contract payment verification failed:",f),n("failed"))}else{console.log("Verifying token payment...");const f=await St(`/api/client/tokens/flutterwave/verify/${l}`);console.log("Token payment verification result:",f),f.status==="success"?(a({type:"tokens",message:"Tokens added to your account successfully"}),n("success")):(console.error("Token payment verification failed:",f),n("failed"))}}catch(f){console.error("Payment verification failed:",f),console.error("Error details:",f.message),n("failed")}},3e3);return()=>clearTimeout(h)},[l,c,d]),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:"contracts"}),s.jsx("main",{className:"max-w-2xl mx-auto px-4 py-12",children:s.jsxs(_e,{className:"shadow-xl",children:[s.jsxs(Ze,{className:"text-center",children:[s.jsxs("div",{className:"flex justify-center mb-4",children:[r==="pending"&&s.jsx(Ps,{className:"w-16 h-16 text-blue-500 animate-spin"}),r==="success"&&s.jsx(br,{className:"w-16 h-16 text-green-500"}),r==="failed"&&s.jsx(fs,{className:"w-16 h-16 text-red-500"})]}),s.jsxs(Xe,{className:"text-2xl",children:[r==="pending"&&"Processing Payment...",r==="success"&&"Payment Successful!",r==="failed"&&"Payment Failed"]}),s.jsxs(Ka,{children:[r==="pending"&&"Please wait while we verify your payment",r==="success"&&"Your payment has been processed successfully",r==="failed"&&"We could not process your payment"]})]}),s.jsxs(Se,{className:"space-y-6",children:[r==="success"&&i&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nn,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:i.message})]}),i.type==="contract"&&i.amount&&s.jsxs("p",{className:"text-green-700 mt-2",children:["Amount: ",parseInt(i.amount).toLocaleString()]})]}),r==="failed"&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-red-800",children:["Payment verification failed. If money was deducted from your account, please contact support with reference: ",l]})}),s.jsxs("div",{className:"flex flex-col space-y-3",children:[r==="success"&&(i==null?void 0:i.type)==="contract"&&s.jsx(ie,{onClick:()=>e(`/client/contracts/${i.contractId}`),className:"bg-blue-600 hover:bg-blue-700",children:"View Contract"}),r==="success"&&(i==null?void 0:i.type)==="tokens"&&s.jsx(ie,{onClick:()=>e("/client/tokens"),className:"bg-blue-600 hover:bg-blue-700",children:"View Token Balance"}),s.jsx(ie,{variant:"outline",onClick:()=>e("/client/dashboard"),children:"Back to Dashboard"}),r==="failed"&&s.jsx(ie,{variant:"outline",onClick:()=>e("/support/contact"),children:"Contact Support"})]}),l&&s.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Reference: ",l]})]})]})})]})}function O0e(){const{user:t}=tr(),[,e]=sn(),[r,n]=O.useState(null),[i,a]=O.useState(null),o=new URLSearchParams(window.location.search),l=o.get("type"),c=o.get("contractId"),d=o.get("amount"),u=o.get("reference");return O.useEffect(()=>{l==="contract"?(n("contract"),a({contractId:c,amount:d,reference:u})):l==="tokens"&&(n("tokens"),a({reference:u}))},[l,c,d,u]),!t||t.role!=="client"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsx(_e,{className:"w-full max-w-md",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx(br,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view this page."}),s.jsx(ie,{onClick:()=>e("/login"),children:"Sign In"})]})})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:r==="contract"?"contracts":"tokens"}),s.jsx("main",{className:"max-w-2xl mx-auto px-4 py-12",children:s.jsxs(_e,{className:"shadow-xl border-0 bg-white",children:[s.jsxs(Ze,{className:"text-center pb-2",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(br,{className:"w-12 h-12 text-green-600"})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center animate-bounce",children:s.jsx(ui,{className:"w-4 h-4 text-yellow-700"})})]})}),s.jsx(Xe,{className:"text-3xl font-bold text-gray-900 mb-2",children:"Thank You!"}),s.jsx(Ka,{className:"text-lg text-gray-600",children:r==="contract"?"Your contract payment has been processed successfully":"Your token purchase has been completed successfully"})]}),s.jsxs(Se,{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:r==="contract"?s.jsx(am,{className:"w-8 h-8 text-green-600"}):s.jsx(Sv,{className:"w-8 h-8 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-green-800 text-lg mb-2",children:r==="contract"?"Contract Funded Successfully!":"Tokens Added to Your Account!"}),s.jsx("p",{className:"text-green-700",children:r==="contract"?"Your contract is now fully funded and work can begin. The finder has been notified and will start working on your request.":"Your new tokens have been added to your account and are ready to use for posting new job requests."}),(i==null?void 0:i.amount)&&s.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[s.jsx(Nn,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{className:"font-medium text-green-800",children:["Amount: ",parseInt(i.amount).toLocaleString()]})]})]})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"font-semibold text-blue-800 text-lg mb-3 flex items-center",children:[s.jsx(uh,{className:"w-5 h-5 mr-2"}),"What's Next?"]}),s.jsx("div",{className:"space-y-3 text-blue-700",children:r==="contract"?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:" The finder will be notified and can now start working on your request"}),s.jsx("p",{children:" You can track progress in your contracts dashboard"}),s.jsx("p",{children:" You'll receive updates as work progresses"}),s.jsx("p",{children:" Funds will be released to the finder upon completion"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{children:" Your tokens are now available in your account"}),s.jsx("p",{children:" Use them to post new job requests"}),s.jsx("p",{children:" Each job posting costs 1 token"}),s.jsx("p",{children:" View your token balance in your dashboard"})]})})]}),s.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[r==="contract"&&(i==null?void 0:i.contractId)&&s.jsx(ie,{onClick:()=>e(`/client/contracts/${i.contractId}`),className:"bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg","data-testid":"button-view-contract",children:"View Contract Details"}),r==="tokens"&&s.jsx(ie,{onClick:()=>e("/client/tokens"),className:"bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg","data-testid":"button-view-tokens",children:"View Token Balance"}),s.jsx(ie,{variant:"outline",onClick:()=>e("/client/dashboard"),className:"py-3 text-lg","data-testid":"button-dashboard",children:"Back to Dashboard"})]}),(i==null?void 0:i.reference)&&s.jsx("div",{className:"text-center pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Transaction Reference: ",s.jsx("span",{className:"font-mono",children:i.reference})]})}),s.jsx("div",{className:"text-center pt-2",children:s.jsx("p",{className:"text-gray-600 italic",children:"Thank you for choosing FinderMeister. We appreciate your business!"})})]})]})})]})}function L0e(){const{user:t}=tr(),[e,r]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[n,i]=O.useState({current:!1,new:!1,confirm:!1}),a=async c=>{if(c.preventDefault(),e.newPassword!==e.confirmPassword){alert("New passwords don't match");return}if(e.newPassword.length<6){alert("New password must be at least 6 characters");return}try{const d=localStorage.getItem("findermeister_token"),u=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({currentPassword:e.currentPassword,newPassword:e.newPassword})}),h=await u.json();u.ok?(alert("Password changed successfully!"),r({currentPassword:"",newPassword:"",confirmPassword:""})):alert(h.message||"Failed to change password")}catch(d){console.error("Password change error:",d),alert("Failed to change password. Please try again.")}},o=c=>{r(d=>({...d,[c.target.name]:c.target.value}))},l=c=>{i(d=>({...d,[c]:!d[c]}))};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{}),s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-6",children:[s.jsx(Re,{href:"/client/dashboard",children:s.jsxs(ie,{variant:"ghost",className:"mb-6",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Change Password"}),s.jsx("p",{className:"text-gray-600",children:"Update your account password for security"})]}),s.jsxs(_e,{className:"max-w-md mx-auto",children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Update Password"})}),s.jsx(Se,{children:s.jsxs("form",{onSubmit:a,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"currentPassword",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{id:"currentPassword",name:"currentPassword",type:n.current?"text":"password",value:e.currentPassword,onChange:o,placeholder:"Enter current password",required:!0}),s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>l("current"),children:n.current?s.jsx(Ld,{className:"w-4 h-4"}):s.jsx(ms,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"newPassword",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{id:"newPassword",name:"newPassword",type:n.new?"text":"password",value:e.newPassword,onChange:o,placeholder:"Enter new password",required:!0}),s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>l("new"),children:n.new?s.jsx(Ld,{className:"w-4 h-4"}):s.jsx(ms,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{id:"confirmPassword",name:"confirmPassword",type:n.confirm?"text":"password",value:e.confirmPassword,onChange:o,placeholder:"Confirm new password",required:!0}),s.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>l("confirm"),children:n.confirm?s.jsx(Ld,{className:"w-4 h-4"}):s.jsx(ms,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(Re,{href:"/client/dashboard",children:s.jsx(ie,{variant:"outline",children:"Cancel"})}),s.jsx(ie,{type:"submit",className:"bg-finder-red hover:bg-finder-red-dark text-white",disabled:!e.currentPassword||!e.newPassword||!e.confirmPassword,children:"Update Password"})]})]})})]})]})]})}function CH(){const{data:t,isLoading:e}=pt({queryKey:["/api/verification/status"]});if(e||!(t!=null&&t.isRequired))return null;const r=t.verification,i=(a=>{switch(a){case"verified":return{badge:s.jsxs(Ye,{className:"bg-green-100 text-green-800",children:[s.jsx(br,{className:"w-3 h-3 mr-1"}),"Verified"]}),title:"Identity Verified",description:"Your identity has been successfully verified. You have full access to all platform features.",color:"border-green-200 bg-green-50",icon:s.jsx(br,{className:"w-5 h-5 text-green-600"}),showAction:!1};case"pending":return{badge:s.jsxs(Ye,{className:"bg-yellow-100 text-yellow-800",children:[s.jsx(hr,{className:"w-3 h-3 mr-1"}),"Under Review"]}),title:"Verification Under Review",description:"Your documents are being reviewed by our team. This usually takes 24-48 hours.",color:"border-yellow-200 bg-yellow-50",icon:s.jsx(hr,{className:"w-5 h-5 text-yellow-600"}),showAction:!1};case"rejected":return{badge:s.jsxs(Ye,{className:"bg-red-100 text-red-800",children:[s.jsx(fs,{className:"w-3 h-3 mr-1"}),"Rejected"]}),title:"Verification Rejected",description:"Your verification was rejected. Please review the feedback and resubmit.",color:"border-red-200 bg-red-50",icon:s.jsx(fs,{className:"w-5 h-5 text-red-600"}),showAction:!0,actionText:"Resubmit Documents"};default:return{badge:s.jsx(Ye,{variant:"secondary",children:"Not Started"}),title:"Identity Verification Required",description:"You must verify your identity to access all platform features.",color:"border-blue-200 bg-blue-50",icon:s.jsx($r,{className:"w-5 h-5 text-blue-600"}),showAction:!0,actionText:"Start Verification"}}})(r==null?void 0:r.status);return s.jsx(_e,{className:`${i.color} border-l-4`,children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[i.icon,s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:i.title}),i.badge]}),s.jsx("p",{className:"text-sm text-gray-600",children:i.description}),(r==null?void 0:r.rejectionReason)&&s.jsxs(No,{className:"mt-3",children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsxs(jo,{children:[s.jsx("strong",{children:"Rejection Reason:"})," ",r.rejectionReason]})]})]})]}),i.showAction&&s.jsx(Re,{href:"/verification",children:s.jsxs(ie,{size:"sm",className:"ml-4",children:[s.jsx(Fc,{className:"w-4 h-4 mr-1"}),i.actionText]})})]})})})}function R0e(){const{user:t}=tr(),{t:e}=Wc(),{data:r=[],isLoading:n}=pt({queryKey:["/api/finder/finds"],enabled:!!t}),{data:i=[],isLoading:a}=pt({queryKey:["/api/finder/proposals"],enabled:!!t}),{data:o}=pt({queryKey:["/api/finder/profile"],enabled:!!t});return n||a?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{currentPage:"dashboard"}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:e("common.loading_dashboard","Loading dashboard...")})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{currentPage:"dashboard"}),s.jsxs("div",{className:"max-w-6xl mx-auto py-4 sm:py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:[e("navigation.welcome_back","Welcome back"),", ",(t==null?void 0:t.firstName)||"Finder","!"]}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:e("dashboard.overview_text","Find opportunities and grow your finder business.")})]}),s.jsx(CH,{}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[s.jsx(_e,{className:"border-green-200",children:s.jsxs(Se,{className:"p-4 sm:p-6 text-center",children:[s.jsx("div",{className:"bg-green-600 rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:s.jsx("span",{className:"text-white font-bold text-lg sm:text-xl",children:""})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1 sm:mb-2 text-sm sm:text-base",children:e("dashboard.available_balance","Available Balance")}),s.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:["",Number((o==null?void 0:o.availableBalance)||"0").toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:e("common.withdrawable","Ready for withdrawal")}),s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"(After platform fees)"})]})}),s.jsx(Re,{href:"/finder/browse-finds",children:s.jsx(_e,{className:"border-blue-200 hover:border-blue-400 transition-colors cursor-pointer",children:s.jsxs(Se,{className:"p-4 sm:p-6 text-center",children:[s.jsx("div",{className:"bg-blue-600 rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:s.jsx(hr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1 sm:mb-2 text-sm sm:text-base",children:e("dashboard.available_finds","Available Finds")}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:r.length}),s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:e("dashboard.open_now","Open now")})]})})}),s.jsx(_e,{className:"border-purple-200",children:s.jsxs(Se,{className:"p-4 sm:p-6 text-center",children:[s.jsx("div",{className:"bg-purple-600 rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:s.jsx(qse,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1 sm:mb-2 text-sm sm:text-base",children:e("dashboard.completed_finds","Completed Finds")}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:(o==null?void 0:o.completedJobs)||0}),s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:e("common.all_time","All time")})]})}),s.jsx(_e,{className:"border-orange-200",children:s.jsxs(Se,{className:"p-4 sm:p-6 text-center",children:[s.jsx("div",{className:"bg-orange-600 rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center mx-auto mb-3 sm:mb-4",children:s.jsx(aa,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-1 sm:mb-2 text-sm sm:text-base",children:e("dashboard.findertoken_balance","Findertoken Balance")}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:(o==null?void 0:o.findertokenBalance)||0}),s.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:e("common.available","Available")})]})})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(_e,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between",children:[s.jsx(Xe,{className:"text-xl text-gray-900",children:e("dashboard.new_finds","New Finds")}),s.jsx(Re,{href:"/finder/browse-finds",children:s.jsx(ie,{variant:"outline",size:"sm",children:e("common.view_all","View All")})})]}),s.jsx(Se,{className:"space-y-4",children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ds,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:e("dashboard.no_finds_available","No new finds available.")}),s.jsx("p",{className:"text-sm",children:e("dashboard.check_back_soon","Check back soon for new opportunities!")})]}):r.slice(0,3).map(l=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:l.title}),s.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-1 text-xs rounded-full font-medium",children:e("common.new","New")})]}),s.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:[l.description.substring(0,100),"..."]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-gray-600 text-sm",children:[e("common.budget","Budget"),": ",parseInt(l.budgetMin||"0").toLocaleString()," - ",parseInt(l.budgetMax||"0").toLocaleString()]}),s.jsx(Re,{href:`/finder/finds/${l.id}`,children:s.jsx(ie,{size:"sm",className:"bg-finder-red hover:bg-finder-red-dark",children:e("common.view","View")})})]})]},l.id))})]}),s.jsxs(_e,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between",children:[s.jsx(Xe,{className:"text-xl text-gray-900",children:e("dashboard.my_proposals","My Proposals")}),s.jsx(Re,{href:"/finder/proposals",children:s.jsx(ie,{variant:"outline",size:"sm",children:e("common.view_all","View All")})})]}),s.jsx(Se,{className:"space-y-4",children:i.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ds,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:e("dashboard.no_proposals","No proposals submitted yet.")}),s.jsx(Re,{href:"/finder/browse-finds",className:"text-finder-red hover:underline font-medium",children:e("dashboard.browse_for_finds","Browse finds to get started")})]}):i.slice(0,3).map(l=>{var c;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:[e("dashboard.proposal_id","Proposal #"),l.id.substring(0,8)]}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${l.status==="pending"?"bg-yellow-100 text-yellow-700":l.status==="accepted"?"bg-green-100 text-green-700":"bg-finder-red/20 text-finder-red-dark"}`,children:e(`common.status_${l.status}`,l.status)})]}),s.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:[(c=l.approach)==null?void 0:c.substring(0,100),"..."]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",parseInt(l.price).toLocaleString()]}),s.jsx(Re,{href:`/finder/proposals/${l.id}`,children:s.jsx(ie,{size:"sm",variant:"outline",children:e("common.view","View")})})]})]},l.id)})})]})]})]})]})}function B8(){const[t,e]=O.useState(""),[r,n]=O.useState("all"),[i,a]=O.useState("all"),{data:o=[],isLoading:l}=pt({queryKey:["/api/finder/finds"]}),c=o.filter(u=>{const h=u.title.toLowerCase().includes(t.toLowerCase())||u.description.toLowerCase().includes(t.toLowerCase()),m=r==="all"||u.category===r,f=i==="all"||i==="under-100"&&parseInt(u.budgetMax||"0")<100||i==="100-500"&&parseInt(u.budgetMax||"0")>=100&&parseInt(u.budgetMax||"0")<=500||i==="over-500"&&parseInt(u.budgetMax||"0")>500;return h&&m&&f}),d=u=>{const h=new Date(u),f=Math.abs(new Date().getTime()-h.getTime()),g=Math.ceil(f/(1e3*60*60*24));return g===1?"1 day ago":g<7?`${g} days ago`:g<14?"1 week ago":g<30?`${Math.floor(g/7)} weeks ago`:`${Math.floor(g/30)} months ago`};return l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading finds..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{currentPage:"browse"}),s.jsxs("div",{className:"max-w-6xl mx-auto py-4 sm:py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsxs(Re,{href:"/finder/dashboard",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Browse Requests"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Find opportunities that match your skills and interests."})]}),s.jsx(_e,{className:"mb-6 sm:mb-8",children:s.jsx(Se,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"space-y-4 sm:space-y-0 sm:grid sm:grid-cols-2 lg:grid-cols-4 sm:gap-4",children:[s.jsx("div",{className:"sm:col-span-2 lg:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-12 text-gray-400 w-4 h-4"}),s.jsx(at,{placeholder:"Search finds...",value:t,onChange:u=>e(u.target.value),className:"pl-10"})]})}),s.jsx("div",{children:s.jsxs(Br,{value:r,onValueChange:n,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Category"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"all",children:"All Categories"}),s.jsx(dt,{value:"product",children:"Product Search"}),s.jsx(dt,{value:"service",children:"Service Provider"}),s.jsx(dt,{value:"vendor",children:"Vendor/Supplier"}),s.jsx(dt,{value:"location",children:"Location/Venue"}),s.jsx(dt,{value:"information",children:"Information Research"}),s.jsx(dt,{value:"other",children:"Other"})]})]})}),s.jsx("div",{children:s.jsxs(Br,{value:i,onValueChange:a,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Budget Range"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"all",children:"Any Budget"}),s.jsx(dt,{value:"under-100",children:"Under 100"}),s.jsx(dt,{value:"100-500",children:"100 - 500"}),s.jsx(dt,{value:"over-500",children:"Over 500"})]})]})})]})})}),s.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[s.jsxs("p",{className:"text-gray-600",children:["Showing ",c.length," find",c.length!==1?"s":"",t&&` matching "${t}"`]}),s.jsx("span",{className:"text-sm font-medium text-finder-red",children:"Open Requests"})]}),c.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"bg-gray-50 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-6",children:s.jsx(Ds,{className:"w-12 h-12 text-gray-300"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No finds found"}),s.jsx("p",{className:"text-gray-500 text-lg max-w-md mx-auto",children:"Try adjusting your search criteria or check back later for new opportunities."})]}):s.jsx(_e,{className:"bg-white shadow-sm",children:s.jsxs(Se,{className:"p-0",children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-900",children:"Title"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-900",children:"Budget"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-900",children:"Posted"}),s.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-900",children:"Action"})]})}),s.jsx("tbody",{children:c.map((u,h)=>s.jsxs("tr",{className:`border-b hover:bg-gray-50 transition-colors ${h%2===0?"bg-white":"bg-gray-50/30"}`,children:[s.jsxs("td",{className:"py-4 px-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 hover:text-finder-red transition-colors cursor-pointer",children:u.title}),u.isBoosted&&s.jsxs(Ye,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 text-xs flex items-center gap-1",children:[s.jsx(fh,{className:"w-3 h-3"}),"Boosted"]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-1",children:u.description})]}),s.jsx("td",{className:"py-4 px-6",children:s.jsxs("span",{className:"font-semibold text-green-600",children:["",parseInt(u.budgetMin||"0").toLocaleString()," - ",parseInt(u.budgetMax||"0").toLocaleString()]})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx("span",{className:"text-gray-600",children:d(u.createdAt||"")})}),s.jsx("td",{className:"py-4 px-6",children:s.jsx(Re,{href:`/finder/finds/${u.id}`,children:s.jsx(ie,{size:"sm",className:"bg-finder-red hover:bg-finder-red-dark text-white",children:"View Details"})})})]},u.id))})]})}),s.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:c.map(u=>s.jsx("div",{className:"px-4 sm:px-6 py-4 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm sm:text-base truncate hover:text-finder-red transition-colors cursor-pointer",children:u.title}),u.isBoosted&&s.jsxs(Ye,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 text-xs flex items-center gap-1",children:[s.jsx(fh,{className:"w-3 h-3"}),"Boosted"]})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1 line-clamp-2",children:u.description})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Re,{href:`/finder/finds/${u.id}`,children:s.jsxs(ie,{size:"sm",className:"bg-finder-red hover:bg-finder-red-dark text-white px-2 sm:px-3",children:[s.jsx("span",{className:"hidden sm:inline",children:"View Details"}),s.jsx("span",{className:"sm:hidden text-xs",children:"View"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Budget: "}),s.jsxs("span",{className:"font-semibold text-green-600",children:["",parseInt(u.budgetMin||"0").toLocaleString()," - ",parseInt(u.budgetMax||"0").toLocaleString()]})]}),s.jsxs("div",{className:"text-gray-600",children:[s.jsx("span",{className:"text-gray-500 font-medium",children:"Posted: "}),d(u.createdAt||"")]})]})]})},u.id))})]})})]})]})}function U8(){const[t,e]=M0("/finder/finds/:id"),[r,n]=M0("/finder/requests/:id"),{user:i,logout:a}=tr(),{toast:o}=ar(),l=vr(),[c,d]=O.useState(!1),[u,h]=O.useState({approach:"",price:"",timeline:"",notes:""}),m=E=>E==null?"0":`${(typeof E=="string"?parseInt(E):E).toLocaleString()}`,f=(e==null?void 0:e.id)||(n==null?void 0:n.id),{data:g,isLoading:p,error:x}=pt({queryKey:["/api/finds",f],enabled:!!f&&!!i}),{data:y,isLoading:v}=pt({queryKey:["/api/verification/status"],enabled:!!i&&i.role==="finder"}),{data:b=[],isLoading:w}=pt({queryKey:["/api/finder/finds",f,"proposals"],enabled:!!f&&!!i&&!!g}),_=Ft({mutationFn:async()=>{if(!f)throw new Error("No find ID");return St("/api/proposals",{method:"POST",body:JSON.stringify({findId:f,approach:u.approach,price:u.price,timeline:u.timeline,notes:u.notes})})},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/finder/finds",f,"proposals"]}),d(!1),h({approach:"",price:"",timeline:"",notes:""}),o({title:"Success!",description:"Your proposal has been submitted."})},onError:E=>{o({variant:"destructive",title:"Error",description:E.message||"Failed to submit proposal"})}}),N=b.length>0?b[0]:null,j=(i==null?void 0:i.isVerified)||!1,k=(y==null?void 0:y.isRequired)||!1;return p||w||v?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})}):g?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"max-w-6xl mx-auto pt-4 sm:pt-6 px-4 sm:px-6",children:s.jsx(Re,{href:"/finder/browse-finds",children:s.jsxs(ie,{variant:"ghost",className:"mb-4 sm:mb-6",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Browse Finds"]})})}),s.jsx("div",{className:"max-w-6xl mx-auto pb-8 px-4 sm:px-6",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx(Xe,{className:"text-2xl text-gray-900 mb-2",children:g.title}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),g.timeframe||"Flexible timeline"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(HN,{className:"w-4 h-4 mr-1"}),"Location flexible"]})]})]}),s.jsx(Ye,{variant:g.status==="open"?"default":"secondary",children:g.status})]})}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:g.description})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Category"}),s.jsx(Ye,{variant:"outline",children:g.category})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Budget Range"}),s.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[m(g.budgetMin)," - ",m(g.budgetMax)]})]})]})]})})]}),s.jsxs(_e,{className:"mt-6",children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-xl text-gray-900",children:N?"Your Proposal":"Submit Proposal"})}),s.jsx(Se,{children:N?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ye,{variant:N.status==="accepted"?"default":N.status==="rejected"?"destructive":"secondary",children:N.status}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Submitted ",N.createdAt?new Date(N.createdAt).toLocaleDateString():"Unknown date"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Approach"}),s.jsx("p",{className:"text-gray-700",children:N.approach})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Price"}),s.jsxs("p",{className:"text-gray-700",children:["",parseInt(N.price||"0").toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Timeline"}),s.jsx("p",{className:"text-gray-700",children:N.timeline})]})]}),N.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-1",children:"Additional Notes"}),s.jsx("p",{className:"text-gray-700",children:N.notes})]})]}):g.status==="open"?s.jsx("div",{children:k&&!j?s.jsxs(No,{className:"border-yellow-200 bg-yellow-50",children:[s.jsx($r,{className:"h-4 w-4 text-yellow-600"}),s.jsx(jo,{className:"text-yellow-800",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"font-medium",children:"Account Verification Required"}),s.jsx("p",{className:"text-sm",children:"You must verify your account before you can submit proposals. This helps maintain trust and security on our platform."}),s.jsx(Re,{href:"/verification",children:s.jsxs(ie,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:[s.jsx($r,{className:"w-4 h-4 mr-2"}),"Verify Account"]})})]})})]}):c?s.jsxs("form",{onSubmit:E=>{E.preventDefault(),_.mutate()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"approach",children:"Approach *"}),s.jsx(Ms,{id:"approach",placeholder:"Describe your approach to this project...",value:u.approach,onChange:E=>h(A=>({...A,approach:E.target.value})),required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"price",children:"Price *"}),s.jsx(at,{id:"price",type:"number",placeholder:"Enter your price",value:u.price,onChange:E=>h(A=>({...A,price:E.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"timeline",children:"Timeline *"}),s.jsx(at,{id:"timeline",placeholder:"e.g. 2 weeks",value:u.timeline,onChange:E=>h(A=>({...A,timeline:E.target.value})),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"notes",children:"Additional Notes"}),s.jsx(Ms,{id:"notes",placeholder:"Any additional information...",value:u.notes,onChange:E=>h(A=>({...A,notes:E.target.value}))})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(ie,{type:"submit",disabled:_.isPending,children:_.isPending?"Submitting...":"Submit Proposal"}),s.jsx(ie,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"})]})]}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"This request is available for proposals. Submit your proposal to be considered."}),s.jsxs(ie,{onClick:()=>d(!0),children:[s.jsx(sw,{className:"w-4 h-4 mr-2"}),"Submit Proposal"]})]})}):s.jsx("div",{className:"text-center py-6",children:s.jsx("p",{className:"text-gray-600",children:"This request is no longer accepting proposals."})})})]})]}),s.jsx("div",{children:s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-lg",children:"Request Stats"})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Proposals:"}),s.jsx("span",{className:"font-semibold",children:b.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Findertoken Cost:"}),s.jsxs("span",{className:"font-semibold",children:[g.findertokenCost," findertoken",g.findertokenCost!==1?"s":""]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Posted:"}),s.jsx("span",{className:"font-semibold",children:g.createdAt?new Date(g.createdAt).toLocaleDateString():"Unknown date"})]})]})]})})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Find Not Found"}),s.jsxs("p",{className:"text-gray-600 mb-4",children:["Find ID: ",f]}),!i&&s.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view this find"}),x&&s.jsxs("p",{className:"text-gray-600 mb-4",children:["Error: ",x==null?void 0:x.message]}),s.jsx(Re,{href:"/finder/dashboard",children:s.jsx(ie,{children:"Return to Dashboard"})})]})})}function I0e(){const{user:t,logout:e}=tr(),{data:r=[],isLoading:n}=pt({queryKey:["/api/finder/proposals"],enabled:!!t}),i=()=>{e(),window.location.href="/"},a=l=>{switch(l){case"accepted":return s.jsx(br,{className:"w-4 h-4 text-green-600"});case"rejected":return s.jsx(fs,{className:"w-4 h-4 text-finder-red"});default:return s.jsx(hr,{className:"w-4 h-4 text-yellow-600"})}},o=l=>{switch(l){case"accepted":return s.jsx(Ye,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Accepted"});case"rejected":return s.jsx(Ye,{variant:"destructive",children:"Rejected"});default:return s.jsx(Ye,{variant:"secondary",children:"Pending"})}};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading your proposals..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-finder-red text-white px-6 py-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs(Re,{href:"/",className:"flex items-center space-x-2",children:[s.jsx(am,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xl font-bold",children:"FinderMeister"})]}),s.jsxs("nav",{className:"flex items-center space-x-6",children:[s.jsx(Re,{href:"/finder/dashboard",className:"hover:text-finder-red/70",children:"Dashboard"}),s.jsx(Re,{href:"/finder/browse-requests",className:"hover:text-finder-red/70",children:"Browse Requests"}),s.jsx("span",{className:"bg-white text-finder-red px-3 py-1 rounded font-medium",children:"My Proposals"}),s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"flex items-center space-x-1 hover:text-finder-red/70",children:s.jsxs("span",{children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})}),s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 invisible group-hover:visible",children:s.jsx("button",{onClick:i,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Sign out"})})]})]})]})}),s.jsx("div",{className:"max-w-6xl mx-auto pt-6 px-6",children:s.jsx(Re,{href:"/finder/dashboard",children:s.jsxs(ie,{variant:"ghost",className:"mb-6",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})})}),s.jsxs("div",{className:"max-w-6xl mx-auto pb-8 px-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Proposals"}),s.jsx("p",{className:"text-gray-600",children:"Track the status of all your submitted proposals."})]}),s.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[s.jsx(_e,{className:"border-blue-200",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"bg-blue-600 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:s.jsx(hr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Total Proposals"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.length}),s.jsx("p",{className:"text-gray-600 text-sm",children:"All time"})]})}),s.jsx(_e,{className:"border-yellow-200",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"bg-yellow-600 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:s.jsx(hr,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Pending"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:r.filter(l=>l.status==="pending").length}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Awaiting response"})]})}),s.jsx(_e,{className:"border-green-200",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"bg-green-600 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:s.jsx(br,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Accepted"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.filter(l=>l.status==="accepted").length}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Ready to start"})]})}),s.jsx(_e,{className:"border-finder-red/30",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"bg-finder-red rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:s.jsx(fs,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Rejected"}),s.jsx("p",{className:"text-2xl font-bold text-finder-red",children:r.filter(l=>l.status==="rejected").length}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Not selected"})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-xl text-gray-900",children:"All Proposals"})}),s.jsx(Se,{children:r.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(hr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No proposals yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start by browsing available finds and submitting your first proposal."}),s.jsx(Re,{href:"/finder/browse-finds",children:s.jsx(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white",children:"Browse Finds"})})]}):s.jsx("div",{className:"space-y-4",children:r.map(l=>s.jsx("div",{className:"border rounded-lg p-6 hover:shadow-sm transition-shadow",children:s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a(l.status||"pending"),s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Request #",l.requestId.slice(-8)]}),o(l.status||"pending")]}),s.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed",children:l.approach}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Dl,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:["Proposed: ",l.price]})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:["Timeline: ",l.timeline]})]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),s.jsxs("span",{children:["Submitted: ",l.createdAt?new Date(l.createdAt).toLocaleDateString():"Unknown"]})]})]}),l.notes&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Additional Notes:"})," ",l.notes]})})]}),s.jsxs("div",{className:"ml-6 flex gap-2",children:[s.jsx(Re,{href:`/finder/proposals/${l.id}`,children:s.jsx(ie,{size:"sm",className:"bg-finder-red hover:bg-finder-red-dark text-white",children:"View Details"})}),s.jsx(Re,{href:`/finder/requests/${l.requestId}`,children:s.jsx(ie,{variant:"outline",size:"sm",children:"View Request"})})]})]})},l.id))})})]})]})]})}function D0e(){const[t,e]=M0("/finder/proposals/:id"),{user:r,logout:n}=tr(),i=e==null?void 0:e.id,{data:a,isLoading:o}=pt({queryKey:["/api/proposals",i],enabled:!!i&&!!r}),{data:l,isLoading:c}=pt({queryKey:["/api/requests",a==null?void 0:a.requestId],enabled:!!(a!=null&&a.requestId)&&!!r}),d=()=>{n(),window.location.href="/"},u=m=>{switch(m){case"accepted":return s.jsx(br,{className:"w-5 h-5 text-green-600"});case"rejected":return s.jsx(fs,{className:"w-5 h-5 text-finder-red"});default:return s.jsx(hr,{className:"w-5 h-5 text-yellow-600"})}},h=m=>{switch(m){case"accepted":return s.jsx(Ye,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Accepted"});case"rejected":return s.jsx(Ye,{variant:"destructive",children:"Rejected"});default:return s.jsx(Ye,{variant:"secondary",children:"Pending Review"})}};return o||c?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading proposal details..."})]})}):a?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-finder-red text-white px-6 py-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between",children:[s.jsxs(Re,{href:"/",className:"flex items-center space-x-2",children:[s.jsx(am,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xl font-bold",children:"FinderMeister"})]}),s.jsxs("nav",{className:"flex items-center space-x-6",children:[s.jsx(Re,{href:"/finder/dashboard",className:"hover:text-finder-red/70",children:"Dashboard"}),s.jsx(Re,{href:"/finder/browse-requests",className:"hover:text-finder-red/70",children:"Browse Requests"}),s.jsx(Re,{href:"/finder/proposals",className:"hover:text-finder-red/70",children:"My Proposals"}),s.jsxs("div",{className:"relative group",children:[s.jsx("button",{className:"flex items-center space-x-1 hover:text-finder-red/70",children:s.jsxs("span",{children:[r==null?void 0:r.firstName," ",r==null?void 0:r.lastName]})}),s.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 invisible group-hover:visible",children:s.jsx("button",{onClick:d,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:"Sign out"})})]})]})]})}),s.jsx("div",{className:"max-w-6xl mx-auto pt-6 px-6",children:s.jsx(Re,{href:"/finder/proposals",children:s.jsxs(ie,{variant:"ghost",className:"mb-6",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to My Proposals"]})})}),s.jsx("div",{className:"max-w-6xl mx-auto pb-8 px-6",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u(a.status||"pending"),s.jsx(Xe,{className:"text-2xl text-gray-900",children:"Your Proposal"}),h(a.status||"pending")]}),s.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"Submitted: ",a.createdAt?new Date(a.createdAt).toLocaleDateString():"Unknown"]})})]})})}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Your Approach"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.approach})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Proposed Price"}),s.jsxs("div",{className:"flex items-center text-lg font-semibold text-green-600",children:[s.jsx(Dl,{className:"w-5 h-5 mr-1"}),"",a.price]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Timeline"}),s.jsxs("div",{className:"flex items-center text-lg font-semibold text-blue-600",children:[s.jsx(hr,{className:"w-5 h-5 mr-1"}),a.timeline]})]})]}),a.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Additional Notes"}),s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:s.jsx("p",{className:"text-gray-700",children:a.notes})})]})]})})]}),l&&s.jsxs(_e,{className:"mt-6",children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-xl text-gray-900",children:"Request Details"})}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:l.title}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:l.description})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Category"}),s.jsx(Ye,{variant:"outline",children:l.category})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Client Budget"}),s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(Dl,{className:"w-4 h-4 mr-1"}),"",l.budgetMin," - ",l.budgetMax]})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(Re,{href:`/finder/requests/${l.id}`,children:s.jsx(ie,{variant:"outline",className:"w-full",children:"View Full Request Details"})})})]})})]})]}),s.jsxs("div",{children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-lg",children:"Proposal Status"})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[u(a.status||"pending"),s.jsx("span",{className:"font-semibold capitalize",children:a.status||"pending"})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Submitted:"}),s.jsx("span",{className:"font-semibold",children:a.createdAt?new Date(a.createdAt).toLocaleDateString():"Unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Proposal ID:"}),s.jsx("span",{className:"font-mono text-xs text-gray-500",children:a.id.slice(-8)})]})]})]}),a.status==="accepted"&&s.jsxs(_e,{className:"mt-6",children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-lg text-green-700",children:" Congratulations!"})}),s.jsxs(Se,{children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"Your proposal has been accepted! The client is ready to work with you on this project."}),s.jsxs(ie,{className:"w-full bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(ql,{className:"w-4 h-4 mr-2"}),"Contact Client"]})]})]}),a.status==="rejected"&&s.jsxs(_e,{className:"mt-6 border-finder-red/30",children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-lg text-finder-red-dark",children:"Proposal Not Selected"})}),s.jsxs(Se,{children:[s.jsx("p",{className:"text-gray-700 mb-4",children:"Unfortunately, your proposal was not selected for this project. Don't get discouraged - keep submitting great proposals!"}),s.jsx(Re,{href:"/finder/browse-requests",children:s.jsx(ie,{variant:"outline",className:"w-full",children:"Browse More Requests"})})]})]}),a.status==="pending"&&s.jsxs(_e,{className:"mt-6 border-yellow-200",children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-lg text-yellow-700",children:"Under Review"})}),s.jsx(Se,{children:s.jsx("p",{className:"text-gray-700",children:"Your proposal is currently being reviewed by the client. You'll be notified once they make a decision."})})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Proposal Not Found"}),s.jsx(Re,{href:"/finder/proposals",children:s.jsx(ie,{children:"Back to My Proposals"})})]})})}function M0e(){const t=Vc(),{user:e}=tr(),{toast:r}=ar(),n=vr(),i=t.id,[a,o]=O.useState({isOpen:!1}),{data:l,isLoading:c}=pt({queryKey:["/api/proposals",i],enabled:!!i&&!!e}),d=Ft({mutationFn:async h=>St(`/api/proposals/${h}/accept`,{method:"POST"}),onSuccess:h=>{n.invalidateQueries({queryKey:["/api/proposals",i]}),n.invalidateQueries({queryKey:["/api/client/requests"]}),n.invalidateQueries({queryKey:["/api/client/proposals"]}),h.success&&h.payment&&h.payment.required?(o({isOpen:!0,contractId:h.contract.id,amount:h.payment.amount,paymentUrl:h.payment.paymentUrl,reference:h.payment.reference,findTitle:h.contract.findTitle||(l==null?void 0:l.request.title)||"Find Request",finderName:h.contract.finderName||(l?`${l.finder.user.firstName} ${l.finder.user.lastName}`:"Finder")}),r({title:"Contract Created!",description:"Please complete payment to fund the escrow and start work."})):(r({title:"Success",description:"Proposal accepted and contract created!"}),window.location.href="/client/contracts")},onError:h=>{r({variant:"destructive",title:"Error",description:h.message||"Failed to accept proposal and create contract. Please try again."})}}),u=h=>{d.mutate(h)};return c?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{}),s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Re,{href:"/client/proposals",children:s.jsxs(ie,{variant:"ghost",size:"sm",className:"mr-4",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Proposals"]})}),s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"})})]}),s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})})]})})]}):!l&&!c?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{}),s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Proposal Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The proposal you're looking for doesn't exist or you don't have permission to view it."}),s.jsx(Re,{href:"/client/proposals",children:s.jsx(ie,{children:"Back to Proposals"})})]})})]}):l?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{}),s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Re,{href:"/client/proposals",children:s.jsxs(ie,{variant:"ghost",size:"sm",className:"mr-4",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Proposals"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Proposal Details"}),s.jsxs("p",{className:"text-gray-600",children:['for "',l.request.title,'"']})]})]}),s.jsxs(_e,{className:"mb-6",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Proposal from"," ",s.jsxs(Re,{href:`/finder-profile/${l.finder.id}`,className:"text-finder-red hover:text-red-800 hover:underline cursor-pointer",children:[l.finder.user.firstName," ",l.finder.user.lastName]})]}),s.jsx(Ye,{variant:l.status==="accepted"?"default":"secondary",children:l.status==="pending"?"Active":l.status})]})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-finder-red/20 rounded-full flex items-center justify-center",children:s.jsx(qr,{className:"w-6 h-6 text-finder-red"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:s.jsxs(Re,{href:`/finder-profile/${l.finder.id}`,className:"text-finder-red hover:text-red-800 hover:underline cursor-pointer",children:[l.finder.user.firstName," ",l.finder.user.lastName]})}),s.jsxs("p",{className:"text-sm text-gray-600",children:[l.finder.completedJobs||0," jobs completed  ",l.finder.rating||5," rating"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",parseInt(l.price).toLocaleString()]}),s.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),l.timeline]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Approach & Methodology"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:l.approach})]}),l.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Additional Notes"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:l.notes})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Request Context"}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h5",{className:"font-medium",children:l.request.title}),s.jsx(Ye,{variant:"outline",children:l.request.category})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:l.request.description}),s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Sc,{className:"w-4 h-4 mr-1"}),"Budget: $",l.request.budgetMin," - $",l.request.budgetMax]})]})]}),s.jsxs("div",{className:"flex space-x-4 pt-4 border-t",children:[s.jsx("div",{className:"flex-1",children:s.jsx(yH,{proposalId:l.id,finderName:`${l.finder.user.firstName} ${l.finder.user.lastName}`})}),l.status==="pending"&&s.jsx(ie,{onClick:()=>u(l.id),className:"bg-finder-red hover:bg-finder-red-dark text-white flex-1",disabled:d.isPending,children:d.isPending?"Accepting...":"Accept Proposal"})]})]})]})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{}),s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(Re,{href:"/client/proposals",children:s.jsxs(ie,{variant:"ghost",size:"sm",className:"mr-4",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Proposals"]})}),s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"})})]}),s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})})})]})})]})}function B0e(){const{user:t}=tr(),{data:e=[],isLoading:r}=pt({queryKey:["/api/admin/users"],enabled:!!t&&t.role==="admin"}),{data:n=[],isLoading:i}=pt({queryKey:["/api/admin/finds"],enabled:!!t&&t.role==="admin"}),{data:a=[],isLoading:o}=pt({queryKey:["/api/admin/proposals"],enabled:!!t&&t.role==="admin"}),l=r||i||o,c=new Date,d=new Date(c.getFullYear(),c.getMonth(),1),u=new Date(c.getFullYear(),c.getMonth()-1,1),h=new Date(c.getFullYear(),c.getMonth(),0),m=e.filter(A=>new Date(A.createdAt||0)>=d),f=e.filter(A=>{const C=new Date(A.createdAt||0);return C>=u&&C<=h}),g=n.filter(A=>new Date(A.createdAt||0)>=d),p=n.filter(A=>{const C=new Date(A.createdAt||0);return C>=u&&C<=h}),x=a.filter(A=>new Date(A.createdAt||0)>=d),y=a.filter(A=>{const C=new Date(A.createdAt||0);return C>=u&&C<=h}),v=(A,C)=>C===0?A>0?100:0:(A-C)/C*100,b=A=>A?`${parseFloat(A.toString()).toLocaleString()}`:"0",w={totalUsers:e.length,totalFinds:n.length,totalProposals:a.length,activeFinds:n.filter(A=>A.status==="open"||A.status==="in_progress").length,completedFinds:n.filter(A=>A.status==="completed").length,totalRevenue:b(n.filter(A=>A.status==="completed").reduce((A,C)=>A+parseFloat(C.budgetMax||C.budgetMin||"0"),0)+a.filter(A=>A.status==="accepted").reduce((A,C)=>A+parseFloat(C.amount||"0"),0)),userGrowth:v(m.length,f.length),findGrowth:v(g.length,p.length),proposalGrowth:v(x.length,y.length),revenueGrowth:v(g.filter(A=>A.status==="completed").reduce((A,C)=>A+parseFloat(C.budgetMax||C.budgetMin||"0"),0),p.filter(A=>A.status==="completed").reduce((A,C)=>A+parseFloat(C.budgetMax||C.budgetMin||"0"),0))},_=n.sort((A,C)=>new Date(C.createdAt||0).getTime()-new Date(A.createdAt||0).getTime()).slice(0,5),N=e.sort((A,C)=>new Date(C.createdAt||0).getTime()-new Date(A.createdAt||0).getTime()).slice(0,5),j=A=>{switch(A){case"open":return"bg-green-100 text-green-800 border-green-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-purple-100 text-purple-800 border-purple-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},k=A=>{switch(A){case"open":return s.jsx(on,{className:"w-3 h-3"});case"in_progress":return s.jsx(Cx,{className:"w-3 h-3"});case"completed":return s.jsx(on,{className:"w-3 h-3"});case"cancelled":return s.jsx(fs,{className:"w-3 h-3"});default:return s.jsx(hr,{className:"w-3 h-3"})}},E=A=>{switch(A){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"finder":return"bg-blue-100 text-blue-800 border-blue-200";case"client":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return l?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"dashboard"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading dashboard..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:[s.jsx(Sr,{currentPage:"dashboard"}),s.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative p-3 sm:p-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl",children:s.jsx(vU,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm sm:text-base lg:text-lg font-medium",children:["Welcome back, ",t==null?void 0:t.firstName,"! Here's your platform overview"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsx(_e,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsxs(Se,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Total Users"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:w.totalUsers})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-blue-500/10 text-blue-600 rounded-xl",children:s.jsx(dn,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center gap-2",children:[w.userGrowth>=0?s.jsx(ai,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}):s.jsx(ai,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500 rotate-180"}),s.jsxs("span",{className:`text-xs sm:text-sm font-medium ${w.userGrowth>=0?"text-green-600":"text-red-600"}`,children:[w.userGrowth>=0?"+":"",w.userGrowth.toFixed(1),"%"]}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"vs last month"})]})]})}),s.jsx(_e,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsxs(Se,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Total Finds"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:w.totalFinds})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-green-500/10 text-green-600 rounded-xl",children:s.jsx(as,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center gap-2",children:[w.findGrowth>=0?s.jsx(ai,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}):s.jsx(ai,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500 rotate-180"}),s.jsxs("span",{className:`text-xs sm:text-sm font-medium ${w.findGrowth>=0?"text-green-600":"text-red-600"}`,children:[w.findGrowth>=0?"+":"",w.findGrowth.toFixed(1),"%"]}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"vs last month"})]})]})}),s.jsx(_e,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsxs(Se,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Proposals"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:w.totalProposals})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-purple-500/10 text-purple-600 rounded-xl",children:s.jsx(ui,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center gap-2",children:[w.proposalGrowth>=0?s.jsx(ai,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}):s.jsx(ai,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500 rotate-180"}),s.jsxs("span",{className:`text-xs sm:text-sm font-medium ${w.proposalGrowth>=0?"text-green-600":"text-red-600"}`,children:[w.proposalGrowth>=0?"+":"",w.proposalGrowth.toFixed(1),"%"]}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"vs last month"})]})]})}),s.jsx(_e,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300",children:s.jsxs(Se,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Revenue"}),s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:w.totalRevenue})]}),s.jsx("div",{className:"p-2 sm:p-3 bg-teal-500/10 text-teal-600 rounded-xl",children:s.jsx(Dl,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center gap-2",children:[w.revenueGrowth>=0?s.jsx(ai,{className:"w-3 h-3 sm:w-4 sm:h-4 text-green-500"}):s.jsx(ai,{className:"w-3 h-3 sm:w-4 sm:h-4 text-red-500 rotate-180"}),s.jsxs("span",{className:`text-xs sm:text-sm font-medium ${w.revenueGrowth>=0?"text-green-600":"text-red-600"}`,children:[w.revenueGrowth>=0?"+":"",w.revenueGrowth.toFixed(1),"%"]}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:"vs last month"})]})]})})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8 space-y-6 sm:space-y-8",children:[s.jsxs(_e,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-0 shadow-lg",children:[s.jsx(Ze,{className:"pb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Xe,{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Recent Find Requests"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm mt-1",children:"Latest service requests posted on the platform"})]}),s.jsx(Re,{href:"/admin/requests",children:s.jsxs(ie,{variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 text-xs sm:text-sm",children:["View All",s.jsx(uh,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})})]})}),s.jsxs(Se,{children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200/50 dark:border-gray-700/50",children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Request Details"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Client & Category"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Budget & Date"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200/50 dark:divide-gray-700/50",children:_.map(A=>{var C,T,L,D,H;return s.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-700/30 transition-colors duration-150",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm",children:A.title.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:A.title}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-1",children:A.description})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(qr,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:A.client?`${A.client.firstName} ${A.client.lastName}`:"Client ID: "+A.clientId.substring(0,8)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(Hd,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:A.category||"Uncategorized"})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx(Dl,{className:"w-3 h-3"}),b(A.budgetMin||A.budgetMax||"0")]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx(_n,{className:"w-3 h-3"}),A.createdAt?new Date(A.createdAt).toLocaleDateString():"N/A"]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx(Ye,{className:`px-3 py-1 rounded-full text-xs font-medium border ${j(A.status||"")}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[k(A.status||""),(((L=(T=(C=A.status)==null?void 0:C.replace("_"," "))==null?void 0:T.charAt(0))==null?void 0:L.toUpperCase())||"")+(((H=(D=A.status)==null?void 0:D.replace("_"," "))==null?void 0:H.slice(1))||"")||"Unknown"]})})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx(ie,{variant:"outline",size:"sm",className:"p-2 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 rounded-lg",children:s.jsx(ms,{className:"w-3 h-3"})})})]},A.id)})})]})}),s.jsx("div",{className:"lg:hidden space-y-3",children:_.map(A=>{var C,T,L,D,H;return s.jsxs("div",{className:"bg-gray-50/50 dark:bg-gray-700/50 rounded-lg p-4 border border-gray-200/50 dark:border-gray-600/50",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm flex-shrink-0",children:A.title.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:A.title}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:A.description})]}),s.jsx(Ye,{className:`px-2 py-1 rounded-full text-xs font-medium border ${j(A.status||"")}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[k(A.status||""),s.jsx("span",{className:"hidden sm:inline",children:(((L=(T=(C=A.status)==null?void 0:C.replace("_"," "))==null?void 0:T.charAt(0))==null?void 0:L.toUpperCase())||"")+(((H=(D=A.status)==null?void 0:D.replace("_"," "))==null?void 0:H.slice(1))||"")||"Unknown"})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(qr,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:A.client?`${A.client.firstName} ${A.client.lastName}`:"Client ID: "+A.clientId.substring(0,8)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[s.jsx(Hd,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:A.category||"Uncategorized"})]})]}),s.jsxs("div",{className:"space-y-1 text-right",children:[s.jsxs("div",{className:"flex items-center justify-end gap-2 font-medium text-gray-900 dark:text-white",children:[s.jsx(Dl,{className:"w-3 h-3"}),b(A.budgetMin||A.budgetMax||"0")]}),s.jsxs("div",{className:"flex items-center justify-end gap-2 text-gray-500 dark:text-gray-400",children:[s.jsx(_n,{className:"w-3 h-3"}),A.createdAt?new Date(A.createdAt).toLocaleDateString():"N/A"]})]})]}),s.jsx("div",{className:"mt-3 flex justify-end",children:s.jsx(ie,{variant:"outline",size:"sm",className:"p-2 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 rounded-lg",children:s.jsx(ms,{className:"w-3 h-3"})})})]},A.id)})})]})]}),s.jsxs(_e,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-0 shadow-lg",children:[s.jsx(Ze,{className:"pb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(Xe,{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white",children:"Recent Users"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-xs sm:text-sm mt-1",children:"Latest users who joined the platform"})]}),s.jsx(Re,{href:"/admin/users",children:s.jsxs(ie,{variant:"outline",size:"sm",className:"flex items-center gap-2 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 text-xs sm:text-sm",children:["View All",s.jsx(uh,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})})]})}),s.jsxs(Se,{children:[s.jsx("div",{className:"hidden lg:block overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200/50 dark:border-gray-700/50",children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Role & Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Join Date"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200/50 dark:divide-gray-700/50",children:N.map(A=>{var C,T;return s.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-700/30 transition-colors duration-150",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm",children:[((C=A.firstName)==null?void 0:C.charAt(0))||"",((T=A.lastName)==null?void 0:T.charAt(0))||""]}),s.jsx("div",{children:s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[A.firstName," ",A.lastName]})})]})}),s.jsxs("td",{className:"px-4 py-4",children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:A.email}),A.phone&&s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:A.phone})]}),s.jsxs("td",{className:"px-4 py-4",children:[s.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.jsx(Ye,{className:`px-2 py-1 rounded-full text-xs font-medium border ${E(A.role)}`,children:A.role.charAt(0).toUpperCase()+A.role.slice(1)})}),s.jsxs("div",{className:"flex items-center gap-1",children:[A.isVerified&&s.jsx(Ye,{className:"bg-green-100 text-green-800 border-green-200 px-2 py-1 rounded-full text-xs",children:"Verified"}),A.isBanned&&s.jsx(Ye,{className:"bg-red-100 text-red-800 border-red-200 px-2 py-1 rounded-full text-xs",children:"Banned"})]})]}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:A.createdAt?new Date(A.createdAt).toLocaleDateString():"N/A"})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx(ie,{variant:"outline",size:"sm",className:"p-2 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 rounded-lg",children:s.jsx(ms,{className:"w-3 h-3"})})})]},A.id)})})]})}),s.jsx("div",{className:"lg:hidden space-y-3",children:N.map(A=>{var C,T;return s.jsxs("div",{className:"bg-gray-50/50 dark:bg-gray-700/50 rounded-lg p-4 border border-gray-200/50 dark:border-gray-600/50",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-sm flex-shrink-0",children:[((C=A.firstName)==null?void 0:C.charAt(0))||"",((T=A.lastName)==null?void 0:T.charAt(0))||""]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[A.firstName," ",A.lastName]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:A.email}),A.phone&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:A.phone})]})]}),s.jsx(ie,{variant:"outline",size:"sm",className:"p-2 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 rounded-lg flex-shrink-0",children:s.jsx(ms,{className:"w-3 h-3"})})]}),s.jsxs("div",{className:"flex items-center justify-between gap-4 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:`px-2 py-1 rounded-full text-xs font-medium border ${E(A.role)}`,children:A.role.charAt(0).toUpperCase()+A.role.slice(1)}),A.isVerified&&s.jsx(Ye,{className:"bg-green-100 text-green-800 border-green-200 px-2 py-1 rounded-full text-xs",children:"Verified"}),A.isBanned&&s.jsx(Ye,{className:"bg-red-100 text-red-800 border-red-200 px-2 py-1 rounded-full text-xs",children:"Banned"})]}),s.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:A.createdAt?new Date(A.createdAt).toLocaleDateString():"N/A"})]})]},A.id)})})]})]})]})]})}function F3({level:t,showIcon:e=!0,showName:r=!0,variant:n="default",className:i=""}){const o=(l=>{switch(l){case 1:return{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"",name:"Minor Warning",description:"First-time or minor policy violations"};case 2:return{color:"bg-orange-100 text-orange-800 border-orange-200",icon:"",name:"Serious Violation",description:"Repeated violations or moderate policy breaches"};case 3:return{color:"bg-red-100 text-red-800 border-red-200",icon:"",name:"Major Offense",description:"Serious misconduct that threatens platform integrity"};case 4:return{color:"bg-gray-900 text-white border-gray-800",icon:"",name:"Critical Violation",description:"Severe violations requiring immediate action"};default:return{color:"bg-gray-100 text-gray-800 border-gray-200",icon:"",name:"Unknown",description:"Severity level not determined"}}})(t);return n==="compact"?s.jsxs(Ye,{className:`${o.color} ${i}`,children:[e&&s.jsx("span",{className:"mr-1",children:o.icon}),"Level ",t]}):n==="detailed"?s.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-lg ${o.color} ${i}`,children:[e&&s.jsx("span",{className:"text-lg",children:o.icon}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs(Ye,{className:`mb-1 ${o.color} border-0`,children:["Level ",t]}),r&&s.jsx("span",{className:"text-sm font-medium",children:o.name}),s.jsx("span",{className:"text-xs opacity-80",children:o.description})]})]}):s.jsxs(Ye,{className:`${o.color} ${i}`,children:[e&&s.jsx("span",{className:"mr-1",children:o.icon}),r?o.name:`Level ${t}`]})}function O3({userId:t,userRole:e,userName:r,contextId:n,contextType:i,trigger:a,onStrikeIssued:o}){const{toast:l}=ar(),c=vr(),[d,u]=O.useState(""),[h,m]=O.useState(""),[f,g]=O.useState(!1),{data:p}=pt({queryKey:["/api/offenses",e],enabled:!!e&&f}),x=Ft({mutationFn:async w=>await St("/api/admin/strikes",{method:"POST",body:JSON.stringify(w)}),onSuccess:w=>{console.log("Strike issued successfully:",w),l({title:"Strike Issued",description:`Strike has been successfully issued to ${r||"the user"}.`}),c.invalidateQueries({queryKey:["/api/admin/strike-stats"]}),c.invalidateQueries({queryKey:["/api/admin/disputes"]}),c.invalidateQueries({queryKey:["/api/users",t,"strikes"]}),c.invalidateQueries({queryKey:["/api/admin/users"]}),g(!1),u(""),m(""),o==null||o()},onError:w=>{l({title:"Error",description:w.message,variant:"destructive"})}}),y=()=>{if(console.log("Handle issue strike called"),!d||!h.trim()){l({title:"Missing Information",description:"Please select an offense type and provide evidence.",variant:"destructive"});return}console.log("Issuing strike with data:",{userId:t,offenseType:d,evidence:h.trim(),userRole:e,contextId:n}),x.mutate({userId:t,offenseType:d,evidence:h.trim(),userRole:e,contextId:n})},v=s.jsxs(ie,{variant:"outline",size:"sm",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Issue Strike"]}),b=w=>{w.preventDefault(),w.stopPropagation(),console.log("Strike dialog trigger clicked"),g(!0)};return s.jsxs(qi,{open:f,onOpenChange:g,children:[s.jsx(gh,{asChild:!0,children:s.jsx("div",{onClick:b,children:a||v})}),s.jsxs(Ni,{className:"sm:max-w-[500px]",onPointerDownOutside:w=>{w.preventDefault()},children:[s.jsxs(ji,{children:[s.jsx(_i,{children:"Issue Strike"}),s.jsxs(Xy,{children:["Issue a strike to ",r||`this ${e}`," for policy violations or inappropriate behavior.",n&&i&&s.jsxs("span",{className:"block mt-1 text-sm text-blue-600",children:["Context: ",i.charAt(0).toUpperCase()+i.slice(1)," #",n.slice(0,8)]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{children:"User Information"}),s.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[s.jsxs("div",{children:["Name: ",r||"Unknown"]}),s.jsxs("div",{children:["Role: ",e.charAt(0).toUpperCase()+e.slice(1)]}),s.jsxs("div",{children:["ID: ",t.slice(0,8),"..."]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"offense",children:"Offense Type"}),s.jsxs(Br,{value:d,onValueChange:u,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Select offense type"})}),s.jsx(Dr,{children:(p||[]).map(w=>s.jsx(dt,{value:w.offense,children:s.jsxs("div",{className:"flex items-center gap-2 py-1",children:[s.jsx("span",{children:w.offense}),s.jsx(F3,{level:w.strikeLevel,variant:"compact"})]})},w.offense))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"evidence",children:"Evidence & Details"}),s.jsx(Ms,{id:"evidence",value:h,onChange:w=>m(w.target.value),onFocus:w=>{w.stopPropagation()},onClick:w=>{w.stopPropagation()},placeholder:"Provide detailed evidence, reasoning, and any relevant information about the violation...",rows:4,className:"resize-none"})]}),d&&s.jsxs("div",{className:"text-sm text-amber-600 bg-amber-50 p-3 rounded border border-amber-200",children:[s.jsx("strong",{children:"Warning:"})," This action will issue a strike that may result in automatic restrictions, suspensions, or other consequences based on the user's strike history."]})]}),s.jsxs(lj,{children:[s.jsx(ie,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),s.jsx(ie,{onClick:y,disabled:x.isPending,className:"bg-red-600 hover:bg-red-700",children:x.isPending?"Issuing...":"Issue Strike"})]})]})]})}function U0e(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(""),[a,o]=O.useState(!1),[l,c]=O.useState(""),[d,u]=O.useState(null),{data:h=[],isLoading:m}=pt({queryKey:["/api/admin/users"],enabled:!!t&&t.role==="admin"}),f=Ft({mutationFn:async({userId:j,action:k})=>await St(`/api/admin/users/${j}/${k}`,{method:"POST"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/users"]}),e({title:"Success",description:"User verification updated successfully"})},onError:j=>{e({title:"Error",description:j.message||"Failed to update user verification",variant:"destructive"})}}),g=Ft({mutationFn:async({userId:j,action:k,reason:E})=>{const A=`/api/admin/users/${j}/${k}`,C={method:"POST"};return k==="ban"&&E&&(C.headers={"Content-Type":"application/json"},C.body=JSON.stringify({reason:E})),await St(A,C)},onSuccess:(j,k)=>{r.invalidateQueries({queryKey:["/api/admin/users"]}),o(!1),u(null),c("");const A=k.action==="ban"?"User banned successfully":"User unbanned successfully";e({title:"Success",description:A}),window.location.href="/admin/dashboard"},onError:j=>{e({title:"Error",description:j.message||"Failed to update ban status",variant:"destructive"})}}),p=(j,k)=>{f.mutate({userId:j,action:k?"verify":"unverify"})},x=(j,k)=>{k?(u(j),o(!0)):g.mutate({userId:j.id,action:"unban"})},y=()=>{if(!d||!l.trim()){e({title:"Error",description:"Please provide a reason for banning this user",variant:"destructive"});return}g.mutate({userId:d.id,action:"ban",reason:l.trim()})},v=h.filter(j=>{var k,E;return j.role!=="admin"&&(((k=j.firstName)==null?void 0:k.toLowerCase().includes(n.toLowerCase()))||((E=j.lastName)==null?void 0:E.toLowerCase().includes(n.toLowerCase()))||j.email.toLowerCase().includes(n.toLowerCase())||j.role.toLowerCase().includes(n.toLowerCase()))}),b=j=>{switch(j){case"admin":return s.jsx(ew,{className:"w-3 h-3"});case"finder":return s.jsx(ui,{className:"w-3 h-3"});case"client":return s.jsx(dn,{className:"w-3 h-3"});default:return s.jsx(dn,{className:"w-3 h-3"})}},w=j=>{switch(j){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"finder":return"bg-blue-100 text-blue-800 border-blue-200";case"client":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_=j=>{switch(j.role){case"finder":return`/finder-profile/${j.id}`;case"client":return`/client/profile/${j.id}`;default:return"#"}};if(m)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"users"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading users..."})]})})]});const N={total:h.length,verified:h.filter(j=>j.isVerified).length,banned:h.filter(j=>j.isBanned).length,admins:h.filter(j=>j.role==="admin").length,finders:h.filter(j=>j.role==="finder").length,clients:h.filter(j=>j.role==="client").length};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:[s.jsx(Sr,{currentPage:"users"}),s.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200/50 dark:border-gray-700/50 sticky top-16 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:s.jsx("div",{className:"flex flex-col gap-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl blur opacity-60"}),s.jsx("div",{className:"relative p-3 sm:p-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl",children:s.jsx(dn,{className:"w-5 h-5 sm:w-7 sm:h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"User Management"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Monitor and manage platform users"})]})]}),s.jsxs("div",{className:"relative w-full sm:max-w-md",children:[s.jsx(Ds,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),s.jsx(at,{placeholder:"Search users...",value:n,onChange:j=>i(j.target.value),className:"pl-10 sm:pl-12 h-10 sm:h-12 bg-white/80 dark:bg-gray-800/80 border-gray-200/50 dark:border-gray-700/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]})})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:v.map(j=>{var k,E;return s.jsx(Re,{href:_(j),children:s.jsx(_e,{className:"group bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-0 shadow-md hover:shadow-xl transition-all duration-300 hover:scale-[1.02] cursor-pointer rounded-lg overflow-hidden",children:s.jsxs(Se,{className:"p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${j.role==="admin"?"from-purple-500 to-purple-600":j.role==="finder"?"from-blue-500 to-blue-600":"from-green-500 to-green-600"} rounded-lg flex items-center justify-center text-white font-bold text-xs`,children:j.profileImageUrl?s.jsx("img",{src:j.profileImageUrl,alt:`${j.firstName} ${j.lastName}`,className:"w-full h-full object-cover rounded-lg"}):`${((k=j.firstName)==null?void 0:k.charAt(0))||""}${((E=j.lastName)==null?void 0:E.charAt(0))||""}`}),s.jsx("div",{className:`absolute -top-1 -right-1 w-2.5 h-2.5 rounded-full border border-white ${j.isBanned?"bg-red-500":j.isVerified?"bg-green-500":"bg-gray-400"}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h3",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 truncate transition-colors",children:[j.firstName," ",j.lastName]}),s.jsx(Ye,{className:`px-2 py-0.5 rounded-full text-xs font-medium border ${w(j.role)}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[b(j.role),s.jsx("span",{children:j.role.charAt(0).toUpperCase()+j.role.slice(1)})]})})]})]}),s.jsxs(Mc,{children:[s.jsx(Bc,{asChild:!0,children:s.jsx(ie,{variant:"ghost",size:"sm",className:"opacity-60 group-hover:opacity-100 transition-opacity duration-200 p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg flex-shrink-0",children:s.jsx(PS,{className:"w-3 h-3"})})}),s.jsxs(Kl,{align:"end",className:"w-48 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 rounded-xl shadow-lg",children:[s.jsxs(jr,{onClick:()=>p(j.id,!j.isVerified),className:"flex items-center gap-2 px-3 py-2 rounded-lg",children:[j.isVerified?s.jsx(LS,{className:"w-4 h-4"}):s.jsx(_U,{className:"w-4 h-4"}),j.isVerified?"Unverify User":"Verify User"]}),s.jsxs(jr,{onClick:()=>x(j,!j.isBanned),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[j.isBanned?s.jsx(br,{className:"w-4 h-4"}):s.jsx(fs,{className:"w-4 h-4"}),j.isBanned?"Unban User":"Ban User"]}),(j.role==="client"||j.role==="finder")&&s.jsx(jr,{onSelect:A=>A.preventDefault(),asChild:!0,children:s.jsx("div",{className:"p-0",children:s.jsx(O3,{userId:j.id,userRole:j.role,userName:`${j.firstName} ${j.lastName}`,trigger:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 w-full text-left cursor-pointer",type:"button",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Issue Strike"]}),onStrikeIssued:()=>r.invalidateQueries({queryKey:["/api/admin/users"]})})})})]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400",children:[s.jsx(jm,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:j.email})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400",children:[s.jsx(_n,{className:"w-3 h-3 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:["Joined ",j.createdAt?new Date(j.createdAt).toLocaleDateString():"N/A"]})]}),s.jsxs("div",{className:"flex items-center gap-1 pt-1",children:[j.isVerified&&s.jsxs(Ye,{className:"bg-green-100 text-green-800 border-green-200 px-1.5 py-0.5 rounded-full text-xs",children:[s.jsx(br,{className:"w-2.5 h-2.5 mr-1"}),"Verified"]}),j.isBanned&&s.jsxs(Ye,{className:"bg-red-100 text-red-800 border-red-200 px-1.5 py-0.5 rounded-full text-xs",children:[s.jsx(fs,{className:"w-2.5 h-2.5 mr-1"}),"Banned"]})]})]})]})})},j.id)})}),v.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(dn,{className:"w-12 h-12 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No users found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search terms"})]}),s.jsxs("div",{className:"mt-8 sm:mt-12",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-6",children:"Platform Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-3 sm:p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-600 rounded-lg",children:s.jsx(dn,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Users"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:N.total})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-3 sm:p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-green-500/10 text-green-600 rounded-lg",children:s.jsx(Bse,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Verified"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:N.verified})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-3 sm:p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-red-500/10 text-red-600 rounded-lg",children:s.jsx(jse,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Banned"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:N.banned})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-3 sm:p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 text-purple-600 rounded-lg",children:s.jsx(ew,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Admins"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:N.admins})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-3 sm:p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-amber-500/10 text-amber-600 rounded-lg",children:s.jsx(ui,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Finders"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:N.finders})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-3 sm:p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-teal-500/10 text-teal-600 rounded-lg",children:s.jsx(dn,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Clients"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:N.clients})]})]})})]})]})]}),s.jsx(qi,{open:a,onOpenChange:o,children:s.jsxs(Ni,{className:"bg-white dark:bg-gray-800 rounded-3xl border-0 shadow-2xl max-w-md",children:[s.jsx(ji,{children:s.jsx(_i,{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Ban User"})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["You are about to ban ",s.jsxs("strong",{children:[d==null?void 0:d.firstName," ",d==null?void 0:d.lastName]}),". Please provide a reason for the ban:"]}),s.jsx(Ms,{placeholder:"Enter ban reason...",value:l,onChange:j=>c(j.target.value),className:"bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600 rounded-xl text-sm",rows:3}),s.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[s.jsx(ie,{variant:"outline",onClick:()=>o(!1),className:"rounded-xl",children:"Cancel"}),s.jsx(ie,{variant:"destructive",onClick:y,disabled:!l.trim()||g.isPending,className:"rounded-xl",children:g.isPending?"Banning...":"Ban User"})]})]})]})})]})}function $0e(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(""),[a,o]=O.useState("all"),[l,c]=O.useState(1),d=10,{data:u=[],isLoading:h}=pt({queryKey:["/api/admin/finds"],enabled:!!t&&t.role==="admin"}),m=u.filter(N=>{var E,A,C;const j=((E=N.title)==null?void 0:E.toLowerCase().includes(n.toLowerCase()))||((A=N.description)==null?void 0:A.toLowerCase().includes(n.toLowerCase()))||((C=N.category)==null?void 0:C.toLowerCase().includes(n.toLowerCase())),k=a==="all"||N.status===a;return j&&k}),f=Math.ceil(m.length/d),g=(l-1)*d,p=m.slice(g,g+d),x=Ft({mutationFn:async({findId:N,status:j})=>await St(`/api/admin/finds/${N}/status`,{method:"PUT",body:JSON.stringify({status:j})}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/finds"]}),e({title:"Success",description:"Find status updated successfully"})},onError:N=>{e({title:"Error",description:N.message||"Failed to update find status",variant:"destructive"})}}),y=N=>{switch(N){case"open":return"bg-green-100 text-green-800 border-green-200";case"in_progress":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-purple-100 text-purple-800 border-purple-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";case"under_review":return"bg-orange-100 text-orange-800 border-orange-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=N=>{switch(N){case"open":return s.jsx(on,{className:"w-3 h-3"});case"in_progress":return s.jsx(Cx,{className:"w-3 h-3"});case"completed":return s.jsx(on,{className:"w-3 h-3"});case"cancelled":return s.jsx(fs,{className:"w-3 h-3"});case"under_review":return s.jsx(Wr,{className:"w-3 h-3"});default:return s.jsx(hr,{className:"w-3 h-3"})}},b=N=>N?`${parseFloat(N.toString()).toLocaleString()}`:"0",w=(N,j)=>{x.mutate({findId:N,status:j})};if(h)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"finds"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading finds..."})]})})]});const _={total:u.length,open:u.filter(N=>N.status==="open").length,inProgress:u.filter(N=>N.status==="in_progress").length,completed:u.filter(N=>N.status==="completed").length,cancelled:u.filter(N=>N.status==="cancelled").length,underReview:u.filter(N=>N.status==="under_review").length};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:[s.jsx(Sr,{currentPage:"finds"}),s.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200/50 dark:border-gray-700/50 sticky top-0 z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative p-4 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl",children:s.jsx(as,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Find Requests"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Monitor and manage service requests"})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ds,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(at,{placeholder:"Search finds by title, description, or category...",value:n,onChange:N=>i(N.target.value),className:"pl-12 h-10 bg-white/80 dark:bg-gray-800/80 border-gray-200/50 dark:border-gray-700/50 rounded-xl focus:ring-2 focus:ring-blue-500"})]}),s.jsxs(Br,{value:a,onValueChange:o,children:[s.jsx(Ir,{className:"w-40 h-10 bg-white/80 dark:bg-gray-800/80 border-gray-200/50 dark:border-gray-700/50 rounded-xl",children:s.jsx(Ur,{placeholder:"All Status"})}),s.jsxs(Dr,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 rounded-xl",children:[s.jsx(dt,{value:"all",children:"All Status"}),s.jsx(dt,{value:"open",children:"Open"}),s.jsx(dt,{value:"in_progress",children:"In Progress"}),s.jsx(dt,{value:"completed",children:"Completed"}),s.jsx(dt,{value:"cancelled",children:"Cancelled"}),s.jsx(dt,{value:"under_review",children:"Under Review"})]})]})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50/80 dark:bg-gray-900/50 border-b border-gray-200/50 dark:border-gray-700/50",children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Find Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Client & Category"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Budget & Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200/50 dark:divide-gray-700/50",children:p.map(N=>{var j,k,E,A;return s.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-700/30 transition-colors duration-150",children:[s.jsx("td",{className:"hidden lg:table-cell px-6 py-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-sm flex-shrink-0",children:N.title.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:N.title}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:N.description}),N.flaggedWords&&N.flaggedWords.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:N.flaggedWords.map((C,T)=>s.jsx(Ye,{className:"px-2 py-0.5 text-xs bg-red-100 text-red-800 border-red-200",children:C},T))}),N.reviewReason&&s.jsx("p",{className:"text-xs text-orange-600 mt-1 font-medium",children:N.reviewReason})]})]})}),s.jsx("td",{className:"hidden lg:table-cell px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(qr,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:N.client?`${N.client.firstName} ${N.client.lastName}`:"Client ID: "+N.clientId.substring(0,8)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsx(Hd,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:N.category||"Uncategorized"})]})]})}),s.jsx("td",{className:"hidden lg:table-cell px-6 py-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-900 dark:text-white",children:[s.jsx(Sc,{className:"w-3 h-3"}),b(N.budgetMin||N.budgetMax||"0")]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx(_n,{className:"w-3 h-3"}),N.createdAt?new Date(N.createdAt).toLocaleDateString():"N/A"]})]})}),s.jsx("td",{className:"hidden lg:table-cell px-6 py-4",children:s.jsx(Ye,{className:`px-3 py-1 rounded-full text-xs font-medium border ${y(N.status||"")}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[v(N.status||""),((j=N.status)==null?void 0:j.replace("_"," ").charAt(0).toUpperCase())+((k=N.status)==null?void 0:k.replace("_"," ").slice(1))||"Unknown"]})})}),s.jsx("td",{className:"hidden lg:table-cell px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s.jsx(ie,{variant:"outline",size:"sm",className:"p-2 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600 rounded-lg transition-colors duration-150",children:s.jsx(ms,{className:"w-3 h-3"})}),s.jsxs(Mc,{children:[s.jsx(Bc,{asChild:!0,children:s.jsx(ie,{variant:"outline",size:"sm",className:"p-2 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors duration-150",children:s.jsx(PS,{className:"w-3 h-3"})})}),s.jsxs(Kl,{align:"end",className:"w-40 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 rounded-xl shadow-lg",children:[s.jsxs(jr,{onClick:()=>w(N.id,"open"),className:"flex items-center gap-2 px-3 py-2 rounded-lg",disabled:N.status==="open",children:[s.jsx(on,{className:"w-3 h-3"}),"Mark Open"]}),s.jsxs(jr,{onClick:()=>w(N.id,"in_progress"),className:"flex items-center gap-2 px-3 py-2 rounded-lg",disabled:N.status==="in_progress",children:[s.jsx(Cx,{className:"w-3 h-3"}),"Mark In Progress"]}),N.status!=="open"&&s.jsxs(jr,{onClick:()=>w(N.id,"completed"),className:"flex items-center gap-2 px-3 py-2 rounded-lg",disabled:N.status==="completed",children:[s.jsx(on,{className:"w-3 h-3"}),"Mark Completed"]}),s.jsxs(jr,{onClick:()=>w(N.id,"completed"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",disabled:N.status==="completed",children:[s.jsx(on,{className:"w-3 h-3"}),"Mark Completed"]}),s.jsxs(jr,{onClick:()=>w(N.id,"cancelled"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",disabled:N.status==="cancelled",children:[s.jsx(fs,{className:"w-3 h-3"}),"Cancel Find"]}),N.status==="under_review"&&s.jsxs(s.Fragment,{children:[s.jsxs(jr,{onClick:()=>w(N.id,"open"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[s.jsx(on,{className:"w-3 h-3"}),"Approve & Publish"]}),s.jsxs(jr,{onClick:()=>w(N.id,"cancelled"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx(fs,{className:"w-3 h-3"}),"Reject Find"]})]}),N.client&&s.jsx(jr,{asChild:!0,children:s.jsx("div",{className:"p-0",children:s.jsx(O3,{userId:N.clientId,userRole:"client",userName:`${N.client.firstName} ${N.client.lastName}`,contextId:N.id,contextType:"find",trigger:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 w-full text-left",children:[s.jsx(Wr,{className:"w-3 h-3"}),"Issue Strike"]}),onStrikeIssued:()=>r.invalidateQueries({queryKey:["/api/admin/finds"]})})})})]})]})]})}),s.jsx("td",{className:"lg:hidden px-4 py-4",colSpan:5,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-sm shadow-sm flex-shrink-0",children:N.title.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white line-clamp-1",children:N.title}),s.jsx(Ye,{className:`px-2 py-0.5 rounded-full text-xs font-medium border flex-shrink-0 ${y(N.status||"")}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[v(N.status||""),s.jsx("span",{className:"hidden sm:inline",children:((E=N.status)==null?void 0:E.replace("_"," ").charAt(0).toUpperCase())+((A=N.status)==null?void 0:A.replace("_"," ").slice(1))||"Unknown"})]})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:N.description})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[s.jsx(qr,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:N.client?`${N.client.firstName} ${N.client.lastName}`:"Client"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[s.jsx(Hd,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:N.category||"Uncategorized"})]}),s.jsxs("div",{className:"flex items-center gap-1 font-medium text-gray-900 dark:text-white",children:[s.jsx(Sc,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{children:b(N.budgetMin||N.budgetMax||"0")})]}),s.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400",children:[s.jsx(_n,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{children:N.createdAt?new Date(N.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})]})]}),N.flaggedWords&&N.flaggedWords.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:N.flaggedWords.map((C,T)=>s.jsx(Ye,{className:"px-2 py-0.5 text-xs bg-red-100 text-red-800 border-red-200",children:C},T))}),N.reviewReason&&s.jsx("p",{className:"text-xs text-orange-600 font-medium",children:N.reviewReason}),s.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-200/50 dark:border-gray-700/50",children:[s.jsxs(ie,{variant:"outline",size:"sm",className:"flex-1 text-xs hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600",children:[s.jsx(ms,{className:"w-3 h-3 mr-1"}),"View"]}),s.jsxs(Mc,{children:[s.jsx(Bc,{asChild:!0,children:s.jsx(ie,{variant:"outline",size:"sm",className:"px-3",children:s.jsx(PS,{className:"w-3 h-3"})})}),s.jsxs(Kl,{align:"end",className:"w-48 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 rounded-xl shadow-lg",children:[s.jsxs(jr,{onClick:()=>w(N.id,"open"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm",disabled:N.status==="open",children:[s.jsx(on,{className:"w-4 h-4"}),"Mark Open"]}),s.jsxs(jr,{onClick:()=>w(N.id,"in_progress"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm",disabled:N.status==="in_progress",children:[s.jsx(Cx,{className:"w-4 h-4"}),"Mark In Progress"]}),N.status!=="open"&&s.jsxs(jr,{onClick:()=>w(N.id,"completed"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm",disabled:N.status==="completed",children:[s.jsx(on,{className:"w-4 h-4"}),"Mark Completed"]}),s.jsxs(jr,{onClick:()=>w(N.id,"cancelled"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",disabled:N.status==="cancelled",children:[s.jsx(fs,{className:"w-4 h-4"}),"Mark Cancelled"]}),N.status==="under_review"&&s.jsxs(s.Fragment,{children:[s.jsxs(jr,{onClick:()=>w(N.id,"open"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[s.jsx(on,{className:"w-4 h-4"}),"Approve & Publish"]}),s.jsxs(jr,{onClick:()=>w(N.id,"cancelled"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx(fs,{className:"w-4 h-4"}),"Reject Find"]})]}),N.client&&s.jsx(jr,{asChild:!0,children:s.jsx("div",{className:"p-0",children:s.jsx(O3,{userId:N.clientId,userRole:"client",userName:`${N.client.firstName} ${N.client.lastName}`,contextId:N.id,contextType:"find",trigger:s.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 w-full text-left",children:[s.jsx(Wr,{className:"w-4 h-4"}),"Issue Strike"]}),onStrikeIssued:()=>r.invalidateQueries({queryKey:["/api/admin/finds"]})})})})]})]})]})]})})]},N.id)})})]})}),f>1&&s.jsx("div",{className:"px-6 py-4 border-t border-gray-200/50 dark:border-gray-700/50 bg-gray-50/30 dark:bg-gray-900/30",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",g+1," to ",Math.min(g+d,m.length)," of ",m.length," results"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>c(l-1),disabled:l===1,className:"p-2 rounded-lg",children:s.jsx(yU,{className:"w-4 h-4"})}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:f},(N,j)=>j+1).map(N=>s.jsx(ie,{variant:l===N?"default":"outline",size:"sm",onClick:()=>c(N),className:`px-3 py-1 rounded-lg text-sm ${l===N?"bg-blue-500 text-white":"hover:bg-blue-50 hover:text-blue-600"}`,children:N},N))}),s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>c(l+1),disabled:l===f,className:"p-2 rounded-lg",children:s.jsx(ug,{className:"w-4 h-4"})})]})]})})]}),m.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(as,{className:"w-12 h-12 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No finds found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search terms or filters"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 mt-8",children:[s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-600 rounded-lg",children:s.jsx(as,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_.total})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/10 text-green-600 rounded-lg",children:s.jsx(on,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Open"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_.open})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/10 text-blue-600 rounded-lg",children:s.jsx(Cx,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"In Progress"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_.inProgress})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/10 text-purple-600 rounded-lg",children:s.jsx(on,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Completed"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_.completed})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-500/10 text-red-600 rounded-lg",children:s.jsx(fs,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cancelled"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_.cancelled})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/10 text-orange-600 rounded-lg",children:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Under Review"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:_.underReview})]})]})})]})]})]})}function q0e(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(""),[a,o]=O.useState(""),[l,c]=O.useState(null),[d,u]=O.useState(""),[h,m]=O.useState(""),{data:f=[],isLoading:g}=pt({queryKey:["/api/admin/categories"],enabled:!!t&&t.role==="admin"}),p=Ft({mutationFn:async j=>await St("/api/admin/categories",{method:"POST",body:JSON.stringify(j)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/categories"]}),i(""),o(""),e({title:"Success",description:"Category created successfully"})},onError:j=>{e({title:"Error",description:j.message||"Failed to create category",variant:"destructive"})}}),x=Ft({mutationFn:async j=>await St(`/api/admin/categories/${j.id}`,{method:"PUT",body:JSON.stringify({name:j.name,description:j.description})}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/categories"]}),c(null),u(""),m(""),e({title:"Success",description:"Category updated successfully"})},onError:j=>{e({title:"Error",description:j.message||"Failed to update category",variant:"destructive"})}}),y=Ft({mutationFn:async j=>await St(`/api/admin/categories/${j.id}`,{method:"PUT",body:JSON.stringify({isActive:j.isActive})}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/categories"]}),e({title:"Success",description:"Category status updated successfully"})},onError:j=>{e({title:"Error",description:j.message||"Failed to update category status",variant:"destructive"})}}),v=Ft({mutationFn:async j=>await St(`/api/admin/categories/${j}`,{method:"DELETE"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/categories"]}),e({title:"Success",description:"Category deleted successfully"})},onError:j=>{e({title:"Error",description:j.message||"Failed to delete category",variant:"destructive"})}}),b=j=>{j.preventDefault(),n.trim()&&p.mutate({name:n,description:a})},w=j=>{c(j),u(j.name),m(j.description||"")},_=j=>{j.preventDefault(),!(!l||!d.trim())&&x.mutate({id:l.id,name:d,description:h})},N=j=>{y.mutate({id:j.id,isActive:!j.isActive})};return g?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(Sr,{currentPage:"categories"}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-slate-600 mt-4",children:"Loading categories..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(Sr,{currentPage:"categories"}),s.jsxs("div",{className:"max-w-6xl mx-auto p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center space-x-4 mb-4",children:s.jsxs(ie,{variant:"outline",onClick:()=>window.history.back(),children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2 flex items-center",children:[s.jsx(Ml,{className:"mr-3 h-8 w-8 text-blue-600"}),"Category Management"]}),s.jsx("p",{className:"text-slate-600",children:"Create and manage find categories for the platform"})]}),s.jsxs(_e,{className:"mb-8 backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"text-slate-800 flex items-center",children:[s.jsx(rn,{className:"w-5 h-5 mr-2 text-green-600"}),"Add New Category"]})}),s.jsx(Se,{children:s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"categoryName",children:"Category Name"}),s.jsx(at,{id:"categoryName",value:n,onChange:j=>i(j.target.value),placeholder:"e.g., Web Development",className:"bg-white/80",required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"categoryDesc",children:"Description"}),s.jsx(at,{id:"categoryDesc",value:a,onChange:j=>o(j.target.value),placeholder:"Brief description of the category",className:"bg-white/80"})]})]}),s.jsxs(ie,{type:"submit",disabled:p.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),p.isPending?"Creating...":"Add Category"]})]})})]}),s.jsxs(_e,{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl",children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-slate-800",children:"Existing Categories"})}),s.jsx(Se,{children:f.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx($r,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No categories yet"}),s.jsx("p",{children:"Create your first category to get started."})]}):s.jsx("div",{className:"grid gap-4",children:f.map(j=>s.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h5",{className:"font-semibold text-slate-900",children:j.name}),s.jsx(Ye,{variant:j.isActive?"default":"secondary",children:j.isActive?"Active":"Inactive"})]}),j.description&&s.jsx("p",{className:"text-slate-600 text-sm mt-1",children:j.description}),j.createdAt&&s.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Created: ",new Date(j.createdAt).toLocaleDateString()]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(Mc,{children:[s.jsx(Bc,{asChild:!0,children:s.jsxs(ie,{variant:"outline",size:"sm",children:[s.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Actions"]})}),s.jsxs(Kl,{align:"end",children:[s.jsxs(jr,{onClick:()=>w(j),children:[s.jsx(Vl,{className:"w-4 h-4 mr-2"}),"Edit"]}),s.jsxs(jr,{onClick:()=>N(j),children:[s.jsx($r,{className:"w-4 h-4 mr-2"}),j.isActive?"Deactivate":"Activate"]}),s.jsxs(jr,{onClick:()=>v.mutate(j.id),className:"text-red-600",children:[s.jsx(Ph,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]},j.id))})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(_e,{className:"w-full max-w-md bg-white",children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Edit Category"})}),s.jsx(Se,{children:s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"editCategoryName",children:"Category Name"}),s.jsx(at,{id:"editCategoryName",value:d,onChange:j=>u(j.target.value),placeholder:"Category name",required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"editCategoryDesc",children:"Description"}),s.jsx(at,{id:"editCategoryDesc",value:h,onChange:j=>m(j.target.value),placeholder:"Category description"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(ie,{type:"button",variant:"outline",onClick:()=>c(null),children:"Cancel"}),s.jsx(ie,{type:"submit",disabled:x.isPending,children:x.isPending?"Updating...":"Update"})]})]})})]})})]})]})}var hj="Switch",[z0e]=Fa(hj),[V0e,H0e]=z0e(hj),AH=O.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[m,f]=O.useState(null),g=zr(e,b=>f(b)),p=O.useRef(!1),x=m?u||!!m.closest("form"):!0,[y,v]=Vd({prop:i,defaultProp:a??!1,onChange:d,caller:hj});return s.jsxs(V0e,{scope:r,checked:y,disabled:l,children:[s.jsx(rr.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":FH(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:Pt(t.onClick,b=>{v(w=>!w),x&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),x&&s.jsx(PH,{control:m,bubbles:!p.current,name:n,value:c,checked:y,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});AH.displayName=hj;var EH="SwitchThumb",TH=O.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=H0e(EH,r);return s.jsx(rr.span,{"data-state":FH(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});TH.displayName=EH;var W0e="SwitchBubbleInput",PH=O.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=O.useRef(null),l=zr(o,a),c=rC(r),d=P6(e);return O.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const g=new Event("click",{bubbles:n});f.call(u,r),u.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});PH.displayName=W0e;function FH(t){return t?"checked":"unchecked"}var OH=AH,K0e=TH;const Gd=O.forwardRef(({className:t,...e},r)=>s.jsx(OH,{className:Ot("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:s.jsx(K0e,{className:Ot("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Gd.displayName=OH.displayName;function G0e(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(""),[a,o]=O.useState(""),[l,c]=O.useState(""),[d,u]=O.useState(""),[h,m]=O.useState(""),[f,g]=O.useState(""),[p,x]=O.useState(""),[y,v]=O.useState("false"),[b,w]=O.useState(!1),[_,N]=O.useState({proposalTokenCost:"",findertokenPrice:"",platformFeePercentage:"",clientPaymentChargePercentage:"",finderEarningsChargePercentage:"",highBudgetThreshold:"",highBudgetTokenCost:"",verificationRequired:"false",autoVerifyEnabled:"false"}),{data:j,isLoading:k}=pt({queryKey:["/api/admin/settings"],queryFn:()=>St("/api/admin/settings"),enabled:!!t&&t.role==="admin"});O.useEffect(()=>{j&&(i(j.proposalTokenCost||"1"),o(j.findertokenPrice||"100"),c(j.platformFeePercentage||"10"),u(j.clientPaymentChargePercentage||"2.5"),m(j.finderEarningsChargePercentage||"5"),g(j.highBudgetThreshold||"100000"),x(j.highBudgetTokenCost||"5"),v(j.verificationRequired||"false"),N({proposalTokenCost:j.proposalTokenCost||"1",findertokenPrice:j.findertokenPrice||"100",platformFeePercentage:j.platformFeePercentage||"10",clientPaymentChargePercentage:j.clientPaymentChargePercentage||"2.5",finderEarningsChargePercentage:j.finderEarningsChargePercentage||"5",highBudgetThreshold:j.highBudgetThreshold||"100000",highBudgetTokenCost:j.highBudgetTokenCost||"5",verificationRequired:j.verificationRequired||"false",autoVerifyEnabled:j.autoVerifyEnabled||"false"}))},[j]),O.useEffect(()=>{if(j){const T=n!==(j.proposalTokenCost||"1"),L=a!==(j.findertokenPrice||"100"),D=l!==(j.platformFeePercentage||"10"),H=d!==(j.clientPaymentChargePercentage||"2.5"),X=h!==(j.finderEarningsChargePercentage||"5"),ee=f!==(j.highBudgetThreshold||"100000"),Q=p!==(j.highBudgetTokenCost||"5"),G=y!==(j.verificationRequired||"false"),z=_.autoVerifyEnabled!==(j.autoVerifyEnabled||"false");w(T||L||D||H||X||ee||Q||G||z)}},[n,a,l,d,h,f,p,y,j]);const E=Ft({mutationFn:async T=>{const L=await fetch("/api/admin/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("findermeister_token")||localStorage.getItem("token")}`},body:JSON.stringify(T)});if(!L.ok){const D=await L.json();throw new Error(D.message||"Failed to update settings")}return L.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/settings"]}),w(!1),e({title:"Settings Updated",description:"Platform settings have been updated successfully."})},onError:T=>{e({title:"Update Failed",description:T.message||"Failed to update settings.",variant:"destructive"})}}),A=T=>{T.preventDefault(),E.mutate({proposalTokenCost:n,findertokenPrice:a,platformFeePercentage:l,clientPaymentChargePercentage:d,finderEarningsChargePercentage:h,highBudgetThreshold:f,highBudgetTokenCost:p,verificationRequired:y,autoVerifyEnabled:_.autoVerifyEnabled})},C=parseFloat(a||"100")/100;return k?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(Sr,{currentPage:"settings"}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-slate-600 mt-4",children:"Loading settings..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(Sr,{currentPage:"settings"}),s.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2 flex items-center",children:[s.jsx(Ml,{className:"mr-3 h-8 w-8 text-blue-600"}),"Platform Settings"]}),s.jsx("p",{className:"text-slate-600",children:"Configure system-wide platform settings and pricing"})]}),s.jsxs(_e,{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl",children:[s.jsxs(Ze,{className:"pb-6",children:[s.jsxs(Xe,{className:"text-slate-800 flex items-center text-xl",children:[s.jsx(aa,{className:"w-6 h-6 mr-3 text-orange-500"}),"Token Management"]}),s.jsx(Ka,{className:"text-slate-600",children:"Configure proposal costs and findertoken pricing for the platform"})]}),s.jsx(Se,{children:s.jsxs("form",{onSubmit:A,className:"space-y-8",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"proposalCost",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(aa,{className:"w-4 h-4 mr-2 text-blue-600"}),"Proposal Token Cost"]}),s.jsx(at,{id:"proposalCost",type:"number",min:"1",max:"100",value:n,onChange:T=>i(T.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-blue-500 focus:ring-blue-500/20",placeholder:"Enter token cost"}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-blue-700",children:[s.jsx("strong",{children:"Current:"})," ",n||(j==null?void 0:j.proposalTokenCost)||"1"," tokens per proposal"]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Number of tokens finders must spend to submit a proposal"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"tokenPrice",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(Dl,{className:"w-4 h-4 mr-2 text-green-600"}),"Findertoken Price (Kobo)"]}),s.jsx(at,{id:"tokenPrice",type:"number",min:"1",max:"10000",value:a,onChange:T=>o(T.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-green-500 focus:ring-green-500/20",placeholder:"Enter price in kobo"}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-green-700",children:[s.jsx("strong",{children:"Current:"})," ",C.toFixed(2)," per token"]}),s.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Price users pay to purchase findertokens (100 kobo = 1)"})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsxs("h4",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(ai,{className:"w-5 h-5 mr-2 text-purple-600"}),"High Budget Posting"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"highBudgetThreshold",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(U0,{className:"w-4 h-4 mr-2 text-purple-600"}),"High Budget Threshold ()"]}),s.jsx(at,{id:"highBudgetThreshold",type:"number",min:"1000",step:"100",value:f,onChange:T=>g(T.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"Enter threshold amount"}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-purple-700",children:[s.jsx("strong",{children:"Current:"})," ",parseInt(f||"100000").toLocaleString()," threshold"]}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Posts with budget  this amount require findertokens"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"highBudgetTokenCost",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(aa,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Required Findertokens"]}),s.jsx(at,{id:"highBudgetTokenCost",type:"number",min:"1",max:"50",value:p,onChange:T=>x(T.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-indigo-500 focus:ring-indigo-500/20",placeholder:"Enter token count"}),s.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-indigo-700",children:[s.jsx("strong",{children:"Current:"})," ",p||"5"," findertokens required"]}),s.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:"Tokens deducted for high-budget posts"})]})]})]})]})]}),s.jsx(Rc,{className:"my-8"}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Account Verification Settings"})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"autoVerifyEnabled",children:"Auto-Verify New Accounts"}),s.jsx("p",{className:"text-sm text-gray-600",children:"When enabled, new user accounts are automatically verified upon registration"})]}),s.jsx(Gd,{id:"autoVerifyEnabled",checked:_.autoVerifyEnabled==="true",onCheckedChange:T=>{const L=T?"true":"false";N(D=>({...D,autoVerifyEnabled:L})),w(!0)}})]}),_.autoVerifyEnabled==="true"&&s.jsxs(No,{children:[s.jsx(on,{className:"h-4 w-4"}),s.jsx(jo,{children:"Auto-verification is enabled. New clients and finders will be automatically verified and can immediately post finds or submit proposals."})]}),_.autoVerifyEnabled==="false"&&s.jsxs(No,{children:[s.jsx($r,{className:"h-4 w-4"}),s.jsx(jo,{children:"Manual verification is required. New accounts will remain unverified until an admin manually verifies them. Unverified clients cannot post finds and unverified finders cannot submit proposals."})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"verificationRequired",children:"Require Identity Verification"}),s.jsx("p",{className:"text-sm text-gray-600",children:"When enabled, users must verify their identity before posting finds or applying to finds"})]}),s.jsx(Gd,{id:"verificationRequired",checked:y==="true",onCheckedChange:T=>{v(T?"true":"false"),N(L=>({...L,verificationRequired:T?"true":"false"}))}})]}),y==="true"&&s.jsxs(No,{children:[s.jsx($r,{className:"h-4 w-4"}),s.jsx(jo,{children:"Identity verification is required. Users will need to submit government-issued ID documents and complete manual verification before accessing core features."})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx(Nn,{className:"w-5 h-5 mr-2 text-purple-600"}),"Platform Charges & Fees"]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"platformFee",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(Rse,{className:"w-4 h-4 mr-2 text-purple-600"}),"Platform Fee (%)"]}),s.jsx(at,{id:"platformFee",type:"number",min:"0",max:"50",step:"0.1",value:l,onChange:T=>c(T.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"Enter percentage"}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-purple-700",children:[s.jsx("strong",{children:"Current:"})," ",l||"10","% of contract value"]}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"General platform fee charged on completed contracts"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"clientCharge",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(Nn,{className:"w-4 h-4 mr-2 text-orange-600"}),"Client Payment Charge (%)"]}),s.jsx(at,{id:"clientCharge",type:"number",min:"0",max:"10",step:"0.1",value:d,onChange:T=>u(T.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-orange-500 focus:ring-orange-500/20",placeholder:"Enter percentage"}),s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-orange-700",children:[s.jsx("strong",{children:"Current:"})," ",d||"2.5","% transaction fee"]}),s.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Additional charge on client payments (processing fees)"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"finderCharge",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(Dl,{className:"w-4 h-4 mr-2 text-red-600"}),"Finder Earnings Charge (%)"]}),s.jsx(at,{id:"finderCharge",type:"number",min:"0",max:"20",step:"0.1",value:h,onChange:T=>m(T.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-red-500 focus:ring-red-500/20",placeholder:"Enter percentage"}),s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-red-700",children:[s.jsx("strong",{children:"Current:"})," ",h||"5","% deduction"]}),s.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Percentage deducted from finder earnings"})]})]})]})]}),s.jsx(Rc,{className:"my-8"}),s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-6",children:[s.jsxs("h3",{className:"font-semibold text-slate-800 mb-4 flex items-center",children:[s.jsx(ia,{className:"w-5 h-5 mr-2 text-slate-600"}),"Current Configuration"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-8 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[s.jsx("div",{className:"text-xl font-bold text-blue-600",children:n||"1"}),s.jsx("div",{className:"text-slate-600 text-xs",children:"Tokens per proposal"})]}),s.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[s.jsxs("div",{className:"text-xl font-bold text-green-600",children:["",C.toFixed(2)]}),s.jsx("div",{className:"text-slate-600 text-xs",children:"Price per token"})]}),s.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[s.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["",(C*parseFloat(n||"1")).toFixed(2)]}),s.jsx("div",{className:"text-slate-600 text-xs",children:"Cost per proposal"})]}),s.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[s.jsxs("div",{className:"text-xl font-bold text-purple-600",children:[l||"10","%"]}),s.jsx("div",{className:"text-slate-600 text-xs",children:"Platform fee"})]}),s.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[s.jsxs("div",{className:"text-xl font-bold text-orange-600",children:[d||"2.5","%"]}),s.jsx("div",{className:"text-slate-600 text-xs",children:"Client charge"})]}),s.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[s.jsxs("div",{className:"text-xl font-bold text-red-600",children:[h||"5","%"]}),s.jsx("div",{className:"text-slate-600 text-xs",children:"Finder charge"})]}),s.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[s.jsxs("div",{className:"text-xl font-bold text-purple-600",children:["",parseInt(f||"100000").toLocaleString()]}),s.jsx("div",{className:"text-slate-600 text-xs",children:"High budget threshold"})]}),s.jsxs("div",{className:"text-center p-3 bg-white rounded border",children:[s.jsx("div",{className:"text-xl font-bold text-indigo-600",children:p||"5"}),s.jsx("div",{className:"text-slate-600 text-xs",children:"High budget tokens"})]})]})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(ie,{type:"submit",size:"lg",disabled:E.isPending||!b,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:E.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Updating..."]}):b?s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-5 h-5 mr-2"}),"Save Changes"]}):s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"w-5 h-5 mr-2"}),"Settings Saved"]})})})]})})]}),s.jsx(_e,{className:"mt-6 backdrop-blur-sm bg-white/80 border border-white/20 shadow-lg",children:s.jsx(Se,{className:"pt-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Token Economics"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[s.jsx("li",{children:" Finders purchase tokens to submit proposals"}),s.jsx("li",{children:" Each proposal submission costs tokens"}),s.jsx("li",{children:" Token prices can be adjusted based on market demand"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-2",children:"Best Practices"}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[s.jsx("li",{children:" Keep proposal costs reasonable for finders"}),s.jsx("li",{children:" Adjust token prices based on platform usage"}),s.jsx("li",{children:" Monitor finder engagement after price changes"})]})]})]})})})]})]})}function Y0e(){const{user:t,setUser:e}=tr(),{toast:r}=ar(),n=vr(),[i,a]=O.useState({firstName:"",lastName:"",email:""}),[o,l]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[c,d]=O.useState(!1),[u,h]=O.useState(!1),[m,f]=O.useState(!1),[g,p]=O.useState(!1);O.useEffect(()=>{t&&a({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||""})},[t]),O.useEffect(()=>{if(t){const w=i.firstName!==(t.firstName||"")||i.lastName!==(t.lastName||"")||i.email!==(t.email||"");p(w)}},[i,t]);const x=Ft({mutationFn:async w=>{const _=await fetch("/api/auth/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("findermeister_token")||localStorage.getItem("token")}`},body:JSON.stringify(w)});if(!_.ok){const N=await _.json();throw new Error(N.message||"Failed to update profile")}return _.json()},onSuccess:w=>{e(w.user),n.invalidateQueries({queryKey:["/api/auth/me"]}),p(!1),r({title:"Profile Updated",description:"Your profile information has been updated successfully."})},onError:w=>{r({title:"Update Failed",description:w.message||"Failed to update profile.",variant:"destructive"})}}),y=Ft({mutationFn:async w=>{const _=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("findermeister_token")||localStorage.getItem("token")}`},body:JSON.stringify(w)});if(!_.ok){const N=await _.json();throw new Error(N.message||"Failed to change password")}return _.json()},onSuccess:()=>{l({currentPassword:"",newPassword:"",confirmPassword:""}),r({title:"Password Changed",description:"Your password has been changed successfully."})},onError:w=>{r({title:"Password Change Failed",description:w.message||"Failed to change password.",variant:"destructive"})}}),v=w=>{if(w.preventDefault(),!i.firstName.trim()||!i.lastName.trim()||!i.email.trim()){r({title:"Validation Error",description:"All fields are required.",variant:"destructive"});return}if(!i.email.includes("@")){r({title:"Validation Error",description:"Please enter a valid email address.",variant:"destructive"});return}x.mutate(i)},b=w=>{if(w.preventDefault(),!o.currentPassword||!o.newPassword||!o.confirmPassword){r({title:"Validation Error",description:"All password fields are required.",variant:"destructive"});return}if(o.newPassword.length<8){r({title:"Validation Error",description:"New password must be at least 8 characters long.",variant:"destructive"});return}if(o.newPassword!==o.confirmPassword){r({title:"Validation Error",description:"New passwords do not match.",variant:"destructive"});return}y.mutate({currentPassword:o.currentPassword,newPassword:o.newPassword})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(Sr,{currentPage:"profile"}),s.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2 flex items-center",children:[s.jsx(qr,{className:"mr-3 h-8 w-8 text-blue-600"}),"Admin Profile Settings"]}),s.jsx("p",{className:"text-slate-600",children:"Manage your admin account information and security settings"})]}),s.jsxs("div",{className:"grid gap-8",children:[s.jsxs(_e,{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl",children:[s.jsxs(Ze,{className:"pb-6",children:[s.jsxs(Xe,{className:"text-slate-800 flex items-center text-xl",children:[s.jsx(qr,{className:"w-6 h-6 mr-3 text-blue-500"}),"Profile Information"]}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Update your personal information and contact details"})]}),s.jsx(Se,{children:s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"firstName",className:"text-slate-700 font-semibold",children:"First Name"}),s.jsx(at,{id:"firstName",type:"text",value:i.firstName,onChange:w=>a(_=>({..._,firstName:w.target.value})),className:"h-12 bg-white/80 border-slate-200 focus:border-blue-500 focus:ring-blue-500/20",placeholder:"Enter your first name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"lastName",className:"text-slate-700 font-semibold",children:"Last Name"}),s.jsx(at,{id:"lastName",type:"text",value:i.lastName,onChange:w=>a(_=>({..._,lastName:w.target.value})),className:"h-12 bg-white/80 border-slate-200 focus:border-blue-500 focus:ring-blue-500/20",placeholder:"Enter your last name",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"email",className:"text-slate-700 font-semibold flex items-center",children:[s.jsx(jm,{className:"w-4 h-4 mr-2 text-blue-600"}),"Email Address"]}),s.jsx(at,{id:"email",type:"email",value:i.email,onChange:w=>a(_=>({..._,email:w.target.value})),className:"h-12 bg-white/80 border-slate-200 focus:border-blue-500 focus:ring-blue-500/20",placeholder:"Enter your email address",required:!0})]}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($r,{className:"w-5 h-5 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-blue-800",children:"Administrator Account"}),s.jsx("p",{className:"text-xs text-blue-600",children:"You have full administrative privileges on this platform"})]})]})}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(ie,{type:"submit",disabled:x.isPending||!g,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:x.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Updating..."]}):g?s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-5 h-5 mr-2"}),"Update Profile"]}):s.jsxs(s.Fragment,{children:[s.jsx(on,{className:"w-5 h-5 mr-2"}),"Profile Updated"]})})})]})})]}),s.jsxs(_e,{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl",children:[s.jsxs(Ze,{className:"pb-6",children:[s.jsxs(Xe,{className:"text-slate-800 flex items-center text-xl",children:[s.jsx(zf,{className:"w-6 h-6 mr-3 text-red-500"}),"Change Password"]}),s.jsx("p",{className:"text-slate-600 text-sm",children:"Update your password to keep your account secure"})]}),s.jsx(Se,{children:s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"currentPassword",className:"text-slate-700 font-semibold",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{id:"currentPassword",type:c?"text":"password",value:o.currentPassword,onChange:w=>l(_=>({..._,currentPassword:w.target.value})),className:"h-12 bg-white/80 border-slate-200 focus:border-red-500 focus:ring-red-500/20 pr-12",placeholder:"Enter your current password",required:!0}),s.jsx(ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>d(!c),children:c?s.jsx(Ld,{className:"w-4 h-4"}):s.jsx(ms,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"newPassword",className:"text-slate-700 font-semibold",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{id:"newPassword",type:u?"text":"password",value:o.newPassword,onChange:w=>l(_=>({..._,newPassword:w.target.value})),className:"h-12 bg-white/80 border-slate-200 focus:border-red-500 focus:ring-red-500/20 pr-12",placeholder:"Enter new password",required:!0}),s.jsx(ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>h(!u),children:u?s.jsx(Ld,{className:"w-4 h-4"}):s.jsx(ms,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"confirmPassword",className:"text-slate-700 font-semibold",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(at,{id:"confirmPassword",type:m?"text":"password",value:o.confirmPassword,onChange:w=>l(_=>({..._,confirmPassword:w.target.value})),className:"h-12 bg-white/80 border-slate-200 focus:border-red-500 focus:ring-red-500/20 pr-12",placeholder:"Confirm new password",required:!0}),s.jsx(ie,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>f(!m),children:m?s.jsx(Ld,{className:"w-4 h-4"}):s.jsx(ms,{className:"w-4 h-4"})})]})]})]}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(ia,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"Password Requirements:"}),s.jsxs("ul",{className:"text-xs text-yellow-700 space-y-1",children:[s.jsx("li",{children:" At least 8 characters long"}),s.jsx("li",{children:" Contains uppercase and lowercase letters"}),s.jsx("li",{children:" Contains at least one number"}),s.jsx("li",{children:" Contains at least one special character"})]})]})]})}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(ie,{type:"submit",disabled:y.isPending,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:y.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Changing Password..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zf,{className:"w-5 h-5 mr-2"}),"Change Password"]})})})]})})]})]})]})]})}const fj=O.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Ot("w-full caption-bottom text-sm",t),...e})}));fj.displayName="Table";const mj=O.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:Ot("[&_tr]:border-b",t),...e}));mj.displayName="TableHeader";const pj=O.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:Ot("[&_tr:last-child]:border-0",t),...e}));pj.displayName="TableBody";const Q0e=O.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:Ot("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Q0e.displayName="TableFooter";const um=O.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:Ot("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));um.displayName="TableRow";const Zs=O.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:Ot("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Zs.displayName="TableHead";const en=O.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:Ot("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));en.displayName="TableCell";const X0e=O.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:Ot("mt-4 text-sm text-muted-foreground",t),...e}));X0e.displayName="TableCaption";function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}var Yl=Uint8Array,yo=Uint16Array,jC=Int32Array,_C=new Yl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),SC=new Yl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$8=new Yl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),LH=function(t,e){for(var r=new yo(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new jC(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},RH=LH(_C,2),J0e=RH.b,L3=RH.r;J0e[28]=258,L3[258]=28;var Z0e=LH(SC,0),q8=Z0e.r,R3=new yo(32768);for(var Ks=0;Ks<32768;++Ks){var ju=(Ks&43690)>>1|(Ks&21845)<<1;ju=(ju&52428)>>2|(ju&13107)<<2,ju=(ju&61680)>>4|(ju&3855)<<4,R3[Ks]=((ju&65280)>>8|(ju&255)<<8)>>1}var Gx=function(t,e,r){for(var n=t.length,i=0,a=new yo(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new yo(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new yo(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var d=i<<4|t[i],u=e-t[i],h=o[t[i]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[R3[h]>>c]=d}else for(l=new yo(n),i=0;i<n;++i)t[i]&&(l[i]=R3[o[t[i]-1]++]>>15-t[i]);return l},hm=new Yl(288);for(var Ks=0;Ks<144;++Ks)hm[Ks]=8;for(var Ks=144;Ks<256;++Ks)hm[Ks]=9;for(var Ks=256;Ks<280;++Ks)hm[Ks]=7;for(var Ks=280;Ks<288;++Ks)hm[Ks]=8;var vw=new Yl(32);for(var Ks=0;Ks<32;++Ks)vw[Ks]=5;var ege=Gx(hm,9,0),tge=Gx(vw,5,0),IH=function(t){return(t+7)/8|0},rge=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Yl(t.subarray(e,r))},ld=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},gx=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},S4=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:MH,l:0};if(i==1){var o=new Yl(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,N){return _.f-N.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=i-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,n=1;n<i;++n)a[n].s>m&&(m=a[n].s);var f=new yo(m+1),g=I3(r[u-1],f,0);if(g>e){var n=0,p=0,x=g-e,y=1<<x;for(a.sort(function(N,j){return f[j.s]-f[N.s]||N.f-j.f});n<i;++n){var v=a[n].s;if(f[v]>e)p+=y-(1<<g-f[v]),f[v]=e;else break}for(p>>=x;p>0;){var b=a[n].s;f[b]<e?p-=1<<e-f[b]++-1:++n}for(;n>=0&&p;--n){var w=a[n].s;f[w]==e&&(--f[w],++p)}g=e}return{t:new Yl(f),l:g}},I3=function(t,e,r){return t.s==-1?Math.max(I3(t.l,e,r+1),I3(t.r,e,r+1)):e[t.s]=r},z8=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new yo(++e),n=0,i=t[0],a=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==i&&l!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[l]}return{c:r.subarray(0,n),n:e}},xx=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},DH=function(t,e,r){var n=r.length,i=IH(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},V8=function(t,e,r,n,i,a,o,l,c,d,u){ld(e,u++,r),++i[256];for(var h=S4(i,15),m=h.t,f=h.l,g=S4(a,15),p=g.t,x=g.l,y=z8(m),v=y.c,b=y.n,w=z8(p),_=w.c,N=w.n,j=new yo(19),k=0;k<v.length;++k)++j[v[k]&31];for(var k=0;k<_.length;++k)++j[_[k]&31];for(var E=S4(j,7),A=E.t,C=E.l,T=19;T>4&&!A[$8[T-1]];--T);var L=d+5<<3,D=xx(i,hm)+xx(a,vw)+o,H=xx(i,m)+xx(a,p)+o+14+3*T+xx(j,A)+2*j[16]+3*j[17]+7*j[18];if(c>=0&&L<=D&&L<=H)return DH(e,u,t.subarray(c,c+d));var X,ee,Q,G;if(ld(e,u,1+(H<D)),u+=2,H<D){X=Gx(m,f,0),ee=m,Q=Gx(p,x,0),G=p;var z=Gx(A,C,0);ld(e,u,b-257),ld(e,u+5,N-1),ld(e,u+10,T-4),u+=14;for(var k=0;k<T;++k)ld(e,u+3*k,A[$8[k]]);u+=3*T;for(var V=[v,_],F=0;F<2;++F)for(var I=V[F],k=0;k<I.length;++k){var B=I[k]&31;ld(e,u,z[B]),u+=A[B],B>15&&(ld(e,u,I[k]>>5&127),u+=I[k]>>12)}}else X=ege,ee=hm,Q=tge,G=vw;for(var k=0;k<l;++k){var q=n[k];if(q>255){var B=q>>18&31;gx(e,u,X[B+257]),u+=ee[B+257],B>7&&(ld(e,u,q>>23&31),u+=_C[B]);var U=q&31;gx(e,u,Q[U]),u+=G[U],U>3&&(gx(e,u,q>>5&8191),u+=SC[U])}else gx(e,u,X[q]),u+=ee[q]}return gx(e,u,X[256]),u+ee[256]},sge=new jC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),MH=new Yl(0),nge=function(t,e,r,n,i,a){var o=a.z||t.length,l=new Yl(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),d=a.l,u=(a.r||0)&7;if(e){u&&(c[0]=a.r>>3);for(var h=sge[e-1],m=h>>13,f=h&8191,g=(1<<r)-1,p=a.p||new yo(32768),x=a.h||new yo(g+1),y=Math.ceil(r/3),v=2*y,b=function(Ae){return(t[Ae]^t[Ae+1]<<y^t[Ae+2]<<v)&g},w=new jC(25e3),_=new yo(288),N=new yo(32),j=0,k=0,E=a.i||0,A=0,C=a.w||0,T=0;E+2<o;++E){var L=b(E),D=E&32767,H=x[L];if(p[D]=H,x[L]=D,C<=E){var X=o-E;if((j>7e3||A>24576)&&(X>423||!d)){u=V8(t,c,0,w,_,N,k,A,T,E-T,u),A=j=k=0,T=E;for(var ee=0;ee<286;++ee)_[ee]=0;for(var ee=0;ee<30;++ee)N[ee]=0}var Q=2,G=0,z=f,V=D-H&32767;if(X>2&&L==b(E-V))for(var F=Math.min(m,X)-1,I=Math.min(32767,E),B=Math.min(258,X);V<=I&&--z&&D!=H;){if(t[E+Q]==t[E+Q-V]){for(var q=0;q<B&&t[E+q]==t[E+q-V];++q);if(q>Q){if(Q=q,G=V,q>F)break;for(var U=Math.min(V,q-2),W=0,ee=0;ee<U;++ee){var te=E-V+ee&32767,re=p[te],le=te-re&32767;le>W&&(W=le,H=te)}}}D=H,H=p[D],V+=D-H&32767}if(G){w[A++]=268435456|L3[Q]<<18|q8[G];var ke=L3[Q]&31,Pe=q8[G]&31;k+=_C[ke]+SC[Pe],++_[257+ke],++N[Pe],C=E+Q,++j}else w[A++]=t[E],++_[t[E]]}}for(E=Math.max(E,C);E<o;++E)w[A++]=t[E],++_[t[E]];u=V8(t,c,d,w,_,N,k,A,T,E-T,u),d||(a.r=u&7|c[u/8|0]<<3,u-=7,a.h=x,a.p=p,a.i=E,a.w=C)}else{for(var E=a.w||0;E<o+d;E+=65535){var He=E+65535;He>=o&&(c[u/8|0]=d,He=o),u=DH(c,u+1,t.subarray(E,He))}a.i=o}return rge(l,0,n+IH(u)+i)},BH=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},ige=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Yl(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return nge(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},UH=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},age=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=BH();i.p(e.dictionary),UH(t,2,i.d())}};function D3(t,e){e||(e={});var r=BH();r.p(t);var n=ige(t,e,e.dictionary?6:2,4);return age(n,e),UH(n,n.length-4,r.d()),n}var oge=typeof TextDecoder<"u"&&new TextDecoder,lge=0;try{oge.decode(MH,{stream:!0}),lge=1}catch{}function cge(t){if(Array.isArray(t))return t}function dge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,d=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function H8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function uge(t,e){if(t){if(typeof t=="string")return H8(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H8(t,e):void 0}}function hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8(t,e){return cge(t)||dge(t,e)||uge(t,e)||hge()}function K8(t,e="utf8"){return new TextDecoder(e).decode(t)}const fge=new TextEncoder;function mge(t){return fge.encode(t)}const pge=1024*8,gge=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),k4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class kC{constructor(e=pge,r={}){ce(this,"buffer");ce(this,"byteLength");ce(this,"byteOffset");ce(this,"length");ce(this,"offset");ce(this,"lastWrittenByte");ce(this,"littleEndian");ce(this,"_data");ce(this,"_mark");ce(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof kC)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=k4[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===gge&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+n));l.reverse();const c=new k4[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new k4[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return K8(this.readBytes(e))}decodeText(e=1,r="utf8"){return K8(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(mge(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xg(t){let e=t.length;for(;--e>=0;)t[e]=0}const xge=3,vge=258,$H=29,yge=256,bge=yge+1+$H,qH=30,wge=512,Nge=new Array((bge+2)*2);xg(Nge);const jge=new Array(qH*2);xg(jge);const _ge=new Array(wge);xg(_ge);const Sge=new Array(vge-xge+1);xg(Sge);const kge=new Array($H);xg(kge);const Cge=new Array(qH);xg(Cge);const Age=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var M3=Age;const Ege=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Tge=new Uint32Array(Ege()),Pge=(t,e,r,n)=>{const i=Tge,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var cc=Pge,B3={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zH={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Fge=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Oge=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Fge(r,n)&&(t[n]=r[n])}}return t},Lge=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},VH={assign:Oge,flattenChunks:Lge};let HH=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{HH=!1}const Mv=new Uint8Array(256);for(let t=0;t<256;t++)Mv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Mv[254]=Mv[254]=1;var Rge=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,l=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),a=0,i=0;a<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const Ige=(t,e)=>{if(e<65534&&t.subarray&&HH)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Dge=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let l=Mv[o];if(l>4){a[i++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return Ige(a,i)},Mge=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Mv[t[r]]>e?r:e},U3={string2buf:Rge,buf2string:Dge,utf8border:Mge};function Bge(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Uge=Bge;const Tb=16209,$ge=16191;var qge=function(e,r){let n,i,a,o,l,c,d,u,h,m,f,g,p,x,y,v,b,w,_,N,j,k,E,A;const C=e.state;n=e.next_in,E=e.input,i=n+(e.avail_in-5),a=e.next_out,A=e.output,o=a-(r-e.avail_out),l=a+(e.avail_out-257),c=C.dmax,d=C.wsize,u=C.whave,h=C.wnext,m=C.window,f=C.hold,g=C.bits,p=C.lencode,x=C.distcode,y=(1<<C.lenbits)-1,v=(1<<C.distbits)-1;e:do{g<15&&(f+=E[n++]<<g,g+=8,f+=E[n++]<<g,g+=8),b=p[f&y];t:for(;;){if(w=b>>>24,f>>>=w,g-=w,w=b>>>16&255,w===0)A[a++]=b&65535;else if(w&16){_=b&65535,w&=15,w&&(g<w&&(f+=E[n++]<<g,g+=8),_+=f&(1<<w)-1,f>>>=w,g-=w),g<15&&(f+=E[n++]<<g,g+=8,f+=E[n++]<<g,g+=8),b=x[f&v];r:for(;;){if(w=b>>>24,f>>>=w,g-=w,w=b>>>16&255,w&16){if(N=b&65535,w&=15,g<w&&(f+=E[n++]<<g,g+=8,g<w&&(f+=E[n++]<<g,g+=8)),N+=f&(1<<w)-1,N>c){e.msg="invalid distance too far back",C.mode=Tb;break e}if(f>>>=w,g-=w,w=a-o,N>w){if(w=N-w,w>u&&C.sane){e.msg="invalid distance too far back",C.mode=Tb;break e}if(j=0,k=m,h===0){if(j+=d-w,w<_){_-=w;do A[a++]=m[j++];while(--w);j=a-N,k=A}}else if(h<w){if(j+=d+h-w,w-=h,w<_){_-=w;do A[a++]=m[j++];while(--w);if(j=0,h<_){w=h,_-=w;do A[a++]=m[j++];while(--w);j=a-N,k=A}}}else if(j+=h-w,w<_){_-=w;do A[a++]=m[j++];while(--w);j=a-N,k=A}for(;_>2;)A[a++]=k[j++],A[a++]=k[j++],A[a++]=k[j++],_-=3;_&&(A[a++]=k[j++],_>1&&(A[a++]=k[j++]))}else{j=a-N;do A[a++]=A[j++],A[a++]=A[j++],A[a++]=A[j++],_-=3;while(_>2);_&&(A[a++]=A[j++],_>1&&(A[a++]=A[j++]))}}else if(w&64){e.msg="invalid distance code",C.mode=Tb;break e}else{b=x[(b&65535)+(f&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){C.mode=$ge;break e}else{e.msg="invalid literal/length code",C.mode=Tb;break e}else{b=p[(b&65535)+(f&(1<<w)-1)];continue t}break}}while(n<i&&a<l);_=g>>3,n-=_,g-=_<<3,f&=(1<<g)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<l?257+(l-a):257-(a-l),C.hold=f,C.bits=g};const Ym=15,G8=852,Y8=592,Q8=0,C4=1,X8=2,zge=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Vge=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Hge=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Wge=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Kge=(t,e,r,n,i,a,o,l)=>{const c=l.bits;let d=0,u=0,h=0,m=0,f=0,g=0,p=0,x=0,y=0,v=0,b,w,_,N,j,k=null,E;const A=new Uint16Array(Ym+1),C=new Uint16Array(Ym+1);let T=null,L,D,H;for(d=0;d<=Ym;d++)A[d]=0;for(u=0;u<n;u++)A[e[r+u]]++;for(f=c,m=Ym;m>=1&&A[m]===0;m--);if(f>m&&(f=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<m&&A[h]===0;h++);for(f<h&&(f=h),x=1,d=1;d<=Ym;d++)if(x<<=1,x-=A[d],x<0)return-1;if(x>0&&(t===Q8||m!==1))return-1;for(C[1]=0,d=1;d<Ym;d++)C[d+1]=C[d]+A[d];for(u=0;u<n;u++)e[r+u]!==0&&(o[C[e[r+u]]++]=u);if(t===Q8?(k=T=o,E=20):t===C4?(k=zge,T=Vge,E=257):(k=Hge,T=Wge,E=0),v=0,u=0,d=h,j=a,g=f,p=0,_=-1,y=1<<f,N=y-1,t===C4&&y>G8||t===X8&&y>Y8)return 1;for(;;){L=d-p,o[u]+1<E?(D=0,H=o[u]):o[u]>=E?(D=T[o[u]-E],H=k[o[u]-E]):(D=96,H=0),b=1<<d-p,w=1<<g,h=w;do w-=b,i[j+(v>>p)+w]=L<<24|D<<16|H|0;while(w!==0);for(b=1<<d-1;v&b;)b>>=1;if(b!==0?(v&=b-1,v+=b):v=0,u++,--A[d]===0){if(d===m)break;d=e[r+o[u]]}if(d>f&&(v&N)!==_){for(p===0&&(p=f),j+=h,g=d-p,x=1<<g;g+p<m&&(x-=A[g+p],!(x<=0));)g++,x<<=1;if(y+=1<<g,t===C4&&y>G8||t===X8&&y>Y8)return 1;_=v&N,i[_]=f<<24|g<<16|j-a|0}}return v!==0&&(i[j+v]=d-p<<24|64<<16|0),l.bits=f,0};var Yx=Kge;const Gge=0,WH=1,KH=2,{Z_FINISH:J8,Z_BLOCK:Yge,Z_TREES:Pb,Z_OK:fm,Z_STREAM_END:Qge,Z_NEED_DICT:Xge,Z_STREAM_ERROR:Zo,Z_DATA_ERROR:GH,Z_MEM_ERROR:YH,Z_BUF_ERROR:Jge,Z_DEFLATED:Z8}=zH,gj=16180,eF=16181,tF=16182,rF=16183,sF=16184,nF=16185,iF=16186,aF=16187,oF=16188,lF=16189,yw=16190,cd=16191,A4=16192,cF=16193,E4=16194,dF=16195,uF=16196,hF=16197,fF=16198,Fb=16199,Ob=16200,mF=16201,pF=16202,gF=16203,xF=16204,vF=16205,T4=16206,yF=16207,bF=16208,Js=16209,QH=16210,XH=16211,Zge=852,exe=592,txe=15,rxe=txe,wF=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function sxe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const km=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<gj||e.mode>XH?1:0},JH=t=>{if(km(t))return Zo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=gj,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Zge),e.distcode=e.distdyn=new Int32Array(exe),e.sane=1,e.back=-1,fm},ZH=t=>{if(km(t))return Zo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,JH(t)},eW=(t,e)=>{let r;if(km(t))return Zo;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Zo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,ZH(t))},tW=(t,e)=>{if(!t)return Zo;const r=new sxe;t.state=r,r.strm=t,r.window=null,r.mode=gj;const n=eW(t,e);return n!==fm&&(t.state=null),n},nxe=t=>tW(t,rxe);let NF=!0,P4,F4;const ixe=t=>{if(NF){P4=new Int32Array(512),F4=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Yx(WH,t.lens,0,288,P4,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Yx(KH,t.lens,0,32,F4,0,t.work,{bits:5}),NF=!1}t.lencode=P4,t.lenbits=9,t.distcode=F4,t.distbits=5},rW=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},axe=(t,e)=>{let r,n,i,a,o,l,c,d,u,h,m,f,g,p,x=0,y,v,b,w,_,N,j,k;const E=new Uint8Array(4);let A,C;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(km(t)||!t.output||!t.input&&t.avail_in!==0)return Zo;r=t.state,r.mode===cd&&(r.mode=A4),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,d=r.hold,u=r.bits,h=l,m=c,k=fm;e:for(;;)switch(r.mode){case gj:if(r.wrap===0){r.mode=A4;break}for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,E[0]=d&255,E[1]=d>>>8&255,r.check=cc(r.check,E,2,0),d=0,u=0,r.mode=eF;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=Js;break}if((d&15)!==Z8){t.msg="unknown compression method",r.mode=Js;break}if(d>>>=4,u-=4,j=(d&15)+8,r.wbits===0&&(r.wbits=j),j>15||j>r.wbits){t.msg="invalid window size",r.mode=Js;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=d&512?lF:cd,d=0,u=0;break;case eF:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.flags=d,(r.flags&255)!==Z8){t.msg="unknown compression method",r.mode=Js;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Js;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=cc(r.check,E,2,0)),d=0,u=0,r.mode=tF;case tF:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,E[2]=d>>>16&255,E[3]=d>>>24&255,r.check=cc(r.check,E,4,0)),d=0,u=0,r.mode=rF;case rF:for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=cc(r.check,E,2,0)),d=0,u=0,r.mode=sF;case sF:if(r.flags&1024){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(E[0]=d&255,E[1]=d>>>8&255,r.check=cc(r.check,E,2,0)),d=0,u=0}else r.head&&(r.head.extra=null);r.mode=nF;case nF:if(r.flags&1024&&(f=r.length,f>l&&(f=l),f&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+f),j)),r.flags&512&&r.wrap&4&&(r.check=cc(r.check,n,f,a)),l-=f,a+=f,r.length-=f),r.length))break e;r.length=0,r.mode=iF;case iF:if(r.flags&2048){if(l===0)break e;f=0;do j=n[a+f++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j));while(j&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=cc(r.check,n,f,a)),l-=f,a+=f,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=aF;case aF:if(r.flags&4096){if(l===0)break e;f=0;do j=n[a+f++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j));while(j&&f<l);if(r.flags&512&&r.wrap&4&&(r.check=cc(r.check,n,f,a)),l-=f,a+=f,j)break e}else r.head&&(r.head.comment=null);r.mode=oF;case oF:if(r.flags&512){for(;u<16;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&4&&d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Js;break}d=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=cd;break;case lF:for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}t.adler=r.check=wF(d),d=0,u=0,r.mode=yw;case yw:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=u,Xge;t.adler=r.check=1,r.mode=cd;case cd:if(e===Yge||e===Pb)break e;case A4:if(r.last){d>>>=u&7,u-=u&7,r.mode=T4;break}for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}switch(r.last=d&1,d>>>=1,u-=1,d&3){case 0:r.mode=cF;break;case 1:if(ixe(r),r.mode=Fb,e===Pb){d>>>=2,u-=2;break e}break;case 2:r.mode=uF;break;case 3:t.msg="invalid block type",r.mode=Js}d>>>=2,u-=2;break;case cF:for(d>>>=u&7,u-=u&7;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Js;break}if(r.length=d&65535,d=0,u=0,r.mode=E4,e===Pb)break e;case E4:r.mode=dF;case dF:if(f=r.length,f){if(f>l&&(f=l),f>c&&(f=c),f===0)break e;i.set(n.subarray(a,a+f),o),l-=f,a+=f,c-=f,o+=f,r.length-=f;break}r.mode=cd;break;case uF:for(;u<14;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.nlen=(d&31)+257,d>>>=5,u-=5,r.ndist=(d&31)+1,d>>>=5,u-=5,r.ncode=(d&15)+4,d>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Js;break}r.have=0,r.mode=hF;case hF:for(;r.have<r.ncode;){for(;u<3;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.lens[T[r.have++]]=d&7,d>>>=3,u-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},k=Yx(Gge,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,k){t.msg="invalid code lengths set",r.mode=Js;break}r.have=0,r.mode=fF;case fF:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[d&(1<<r.lenbits)-1],y=x>>>24,v=x>>>16&255,b=x&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(b<16)d>>>=y,u-=y,r.lens[r.have++]=b;else{if(b===16){for(C=y+2;u<C;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(d>>>=y,u-=y,r.have===0){t.msg="invalid bit length repeat",r.mode=Js;break}j=r.lens[r.have-1],f=3+(d&3),d>>>=2,u-=2}else if(b===17){for(C=y+3;u<C;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=y,u-=y,j=0,f=3+(d&7),d>>>=3,u-=3}else{for(C=y+7;u<C;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=y,u-=y,j=0,f=11+(d&127),d>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Js;break}for(;f--;)r.lens[r.have++]=j}}if(r.mode===Js)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Js;break}if(r.lenbits=9,A={bits:r.lenbits},k=Yx(WH,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,k){t.msg="invalid literal/lengths set",r.mode=Js;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},k=Yx(KH,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,k){t.msg="invalid distances set",r.mode=Js;break}if(r.mode=Fb,e===Pb)break e;case Fb:r.mode=Ob;case Ob:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=u,qge(t,m),o=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,l=t.avail_in,d=r.hold,u=r.bits,r.mode===cd&&(r.back=-1);break}for(r.back=0;x=r.lencode[d&(1<<r.lenbits)-1],y=x>>>24,v=x>>>16&255,b=x&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(v&&!(v&240)){for(w=y,_=v,N=b;x=r.lencode[N+((d&(1<<w+_)-1)>>w)],y=x>>>24,v=x>>>16&255,b=x&65535,!(w+y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=w,u-=w,r.back+=w}if(d>>>=y,u-=y,r.back+=y,r.length=b,v===0){r.mode=vF;break}if(v&32){r.back=-1,r.mode=cd;break}if(v&64){t.msg="invalid literal/length code",r.mode=Js;break}r.extra=v&15,r.mode=mF;case mF:if(r.extra){for(C=r.extra;u<C;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=pF;case pF:for(;x=r.distcode[d&(1<<r.distbits)-1],y=x>>>24,v=x>>>16&255,b=x&65535,!(y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(!(v&240)){for(w=y,_=v,N=b;x=r.distcode[N+((d&(1<<w+_)-1)>>w)],y=x>>>24,v=x>>>16&255,b=x&65535,!(w+y<=u);){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}d>>>=w,u-=w,r.back+=w}if(d>>>=y,u-=y,r.back+=y,v&64){t.msg="invalid distance code",r.mode=Js;break}r.offset=b,r.extra=v&15,r.mode=gF;case gF:if(r.extra){for(C=r.extra;u<C;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Js;break}r.mode=xF;case xF:if(c===0)break e;if(f=m-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Js;break}f>r.wnext?(f-=r.wnext,g=r.wsize-f):g=r.wnext-f,f>r.length&&(f=r.length),p=r.window}else p=i,g=o-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do i[o++]=p[g++];while(--f);r.length===0&&(r.mode=Ob);break;case vF:if(c===0)break e;i[o++]=r.length,c--,r.mode=Ob;break;case T4:if(r.wrap){for(;u<32;){if(l===0)break e;l--,d|=n[a++]<<u,u+=8}if(m-=c,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?cc(r.check,i,m,o-m):M3(r.check,i,m,o-m)),m=c,r.wrap&4&&(r.flags?d:wF(d))!==r.check){t.msg="incorrect data check",r.mode=Js;break}d=0,u=0}r.mode=yF;case yF:if(r.wrap&&r.flags){for(;u<32;){if(l===0)break e;l--,d+=n[a++]<<u,u+=8}if(r.wrap&4&&d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Js;break}d=0,u=0}r.mode=bF;case bF:k=Qge;break e;case Js:k=GH;break e;case QH:return YH;case XH:default:return Zo}return t.next_out=o,t.avail_out=c,t.next_in=a,t.avail_in=l,r.hold=d,r.bits=u,(r.wsize||m!==t.avail_out&&r.mode<Js&&(r.mode<T4||e!==J8))&&rW(t,t.output,t.next_out,m-t.avail_out),h-=t.avail_in,m-=t.avail_out,t.total_in+=h,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?cc(r.check,i,m,t.next_out-m):M3(r.check,i,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===cd?128:0)+(r.mode===Fb||r.mode===E4?256:0),(h===0&&m===0||e===J8)&&k===fm&&(k=Jge),k},oxe=t=>{if(km(t))return Zo;let e=t.state;return e.window&&(e.window=null),t.state=null,fm},lxe=(t,e)=>{if(km(t))return Zo;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,fm):Zo},cxe=(t,e)=>{const r=e.length;let n,i,a;return km(t)||(n=t.state,n.wrap!==0&&n.mode!==yw)?Zo:n.mode===yw&&(i=1,i=M3(i,e,r,0),i!==n.check)?GH:(a=rW(t,e,r,r),a?(n.mode=QH,YH):(n.havedict=1,fm))};var dxe=ZH,uxe=eW,hxe=JH,fxe=nxe,mxe=tW,pxe=axe,gxe=oxe,xxe=lxe,vxe=cxe,yxe="pako inflate (from Nodeca project)",pd={inflateReset:dxe,inflateReset2:uxe,inflateResetKeep:hxe,inflateInit:fxe,inflateInit2:mxe,inflate:pxe,inflateEnd:gxe,inflateGetHeader:xxe,inflateSetDictionary:vxe,inflateInfo:yxe};function bxe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wxe=bxe;const sW=Object.prototype.toString,{Z_NO_FLUSH:Nxe,Z_FINISH:jxe,Z_OK:Bv,Z_STREAM_END:O4,Z_NEED_DICT:L4,Z_STREAM_ERROR:_xe,Z_DATA_ERROR:jF,Z_MEM_ERROR:Sxe}=zH;function i1(t){this.options=VH.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Uge,this.strm.avail_out=0;let r=pd.inflateInit2(this.strm,e.windowBits);if(r!==Bv)throw new Error(B3[r]);if(this.header=new wxe,pd.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=U3.string2buf(e.dictionary):sW.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=pd.inflateSetDictionary(this.strm,e.dictionary),r!==Bv)))throw new Error(B3[r])}i1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?jxe:Nxe,sW.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=pd.inflate(r,o),a===L4&&i&&(a=pd.inflateSetDictionary(r,i),a===Bv?a=pd.inflate(r,o):a===jF&&(a=L4));r.avail_in>0&&a===O4&&r.state.wrap>0&&t[r.next_in]!==0;)pd.inflateReset(r),a=pd.inflate(r,o);switch(a){case _xe:case jF:case L4:case Sxe:return this.onEnd(a),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||a===O4))if(this.options.to==="string"){let c=U3.utf8border(r.output,r.next_out),d=r.next_out-c,u=U3.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Bv&&l===0)){if(a===O4)return a=pd.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};i1.prototype.onData=function(t){this.chunks.push(t)};i1.prototype.onEnd=function(t){t===Bv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=VH.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function kxe(t,e){const r=new i1(e);if(r.push(t),r.err)throw r.msg||B3[r.err];return r.result}var Cxe=i1,Axe=kxe,Exe={Inflate:Cxe,inflate:Axe};const{Inflate:Txe,inflate:Pxe}=Exe;var _F=Txe,Fxe=Pxe;const nW=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;nW[t]=e}const SF=4294967295;function Oxe(t,e,r){let n=t;for(let i=0;i<r;i++)n=nW[(n^e[i])&255]^n>>>8;return n}function Lxe(t,e){return(Oxe(SF,t,e)^SF)>>>0}function kF(t,e,r){const n=t.readUint32(),i=Lxe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function iW(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function aW(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function oW(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function lW(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function cW(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+Rxe(e[a-i],r[a],r[a-i])&255}}function Rxe(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function Ixe(t,e,r,n,i,a){switch(t){case 0:iW(e,r,i);break;case 1:aW(e,r,i,a);break;case 2:oW(e,r,n,i);break;case 3:lW(e,r,n,i,a);break;case 4:cW(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Dxe=new Uint16Array([255]),Mxe=new Uint8Array(Dxe.buffer),Bxe=Mxe[0]===255;function Uxe(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(n*r*l);let d=0;for(let u=0;u<7;u++){const h=o[u],m=Math.ceil((r-h.x)/h.xStep),f=Math.ceil((n-h.y)/h.yStep);if(m<=0||f<=0)continue;const g=m*l,p=new Uint8Array(g);for(let x=0;x<f;x++){const y=e[d++],v=e.subarray(d,d+g);d+=g;const b=new Uint8Array(g);Ixe(y,v,b,p,g,l),p.set(b);for(let w=0;w<m;w++){const _=h.x+w*h.xStep,N=h.y+x*h.yStep;if(!(_>=r||N>=n))for(let j=0;j<l;j++)c[(N*r+_)*l+j]=b[w*l+j]}}}if(a===16){const u=new Uint16Array(c.buffer);if(Bxe)for(let h=0;h<u.length;h++)u[h]=$xe(u[h]);return u}else return c}function $xe(t){return(t&255)<<8|t>>8&255}const qxe=new Uint16Array([255]),zxe=new Uint8Array(qxe.buffer),Vxe=zxe[0]===255,Hxe=new Uint8Array(0);function CF(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*r),c=new Uint8Array(n*l);let d=Hxe,u=0,h,m;for(let f=0;f<n;f++){switch(h=e.subarray(u+1,u+1+l),m=c.subarray(f*l,(f+1)*l),e[u]){case 0:iW(h,m,l);break;case 1:aW(h,m,l,o);break;case 2:oW(h,m,d,l);break;case 3:lW(h,m,d,l,o);break;case 4:cW(h,m,d,l,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}d=m,u+=l+1}if(a===16){const f=new Uint16Array(c.buffer);if(Vxe)for(let g=0;g<f.length;g++)f[g]=Wxe(f[g]);return f}else return c}function Wxe(t){return(t&255)<<8|t>>8&255}const w2=Uint8Array.of(137,80,78,71,13,10,26,10);function AF(t){if(!Kxe(t.readBytes(w2.length)))throw new Error("wrong PNG signature")}function Kxe(t){if(t.length<w2.length)return!1;for(let e=0;e<w2.length;e++)if(t[e]!==w2[e])return!1;return!0}const Gxe="tEXt",Yxe=0,dW=new TextDecoder("latin1");function Qxe(t){if(Jxe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Xxe=/^[\u0000-\u00FF]*$/;function Jxe(t){if(!Xxe.test(t))throw new Error("invalid latin1 text")}function Zxe(t,e,r){const n=uW(e);t[n]=eve(e,r-n.length-1)}function uW(t){for(t.mark();t.readByte()!==Yxe;);const e=t.offset;t.reset();const r=dW.decode(t.readBytes(e-t.offset-1));return t.skip(1),Qxe(r),r}function eve(t,e){return dW.decode(t.readBytes(e))}const oo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},R4={UNKNOWN:-1,DEFLATE:0},EF={UNKNOWN:-1,ADAPTIVE:0},I4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Lb={NONE:0,BACKGROUND:1,PREVIOUS:2},D4={SOURCE:0,OVER:1};class tve extends kC{constructor(r,n={}){super(r);ce(this,"_checkCrc");ce(this,"_inflator");ce(this,"_png");ce(this,"_apng");ce(this,"_end");ce(this,"_hasPalette");ce(this,"_palette");ce(this,"_hasTransparency");ce(this,"_transparency");ce(this,"_compressionMethod");ce(this,"_filterMethod");ce(this,"_interlaceMethod");ce(this,"_colorType");ce(this,"_isAnimated");ce(this,"_numberOfFrames");ce(this,"_numberOfPlays");ce(this,"_frames");ce(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new _F,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=R4.UNKNOWN,this._filterMethod=EF.UNKNOWN,this._interlaceMethod=I4.UNKNOWN,this._colorType=oo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(AF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(AF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Gxe:Zxe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?kF(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?kF(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=rve(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case oo.GREYSCALE:i=1;break;case oo.TRUECOLOUR:i=3;break;case oo.INDEXED_COLOUR:i=1;break;case oo.GREYSCALE_ALPHA:i=2;break;case oo.TRUECOLOUR_ALPHA:i=4;break;case oo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==R4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case oo.GREYSCALE:case oo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case oo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case oo.UNKNOWN:case oo.GREYSCALE_ALPHA:case oo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=uW(this),i=this.readUint8();if(i!==R4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Fxe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=CF({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Lb.NONE:break;case Lb.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case Lb.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case D4.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++)r.data[c+u]=n.data[d+u]}break;case D4.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=a(o,l);for(let u=0;u<this._png.channels;u++){const h=n.data[d+this._png.channels-1]/i,m=u%(this._png.channels-1)===0?1:n.data[d+u],f=Math.floor(h*m+(1-h)*r.data[c+u]);r.data[c+u]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==EF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===I4.NO_INTERLACE)this._png.data=CF({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===I4.ADAM7)this._png.data=Uxe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Lb.NONE,blendOp:D4.SOURCE,data:r}),this._inflator=new _F,this._writingDataChunks=!1}}function rve(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var TF;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(TF||(TF={}));function sve(t,e){return new tve(t,e).decode()}var fr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function M4(){fr.console&&typeof fr.console.log=="function"&&fr.console.log.apply(fr.console,arguments)}var Ls={log:M4,warn:function(t){fr.console&&(typeof fr.console.warn=="function"?fr.console.warn.apply(fr.console,arguments):M4.call(null,arguments))},error:function(t){fr.console&&(typeof fr.console.error=="function"?fr.console.error.apply(fr.console,arguments):M4(t))}};function B4(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){af(n.response,e,r)},n.onerror=function(){Ls.error("could not download file")},n.send()}function PF(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Rb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var af=fr.saveAs||((typeof window>"u"?"undefined":Ss(window))!=="object"||window!==fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=fr.URL||fr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?PF(i.href)?B4(t,e,r):Rb(i,i.target="_blank"):Rb(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Rb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(PF(t))B4(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Rb(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Ss(a)!=="object"&&(Ls.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return B4(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(fr.HTMLElement)||fr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Ss(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},l.readAsDataURL(t)}else{var c=fr.URL||fr.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hW(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var N2=fr.atob.bind(fr),FF=fr.btoa.bind(fr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function U4(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Xi(r,n,i,a,e[0],7,-680876936),a=Xi(a,r,n,i,e[1],12,-389564586),i=Xi(i,a,r,n,e[2],17,606105819),n=Xi(n,i,a,r,e[3],22,-1044525330),r=Xi(r,n,i,a,e[4],7,-176418897),a=Xi(a,r,n,i,e[5],12,1200080426),i=Xi(i,a,r,n,e[6],17,-1473231341),n=Xi(n,i,a,r,e[7],22,-45705983),r=Xi(r,n,i,a,e[8],7,1770035416),a=Xi(a,r,n,i,e[9],12,-1958414417),i=Xi(i,a,r,n,e[10],17,-42063),n=Xi(n,i,a,r,e[11],22,-1990404162),r=Xi(r,n,i,a,e[12],7,1804603682),a=Xi(a,r,n,i,e[13],12,-40341101),i=Xi(i,a,r,n,e[14],17,-1502002290),r=Ji(r,n=Xi(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ji(a,r,n,i,e[6],9,-1069501632),i=Ji(i,a,r,n,e[11],14,643717713),n=Ji(n,i,a,r,e[0],20,-373897302),r=Ji(r,n,i,a,e[5],5,-701558691),a=Ji(a,r,n,i,e[10],9,38016083),i=Ji(i,a,r,n,e[15],14,-660478335),n=Ji(n,i,a,r,e[4],20,-405537848),r=Ji(r,n,i,a,e[9],5,568446438),a=Ji(a,r,n,i,e[14],9,-1019803690),i=Ji(i,a,r,n,e[3],14,-187363961),n=Ji(n,i,a,r,e[8],20,1163531501),r=Ji(r,n,i,a,e[13],5,-1444681467),a=Ji(a,r,n,i,e[2],9,-51403784),i=Ji(i,a,r,n,e[7],14,1735328473),r=Zi(r,n=Ji(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Zi(a,r,n,i,e[8],11,-2022574463),i=Zi(i,a,r,n,e[11],16,1839030562),n=Zi(n,i,a,r,e[14],23,-35309556),r=Zi(r,n,i,a,e[1],4,-1530992060),a=Zi(a,r,n,i,e[4],11,1272893353),i=Zi(i,a,r,n,e[7],16,-155497632),n=Zi(n,i,a,r,e[10],23,-1094730640),r=Zi(r,n,i,a,e[13],4,681279174),a=Zi(a,r,n,i,e[0],11,-358537222),i=Zi(i,a,r,n,e[3],16,-722521979),n=Zi(n,i,a,r,e[6],23,76029189),r=Zi(r,n,i,a,e[9],4,-640364487),a=Zi(a,r,n,i,e[12],11,-421815835),i=Zi(i,a,r,n,e[15],16,530742520),r=ea(r,n=Zi(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ea(a,r,n,i,e[7],10,1126891415),i=ea(i,a,r,n,e[14],15,-1416354905),n=ea(n,i,a,r,e[5],21,-57434055),r=ea(r,n,i,a,e[12],6,1700485571),a=ea(a,r,n,i,e[3],10,-1894986606),i=ea(i,a,r,n,e[10],15,-1051523),n=ea(n,i,a,r,e[1],21,-2054922799),r=ea(r,n,i,a,e[8],6,1873313359),a=ea(a,r,n,i,e[15],10,-30611744),i=ea(i,a,r,n,e[6],15,-1560198380),n=ea(n,i,a,r,e[13],21,1309151649),r=ea(r,n,i,a,e[4],6,-145523070),a=ea(a,r,n,i,e[11],10,-1120210379),i=ea(i,a,r,n,e[2],15,718787259),n=ea(n,i,a,r,e[9],21,-343485551),t[0]=Yu(r,t[0]),t[1]=Yu(n,t[1]),t[2]=Yu(i,t[2]),t[3]=Yu(a,t[3])}function xj(t,e,r,n,i,a){return e=Yu(Yu(e,t),Yu(n,a)),Yu(e<<i|e>>>32-i,r)}function Xi(t,e,r,n,i,a,o){return xj(e&r|~e&n,t,e,i,a,o)}function Ji(t,e,r,n,i,a,o){return xj(e&n|r&~n,t,e,i,a,o)}function Zi(t,e,r,n,i,a,o){return xj(e^r^n,t,e,i,a,o)}function ea(t,e,r,n,i,a,o){return xj(r^(e|~n),t,e,i,a,o)}function fW(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)U4(n,nve(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(U4(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,U4(n,i),n}function nve(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var OF="0123456789abcdef".split("");function ive(t){for(var e="",r=0;r<4;r++)e+=OF[t>>8*r+4&15]+OF[t>>8*r&15];return e}function ave(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $3(t){return fW(t).map(ave).join("")}var ove=function(t){for(var e=0;e<t.length;e++)t[e]=ive(t[e]);return t.join("")}(fW("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yu(t,e){if(ove){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q3(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,n=l}else l=n;var h=e.length,m=0,f=0,g="";for(c=0;c<h;c++)f=(f+(u=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=u,o=l[(l[m]+l[f])%256],g+=String.fromCharCode(e.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LF={print:4,modify:8,copy:16,"annot-forms":32};function op(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(LF.perm!==void 0)throw new Error("Invalid permission: "+l);i+=LF[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=$3(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=q3(this.encryptionKey,this.padding)}function lp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function RF(t){if(Ss(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(l){fr.console&&Ls.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function bw(t){if(!(this instanceof bw))return new bw(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function mW(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function cf(t,e,r,n,i){if(!(this instanceof cf))return new cf(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,mW.call(this,n,i)}function kp(t,e,r,n,i){if(!(this instanceof kp))return new kp(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,mW.call(this,n,i)}function er(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,d="S",u=null;Ss(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=RF;var g="1.3",p=f.__private__.getPdfVersion=function(){return g};f.__private__.setPdfVersion=function(R){g=R};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return x};var y=f.__private__.getPageFormat=function(R){return x[R]};i=i||"a4";var v="compat",b="advanced",w=v;function _(){this.saveGraphicsState(),fe(new ir(Rt,0,0,-Rt,0,zh()*Rt).toString()+" cm"),this.setFontSize(this.getFontSize()/Rt),d="n",w=b}function N(){this.restoreGraphicsState(),d="S",w=v}var j=f.__private__.combineFontStyleAndFontWeight=function(R,J){if(R=="bold"&&J=="normal"||R=="bold"&&J==400||R=="normal"&&J=="italic"||R=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(R=J==400||J==="normal"?R==="italic"?"italic":"normal":J!=700&&J!=="bold"||R!=="normal"?(J==700?"bold":J)+""+R:"bold"),R};f.advancedAPI=function(R){var J=w===v;return J&&_.call(this),typeof R!="function"||(R(this),J&&N.call(this)),this},f.compatAPI=function(R){var J=w===b;return J&&N.call(this),typeof R!="function"||(R(this),J&&_.call(this)),this},f.isAdvancedAPI=function(){return w===b};var k,E=function(R){if(w!==b)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=f.roundToPrecision=f.__private__.roundToPrecision=function(R,J){var we=e||J;if(isNaN(R)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(we).replace(/0+$/,"")};k=f.hpf=f.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return A(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return A(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return A(R,16)};var C=f.f2=f.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return A(R,2)},T=f.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return A(R,3)},L=f.scale=f.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return w===v?R*Rt:w===b?R:void 0},D=function(R){return L(function(J){return w===v?zh()-J:w===b?J:void 0}(R))};f.__private__.setPrecision=f.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var H,X="00000000000000000000000000000000",ee=f.__private__.getFileId=function(){return X},Q=f.__private__.setFileId=function(R){return X=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Cn=new op(u.userPermissions,u.userPassword,u.ownerPassword,X)),X};f.setFileId=function(R){return Q(R),this},f.getFileId=function(){return ee()};var G=f.__private__.convertDateToPDFDate=function(R){var J=R.getTimezoneOffset(),we=J<0?"+":"-",Ee=Math.floor(Math.abs(J/60)),Ie=Math.abs(J%60),ot=[we,B(Ee),"'",B(Ie),"'"].join("");return["D:",R.getFullYear(),B(R.getMonth()+1),B(R.getDate()),B(R.getHours()),B(R.getMinutes()),B(R.getSeconds()),ot].join("")},z=f.__private__.convertPDFDateToDate=function(R){var J=parseInt(R.substr(2,4),10),we=parseInt(R.substr(6,2),10)-1,Ee=parseInt(R.substr(8,2),10),Ie=parseInt(R.substr(10,2),10),ot=parseInt(R.substr(12,2),10),mt=parseInt(R.substr(14,2),10);return new Date(J,we,Ee,Ie,ot,mt,0)},V=f.__private__.setCreationDate=function(R){var J;if(R===void 0&&(R=new Date),R instanceof Date)J=G(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=R}return H=J},F=f.__private__.getCreationDate=function(R){var J=H;return R==="jsDate"&&(J=z(H)),J};f.setCreationDate=function(R){return V(R),this},f.getCreationDate=function(R){return F(R)};var I,B=f.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},q=f.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},U=0,W=[],te=[],re=0,le=[],ke=[],Pe=!1,He=te;f.__private__.setCustomOutputDestination=function(R){Pe=!0,He=R};var Ae=function(R){Pe||(He=R)};f.__private__.resetCustomOutputDestination=function(){Pe=!1,He=te};var fe=f.__private__.out=function(R){return R=R.toString(),re+=R.length+1,He.push(R),He},_t=f.__private__.write=function(R){return fe(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},Je=f.__private__.getArrayBuffer=function(R){for(var J=R.length,we=new ArrayBuffer(J),Ee=new Uint8Array(we);J--;)Ee[J]=R.charCodeAt(J);return we},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Oe};var Ce=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(R){return Ce=w===b?R/Rt:R,this};var oe,me=f.__private__.getFontSize=f.getFontSize=function(){return w===v?Ce:Ce*Rt},Ne=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(R){return Ne=R,this},f.__private__.getR2L=f.getR2L=function(){return Ne};var Be,qe=f.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))oe=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');oe=R}else oe=parseInt(R,10)};f.__private__.getZoomMode=function(){return oe};var De,ct=f.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Be=R};f.__private__.getPageMode=function(){return Be};var Ut=f.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');De=R};f.__private__.getLayoutMode=function(){return De},f.__private__.setDisplayMode=f.setDisplayMode=function(R,J,we){return qe(R),Ut(J),ct(we),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(R){if(Object.keys(xt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[R]},f.__private__.getDocumentProperties=function(){return xt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(R){for(var J in xt)xt.hasOwnProperty(J)&&R[J]&&(xt[J]=R[J]);return this},f.__private__.setDocumentProperty=function(R,J){if(Object.keys(xt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[R]=J};var $t,Rt,It,os,Mr,Ht={},dr={},rs=[],sr={},Er={},pr={},Qs={},kn=null,vs=0,or=[],ss=new RF(f),Yc=t.hotfixes||[],hi={},rl={},Po=[],ir=function R(J,we,Ee,Ie,ot,mt){if(!(this instanceof R))return new R(J,we,Ee,Ie,ot,mt);isNaN(J)&&(J=1),isNaN(we)&&(we=0),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=1),isNaN(ot)&&(ot=0),isNaN(mt)&&(mt=0),this._matrix=[J,we,Ee,Ie,ot,mt]};Object.defineProperty(ir.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(ir.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(ir.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(ir.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(ir.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(ir.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(ir.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(ir.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(ir.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(ir.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(ir.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(ir.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(ir.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ir.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ir.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ir.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ir.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(R)},ir.prototype.multiply=function(R){var J=R.sx*this.sx+R.shy*this.shx,we=R.sx*this.shy+R.shy*this.sy,Ee=R.shx*this.sx+R.sy*this.shx,Ie=R.shx*this.shy+R.sy*this.sy,ot=R.tx*this.sx+R.ty*this.shx+this.tx,mt=R.tx*this.shy+R.ty*this.sy+this.ty;return new ir(J,we,Ee,Ie,ot,mt)},ir.prototype.decompose=function(){var R=this.sx,J=this.shy,we=this.shx,Ee=this.sy,Ie=this.tx,ot=this.ty,mt=Math.sqrt(R*R+J*J),Gt=(R/=mt)*we+(J/=mt)*Ee;we-=R*Gt,Ee-=J*Gt;var Jt=Math.sqrt(we*we+Ee*Ee);return Gt/=Jt,R*(Ee/=Jt)<J*(we/=Jt)&&(R=-R,J=-J,Gt=-Gt,mt=-mt),{scale:new ir(mt,0,0,Jt,0,0),translate:new ir(1,0,0,1,Ie,ot),rotate:new ir(R,J,-J,R,0,0),skew:new ir(1,0,Gt,1,0,0)}},ir.prototype.toString=function(R){return this.join(" ")},ir.prototype.inversed=function(){var R=this.sx,J=this.shy,we=this.shx,Ee=this.sy,Ie=this.tx,ot=this.ty,mt=1/(R*Ee-J*we),Gt=Ee*mt,Jt=-J*mt,gr=-we*mt,wr=R*mt;return new ir(Gt,Jt,gr,wr,-Gt*Ie-gr*ot,-Jt*Ie-wr*ot)},ir.prototype.applyToPoint=function(R){var J=R.x*this.sx+R.y*this.shx+this.tx,we=R.x*this.shy+R.y*this.sy+this.ty;return new $h(J,we)},ir.prototype.applyToRectangle=function(R){var J=this.applyToPoint(R),we=this.applyToPoint(new $h(R.x+R.w,R.y+R.h));return new Ig(J.x,J.y,we.x-J.x,we.y-J.y)},ir.prototype.clone=function(){var R=this.sx,J=this.shy,we=this.shx,Ee=this.sy,Ie=this.tx,ot=this.ty;return new ir(R,J,we,Ee,Ie,ot)},f.Matrix=ir;var sl=f.matrixMult=function(R,J){return J.multiply(R)},nl=new ir(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=nl;var Vi=function(R,J){if(!Er[R]){var we=(J instanceof cf?"Sh":"P")+(Object.keys(sr).length+1).toString(10);J.id=we,Er[R]=we,sr[we]=J,ss.publish("addPattern",J)}};f.ShadingPattern=cf,f.TilingPattern=kp,f.addShadingPattern=function(R,J){return E("addShadingPattern()"),Vi(R,J),this},f.beginTilingPattern=function(R){E("beginTilingPattern()"),Dg(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},f.endTilingPattern=function(R,J){E("endTilingPattern()"),J.stream=ke[I].join(`
`),Vi(R,J),ss.publish("endTilingPattern",J),Po.pop().restore()};var La,Xs=f.__private__.newObject=function(){var R=Mn();return se(R,!0),R},Mn=f.__private__.newObjectDeferred=function(){return U++,W[U]=function(){return re},U},se=function(R,J){return J=typeof J=="boolean"&&J,W[R]=re,J&&fe(R+" 0 obj"),R},ye=f.__private__.newAdditionalObject=function(){var R={objId:Mn(),content:""};return le.push(R),R},ue=Mn(),pe=Mn(),be=f.__private__.decodeColorString=function(R){var J=R.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var we=parseFloat(J[0]);J=[we,we,we,"r"]}for(var Ee="#",Ie=0;Ie<3;Ie++)Ee+=("0"+Math.floor(255*parseFloat(J[Ie])).toString(16)).slice(-2);return Ee},je=f.__private__.encodeColorString=function(R){var J;typeof R=="string"&&(R={ch1:R});var we=R.ch1,Ee=R.ch2,Ie=R.ch3,ot=R.ch4,mt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var Gt=new hW(we);if(Gt.ok)we=Gt.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var Jt=parseInt(we.substr(1),16);we=Jt>>16&255,Ee=Jt>>8&255,Ie=255&Jt}if(Ee===void 0||ot===void 0&&we===Ee&&Ee===Ie)J=typeof we=="string"?we+" "+mt[0]:R.precision===2?C(we/255)+" "+mt[0]:T(we/255)+" "+mt[0];else if(ot===void 0||Ss(ot)==="object"){if(ot&&!isNaN(ot.a)&&ot.a===0)return["1.","1.","1.",mt[1]].join(" ");J=typeof we=="string"?[we,Ee,Ie,mt[1]].join(" "):R.precision===2?[C(we/255),C(Ee/255),C(Ie/255),mt[1]].join(" "):[T(we/255),T(Ee/255),T(Ie/255),mt[1]].join(" ")}else J=typeof we=="string"?[we,Ee,Ie,ot,mt[2]].join(" "):R.precision===2?[C(we),C(Ee),C(Ie),C(ot),mt[2]].join(" "):[T(we),T(Ee),T(Ie),T(ot),mt[2]].join(" ");return J},Ue=f.__private__.getFilters=function(){return o},tt=f.__private__.putStream=function(R){var J=(R=R||{}).data||"",we=R.filters||Ue(),Ee=R.alreadyAppliedFilters||[],Ie=R.addLength1||!1,ot=J.length,mt=R.objectId,Gt=function(Jn){return Jn};if(u!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Gt=Cn.encryptor(mt,0));var Jt={};we===!0&&(we=["FlateEncode"]);var gr=R.additionalKeyValues||[],wr=(Jt=er.API.processDataByFilters!==void 0?er.API.processDataByFilters(J,we):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Jt.data.length!==0&&(gr.push({key:"Length",value:Jt.data.length}),Ie===!0&&gr.push({key:"Length1",value:ot})),wr.length!=0)if(wr.split("/").length-1==1)gr.push({key:"Filter",value:wr});else{gr.push({key:"Filter",value:"["+wr+"]"});for(var ls=0;ls<gr.length;ls+=1)if(gr[ls].key==="DecodeParms"){for(var nn=[],Un=0;Un<Jt.reverseChain.split("/").length-1;Un+=1)nn.push("null");nn.push(gr[ls].value),gr[ls].value="["+nn.join(" ")+"]"}}fe("<<");for(var Bs=0;Bs<gr.length;Bs++)fe("/"+gr[Bs].key+" "+gr[Bs].value);fe(">>"),Jt.data.length!==0&&(fe("stream"),fe(Gt(Jt.data)),fe("endstream"))},$e=f.__private__.putPage=function(R){var J=R.number,we=R.data,Ee=R.objId,Ie=R.contentsObjId;se(Ee,!0),fe("<</Type /Page"),fe("/Parent "+R.rootDictionaryObjId+" 0 R"),fe("/Resources "+R.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(k(R.mediaBox.bottomLeftX))+" "+parseFloat(k(R.mediaBox.bottomLeftY))+" "+k(R.mediaBox.topRightX)+" "+k(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&fe("/CropBox ["+k(R.cropBox.bottomLeftX)+" "+k(R.cropBox.bottomLeftY)+" "+k(R.cropBox.topRightX)+" "+k(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&fe("/BleedBox ["+k(R.bleedBox.bottomLeftX)+" "+k(R.bleedBox.bottomLeftY)+" "+k(R.bleedBox.topRightX)+" "+k(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&fe("/TrimBox ["+k(R.trimBox.bottomLeftX)+" "+k(R.trimBox.bottomLeftY)+" "+k(R.trimBox.topRightX)+" "+k(R.trimBox.topRightY)+"]"),R.artBox!==null&&fe("/ArtBox ["+k(R.artBox.bottomLeftX)+" "+k(R.artBox.bottomLeftY)+" "+k(R.artBox.topRightX)+" "+k(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&fe("/UserUnit "+R.userUnit),ss.publish("putPage",{objId:Ee,pageContext:or[J],pageNumber:J,page:we}),fe("/Contents "+Ie+" 0 R"),fe(">>"),fe("endobj");var ot=we.join(`
`);return w===b&&(ot+=`
Q`),se(Ie,!0),tt({data:ot,filters:Ue(),objectId:Ie}),fe("endobj"),Ee},ze=f.__private__.putPages=function(){var R,J,we=[];for(R=1;R<=vs;R++)or[R].objId=Mn(),or[R].contentsObjId=Mn();for(R=1;R<=vs;R++)we.push($e({number:R,data:ke[R],objId:or[R].objId,contentsObjId:or[R].contentsObjId,mediaBox:or[R].mediaBox,cropBox:or[R].cropBox,bleedBox:or[R].bleedBox,trimBox:or[R].trimBox,artBox:or[R].artBox,userUnit:or[R].userUnit,rootDictionaryObjId:ue,resourceDictionaryObjId:pe}));se(ue,!0),fe("<</Type /Pages");var Ee="/Kids [";for(J=0;J<vs;J++)Ee+=we[J]+" 0 R ";fe(Ee+"]"),fe("/Count "+vs),fe(">>"),fe("endobj"),ss.publish("postPutPages")},Ke=function(R){ss.publish("putFont",{font:R,out:fe,newObject:Xs,putStream:tt}),R.isAlreadyPutted!==!0&&(R.objectNumber=Xs(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+lp(R.postScriptName)),fe("/Subtype /Type1"),typeof R.encoding=="string"&&fe("/Encoding /"+R.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},vt=function(R){R.objectNumber=Xs();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[k(R.x),k(R.y),k(R.x+R.width),k(R.y+R.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var we=R.pages[1].join(`
`);tt({data:we,additionalKeyValues:J,objectId:R.objectNumber}),fe("endobj")},kt=function(R,J){J||(J=21);var we=Xs(),Ee=function(mt,Gt){var Jt,gr=[],wr=1/(Gt-1);for(Jt=0;Jt<1;Jt+=wr)gr.push(Jt);if(gr.push(1),mt[0].offset!=0){var ls={offset:0,color:mt[0].color};mt.unshift(ls)}if(mt[mt.length-1].offset!=1){var nn={offset:1,color:mt[mt.length-1].color};mt.push(nn)}for(var Un="",Bs=0,Jn=0;Jn<gr.length;Jn++){for(Jt=gr[Jn];Jt>mt[Bs+1].offset;)Bs++;var $n=mt[Bs].offset,Ci=(Jt-$n)/(mt[Bs+1].offset-$n),Oo=mt[Bs].color,Ra=mt[Bs+1].color;Un+=q(Math.round((1-Ci)*Oo[0]+Ci*Ra[0]).toString(16))+q(Math.round((1-Ci)*Oo[1]+Ci*Ra[1]).toString(16))+q(Math.round((1-Ci)*Oo[2]+Ci*Ra[2]).toString(16))}return Un.trim()}(R.colors,J),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+J+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt({data:Ee,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),fe("endobj"),R.objectNumber=Xs(),fe("<< /ShadingType "+R.type),fe("/ColorSpace /DeviceRGB");var ot="/Coords ["+k(parseFloat(R.coords[0]))+" "+k(parseFloat(R.coords[1]))+" ";R.type===2?ot+=k(parseFloat(R.coords[2]))+" "+k(parseFloat(R.coords[3])):ot+=k(parseFloat(R.coords[2]))+" "+k(parseFloat(R.coords[3]))+" "+k(parseFloat(R.coords[4]))+" "+k(parseFloat(R.coords[5])),fe(ot+="]"),R.matrix&&fe("/Matrix ["+R.matrix.toString()+"]"),fe("/Function "+we+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Bt=function(R,J){var we=Mn(),Ee=Xs();J.push({resourcesOid:we,objectOid:Ee}),R.objectNumber=Ee;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+R.boundingBox.map(k).join(" ")+"]"}),Ie.push({key:"XStep",value:k(R.xStep)}),Ie.push({key:"YStep",value:k(R.yStep)}),Ie.push({key:"Resources",value:we+" 0 R"}),R.matrix&&Ie.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),tt({data:R.stream,additionalKeyValues:Ie,objectId:R.objectNumber}),fe("endobj")},Nt=function(R){for(var J in R.objectNumber=Xs(),fe("<<"),R)switch(J){case"opacity":fe("/ca "+C(R[J]));break;case"stroke-opacity":fe("/CA "+C(R[J]))}fe(">>"),fe("endobj")},Lt=function(R){se(R.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var J in fe("/Font <<"),Ht)Ht.hasOwnProperty(J)&&(h===!1||h===!0&&m.hasOwnProperty(J))&&fe("/"+J+" "+Ht[J].objectNumber+" 0 R");fe(">>")}(),function(){if(Object.keys(sr).length>0){for(var J in fe("/Shading <<"),sr)sr.hasOwnProperty(J)&&sr[J]instanceof cf&&sr[J].objectNumber>=0&&fe("/"+J+" "+sr[J].objectNumber+" 0 R");ss.publish("putShadingPatternDict"),fe(">>")}}(),function(J){if(Object.keys(sr).length>0){for(var we in fe("/Pattern <<"),sr)sr.hasOwnProperty(we)&&sr[we]instanceof f.TilingPattern&&sr[we].objectNumber>=0&&sr[we].objectNumber<J&&fe("/"+we+" "+sr[we].objectNumber+" 0 R");ss.publish("putTilingPatternDict"),fe(">>")}}(R.objectOid),function(){if(Object.keys(pr).length>0){var J;for(J in fe("/ExtGState <<"),pr)pr.hasOwnProperty(J)&&pr[J].objectNumber>=0&&fe("/"+J+" "+pr[J].objectNumber+" 0 R");ss.publish("putGStateDict"),fe(">>")}}(),function(){for(var J in fe("/XObject <<"),hi)hi.hasOwnProperty(J)&&hi[J].objectNumber>=0&&fe("/"+J+" "+hi[J].objectNumber+" 0 R");ss.publish("putXobjectDict"),fe(">>")}(),fe(">>"),fe("endobj")},ur=function(R){dr[R.fontName]=dr[R.fontName]||{},dr[R.fontName][R.fontStyle]=R.id},Es=function(R,J,we,Ee,Ie){var ot={id:"F"+(Object.keys(Ht).length+1).toString(10),postScriptName:R,fontName:J,fontStyle:we,encoding:Ee,isStandardFont:Ie||!1,metadata:{}};return ss.publish("addFont",{font:ot,instance:this}),Ht[ot.id]=ot,ur(ot),ot.id},Hr=f.__private__.pdfEscape=f.pdfEscape=function(R,J){return function(we,Ee){var Ie,ot,mt,Gt,Jt,gr,wr,ls,nn;if(mt=(Ee=Ee||{}).sourceEncoding||"Unicode",Jt=Ee.outputEncoding,(Ee.autoencode||Jt)&&Ht[$t].metadata&&Ht[$t].metadata[mt]&&Ht[$t].metadata[mt].encoding&&(Gt=Ht[$t].metadata[mt].encoding,!Jt&&Ht[$t].encoding&&(Jt=Ht[$t].encoding),!Jt&&Gt.codePages&&(Jt=Gt.codePages[0]),typeof Jt=="string"&&(Jt=Gt[Jt]),Jt)){for(wr=!1,gr=[],Ie=0,ot=we.length;Ie<ot;Ie++)(ls=Jt[we.charCodeAt(Ie)])?gr.push(String.fromCharCode(ls)):gr.push(we[Ie]),gr[Ie].charCodeAt(0)>>8&&(wr=!0);we=gr.join("")}for(Ie=we.length;wr===void 0&&Ie!==0;)we.charCodeAt(Ie-1)>>8&&(wr=!0),Ie--;if(!wr)return we;for(gr=Ee.noBOM?[]:[254,255],Ie=0,ot=we.length;Ie<ot;Ie++){if((nn=(ls=we.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+we+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gr.push(nn),gr.push(ls-(nn<<8))}return String.fromCharCode.apply(void 0,gr)}(R,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fn=f.__private__.beginPage=function(R){ke[++vs]=[],or[vs]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},rc(vs),Ae(ke[I])},tc=function(R,J){var we,Ee,Ie;switch(r=J||r,typeof R=="string"&&(we=y(R.toLowerCase()),Array.isArray(we)&&(Ee=we[0],Ie=we[1])),Array.isArray(R)&&(Ee=R[0]*Rt,Ie=R[1]*Rt),isNaN(Ee)&&(Ee=i[0],Ie=i[1]),(Ee>14400||Ie>14400)&&(Ls.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Ie=Math.min(14400,Ie)),i=[Ee,Ie],r.substr(0,1)){case"l":Ie>Ee&&(i=[Ie,Ee]);break;case"p":Ee>Ie&&(i=[Ie,Ee])}fn(i),Qj(Fg),fe(Om),Lg!==0&&fe(Lg+" J"),Rg!==0&&fe(Rg+" j"),ss.publish("addPage",{pageNumber:vs})},il=function(R){R>0&&R<=vs&&(ke.splice(R,1),or.splice(R,1),vs--,I>vs&&(I=vs),this.setPage(I))},rc=function(R){R>0&&R<=vs&&(I=R)},Fo=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ke.length-1},ru=function(R,J,we){var Ee,Ie=void 0;return we=we||{},R=R!==void 0?R:Ht[$t].fontName,J=J!==void 0?J:Ht[$t].fontStyle,Ee=R.toLowerCase(),dr[Ee]!==void 0&&dr[Ee][J]!==void 0?Ie=dr[Ee][J]:dr[R]!==void 0&&dr[R][J]!==void 0?Ie=dr[R][J]:we.disableWarning===!1&&Ls.warn("Unable to look up font label for font '"+R+"', '"+J+"'. Refer to getFontList() for available fonts."),Ie||we.noFallback||(Ie=dr.times[J])==null&&(Ie=dr.times.normal),Ie},Hi=f.__private__.putInfo=function(){var R=Xs(),J=function(Ee){return Ee};for(var we in u!==null&&(J=Cn.encryptor(R,0)),fe("<<"),fe("/Producer ("+Hr(J("jsPDF "+er.version))+")"),xt)xt.hasOwnProperty(we)&&xt[we]&&fe("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Hr(J(xt[we]))+")");fe("/CreationDate ("+Hr(J(H))+")"),fe(">>"),fe("endobj")},qj=f.__private__.putCatalog=function(R){var J=(R=R||{}).rootDictionaryObjId||ue;switch(Xs(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+J+" 0 R"),oe||(oe="fullwidth"),oe){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+oe;we.substr(we.length-1)==="%"&&(oe=parseInt(oe)/100),typeof oe=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+C(oe)+"]")}switch(De||(De="continuous"),De){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Be&&fe("/PageMode /"+Be),ss.publish("putCatalog"),fe(">>"),fe("endobj")},Bn=f.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(U+1)),fe("/Root "+U+" 0 R"),fe("/Info "+(U-1)+" 0 R"),u!==null&&fe("/Encrypt "+Cn.oid+" 0 R"),fe("/ID [ <"+X+"> <"+X+"> ]"),fe(">>")},g1=f.__private__.putHeader=function(){fe("%PDF-"+g),fe("%")},x1=f.__private__.putXRef=function(){var R="0000000000";fe("xref"),fe("0 "+(U+1)),fe("0000000000 65535 f ");for(var J=1;J<=U;J++)typeof W[J]=="function"?fe((R+W[J]()).slice(-10)+" 00000 n "):W[J]!==void 0?fe((R+W[J]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Qc=f.__private__.buildDocument=function(){var R;U=0,re=0,te=[],W=[],le=[],ue=Mn(),pe=Mn(),Ae(te),ss.publish("buildDocument"),g1(),ze(),function(){ss.publish("putAdditionalObjects");for(var we=0;we<le.length;we++){var Ee=le[we];se(Ee.objId,!0),fe(Ee.content),fe("endobj")}ss.publish("postPutAdditionalObjects")}(),R=[],function(){for(var we in Ht)Ht.hasOwnProperty(we)&&(h===!1||h===!0&&m.hasOwnProperty(we))&&Ke(Ht[we])}(),function(){var we;for(we in pr)pr.hasOwnProperty(we)&&Nt(pr[we])}(),function(){for(var we in hi)hi.hasOwnProperty(we)&&vt(hi[we])}(),function(we){var Ee;for(Ee in sr)sr.hasOwnProperty(Ee)&&(sr[Ee]instanceof cf?kt(sr[Ee]):sr[Ee]instanceof kp&&Bt(sr[Ee],we))}(R),ss.publish("putResources"),R.forEach(Lt),Lt({resourcesOid:pe,objectOid:Number.MAX_SAFE_INTEGER}),ss.publish("postPutResources"),u!==null&&(Cn.oid=Xs(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Cn.v),fe("/R "+Cn.r),fe("/U <"+Cn.toHexString(Cn.U)+">"),fe("/O <"+Cn.toHexString(Cn.O)+">"),fe("/P "+Cn.P),fe(">>"),fe("endobj")),Hi(),qj();var J=re;return x1(),Bn(),fe("startxref"),fe(""+J),fe("%%EOF"),Ae(ke[I]),te.join(`
`)},Rh=f.__private__.getBlob=function(R){return new Blob([Je(R)],{type:"application/pdf"})},al=f.output=f.__private__.output=(La=function(R,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",R){case void 0:return Qc();case"save":f.save(J.filename);break;case"arraybuffer":return Je(Qc());case"blob":return Rh(Qc());case"bloburi":case"bloburl":if(fr.URL!==void 0&&typeof fr.URL.createObjectURL=="function")return fr.URL&&fr.URL.createObjectURL(Rh(Qc()))||void 0;Ls.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Ee=Qc();try{we=FF(Ee)}catch{we=FF(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+J.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ot=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Ie=J.pdfObjectUrl,ot="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+ot+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Gt=fr.open();return Gt!==null&&Gt.document.write(mt),Gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',gr=fr.open();if(gr!==null){gr.document.write(Jt);var wr=this;gr.document.documentElement.querySelector("#pdfViewer").onload=function(){gr.document.title=J.filename,gr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wr.output("bloburl"))}}return gr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ls='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',nn=fr.open();if(nn!==null&&(nn.document.write(ls),nn.document.title=J.filename),nn||typeof safari>"u")return nn;break;case"datauri":case"dataurl":return fr.document.location.href=this.output("datauristring",J);default:return null}},La.foo=function(){try{return La.apply(this,arguments)}catch(we){var R=we.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var J="Error in function "+R.split(`
`)[0].split("<")[0]+": "+we.message;if(!fr.console)throw new Error(J);fr.console.error(J,we),fr.alert&&alert(J)}},La.foo.bar=La,La.foo),Ih=function(R){return Array.isArray(Yc)===!0&&Yc.indexOf(R)>-1};switch(n){case"pt":Rt=1;break;case"mm":Rt=72/25.4;break;case"cm":Rt=72/2.54;break;case"in":Rt=72;break;case"px":Rt=Ih("px_scaling")==1?.75:96/72;break;case"pc":case"em":Rt=12;break;case"ex":Rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Rt=n}var Cn=null;V(),Q();var Eg=f.__private__.getPageInfo=f.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:or[R].objId,pageNumber:R,pageContext:or[R]}},zj=f.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in or)if(or[J].objId===R)break;return Eg(J)},Vj=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:or[I].objId,pageNumber:I,pageContext:or[I]}};f.addPage=function(){return tc.apply(this,arguments),this},f.setPage=function(){return rc.apply(this,arguments),Ae.call(this,ke[I]),this},f.insertPage=function(R){return this.addPage(),this.movePage(I,R),this},f.movePage=function(R,J){var we,Ee;if(R>J){we=ke[R],Ee=or[R];for(var Ie=R;Ie>J;Ie--)ke[Ie]=ke[Ie-1],or[Ie]=or[Ie-1];ke[J]=we,or[J]=Ee,this.setPage(J)}else if(R<J){we=ke[R],Ee=or[R];for(var ot=R;ot<J;ot++)ke[ot]=ke[ot+1],or[ot]=or[ot+1];ke[J]=we,or[J]=Ee,this.setPage(J)}return this},f.deletePage=function(){return il.apply(this,arguments),this},f.__private__.text=f.text=function(R,J,we,Ee,Ie){var ot,mt,Gt,Jt,gr,wr,ls,nn,Un,Bs=(Ee=Ee||{}).scope||this;if(typeof R=="number"&&typeof J=="number"&&(typeof we=="string"||Array.isArray(we))){var Jn=we;we=J,J=R,R=Jn}if(arguments[3]instanceof ir==0?(Gt=arguments[4],Jt=arguments[5],Ss(ls=arguments[3])==="object"&&ls!==null||(typeof Gt=="string"&&(Jt=Gt,Gt=null),typeof ls=="string"&&(Jt=ls,ls=null),typeof ls=="number"&&(Gt=ls,ls=null),Ee={flags:ls,angle:Gt,align:Jt})):(E("The transform parameter of text() with a Matrix value"),Un=Ie),isNaN(J)||isNaN(we)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return Bs;var $n,Ci="",Oo=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Mh,Ra=Bs.internal.scaleFactor;function S1(us){return us=us.split("	").join(Array(Ee.TabLen||9).join(" ")),Hr(us,ls)}function Dm(us){for(var Fs,En=us.concat(),Zn=[],sd=En.length;sd--;)typeof(Fs=En.shift())=="string"?Zn.push(Fs):Array.isArray(us)&&(Fs.length===1||Fs[1]===void 0&&Fs[2]===void 0)?Zn.push(Fs[0]):Zn.push([Fs[0],Fs[1],Fs[2]]);return Zn}function Vh(us,Fs){var En;if(typeof us=="string")En=Fs(us)[0];else if(Array.isArray(us)){for(var Zn,sd,Kg=us.concat(),Um=[],A1=Kg.length;A1--;)typeof(Zn=Kg.shift())=="string"?Um.push(Fs(Zn)[0]):Array.isArray(Zn)&&typeof Zn[0]=="string"&&(sd=Fs(Zn[0],Zn[1],Zn[2]),Um.push([sd[0],sd[1],sd[2]]));En=Um}return En}var iu=!1,Hh=!0;if(typeof R=="string")iu=!0;else if(Array.isArray(R)){var Wh=R.concat();mt=[];for(var Kh,Wi=Wh.length;Wi--;)(typeof(Kh=Wh.shift())!="string"||Array.isArray(Kh)&&typeof Kh[0]!="string")&&(Hh=!1);iu=Hh}if(iu===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var Gh=Ce/Bs.internal.scaleFactor,Yh=Gh*(Oo-1);switch(Ee.baseline){case"bottom":we-=Yh;break;case"top":we+=Gh-Yh;break;case"hanging":we+=Gh-2*Yh;break;case"middle":we+=Gh/2-Yh}if((wr=Ee.maxWidth||0)>0&&(typeof R=="string"?R=Bs.splitTextToSize(R,wr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(us,Fs){return us.concat(Bs.splitTextToSize(Fs,wr))},[]))),ot={text:R,x:J,y:we,options:Ee,mutex:{pdfEscape:Hr,activeFontKey:$t,fonts:Ht,activeFontSize:Ce}},ss.publish("preProcessText",ot),R=ot.text,Gt=(Ee=ot.options).angle,Un instanceof ir==0&&Gt&&typeof Gt=="number"){Gt*=Math.PI/180,Ee.rotationDirection===0&&(Gt=-Gt),w===b&&(Gt=-Gt);var Mg=Math.cos(Gt),Bg=Math.sin(Gt);Un=new ir(Mg,Bg,-Bg,Mg,0,0)}else Gt&&Gt instanceof ir&&(Un=Gt);w!==b||Un||(Un=nl),(gr=Ee.charSpace||Rm)!==void 0&&(Ci+=k(L(gr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nn=Ee.horizontalScale)!==void 0&&(Ci+=k(100*nn)+` Tz
`),Ee.lang;var mn=-1,td=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,Mm=Bs.internal.getCurrentPageInfo().pageContext;switch(td){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var k1=Mm.usedRenderingMode!==void 0?Mm.usedRenderingMode:-1;mn!==-1?Ci+=mn+` Tr
`:k1!==-1&&(Ci+=`0 Tr
`),mn!==-1&&(Mm.usedRenderingMode=mn),Jt=Ee.align||"left";var Lo,Qh=Ce*Oo,Ug=Bs.internal.pageSize.getWidth(),$g=Ht[$t];gr=Ee.charSpace||Rm,wr=Ee.maxWidth||0,ls=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var au=[],Xh=function(us){return Bs.getStringUnitWidth(us,{font:$g,charSpace:gr,fontSize:Ce,doKerning:!1})*Ce/Ra};if(Object.prototype.toString.call(R)==="[object Array]"){var Za;mt=Dm(R),Jt!=="left"&&(Lo=mt.map(Xh));var eo,ou=0;if(Jt==="right"){J-=Lo[0],R=[],Wi=mt.length;for(var rd=0;rd<Wi;rd++)rd===0?(eo=Xc(J),Za=Jc(we)):(eo=L(ou-Lo[rd]),Za=-Qh),R.push([mt[rd],eo,Za]),ou=Lo[rd]}else if(Jt==="center"){J-=Lo[0]/2,R=[],Wi=mt.length;for(var lu=0;lu<Wi;lu++)lu===0?(eo=Xc(J),Za=Jc(we)):(eo=L((ou-Lo[lu])/2),Za=-Qh),R.push([mt[lu],eo,Za]),ou=Lo[lu]}else if(Jt==="left"){R=[],Wi=mt.length;for(var qg=0;qg<Wi;qg++)R.push(mt[qg])}else if(Jt==="justify"&&$g.encoding==="Identity-H"){R=[],Wi=mt.length,wr=wr!==0?wr:Ug;for(var Bm=0,An=0;An<Wi;An++)if(Za=An===0?Jc(we):-Qh,eo=An===0?Xc(J):Bm,An<Wi-1){var C1=L((wr-Lo[An])/(mt[An].split(" ").length-1)),nc=mt[An].split(" ");R.push([nc[0]+" ",eo,Za]),Bm=0;for(var ic=1;ic<nc.length;ic++){var zg=(Xh(nc[ic-1]+" "+nc[ic])-Xh(nc[ic]))*Ra+C1;ic==nc.length-1?R.push([nc[ic],zg,0]):R.push([nc[ic]+" ",zg,0]),Bm-=zg}}else R.push([mt[An],eo,Za]);R.push(["",Bm,0])}else{if(Jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Wi=mt.length,wr=wr!==0?wr:Ug,An=0;An<Wi;An++){Za=An===0?Jc(we):-Qh,eo=An===0?Xc(J):0;var Vg=mt[An].split(" ").length-1,Hg=Vg>0?(wr-Lo[An])/Vg:0;An<Wi-1?au.push(k(L(Hg))):au.push(0),R.push([mt[An],eo,Za])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:Ne)===!0&&(R=Vh(R,function(us,Fs,En){return[us.split("").reverse().join(""),Fs,En]})),ot={text:R,x:J,y:we,options:Ee,mutex:{pdfEscape:Hr,activeFontKey:$t,fonts:Ht,activeFontSize:Ce}},ss.publish("postProcessText",ot),R=ot.text,$n=ot.mutex.isHex||!1;var Wg=Ht[$t].encoding;Wg!=="WinAnsiEncoding"&&Wg!=="StandardEncoding"||(R=Vh(R,function(us,Fs,En){return[S1(us),Fs,En]})),mt=Dm(R),R=[];for(var cu,du,uu,Jh=Array.isArray(mt[0])?1:0,hu="",Zh=function(us,Fs,En){var Zn="";return En instanceof ir?(En=typeof Ee.angle=="number"?sl(En,new ir(1,0,0,1,us,Fs)):sl(new ir(1,0,0,1,us,Fs),En),w===b&&(En=sl(new ir(1,0,0,-1,0,0),En)),Zn=En.join(" ")+` Tm
`):Zn=k(us)+" "+k(Fs)+` Td
`,Zn},Ro=0;Ro<mt.length;Ro++){switch(hu="",Jh){case 1:uu=($n?"<":"(")+mt[Ro][0]+($n?">":")"),cu=parseFloat(mt[Ro][1]),du=parseFloat(mt[Ro][2]);break;case 0:uu=($n?"<":"(")+mt[Ro]+($n?">":")"),cu=Xc(J),du=Jc(we)}au!==void 0&&au[Ro]!==void 0&&(hu=au[Ro]+` Tw
`),Ro===0?R.push(hu+Zh(cu,du,Un)+uu):Jh===0?R.push(hu+uu):Jh===1&&R.push(hu+Zh(cu,du,Un)+uu)}R=Jh===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var ac=`BT
/`;return ac+=$t+" "+Ce+` Tf
`,ac+=k(Ce*Oo)+` TL
`,ac+=Bh+`
`,ac+=Ci,ac+=R,fe(ac+="ET"),m[$t]=!0,Bs};var Hj=f.__private__.clip=f.clip=function(R){return fe(R==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Hj("evenodd")},f.__private__.discardPath=f.discardPath=function(){return fe("n"),this};var sc=f.__private__.isValidStyle=function(R){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(J=!0),J};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(R){return sc(R)&&(d=R),this};var v1=f.__private__.getStyle=f.getStyle=function(R){var J=d;switch(R){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=R}return J},y1=f.close=function(){return fe("h"),this};f.stroke=function(){return fe("S"),this},f.fill=function(R){return su("f",R),this},f.fillEvenOdd=function(R){return su("f*",R),this},f.fillStroke=function(R){return su("B",R),this},f.fillStrokeEvenOdd=function(R){return su("B*",R),this};var su=function(R,J){Ss(J)==="object"?Kj(J,R):fe(R)},Tg=function(R){R===null||w===b&&R===void 0||(R=v1(R),fe(R))};function Wj(R,J,we,Ee,Ie){var ot=new kp(J||this.boundingBox,we||this.xStep,Ee||this.yStep,this.gState,Ie||this.matrix);ot.stream=this.stream;var mt=R+"$$"+this.cloneIndex+++"$$";return Vi(mt,ot),ot}var Kj=function(R,J){var we=Er[R.key],Ee=sr[we];if(Ee instanceof cf)fe("q"),fe(Gj(J)),Ee.gState&&f.setGState(Ee.gState),fe(R.matrix.toString()+" cm"),fe("/"+we+" sh"),fe("Q");else if(Ee instanceof kp){var Ie=new ir(1,0,0,-1,0,zh());R.matrix&&(Ie=Ie.multiply(R.matrix||nl),we=Wj.call(Ee,R.key,R.boundingBox,R.xStep,R.yStep,Ie).id),fe("q"),fe("/Pattern cs"),fe("/"+we+" scn"),Ee.gState&&f.setGState(Ee.gState),fe(J),fe("Q")}},Gj=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Pg=f.moveTo=function(R,J){return fe(k(L(R))+" "+k(D(J))+" m"),this},Dh=f.lineTo=function(R,J){return fe(k(L(R))+" "+k(D(J))+" l"),this},nu=f.curveTo=function(R,J,we,Ee,Ie,ot){return fe([k(L(R)),k(D(J)),k(L(we)),k(D(Ee)),k(L(Ie)),k(D(ot)),"c"].join(" ")),this};f.__private__.line=f.line=function(R,J,we,Ee,Ie){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||!sc(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return w===v?this.lines([[we-R,Ee-J]],R,J,[1,1],Ie||"S"):this.lines([[we-R,Ee-J]],R,J,[1,1]).stroke()},f.__private__.lines=f.lines=function(R,J,we,Ee,Ie,ot){var mt,Gt,Jt,gr,wr,ls,nn,Un,Bs,Jn,$n,Ci;if(typeof R=="number"&&(Ci=we,we=J,J=R,R=Ci),Ee=Ee||[1,1],ot=ot||!1,isNaN(J)||isNaN(we)||!Array.isArray(R)||!Array.isArray(Ee)||!sc(Ie)||typeof ot!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pg(J,we),mt=Ee[0],Gt=Ee[1],gr=R.length,Jn=J,$n=we,Jt=0;Jt<gr;Jt++)(wr=R[Jt]).length===2?(Jn=wr[0]*mt+Jn,$n=wr[1]*Gt+$n,Dh(Jn,$n)):(ls=wr[0]*mt+Jn,nn=wr[1]*Gt+$n,Un=wr[2]*mt+Jn,Bs=wr[3]*Gt+$n,Jn=wr[4]*mt+Jn,$n=wr[5]*Gt+$n,nu(ls,nn,Un,Bs,Jn,$n));return ot&&y1(),Tg(Ie),this},f.path=function(R){for(var J=0;J<R.length;J++){var we=R[J],Ee=we.c;switch(we.op){case"m":Pg(Ee[0],Ee[1]);break;case"l":Dh(Ee[0],Ee[1]);break;case"c":nu.apply(this,Ee);break;case"h":y1()}}return this},f.__private__.rect=f.rect=function(R,J,we,Ee,Ie){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||!sc(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v&&(Ee=-Ee),fe([k(L(R)),k(D(J)),k(L(we)),k(L(Ee)),"re"].join(" ")),Tg(Ie),this},f.__private__.triangle=f.triangle=function(R,J,we,Ee,Ie,ot,mt){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||isNaN(Ie)||isNaN(ot)||!sc(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-R,Ee-J],[Ie-we,ot-Ee],[R-Ie,J-ot]],R,J,[1,1],mt,!0),this},f.__private__.roundedRect=f.roundedRect=function(R,J,we,Ee,Ie,ot,mt){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||isNaN(Ie)||isNaN(ot)||!sc(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Gt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*we),ot=Math.min(ot,.5*Ee),this.lines([[we-2*Ie,0],[Ie*Gt,0,Ie,ot-ot*Gt,Ie,ot],[0,Ee-2*ot],[0,ot*Gt,-Ie*Gt,ot,-Ie,ot],[2*Ie-we,0],[-Ie*Gt,0,-Ie,-ot*Gt,-Ie,-ot],[0,2*ot-Ee],[0,-ot*Gt,Ie*Gt,-ot,Ie,-ot]],R+Ie,J,[1,1],mt,!0),this},f.__private__.ellipse=f.ellipse=function(R,J,we,Ee,Ie){if(isNaN(R)||isNaN(J)||isNaN(we)||isNaN(Ee)||!sc(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ot=4/3*(Math.SQRT2-1)*we,mt=4/3*(Math.SQRT2-1)*Ee;return Pg(R+we,J),nu(R+we,J-mt,R+ot,J-Ee,R,J-Ee),nu(R-ot,J-Ee,R-we,J-mt,R-we,J),nu(R-we,J+mt,R-ot,J+Ee,R,J+Ee),nu(R+ot,J+Ee,R+we,J+mt,R+we,J),Tg(Ie),this},f.__private__.circle=f.circle=function(R,J,we,Ee){if(isNaN(R)||isNaN(J)||isNaN(we)||!sc(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,J,we,we,Ee)},f.setFont=function(R,J,we){return we&&(J=j(J,we)),$t=ru(R,J,{disableWarning:!1}),this};var Yj=f.__private__.getFont=f.getFont=function(){return Ht[ru.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var R,J,we={};for(R in dr)if(dr.hasOwnProperty(R))for(J in we[R]=[],dr[R])dr[R].hasOwnProperty(J)&&we[R].push(J);return we},f.addFont=function(R,J,we,Ee,Ie){var ot=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ot.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&ot.indexOf(arguments[3])==-1&&(we=j(we,Ee)),Es.call(this,R,J,we,Ie=Ie||"Identity-H")};var Mh,Fg=t.lineWidth||.200025,yr=f.__private__.getLineWidth=f.getLineWidth=function(){return Fg},Qj=f.__private__.setLineWidth=f.setLineWidth=function(R){return Fg=R,fe(k(L(R))+" w"),this};f.__private__.setLineDash=er.API.setLineDash=er.API.setLineDashPattern=function(R,J){if(R=R||[],J=J||0,isNaN(J)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(we){return k(L(we))}).join(" "),J=k(L(J)),fe("["+R+"] "+J+" d"),this};var Xj=f.__private__.getLineHeight=f.getLineHeight=function(){return Ce*Mh};f.__private__.getLineHeight=f.getLineHeight=function(){return Ce*Mh};var Jj=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Mh=R),this},Zj=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Mh};Jj(t.lineHeight);var Xc=f.__private__.getHorizontalCoordinate=function(R){return L(R)},Jc=f.__private__.getVerticalCoordinate=function(R){return w===b?R:or[I].mediaBox.topRightY-or[I].mediaBox.bottomLeftY-L(R)},e5=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(R){return k(Xc(R))},t5=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(R){return k(Jc(R))},Om=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return be(Om)},f.__private__.setStrokeColor=f.setDrawColor=function(R,J,we,Ee){return Om=je({ch1:R,ch2:J,ch3:we,ch4:Ee,pdfColorType:"draw",precision:2}),fe(Om),this};var Og=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return be(Og)},f.__private__.setFillColor=f.setFillColor=function(R,J,we,Ee){return Og=je({ch1:R,ch2:J,ch3:we,ch4:Ee,pdfColorType:"fill",precision:2}),fe(Og),this};var Bh=t.textColor||"0 g",Lm=f.__private__.getTextColor=f.getTextColor=function(){return be(Bh)};f.__private__.setTextColor=f.setTextColor=function(R,J,we,Ee){return Bh=je({ch1:R,ch2:J,ch3:we,ch4:Ee,pdfColorType:"text",precision:3}),this};var Rm=t.charSpace,r5=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Rm||0)};f.__private__.setCharSpace=f.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rm=R,this};var Lg=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(R){var J=f.CapJoinStyles[R];if(J===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Lg=J,fe(J+" J"),this};var Rg=0;f.__private__.setLineJoin=f.setLineJoin=function(R){var J=f.CapJoinStyles[R];if(J===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rg=J,fe(J+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(k(L(R))+" M"),this},f.GState=bw,f.setGState=function(R){(R=typeof R=="string"?pr[Qs[R]]:Uh(null,R)).equals(kn)||(fe("/"+R.id+" gs"),kn=R)};var Uh=function(R,J){if(!R||!Qs[R]){var we=!1;for(var Ee in pr)if(pr.hasOwnProperty(Ee)&&pr[Ee].equals(J)){we=!0;break}if(we)J=pr[Ee];else{var Ie="GS"+(Object.keys(pr).length+1).toString(10);pr[Ie]=J,J.id=Ie}return R&&(Qs[R]=J.id),ss.publish("addGState",J),J}};f.addGState=function(R,J){return Uh(R,J),this},f.saveGraphicsState=function(){return fe("q"),rs.push({key:$t,size:Ce,color:Bh}),this},f.restoreGraphicsState=function(){fe("Q");var R=rs.pop();return $t=R.key,Ce=R.size,Bh=R.color,kn=null,this},f.setCurrentTransformationMatrix=function(R){return fe(R.toString()+" cm"),this},f.comment=function(R){return fe("#"+R),this};var $h=function(R,J){var we=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(ot){isNaN(ot)||(we=parseFloat(ot))}});var Ee=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(ot){isNaN(ot)||(Ee=parseFloat(ot))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(ot){Ie=ot.toString()}}),this},Ig=function(R,J,we,Ee){$h.call(this,R,J),this.type="rect";var Ie=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(mt){isNaN(mt)||(Ie=parseFloat(mt))}});var ot=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ot},set:function(mt){isNaN(mt)||(ot=parseFloat(mt))}}),this},Im=function(){this.page=vs,this.currentPage=I,this.pages=ke.slice(0),this.pagesContext=or.slice(0),this.x=It,this.y=os,this.matrix=Mr,this.width=b1(I),this.height=Zc(I),this.outputDestination=He,this.id="",this.objectNumber=-1};Im.prototype.restore=function(){vs=this.page,I=this.currentPage,or=this.pagesContext,ke=this.pages,It=this.x,os=this.y,Mr=this.matrix,w1(I,this.width),ed(I,this.height),He=this.outputDestination};var Dg=function(R,J,we,Ee,Ie){Po.push(new Im),vs=I=0,ke=[],It=R,os=J,Mr=Ie,fn([we,Ee])};for(var qh in f.beginFormObject=function(R,J,we,Ee,Ie){return Dg(R,J,we,Ee,Ie),this},f.endFormObject=function(R){return function(J){if(rl[J])Po.pop().restore();else{var we=new Im,Ee="Xo"+(Object.keys(hi).length+1).toString(10);we.id=Ee,rl[J]=Ee,hi[Ee]=we,ss.publish("addFormObject",we),Po.pop().restore()}}(R),this},f.doFormObject=function(R,J){var we=hi[rl[R]];return fe("q"),fe(J.toString()+" cm"),fe("/"+we.id+" Do"),fe("Q"),this},f.getFormObject=function(R){var J=hi[rl[R]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},f.save=function(R,J){return R=R||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(af(Rh(Qc()),R),typeof af.unload=="function"&&fr.setTimeout&&setTimeout(af.unload,911),this):new Promise(function(we,Ee){try{var Ie=af(Rh(Qc()),R);typeof af.unload=="function"&&fr.setTimeout&&setTimeout(af.unload,911),we(Ie)}catch(ot){Ee(ot.message)}})},er.API)er.API.hasOwnProperty(qh)&&(qh==="events"&&er.API.events.length?function(R,J){var we,Ee,Ie;for(Ie=J.length-1;Ie!==-1;Ie--)we=J[Ie][0],Ee=J[Ie][1],R.subscribe.apply(R,[we].concat(typeof Ee=="function"?[Ee]:Ee))}(ss,er.API.events):f[qh]=er.API[qh]);function b1(R){return or[R].mediaBox.topRightX-or[R].mediaBox.bottomLeftX}function w1(R,J){or[R].mediaBox.topRightX=J+or[R].mediaBox.bottomLeftX}function Zc(R){return or[R].mediaBox.topRightY-or[R].mediaBox.bottomLeftY}function ed(R,J){or[R].mediaBox.topRightY=J+or[R].mediaBox.bottomLeftY}var N1=f.getPageWidth=function(R){return b1(R=R||I)/Rt},j1=f.setPageWidth=function(R,J){w1(R,J*Rt)},zh=f.getPageHeight=function(R){return Zc(R=R||I)/Rt},_1=f.setPageHeight=function(R,J){ed(R,J*Rt)};return f.internal={pdfEscape:Hr,getStyle:v1,getFont:Yj,getFontSize:me,getCharSpace:r5,getTextColor:Lm,getLineHeight:Xj,getLineHeightFactor:Zj,getLineWidth:yr,write:_t,getHorizontalCoordinate:Xc,getVerticalCoordinate:Jc,getCoordinateString:e5,getVerticalCoordinateString:t5,collections:{},newObject:Xs,newAdditionalObject:ye,newObjectDeferred:Mn,newObjectDeferredBegin:se,getFilters:Ue,putStream:tt,events:ss,scaleFactor:Rt,pageSize:{getWidth:function(){return N1(I)},setWidth:function(R){j1(I,R)},getHeight:function(){return zh(I)},setHeight:function(R){_1(I,R)}},encryptionOptions:u,encryption:Cn,getEncryptor:function(R){return u!==null?Cn.encryptor(R,0):function(J){return J}},output:al,getNumberOfPages:Fo,pages:ke,out:fe,f2:C,f3:T,getPageInfo:Eg,getPageInfoByObjId:zj,getCurrentPageInfo:Vj,getPDFVersion:p,Point:$h,Rectangle:Ig,Matrix:ir,hasHotfix:Ih},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return N1(I)},set:function(R){j1(I,R)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return zh(I)},set:function(R){_1(I,R)},enumerable:!0,configurable:!0}),(function(R){for(var J=0,we=Oe.length;J<we;J++){var Ee=Es.call(this,R[J][0],R[J][1],R[J][2],Oe[J][3],!0);h===!1&&(m[Ee]=!0);var Ie=R[J][0].split("-");ur({id:Ee,fontName:Ie[0],fontStyle:Ie[1]||""})}ss.publish("addFonts",{fonts:Ht,dictionary:dr})}).call(f,Oe),$t="F1",tc(i,r),ss.publish("initialized"),f}op.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},op.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},op.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},op.prototype.processOwnerPassword=function(t,e){return q3($3(e).substr(0,5),t)},op.prototype.encryptor=function(t,e){var r=$3(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return q3(r,n)}},bw.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ss(t)!==Ss(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},er.API={events:[]},er.version="3.0.3";var vn=er.API,CC=1,Cm=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nr=function(t){return t.toFixed(2)},_u=function(t){return t.toFixed(5)};vn.__acroform__={};var Ja=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},IF=function(t){return t*CC},uc=function(t){var e=new gW,r=Kt.internal.getHeight(t)||0,n=Kt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Nr(n)),Number(Nr(r))],e},lve=vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},cve=vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},dve=vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Rn=vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dve(t,e-1)},In=vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lve(t,e-1)},Dn=vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cve(t,e-1)},uve=vn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(Nr(c.lowerLeft_X)),Number(Nr(c.lowerLeft_Y)),Number(Nr(c.upperRight_X)),Number(Nr(c.upperRight_Y))]},hve=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=z3(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Nr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=uc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},z3=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var a=r,o=Kt.internal.getHeight(t)||0;o=o<0?-o:o;var l=Kt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(C,T,L){if(C+1<i.length){var D=T+" "+i[C+1][0];return Ib(D,t,L).width<=l-4}return!1};a++;e:for(;a>0;){e="",a--;var d,u,h=Ib("3",t,a).height,m=t.multiline?o-a:(o-h)/2,f=m+=2,g=0,p=0,x=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ib(e,t,a=12).width+", FieldWidth:"+l+`
`;break}for(var y="",v=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(i[b].length!==1&&x!==i[b].length-1){if((h+2)*(v+2)+2>o)continue e;y+=i[b][x],w=!0,p=b,b--}else{y=(y+=i[b][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var _=parseInt(b),N=c(_,y,a),j=b>=i.length-1;if(N&&!j){y+=" ",x=0;continue}if(N||j){if(j)p=_;else if(t.multiline&&(h+2)*(v+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(v+2)+2>o)continue e;p=_}}for(var k="",E=g;E<=p;E++){var A=i[E];if(t.multiline){if(E===p){k+=A[x]+" ",x=(x+1)%A.length;continue}if(E===g){k+=A[A.length-1]+" ";continue}}k+=A[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,u=Ib(k,t,a).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;default:d=2}e+=Nr(d)+" "+Nr(f)+` Td
`,e+="("+Cm(k)+`) Tj
`,e+=-Nr(d)+` 0 Td
`,f=-(a+2),u=0,g=w?p:p+1,v++,y=""}break}return n.text=e,n.fontSize=a,n},Ib=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},fve={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mve=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},pve=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Zl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(fve)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");CC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new xW,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&mve(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=uve(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Kt.createDefaultAppearanceStream(l),Ss(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=hve(l);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var g=f[o];typeof g=="function"&&(g=g.call(i,l)),h+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=f)=="function"&&(g=g.call(i,l)),h+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(p,x){for(var y in p)if(p.hasOwnProperty(y)){var v=y,b=p[y];x.internal.newObjectDeferredBegin(b.objId,!0),Ss(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete p[v]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},pW=vn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Ss(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Cm(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$4=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Cm(n(t))+")"},Ac=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ac.prototype.toString=function(){return this.objId+" 0 R"},Ac.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ac.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:pW(i,this.objId,this.scope)}):i instanceof Ac?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var gW=function(){Ac.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ja(gW,Ac);var xW=function(){Ac.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Cm(r(t))+")"}},set:function(r){t=r}})};Ja(xW,Ac);var Zl=function t(){Ac.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Rn(e,3)},set:function(y){y?this.F=In(e,3):this.F=Dn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ww)return;a="FieldObject"+t.FieldNum++}var y=function(v){return v};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Cm(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/CC:d},set:function(y){d=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ww||this instanceof Wf))return $4(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof gi==0?$4(m,this.objId,this.scope):m},set:function(y){y=y.toString(),m=this instanceof gi==0?y.substr(0,1)==="("?Qm(y.substr(1,y.length-2)):Qm(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof gi==1?Qm(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof gi==1?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof gi==0?$4(f,this.objId,this.scope):f},set:function(y){y=y.toString(),f=this instanceof gi==0?y.substr(0,1)==="("?Qm(y.substr(1,y.length-2)):Qm(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof gi==1?Qm(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof gi==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){y=!!y,p=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,1)},set:function(y){y?this.Ff=In(this.Ff,1):this.Ff=Dn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,2)},set:function(y){y?this.Ff=In(this.Ff,2):this.Ff=Dn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,3)},set:function(y){y?this.Ff=In(this.Ff,3):this.Ff=Dn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Ja(Zl,Ac);var Bp=function(){Zl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return pW(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,d=[];c=o.exec(a);)d.push(c[l]);return d}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,18)},set:function(r){r?this.Ff=In(this.Ff,18):this.Ff=Dn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=In(this.Ff,19):this.Ff=Dn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,20)},set:function(r){r?(this.Ff=In(this.Ff,20),e.sort()):this.Ff=Dn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,22)},set:function(r){r?this.Ff=In(this.Ff,22):this.Ff=Dn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,23)},set:function(r){r?this.Ff=In(this.Ff,23):this.Ff=Dn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,27)},set:function(r){r?this.Ff=In(this.Ff,27):this.Ff=Dn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ja(Bp,Zl);var Up=function(){Bp.call(this),this.fontName="helvetica",this.combo=!1};Ja(Up,Bp);var $p=function(){Up.call(this),this.combo=!0};Ja($p,Up);var j2=function(){$p.call(this),this.edit=!0};Ja(j2,$p);var gi=function(){Zl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,15)},set:function(r){r?this.Ff=In(this.Ff,15):this.Ff=Dn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,16)},set:function(r){r?this.Ff=In(this.Ff,16):this.Ff=Dn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,17)},set:function(r){r?this.Ff=In(this.Ff,17):this.Ff=Dn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,26)},set:function(r){r?this.Ff=In(this.Ff,26):this.Ff=Dn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Cm(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Ss(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ja(gi,Zl);var _2=function(){gi.call(this),this.pushButton=!0};Ja(_2,gi);var qp=function(){gi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ja(qp,gi);var ww=function(){var t,e;Zl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Cm(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Ss(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ja(ww,Zl),qp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},qp.prototype.createOption=function(t){var e=new ww;return e.Parent=this,e.optionName=t,this.Kids.push(e),gve.call(this.scope,e),e};var S2=function(){gi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kt.CheckBox.createAppearanceStream()};Ja(S2,gi);var Wf=function(){Zl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,13)},set:function(e){e?this.Ff=In(this.Ff,13):this.Ff=Dn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,21)},set:function(e){e?this.Ff=In(this.Ff,21):this.Ff=Dn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,23)},set:function(e){e?this.Ff=In(this.Ff,23):this.Ff=Dn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,24)},set:function(e){e?this.Ff=In(this.Ff,24):this.Ff=Dn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,25)},set:function(e){e?this.Ff=In(this.Ff,25):this.Ff=Dn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,26)},set:function(e){e?this.Ff=In(this.Ff,26):this.Ff=Dn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ja(Wf,Zl);var k2=function(){Wf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Rn(this.Ff,14)},set:function(t){t?this.Ff=In(this.Ff,14):this.Ff=Dn(this.Ff,14)}}),this.password=!0};Ja(k2,Wf);var Kt={CheckBox:{createAppearanceStream:function(){return{N:{On:Kt.CheckBox.YesNormal},D:{On:Kt.CheckBox.YesPushDown,Off:Kt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=uc(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=z3(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Nr(Kt.internal.getWidth(t))+" "+Nr(Kt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Nr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=uc(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Kt.internal.getHeight(t),o=Kt.internal.getWidth(t),l=z3(t,t.caption);return i.push("1 g"),i.push("0 0 "+Nr(o)+" "+Nr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Nr(o-1)+" "+Nr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Nr(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=uc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nr(Kt.internal.getWidth(t))+" "+Nr(Kt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Kt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Kt.RadioButton.Circle.YesNormal,e.D[t]=Kt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=uc(t);e.scope=t.scope;var r=[],n=Kt.internal.getWidth(t)<=Kt.internal.getHeight(t)?Kt.internal.getWidth(t)/4:Kt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Kt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+_u(Kt.internal.getWidth(t)/2)+" "+_u(Kt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=uc(t);e.scope=t.scope;var r=[],n=Kt.internal.getWidth(t)<=Kt.internal.getHeight(t)?Kt.internal.getWidth(t)/4:Kt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Kt.internal.Bezier_C).toFixed(5)),o=Number((n*Kt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_u(Kt.internal.getWidth(t)/2)+" "+_u(Kt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+_u(Kt.internal.getWidth(t)/2)+" "+_u(Kt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=uc(t);e.scope=t.scope;var r=[],n=Kt.internal.getWidth(t)<=Kt.internal.getHeight(t)?Kt.internal.getWidth(t)/4:Kt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Kt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+_u(Kt.internal.getWidth(t)/2)+" "+_u(Kt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Kt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Kt.RadioButton.Cross.YesNormal,e.D[t]=Kt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=uc(t);e.scope=t.scope;var r=[],n=Kt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Nr(Kt.internal.getWidth(t)-2)+" "+Nr(Kt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Nr(n.x1.x)+" "+Nr(n.x1.y)+" m"),r.push(Nr(n.x2.x)+" "+Nr(n.x2.y)+" l"),r.push(Nr(n.x4.x)+" "+Nr(n.x4.y)+" m"),r.push(Nr(n.x3.x)+" "+Nr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=uc(t);e.scope=t.scope;var r=Kt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Nr(Kt.internal.getWidth(t))+" "+Nr(Kt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Nr(Kt.internal.getWidth(t)-2)+" "+Nr(Kt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Nr(r.x1.x)+" "+Nr(r.x1.y)+" m"),n.push(Nr(r.x2.x)+" "+Nr(r.x2.y)+" l"),n.push(Nr(r.x4.x)+" "+Nr(r.x4.y)+" m"),n.push(Nr(r.x3.x)+" "+Nr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=uc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nr(Kt.internal.getWidth(t))+" "+Nr(Kt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Kt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Kt.internal.getWidth(t),r=Kt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Kt.internal.getWidth=function(t){var e=0;return Ss(t)==="object"&&(e=IF(t.Rect[2])),e},Kt.internal.getHeight=function(t){var e=0;return Ss(t)==="object"&&(e=IF(t.Rect[3])),e};var gve=vn.addField=function(t){if(pve(this,t),!(t instanceof Zl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=Bp,vn.AcroFormListBox=Up,vn.AcroFormComboBox=$p,vn.AcroFormEditBox=j2,vn.AcroFormButton=gi,vn.AcroFormPushButton=_2,vn.AcroFormRadioButton=qp,vn.AcroFormCheckBox=S2,vn.AcroFormTextField=Wf,vn.AcroFormPasswordField=k2,vn.AcroFormAppearance=Kt,vn.AcroForm={ChoiceField:Bp,ListBox:Up,ComboBox:$p,EditBox:j2,Button:gi,PushButton:_2,RadioButton:qp,CheckBox:S2,TextField:Wf,PasswordField:k2,Appearance:Kt},er.AcroForm={ChoiceField:Bp,ListBox:Up,ComboBox:$p,EditBox:j2,Button:gi,PushButton:_2,RadioButton:qp,CheckBox:S2,TextField:Wf,PasswordField:k2,Appearance:Kt};er.AcroForm;function vW(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(C,T){var L,D,H,X,ee,Q=r;if((T=T||r)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(N(C))for(ee in n)for(H=n[ee],L=0;L<H.length;L+=1){for(X=!0,D=0;D<H[L].length;D+=1)if(H[L][D]!==void 0&&H[L][D]!==C[D]){X=!1;break}if(X===!0){Q=ee;break}}else for(ee in n)for(H=n[ee],L=0;L<H.length;L+=1){for(X=!0,D=0;D<H[L].length;D+=1)if(H[L][D]!==void 0&&H[L][D]!==C.charCodeAt(D)){X=!1;break}if(X===!0){Q=ee;break}}return Q===r&&T!==r&&(Q=T),Q},a=function C(T){for(var L=this.internal.write,D=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:T.width}),X.push({key:"Height",value:T.height}),T.colorSpace===y.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===y.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var ee="",Q=0,G=T.transparency.length;Q<G;Q++)ee+=T.transparency[Q]+" "+T.transparency[Q]+" ";X.push({key:"Mask",value:"["+ee+"]"})}T.sMask!==void 0&&X.push({key:"SMask",value:T.objectId+1+" 0 R"});var z=T.filter!==void 0?["/"+T.filter]:void 0;if(D({data:T.data,additionalKeyValues:X,alreadyAppliedFilters:z,objectId:T.objectId}),L("endobj"),"sMask"in T&&T.sMask!==void 0){var V,F=(V=T.sMaskBitsPerComponent)!==null&&V!==void 0?V:T.bitsPerComponent,I={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:T.sMask};"filter"in T&&(I.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(T.width),I.filter=T.filter),C.call(this,I)}if(T.colorSpace===y.INDEXED){var B=this.internal.newObject();D({data:k(new Uint8Array(T.palette)),objectId:B}),L("endobj")}},o=function(){var C=this.internal.collections[e+"images"];for(var T in C)a.call(this,C[T])},l=function(){var C,T=this.internal.collections[e+"images"],L=this.internal.write;for(var D in T)L("/I"+(C=T[D]).index,C.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var C=this.internal.collections[e+"images"];return c.call(this),C},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(C){return typeof t["process"+C.toUpperCase()]=="function"},m=function(C){return Ss(C)==="object"&&C.nodeType===1},f=function(C,T){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var L=""+C.getAttribute("src");if(L.indexOf("data:image/")===0)return N2(unescape(L).split("base64,").pop());var D=t.loadFile(L,!0);if(D!==void 0)return D}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var H;switch(T){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return N2(C.toDataURL(H,1).split("base64,").pop())}},g=function(C){var T=this.internal.collections[e+"images"];if(T){for(var L in T)if(C===T[L].alias)return T[L]}},p=function(C,T,L){return C||T||(C=-96,T=-96),C<0&&(C=-1*L.width*72/C/this.internal.scaleFactor),T<0&&(T=-1*L.height*72/T/this.internal.scaleFactor),C===0&&(C=T*L.width/L.height),T===0&&(T=C*L.height/L.width),[C,T]},x=function(C,T,L,D,H,X){var ee=p.call(this,L,D,H),Q=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,z=d.call(this);if(L=ee[0],D=ee[1],z[H.index]=H,X){X*=Math.PI/180;var V=Math.cos(X),F=Math.sin(X),I=function(q){return q.toFixed(4)},B=[I(V),I(F),I(-1*F),I(V),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,Q(C),G(T+D),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([Q(L),"0","0",Q(D),"0","0","cm"].join(" "))):this.internal.write([Q(L),"0","0",Q(D),Q(C),G(T+D),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},y=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(C){var T,L,D=0;if(typeof C=="string")for(L=C.length,T=0;T<L;T++)D=(D<<5)-D+C.charCodeAt(T),D|=0;else if(N(C))for(L=C.byteLength/2,T=0;T<L;T++)D=(D<<5)-D+C[T],D|=0;return D},w=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var T=!0;return C.length===0&&(T=!1),C.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(T=!1),T},_=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var T=C.indexOf(",");return T<0?null:C.substring(0,T).trim().endsWith("base64")?C.substring(T+1):null};t.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var N=t.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},j=t.__addimage__.binaryStringToUint8Array=function(C){for(var T=C.length,L=new Uint8Array(T),D=0;D<T;D++)L[D]=C.charCodeAt(D);return L},k=t.__addimage__.arrayBufferToBinaryString=function(C){for(var T="",L=N(C)?C:new Uint8Array(C),D=0;D<L.length;D+=8192)T+=String.fromCharCode.apply(null,L.subarray(D,D+8192));return T};t.addImage=function(){var C,T,L,D,H,X,ee,Q,G;if(typeof arguments[1]=="number"?(T=r,L=arguments[1],D=arguments[2],H=arguments[3],X=arguments[4],ee=arguments[5],Q=arguments[6],G=arguments[7]):(T=arguments[1],L=arguments[2],D=arguments[3],H=arguments[4],X=arguments[5],ee=arguments[6],Q=arguments[7],G=arguments[8]),Ss(C=arguments[0])==="object"&&!m(C)&&"imageData"in C){var z=C;C=z.imageData,T=z.format||T||r,L=z.x||L||0,D=z.y||D||0,H=z.w||z.width||H,X=z.h||z.height||X,ee=z.alias||ee,Q=z.compression||Q,G=z.rotation||z.angle||G}var V=this.internal.getFilters();if(Q===void 0&&V.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(L)||isNaN(D))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var F=E.call(this,C,T,ee,Q);return x.call(this,L,D,H,X,F,G),this};var E=function(C,T,L,D){var H,X,ee;if(typeof C=="string"&&i(C)===r){C=unescape(C);var Q=A(C,!1);(Q!==""||(Q=t.loadFile(C,!0))!==void 0)&&(C=Q)}if(m(C)&&(C=f(C,T)),T=i(C,T),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ee=L)==null||ee.length===0)&&(L=function(G){return typeof G=="string"||N(G)?b(G):N(G.data)?b(G.data):null}(C)),(H=g.call(this,L))||(C instanceof Uint8Array||T==="RGBA"||(X=C,C=j(C)),H=this["process"+T.toUpperCase()](C,u.call(this),L,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in t.image_compression?G:v.NONE}(D),X)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},A=t.__addimage__.convertBase64ToBinaryString=function(C,T){T=typeof T!="boolean"||T;var L,D="";if(typeof C=="string"){var H;L=(H=_(C))!==null&&H!==void 0?H:C;try{D=N2(L)}catch(X){if(T)throw w(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return D};t.getImageProperties=function(C){var T,L,D="";if(m(C)&&(C=f(C)),typeof C=="string"&&i(C)===r&&((D=A(C,!1))===""&&(D=t.loadFile(C)||""),C=D),L=i(C),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(C instanceof Uint8Array||(C=j(C)),!(T=this["process"+L.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=L,T}})(er.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};er.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((n=d[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){n=d[m];var f=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(p.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+f(y(n.contents))+")",a+=" /Popup "+x.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+f(y(v))+") >>",p.content=a;var b=p.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",x.content=a,this.internal.write(p.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var N=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+i),h:d(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,n,i,a),i+=.2*d,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-d,l,o,a),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(er.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(p){return e[p.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},l=t.__arabicParser__.isArabicEndLetter=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(p){return o(p)&&i.indexOf(p.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(p){return o(p)&&a(p)&&e[p.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(p){var x=0,y=r,v="",b=0;for(x=0;x<p.length;x+=1)y[p.charCodeAt(x)]!==void 0?(b++,typeof(y=y[p.charCodeAt(x)])=="number"&&(v+=String.fromCharCode(y),y=r,b=0),x===p.length-1&&(y=r,v+=p.charAt(x-(b-1)),x-=b-1,b=0)):(y=r,v+=p.charAt(x-b),x-=b,b=0);return v};t.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(p,x,y){return o(p)?a(p)===!1?-1:!d(p)||!o(x)&&!o(y)||!o(y)&&l(x)||l(p)&&!o(x)||l(p)&&c(x)||l(p)&&l(x)?0:u(p)&&o(x)&&!l(x)&&o(y)&&d(y)?3:l(p)||!o(y)?1:2:-1},f=function(p){var x=0,y=0,v=0,b="",w="",_="",N=(p=p||"").split("\\s+"),j=[];for(x=0;x<N.length;x+=1){for(j.push(""),y=0;y<N[x].length;y+=1)b=N[x][y],w=N[x][y-1],_=N[x][y+1],o(b)?(v=m(b,w,_),j[x]+=v!==-1?String.fromCharCode(e[b.charCodeAt(0)][v]):b):j[x]+=b;j[x]=h(j[x])}return j.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var p,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var v=0;for(y=[],v=0;v<x.length;v+=1)Array.isArray(x[v])?y.push([f(x[v][0]),x[v][1],x[v][2]]):y.push([f(x[v])]);p=y}else p=f(x);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};t.events.push(["preProcessText",g])}(er.API),er.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(er.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,f=0,g=0,p=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=d.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,w){return b.concat(x.splitTextToSize(w,y))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)f<(p=this.getStringUnitWidth(c[v],{font:h})*u)&&(f=p);return f!==0&&(g=c.length),{w:f/=m,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,m){if(n.call(this),!u)throw new Error("No data for PDF table.");var f,g,p,x,y=[],v=[],b=[],w={},_={},N=[],j=[],k=(m=m||{}).autoSize||!1,E=m.printHeaders!==!1,A=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,C=m.margins||Object.assign({width:this.getPageWidth()},e),T=typeof m.padding=="number"?m.padding:3,L=m.headerBackgroundColor||"#c8c8c8",D=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=A,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=D,this.setFontSize(A),h==null)v=y=Object.keys(u[0]),b=y.map(function(){return"left"});else if(Array.isArray(h)&&Ss(h[0])==="object")for(y=h.map(function(z){return z.name}),v=h.map(function(z){return z.prompt||z.name||""}),b=h.map(function(z){return z.align||"left"}),f=0;f<h.length;f+=1)_[h[f].name]=.7499990551181103*h[f].width;else Array.isArray(h)&&typeof h[0]=="string"&&(v=y=h,b=y.map(function(){return"left"}));if(k||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<y.length;f+=1){for(w[x=y[f]]=u.map(function(z){return z[x]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=w[x],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)N.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[x]=Math.max.apply(null,N)+T+T,N=[]}if(E){var H={};for(f=0;f<y.length;f+=1)H[y[f]]={},H[y[f]].text=v[f],H[y[f]].align=b[f];var X=l.call(this,H,_);j=y.map(function(z){return new a(c,d,_[z],X,H[z].text,void 0,H[z].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var ee=h.reduce(function(z,V){return z[V.name]=V.align,z},{});for(f=0;f<u.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:u[f]},this);var Q=l.call(this,u[f],_);for(p=0;p<y.length;p+=1){var G=u[f][y[p]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:p,data:G},this),o.call(this,new a(c,d,_[y[p]],Q,G,f+2,ee[y[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(f){var g=c[f];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,d[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/m+u+u},this).reduce(function(f,g){return Math.max(f,g)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(er.API);var yW={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bW=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],V3=vW(bW),wW=[100,200,300,400,500,600,700,800,900],xve=vW(wW);function q4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return yW[a=a||"normal"]?a:"normal"}(t.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),i=function(a){return typeof V3[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function DF(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var vve={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},MF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BF(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function UF(t){return t.trimLeft()}function yve(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function bve(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Db,$F,qF,Xm,Mb,zF,VF,HF,z4=["times"];function WF(t,e,r,n,i){var a=4,o=GF;switch(i){case er.API.image_compression.FAST:a=1,o=KF;break;case er.API.image_compression.MEDIUM:a=6,o=YF;break;case er.API.image_compression.SLOW:a=9,o=QF}t=function(c,d,u,h){for(var m,f=c.length/d,g=new Uint8Array(c.length+f),p=[wve,KF,GF,YF,QF],x=0;x<f;x+=1){var y=x*d,v=c.subarray(y,y+d);if(h)g.set(h(v,u,m),y+x);else{for(var b=p.length,w=[],_=0;_<b;_+=1)w[_]=p[_](v,u,m);var N=jve(w.concat());g.set(w[N],y+x)}m=v}return g}(t,e,Math.ceil(r*n/8),o);var l=D3(t,{level:a});return er.API.__addimage__.arrayBufferToBinaryString(l)}function wve(t){var e=Array.apply([],t);return e.unshift(0),e}function KF(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function GF(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function YF(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,l=r&&r[a]||0;i[a+1]=t[a]+256-(o+l>>>1)&255}return i}function QF(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=Nve(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function Nve(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function jve(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function V4(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return NW(t,i)>>a&o}function XF(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),l=(1<<n)-1,c=(e&l)<<o;(function(d,u,h){if(u+1<d.byteLength)d.setUint16(u,h,!1);else{var m=h>>8&255;d.setUint8(u,m)}})(t,a,NW(t,a)&~(l<<o)&65535|c)}function NW(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function _ve(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var l=null,c=null;a&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,m=null,f=0,g=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var p=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],1&p||(m=null),f=p>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++],_=w>>6&1,N=1<<1+(7&w),j=l,k=c,E=!1;w>>7&&(E=!0,j=e,k=N,e+=3*N);var A=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}u.push({x,y,width:v,height:b,has_local_palette:E,palette_offset:j,palette_size:k,data_offset:A,data_length:e-A,transparent_index:m,interlaced:!!_,delay:h,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,L){var D=this.frameInfo(T),H=D.width*D.height,X=new Uint8Array(H);JF(t,D.data_offset,X,H);var ee=D.palette_offset,Q=D.transparent_index;Q===null&&(Q=256);var G=D.width,z=r-G,V=G,F=4*(D.y*r+D.x),I=4*((D.y+D.height)*r+D.x),B=F,q=4*z;D.interlaced===!0&&(q+=4*r*7);for(var U=8,W=0,te=X.length;W<te;++W){var re=X[W];if(V===0&&(V=G,(B+=q)>=I&&(q=4*z+4*r*(U-1),B=F+(G+z)*(U<<1),U>>=1)),re===Q)B+=4;else{var le=t[ee+3*re],ke=t[ee+3*re+1],Pe=t[ee+3*re+2];L[B++]=Pe,L[B++]=ke,L[B++]=le,L[B++]=255}--V}},this.decodeAndBlitFrameRGBA=function(T,L){var D=this.frameInfo(T),H=D.width*D.height,X=new Uint8Array(H);JF(t,D.data_offset,X,H);var ee=D.palette_offset,Q=D.transparent_index;Q===null&&(Q=256);var G=D.width,z=r-G,V=G,F=4*(D.y*r+D.x),I=4*((D.y+D.height)*r+D.x),B=F,q=4*z;D.interlaced===!0&&(q+=4*r*7);for(var U=8,W=0,te=X.length;W<te;++W){var re=X[W];if(V===0&&(V=G,(B+=q)>=I&&(q=4*z+4*r*(U-1),B=F+(G+z)*(U<<1),U>>=1)),re===Q)B+=4;else{var le=t[ee+3*re],ke=t[ee+3*re+1],Pe=t[ee+3*re+2];L[B++]=le,L[B++]=ke,L[B++]=Pe,L[B++]=255}--V}}}function JF(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,l=o+1,c=i+1,d=(1<<c)-1,u=0,h=0,m=0,f=t[e++],g=new Int32Array(4096),p=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<c)break;var x=h&d;if(h>>=c,u-=c,x!==a){if(x===o)break;for(var y=x<l?x:p,v=0,b=y;b>a;)b=g[b]>>8,++v;var w=b;if(m+v+(y!==x?1:0)>n)return void Ls.log("Warning, gif stream longer than expected.");r[m++]=w;var _=m+=v;for(y!==x&&(r[m++]=w),b=y;v--;)b=g[b],r[--_]=255&b,b>>=8;p!==null&&l<4096&&(g[l++]=p<<8|w,l>=d+1&&c<12&&(++c,d=d<<1|1)),p=x}else l=o+1,d=(1<<(c=i+1))-1,p=null}return m!==n&&Ls.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H4(t){var e,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),g=new Array(64),p=[],x=0,y=7,v=new Array(64),b=new Array(64),w=new Array(64),_=new Array(256),N=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(F,I){for(var B=0,q=0,U=new Array,W=1;W<=16;W++){for(var te=1;te<=F[W];te++)U[I[q]]=[],U[I[q]][0]=B,U[I[q]][1]=W,q++,B++;B*=2}return U}function ee(F){for(var I=F[0],B=F[1]-1;B>=0;)I&1<<B&&(x|=1<<y),B--,--y<0&&(x==255?(Q(255),Q(0)):Q(x),y=7,x=0)}function Q(F){p.push(F)}function G(F){Q(F>>8&255),Q(255&F)}function z(F,I,B,q,U){for(var W,te=U[0],re=U[240],le=function(Ce,oe){var me,Ne,Be,qe,De,ct,Ut,xt,$t,Rt,It=0;for($t=0;$t<8;++$t){me=Ce[It],Ne=Ce[It+1],Be=Ce[It+2],qe=Ce[It+3],De=Ce[It+4],ct=Ce[It+5],Ut=Ce[It+6];var os=me+(xt=Ce[It+7]),Mr=me-xt,Ht=Ne+Ut,dr=Ne-Ut,rs=Be+ct,sr=Be-ct,Er=qe+De,pr=qe-De,Qs=os+Er,kn=os-Er,vs=Ht+rs,or=Ht-rs;Ce[It]=Qs+vs,Ce[It+4]=Qs-vs;var ss=.707106781*(or+kn);Ce[It+2]=kn+ss,Ce[It+6]=kn-ss;var Yc=.382683433*((Qs=pr+sr)-(or=dr+Mr)),hi=.5411961*Qs+Yc,rl=1.306562965*or+Yc,Po=.707106781*(vs=sr+dr),ir=Mr+Po,sl=Mr-Po;Ce[It+5]=sl+hi,Ce[It+3]=sl-hi,Ce[It+1]=ir+rl,Ce[It+7]=ir-rl,It+=8}for(It=0,$t=0;$t<8;++$t){me=Ce[It],Ne=Ce[It+8],Be=Ce[It+16],qe=Ce[It+24],De=Ce[It+32],ct=Ce[It+40],Ut=Ce[It+48];var nl=me+(xt=Ce[It+56]),Vi=me-xt,La=Ne+Ut,Xs=Ne-Ut,Mn=Be+ct,se=Be-ct,ye=qe+De,ue=qe-De,pe=nl+ye,be=nl-ye,je=La+Mn,Ue=La-Mn;Ce[It]=pe+je,Ce[It+32]=pe-je;var tt=.707106781*(Ue+be);Ce[It+16]=be+tt,Ce[It+48]=be-tt;var $e=.382683433*((pe=ue+se)-(Ue=Xs+Vi)),ze=.5411961*pe+$e,Ke=1.306562965*Ue+$e,vt=.707106781*(je=se+Xs),kt=Vi+vt,Bt=Vi-vt;Ce[It+40]=Bt+ze,Ce[It+24]=Bt-ze,Ce[It+8]=kt+Ke,Ce[It+56]=kt-Ke,It++}for($t=0;$t<64;++$t)Rt=Ce[$t]*oe[$t],f[$t]=Rt>0?Rt+.5|0:Rt-.5|0;return f}(F,I),ke=0;ke<64;++ke)g[j[ke]]=le[ke];var Pe=g[0]-B;B=g[0],Pe==0?ee(q[0]):(ee(q[m[W=32767+Pe]]),ee(h[W]));for(var He=63;He>0&&g[He]==0;)He--;if(He==0)return ee(te),B;for(var Ae,fe=1;fe<=He;){for(var _t=fe;g[fe]==0&&fe<=He;)++fe;var Je=fe-_t;if(Je>=16){Ae=Je>>4;for(var Oe=1;Oe<=Ae;++Oe)ee(re);Je&=15}W=32767+g[fe],ee(U[(Je<<4)+m[W]]),ee(h[W]),fe++}return He!=63&&ee(te),B}function V(F){F=Math.min(Math.max(F,1),100),a!=F&&(function(I){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],q=0;q<64;q++){var U=o((B[q]*I+50)/100);U=Math.min(Math.max(U,1),255),l[j[q]]=U}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],te=0;te<64;te++){var re=o((W[te]*I+50)/100);re=Math.min(Math.max(re,1),255),c[j[te]]=re}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Pe=0;Pe<8;Pe++)for(var He=0;He<8;He++)d[ke]=1/(l[j[ke]]*le[Pe]*le[He]*8),u[ke]=1/(c[j[ke]]*le[Pe]*le[He]*8),ke++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),a=F)}this.encode=function(F,I){I&&V(I),p=new Array,x=0,y=7,G(65496),G(65504),G(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),G(1),G(1),Q(0),Q(0),function(){G(65499),G(132),Q(0);for(var Ne=0;Ne<64;Ne++)Q(l[Ne]);Q(1);for(var Be=0;Be<64;Be++)Q(c[Be])}(),function(Ne,Be){G(65472),G(17),Q(8),G(Be),G(Ne),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(F.width,F.height),function(){G(65476),G(418),Q(0);for(var Ne=0;Ne<16;Ne++)Q(k[Ne+1]);for(var Be=0;Be<=11;Be++)Q(E[Be]);Q(16);for(var qe=0;qe<16;qe++)Q(A[qe+1]);for(var De=0;De<=161;De++)Q(C[De]);Q(1);for(var ct=0;ct<16;ct++)Q(T[ct+1]);for(var Ut=0;Ut<=11;Ut++)Q(L[Ut]);Q(17);for(var xt=0;xt<16;xt++)Q(D[xt+1]);for(var $t=0;$t<=161;$t++)Q(H[$t])}(),G(65498),G(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var B=0,q=0,U=0;x=0,y=7,this.encode.displayName="_encode_";for(var W,te,re,le,ke,Pe,He,Ae,fe,_t=F.data,Je=F.width,Oe=F.height,Ce=4*Je,oe=0;oe<Oe;){for(W=0;W<Ce;){for(ke=Ce*oe+W,He=-1,Ae=0,fe=0;fe<64;fe++)Pe=ke+(Ae=fe>>3)*Ce+(He=4*(7&fe)),oe+Ae>=Oe&&(Pe-=Ce*(oe+1+Ae-Oe)),W+He>=Ce&&(Pe-=W+He-Ce+4),te=_t[Pe++],re=_t[Pe++],le=_t[Pe++],v[fe]=(N[te]+N[re+256|0]+N[le+512|0]>>16)-128,b[fe]=(N[te+768|0]+N[re+1024|0]+N[le+1280|0]>>16)-128,w[fe]=(N[te+1280|0]+N[re+1536|0]+N[le+1792|0]>>16)-128;B=z(v,d,B,e,n),q=z(b,u,q,r,i),U=z(w,u,U,r,i),W+=32}oe+=8}if(y>=0){var me=[];me[1]=y+1,me[0]=(1<<y+1)-1,ee(me)}return G(65497),new Uint8Array(p)},t=t||50,function(){for(var F=String.fromCharCode,I=0;I<256;I++)_[I]=F(I)}(),e=X(k,E),r=X(T,L),n=X(A,C),i=X(D,H),function(){for(var F=1,I=2,B=1;B<=15;B++){for(var q=F;q<I;q++)m[32767+q]=B,h[32767+q]=[],h[32767+q][1]=B,h[32767+q][0]=q;for(var U=-(I-1);U<=-F;U++)m[32767+U]=B,h[32767+U]=[],h[32767+U][1]=B,h[32767+U][0]=I-1+U;F<<=1,I<<=1}}(),function(){for(var F=0;F<256;F++)N[F]=19595*F,N[F+256|0]=38470*F,N[F+512|0]=7471*F+32768,N[F+768|0]=-11059*F,N[F+1024|0]=-21709*F,N[F+1280|0]=32768*F+8421375,N[F+1536|0]=-27439*F,N[F+1792|0]=-5329*F}(),V(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ul(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ZF(t){function e(E){if(!E)throw Error("assert :P")}function r(E,A,C){for(var T=0;4>T;T++)if(E[A+T]!=C.charCodeAt(T))return!0;return!1}function n(E,A,C,T,L){for(var D=0;D<L;D++)E[A+D]=C[T+D]}function i(E,A,C,T){for(var L=0;L<T;L++)E[A+L]=C}function a(E){return new Int32Array(E)}function o(E,A){for(var C=[],T=0;T<E;T++)C.push(new A);return C}function l(E,A){var C=[];return function T(L,D,H){for(var X=H[D],ee=0;ee<X&&(L.push(H.length>D+1?[]:new A),!(H.length<D+1));ee++)T(L[ee],D+1,H)}(C,0,E),C}var c=function(){var E=this;function A(S,P){for(var M=1<<P-1>>>0;S&M;)M>>>=1;return M?(S&M-1)+M:S}function C(S,P,M,K,Z){e(!(K%M));do S[P+(K-=M)]=Z;while(0<K)}function T(S,P,M,K,Z){if(e(2328>=Z),512>=Z)var ne=a(512);else if((ne=a(Z))==null)return 0;return function(ae,de,he,xe,Fe,We){var ve,Le,Me=de,st=1<<he,Ve=a(16),nt=a(16);for(e(Fe!=0),e(xe!=null),e(ae!=null),e(0<he),Le=0;Le<Fe;++Le){if(15<xe[Le])return 0;++Ve[xe[Le]]}if(Ve[0]==Fe)return 0;for(nt[1]=0,ve=1;15>ve;++ve){if(Ve[ve]>1<<ve)return 0;nt[ve+1]=nt[ve]+Ve[ve]}for(Le=0;Le<Fe;++Le)ve=xe[Le],0<xe[Le]&&(We[nt[ve]++]=Le);if(nt[15]==1)return(xe=new L).g=0,xe.value=We[0],C(ae,Me,1,st,xe),st;var lt,yt=-1,ft=st-1,Zt=0,Wt=1,Tr=1,Yt=1<<he;for(Le=0,ve=1,Fe=2;ve<=he;++ve,Fe<<=1){if(Wt+=Tr<<=1,0>(Tr-=Ve[ve]))return 0;for(;0<Ve[ve];--Ve[ve])(xe=new L).g=ve,xe.value=We[Le++],C(ae,Me+Zt,Fe,Yt,xe),Zt=A(Zt,ve)}for(ve=he+1,Fe=2;15>=ve;++ve,Fe<<=1){if(Wt+=Tr<<=1,0>(Tr-=Ve[ve]))return 0;for(;0<Ve[ve];--Ve[ve]){if(xe=new L,(Zt&ft)!=yt){for(Me+=Yt,lt=1<<(yt=ve)-he;15>yt&&!(0>=(lt-=Ve[yt]));)++yt,lt<<=1;st+=Yt=1<<(lt=yt-he),ae[de+(yt=Zt&ft)].g=lt+he,ae[de+yt].value=Me-de-yt}xe.g=ve-he,xe.value=We[Le++],C(ae,Me+(Zt>>he),Fe,Yt,xe),Zt=A(Zt,ve)}}return Wt!=2*nt[15]-1?0:st}(S,P,M,K,Z,ne)}function L(){this.value=this.g=0}function D(){this.value=this.g=0}function H(){this.G=o(5,L),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Xh,D)}function X(S,P,M,K){e(S!=null),e(P!=null),e(2147483648>K),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=P,S.pa=M,S.Jd=P,S.Yc=M+K,S.Zc=4<=K?M+K-4+1:M,te(S)}function ee(S,P){for(var M=0;0<P--;)M|=le(S,128)<<P;return M}function Q(S,P){var M=ee(S,P);return re(S)?-M:M}function G(S,P,M,K){var Z,ne=0;for(e(S!=null),e(P!=null),e(4294967288>K),S.Sb=K,S.Ra=0,S.u=0,S.h=0,4<K&&(K=4),Z=0;Z<K;++Z)ne+=P[M+Z]<<8*Z;S.Ra=ne,S.bb=K,S.oa=P,S.pa=M}function z(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<ou-8>>>0,++S.bb,S.u-=8;q(S)&&(S.h=1,S.u=0)}function V(S,P){if(e(0<=P),!S.h&&P<=eo){var M=B(S)&Za[P];return S.u+=P,z(S),M}return S.h=1,S.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(S){return S.Ra>>>(S.u&ou-1)>>>0}function q(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>ou}function U(S,P){S.u=P,S.h=q(S)}function W(S){S.u>=rd&&(e(S.u>=rd),z(S))}function te(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function re(S){return ee(S,1)}function le(S,P){var M=S.Ca;0>S.b&&te(S);var K=S.b,Z=M*P>>>8,ne=(S.I>>>K>Z)+0;for(ne?(M-=Z,S.I-=Z+1<<K>>>0):M=Z+1,K=M,Z=0;256<=K;)Z+=8,K>>=8;return K=7^Z+lu[K],S.b-=K,S.Ca=(M<<K)-1,ne}function ke(S,P,M){S[P+0]=M>>24&255,S[P+1]=M>>16&255,S[P+2]=M>>8&255,S[P+3]=255&M}function Pe(S,P){return S[P+0]|S[P+1]<<8}function He(S,P){return Pe(S,P)|S[P+2]<<16}function Ae(S,P){return Pe(S,P)|Pe(S,P+2)<<16}function fe(S,P){var M=1<<P;return e(S!=null),e(0<P),S.X=a(M),S.X==null?0:(S.Mb=32-P,S.Xa=P,1)}function _t(S,P){e(S!=null),e(P!=null),e(S.Xa==P.Xa),n(P.X,0,S.X,0,1<<P.Xa)}function Je(){this.X=[],this.Xa=this.Mb=0}function Oe(S,P,M,K){e(M!=null),e(K!=null);var Z=M[0],ne=K[0];return Z==0&&(Z=(S*ne+P/2)/P),ne==0&&(ne=(P*Z+S/2)/S),0>=Z||0>=ne?0:(M[0]=Z,K[0]=ne,1)}function Ce(S,P){return S+(1<<P)-1>>>P}function oe(S,P){return((4278255360&S)+(4278255360&P)>>>0&4278255360)+((16711935&S)+(16711935&P)>>>0&16711935)>>>0}function me(S,P){E[P]=function(M,K,Z,ne,ae,de,he){var xe;for(xe=0;xe<ae;++xe){var Fe=E[S](de[he+xe-1],Z,ne+xe);de[he+xe]=oe(M[K+xe],Fe)}}}function Ne(){this.ud=this.hd=this.jd=0}function Be(S,P){return((4278124286&(S^P))>>>1)+(S&P)>>>0}function qe(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function De(S,P){return qe(S+(S-P+.5>>1))}function ct(S,P,M){return Math.abs(P-M)-Math.abs(S-M)}function Ut(S,P,M,K,Z,ne,ae){for(K=ne[ae-1],M=0;M<Z;++M)ne[ae+M]=K=oe(S[P+M],K)}function xt(S,P,M,K,Z){var ne;for(ne=0;ne<M;++ne){var ae=S[P+ne],de=ae>>8&255,he=16711935&(he=(he=16711935&ae)+((de<<16)+de));K[Z+ne]=(4278255360&ae)+he>>>0}}function $t(S,P){P.jd=255&S,P.hd=S>>8&255,P.ud=S>>16&255}function Rt(S,P,M,K,Z,ne){var ae;for(ae=0;ae<K;++ae){var de=P[M+ae],he=de>>>8,xe=de,Fe=255&(Fe=(Fe=de>>>16)+((S.jd<<24>>24)*(he<<24>>24)>>>5));xe=255&(xe=(xe+=(S.hd<<24>>24)*(he<<24>>24)>>>5)+((S.ud<<24>>24)*(Fe<<24>>24)>>>5)),Z[ne+ae]=(4278255360&de)+(Fe<<16)+xe}}function It(S,P,M,K,Z){E[P]=function(ne,ae,de,he,xe,Fe,We,ve,Le){for(he=We;he<ve;++he)for(We=0;We<Le;++We)xe[Fe++]=Z(de[K(ne[ae++])])},E[S]=function(ne,ae,de,he,xe,Fe,We){var ve=8>>ne.b,Le=ne.Ea,Me=ne.K[0],st=ne.w;if(8>ve)for(ne=(1<<ne.b)-1,st=(1<<ve)-1;ae<de;++ae){var Ve,nt=0;for(Ve=0;Ve<Le;++Ve)Ve&ne||(nt=K(he[xe++])),Fe[We++]=Z(Me[nt&st]),nt>>=ve}else E["VP8LMapColor"+M](he,xe,Me,st,Fe,We,ae,de,Le)}}function os(S,P,M,K,Z){for(M=P+M;P<M;){var ne=S[P++];K[Z++]=ne>>16&255,K[Z++]=ne>>8&255,K[Z++]=255&ne}}function Mr(S,P,M,K,Z){for(M=P+M;P<M;){var ne=S[P++];K[Z++]=ne>>16&255,K[Z++]=ne>>8&255,K[Z++]=255&ne,K[Z++]=ne>>24&255}}function Ht(S,P,M,K,Z){for(M=P+M;P<M;){var ne=(ae=S[P++])>>16&240|ae>>12&15,ae=240&ae|ae>>28&15;K[Z++]=ne,K[Z++]=ae}}function dr(S,P,M,K,Z){for(M=P+M;P<M;){var ne=(ae=S[P++])>>16&248|ae>>13&7,ae=ae>>5&224|ae>>3&31;K[Z++]=ne,K[Z++]=ae}}function rs(S,P,M,K,Z){for(M=P+M;P<M;){var ne=S[P++];K[Z++]=255&ne,K[Z++]=ne>>8&255,K[Z++]=ne>>16&255}}function sr(S,P,M,K,Z,ne){if(ne==0)for(M=P+M;P<M;)ke(K,((ne=S[P++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Z+=32;else n(K,Z,S,P,M)}function Er(S,P){E[P][0]=E[S+"0"],E[P][1]=E[S+"1"],E[P][2]=E[S+"2"],E[P][3]=E[S+"3"],E[P][4]=E[S+"4"],E[P][5]=E[S+"5"],E[P][6]=E[S+"6"],E[P][7]=E[S+"7"],E[P][8]=E[S+"8"],E[P][9]=E[S+"9"],E[P][10]=E[S+"10"],E[P][11]=E[S+"11"],E[P][12]=E[S+"12"],E[P][13]=E[S+"13"],E[P][14]=E[S+"0"],E[P][15]=E[S+"0"]}function pr(S){return S==i5||S==a5||S==L1||S==o5}function Qs(){this.eb=[],this.size=this.A=this.fb=0}function kn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qs,this.f.kb=new kn,this.sd=null}function or(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ss(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Yc(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function hi(S,P){var M=S.T,K=P.ba.f.RGBA,Z=K.eb,ne=K.fb+S.ka*K.A,ae=Do[P.ba.S],de=S.y,he=S.O,xe=S.f,Fe=S.N,We=S.ea,ve=S.W,Le=P.cc,Me=P.dc,st=P.Mc,Ve=P.Nc,nt=S.ka,lt=S.ka+S.T,yt=S.U,ft=yt+1>>1;for(nt==0?ae(de,he,null,null,xe,Fe,We,ve,xe,Fe,We,ve,Z,ne,null,null,yt):(ae(P.ec,P.fc,de,he,Le,Me,st,Ve,xe,Fe,We,ve,Z,ne-K.A,Z,ne,yt),++M);nt+2<lt;nt+=2)Le=xe,Me=Fe,st=We,Ve=ve,Fe+=S.Rc,ve+=S.Rc,ne+=2*K.A,ae(de,(he+=2*S.fa)-S.fa,de,he,Le,Me,st,Ve,xe,Fe,We,ve,Z,ne-K.A,Z,ne,yt);return he+=S.fa,S.j+lt<S.o?(n(P.ec,P.fc,de,he,yt),n(P.cc,P.dc,xe,Fe,ft),n(P.Mc,P.Nc,We,ve,ft),M--):1&lt||ae(de,he,null,null,xe,Fe,We,ve,xe,Fe,We,ve,Z,ne+K.A,null,null,yt),M}function rl(S,P,M){var K=S.F,Z=[S.J];if(K!=null){var ne=S.U,ae=P.ba.S,de=ae==O1||ae==L1;P=P.ba.f.RGBA;var he=[0],xe=S.ka;he[0]=S.T,S.Kb&&(xe==0?--he[0]:(--xe,Z[0]-=S.width),S.j+S.ka+S.T==S.o&&(he[0]=S.o-S.j-xe));var Fe=P.eb;xe=P.fb+xe*P.A,S=jA(K,Z[0],S.width,ne,he,Fe,xe+(de?0:3),P.A),e(M==he),S&&pr(ae)&&Gg(Fe,xe,de,ne,he,P.A)}return 0}function Po(S){var P=S.ma,M=P.ba.S,K=11>M,Z=M==P1||M==F1||M==O1||M==n5||M==12||pr(M);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!Ug(P.Oa,S,Z?11:12))return 0;if(Z&&pr(M)&&S1(),S.da)alert("todo:use_scaling");else{if(K){if(P.Ib=Yc,S.Kb){if(M=S.U+1>>1,P.memory=a(S.U+2*M),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+S.U,P.Mc=P.cc,P.Nc=P.dc+M,P.Ib=hi,S1()}}else alert("todo:EmitYUV");Z&&(P.Jb=rl,K&&Oo())}if(K&&!BA){for(S=0;256>S;++S)fJ[S]=89858*(S-128)+I1>>R1,gJ[S]=-22014*(S-128)+I1,pJ[S]=-45773*(S-128),mJ[S]=113618*(S-128)+I1>>R1;for(S=Qg;S<d5;++S)P=76283*(S-16)+I1>>R1,xJ[S-Qg]=mn(P,255),vJ[S-Qg]=mn(P+8>>4,15);BA=1}return 1}function ir(S){var P=S.ma,M=S.U,K=S.T;return e(!(1&S.ka)),0>=M||0>=K?0:(M=P.Ib(S,P),P.Jb!=null&&P.Jb(S,P,M),P.Dc+=M,1)}function sl(S){S.ma.memory=null}function nl(S,P,M,K){return V(S,8)!=47?0:(P[0]=V(S,14)+1,M[0]=V(S,14)+1,K[0]=V(S,1),V(S,3)!=0?0:!S.h)}function Vi(S,P){if(4>S)return S+1;var M=S-2>>1;return(2+(1&S)<<M)+V(P,M)+1}function La(S,P){return 120<P?P-120:1<=(M=((M=ZX[P-1])>>4)*S+(8-(15&M)))?M:1;var M}function Xs(S,P,M){var K=B(M),Z=S[P+=255&K].g-8;return 0<Z&&(U(M,M.u+8),K=B(M),P+=S[P].value,P+=K&(1<<Z)-1),U(M,M.u+S[P].g),S[P].value}function Mn(S,P,M){return M.g+=S.g,M.value+=S.value<<P>>>0,e(8>=M.g),S.g}function se(S,P,M){var K=S.xc;return e((P=K==0?0:S.vc[S.md*(M>>K)+(P>>K)])<S.Wb),S.Ya[P]}function ye(S,P,M,K){var Z=S.ab,ne=S.c*P,ae=S.C;P=ae+P;var de=M,he=K;for(K=S.Ta,M=S.Ua;0<Z--;){var xe=S.gc[Z],Fe=ae,We=P,ve=de,Le=he,Me=(he=K,de=M,xe.Ea);switch(e(Fe<We),e(We<=xe.nc),xe.hc){case 2:An(ve,Le,(We-Fe)*Me,he,de);break;case 0:var st=Fe,Ve=We,nt=he,lt=de,yt=(Yt=xe).Ea;st==0&&(qg(ve,Le,null,null,1,nt,lt),Ut(ve,Le+1,0,0,yt-1,nt,lt+1),Le+=yt,lt+=yt,++st);for(var ft=1<<Yt.b,Zt=ft-1,Wt=Ce(yt,Yt.b),Tr=Yt.K,Yt=Yt.w+(st>>Yt.b)*Wt;st<Ve;){var Gr=Tr,ei=Yt,Pr=1;for(Bm(ve,Le,nt,lt-yt,1,nt,lt);Pr<yt;){var Qt=(Pr&~Zt)+ft;Qt>yt&&(Qt=yt),(0,Vg[Gr[ei++]>>8&15])(ve,Le+ +Pr,nt,lt+Pr-yt,Qt-Pr,nt,lt+Pr),Pr=Qt}Le+=yt,lt+=yt,++st&Zt||(Yt+=Wt)}We!=xe.nc&&n(he,de-Me,he,de+(We-Fe-1)*Me,Me);break;case 1:for(Me=ve,Ve=Le,yt=(ve=xe.Ea)-(lt=ve&~(nt=(Le=1<<xe.b)-1)),st=Ce(ve,xe.b),ft=xe.K,xe=xe.w+(Fe>>xe.b)*st;Fe<We;){for(Zt=ft,Wt=xe,Tr=new Ne,Yt=Ve+lt,Gr=Ve+ve;Ve<Yt;)$t(Zt[Wt++],Tr),Hg(Tr,Me,Ve,Le,he,de),Ve+=Le,de+=Le;Ve<Gr&&($t(Zt[Wt++],Tr),Hg(Tr,Me,Ve,yt,he,de),Ve+=yt,de+=yt),++Fe&nt||(xe+=st)}break;case 3:if(ve==he&&Le==de&&0<xe.b){for(Ve=he,ve=Me=de+(We-Fe)*Me-(lt=(We-Fe)*Ce(xe.Ea,xe.b)),Le=he,nt=de,st=[],lt=(yt=lt)-1;0<=lt;--lt)st[lt]=Le[nt+lt];for(lt=yt-1;0<=lt;--lt)Ve[ve+lt]=st[lt];C1(xe,Fe,We,he,Me,he,de)}else C1(xe,Fe,We,ve,Le,he,de)}de=K,he=M}he!=M&&n(K,M,de,he,ne)}function ue(S,P){var M=S.V,K=S.Ba+S.c*S.C,Z=P-S.C;if(e(P<=S.l.o),e(16>=Z),0<Z){var ne=S.l,ae=S.Ta,de=S.Ua,he=ne.width;if(ye(S,Z,M,K),Z=de=[de],e((M=S.C)<(K=P)),e(ne.v<ne.va),K>ne.o&&(K=ne.o),M<ne.j){var xe=ne.j-M;M=ne.j,Z[0]+=xe*he}if(M>=K?M=0:(Z[0]+=4*ne.v,ne.ka=M-ne.j,ne.U=ne.va-ne.v,ne.T=K-M,M=1),M){if(de=de[0],11>(M=S.ca).S){var Fe=M.f.RGBA,We=(K=M.S,Z=ne.U,ne=ne.T,xe=Fe.eb,Fe.A),ve=ne;for(Fe=Fe.fb+S.Ma*Fe.A;0<ve--;){var Le=ae,Me=de,st=Z,Ve=xe,nt=Fe;switch(K){case T1:Wg(Le,Me,st,Ve,nt);break;case P1:cu(Le,Me,st,Ve,nt);break;case i5:cu(Le,Me,st,Ve,nt),Gg(Ve,nt,0,st,1,0);break;case TA:Jh(Le,Me,st,Ve,nt);break;case F1:sr(Le,Me,st,Ve,nt,1);break;case a5:sr(Le,Me,st,Ve,nt,1),Gg(Ve,nt,0,st,1,0);break;case O1:sr(Le,Me,st,Ve,nt,0);break;case L1:sr(Le,Me,st,Ve,nt,0),Gg(Ve,nt,1,st,1,0);break;case n5:du(Le,Me,st,Ve,nt);break;case o5:du(Le,Me,st,Ve,nt),NA(Ve,nt,st,1,0);break;case PA:uu(Le,Me,st,Ve,nt);break;default:e(0)}de+=he,Fe+=We}S.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=M.height)}}S.C=P,e(S.C<=S.i)}function pe(S){var P;if(0<S.ua)return 0;for(P=0;P<S.Wb;++P){var M=S.Ya[P].G,K=S.Ya[P].H;if(0<M[1][K[1]+0].g||0<M[2][K[2]+0].g||0<M[3][K[3]+0].g)return 0}return 1}function be(S,P,M,K,Z,ne){if(S.Z!=0){var ae=S.qd,de=S.rd;for(e(mu[S.Z]!=null);P<M;++P)mu[S.Z](ae,de,K,Z,K,Z,ne),ae=K,de=Z,Z+=ne;S.qd=ae,S.rd=de}}function je(S,P){var M=S.l.ma,K=M.Z==0||M.Z==1?S.l.j:S.C;if(K=S.C<K?K:S.C,e(P<=S.l.o),P>K){var Z=S.l.width,ne=M.ca,ae=M.tb+Z*K,de=S.V,he=S.Ba+S.c*K,xe=S.gc;e(S.ab==1),e(xe[0].hc==3),ic(xe[0],K,P,de,he,ne,ae),be(M,K,P,ne,ae,Z)}S.C=S.Ma=P}function Ue(S,P,M,K,Z,ne,ae){var de=S.$/K,he=S.$%K,xe=S.m,Fe=S.s,We=M+S.$,ve=We;Z=M+K*Z;var Le=M+K*ne,Me=280+Fe.ua,st=S.Pb?de:16777216,Ve=0<Fe.ua?Fe.Wa:null,nt=Fe.wc,lt=We<Le?se(Fe,he,de):null;e(S.C<ne),e(Le<=Z);var yt=!1;e:for(;;){for(;yt||We<Le;){var ft=0;if(de>=st){var Zt=We-M;e((st=S).Pb),st.wd=st.m,st.xd=Zt,0<st.s.ua&&_t(st.s.Wa,st.s.vb),st=de+tJ}if(he&nt||(lt=se(Fe,he,de)),e(lt!=null),lt.Qb&&(P[We]=lt.qb,yt=!0),!yt)if(W(xe),lt.jc){ft=xe,Zt=P;var Wt=We,Tr=lt.pd[B(ft)&Xh-1];e(lt.jc),256>Tr.g?(U(ft,ft.u+Tr.g),Zt[Wt]=Tr.value,ft=0):(U(ft,ft.u+Tr.g-256),e(256<=Tr.value),ft=Tr.value),ft==0&&(yt=!0)}else ft=Xs(lt.G[0],lt.H[0],xe);if(xe.h)break;if(yt||256>ft){if(!yt)if(lt.nd)P[We]=(lt.qb|ft<<8)>>>0;else{if(W(xe),yt=Xs(lt.G[1],lt.H[1],xe),W(xe),Zt=Xs(lt.G[2],lt.H[2],xe),Wt=Xs(lt.G[3],lt.H[3],xe),xe.h)break;P[We]=(Wt<<24|yt<<16|ft<<8|Zt)>>>0}if(yt=!1,++We,++he>=K&&(he=0,++de,ae!=null&&de<=ne&&!(de%16)&&ae(S,de),Ve!=null))for(;ve<We;)ft=P[ve++],Ve.X[(506832829*ft&4294967295)>>>Ve.Mb]=ft}else if(280>ft){if(ft=Vi(ft-256,xe),Zt=Xs(lt.G[4],lt.H[4],xe),W(xe),Zt=La(K,Zt=Vi(Zt,xe)),xe.h)break;if(We-M<Zt||Z-We<ft)break e;for(Wt=0;Wt<ft;++Wt)P[We+Wt]=P[We+Wt-Zt];for(We+=ft,he+=ft;he>=K;)he-=K,++de,ae!=null&&de<=ne&&!(de%16)&&ae(S,de);if(e(We<=Z),he&nt&&(lt=se(Fe,he,de)),Ve!=null)for(;ve<We;)ft=P[ve++],Ve.X[(506832829*ft&4294967295)>>>Ve.Mb]=ft}else{if(!(ft<Me))break e;for(yt=ft-280,e(Ve!=null);ve<We;)ft=P[ve++],Ve.X[(506832829*ft&4294967295)>>>Ve.Mb]=ft;ft=We,e(!(yt>>>(Zt=Ve).Xa)),P[ft]=Zt.X[yt],yt=!0}yt||e(xe.h==q(xe))}if(S.Pb&&xe.h&&We<Z)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&_t(S.s.vb,S.s.Wa);else{if(xe.h)break e;ae!=null&&ae(S,de>ne?ne:de),S.a=0,S.$=We-M}return 1}return S.a=3,0}function tt(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var P=S.Wa;P!=null&&(P.X=null),S.vb=null,e(S!=null)}function $e(){var S=new Jt;return S==null?null:(S.a=0,S.xb=LA,Er("Predictor","VP8LPredictors"),Er("Predictor","VP8LPredictors_C"),Er("PredictorAdd","VP8LPredictorsAdd"),Er("PredictorAdd","VP8LPredictorsAdd_C"),An=xt,Hg=Rt,Wg=os,cu=Mr,du=Ht,uu=dr,Jh=rs,E.VP8LMapColor32b=nc,E.VP8LMapColor8b=zg,S)}function ze(S,P,M,K,Z){var ne=1,ae=[S],de=[P],he=K.m,xe=K.s,Fe=null,We=0;e:for(;;){if(M)for(;ne&&V(he,1);){var ve=ae,Le=de,Me=K,st=1,Ve=Me.m,nt=Me.gc[Me.ab],lt=V(Ve,2);if(Me.Oc&1<<lt)ne=0;else{switch(Me.Oc|=1<<lt,nt.hc=lt,nt.Ea=ve[0],nt.nc=Le[0],nt.K=[null],++Me.ab,e(4>=Me.ab),lt){case 0:case 1:nt.b=V(Ve,3)+2,st=ze(Ce(nt.Ea,nt.b),Ce(nt.nc,nt.b),0,Me,nt.K),nt.K=nt.K[0];break;case 3:var yt,ft=V(Ve,8)+1,Zt=16<ft?0:4<ft?1:2<ft?2:3;if(ve[0]=Ce(nt.Ea,Zt),nt.b=Zt,yt=st=ze(ft,1,0,Me,nt.K)){var Wt,Tr=ft,Yt=nt,Gr=1<<(8>>Yt.b),ei=a(Gr);if(ei==null)yt=0;else{var Pr=Yt.K[0],Qt=Yt.w;for(ei[0]=Yt.K[0][0],Wt=1;Wt<1*Tr;++Wt)ei[Wt]=oe(Pr[Qt+Wt],ei[Wt-1]);for(;Wt<4*Gr;++Wt)ei[Wt]=0;Yt.K[0]=null,Yt.K[0]=ei,yt=1}}st=yt;break;case 2:break;default:e(0)}ne=st}}if(ae=ae[0],de=de[0],ne&&V(he,1)&&!(ne=1<=(We=V(he,4))&&11>=We)){K.a=3;break e}var Tt;if(Tt=ne)t:{var Tn,_r,Xr,qs=K,Ai=ae,ha=de,pn=We,Ki=M,fa=qs.m,ti=qs.s,es=[null],ys=1,gn=0,bs=eJ[pn];r:for(;;){if(Ki&&V(fa,1)){var Ei=V(fa,3)+2,ll=Ce(Ai,Ei),Pn=Ce(ha,Ei),Ia=ll*Pn;if(!ze(ll,Pn,0,qs,es))break r;for(es=es[0],ti.xc=Ei,Tn=0;Tn<Ia;++Tn){var Os=es[Tn]>>8&65535;es[Tn]=Os,Os>=ys&&(ys=Os+1)}}if(fa.h)break r;for(_r=0;5>_r;++_r){var ri=FA[_r];!_r&&0<pn&&(ri+=1<<pn),gn<ri&&(gn=ri)}var ro=o(ys*bs,L),ma=ys,so=o(ma,H);if(so==null)var no=null;else e(65536>=ma),no=so;var Da=a(gn);if(no==null||Da==null||ro==null){qs.a=1;break r}var io=ro;for(Tn=Xr=0;Tn<ys;++Tn){var Us=no[Tn],ao=Us.G,cl=Us.H,ef=0,id=1,Ti=0;for(_r=0;5>_r;++_r){ri=FA[_r],ao[_r]=io,cl[_r]=Xr,!_r&&0<pn&&(ri+=1<<pn);n:{var M1,u5=ri,B1=qs,Xg=Da,wJ=io,NJ=Xr,h5=0,pu=B1.m,jJ=V(pu,1);if(i(Xg,0,0,u5),jJ){var _J=V(pu,1)+1,SJ=V(pu,1),qA=V(pu,SJ==0?1:8);Xg[qA]=1,_J==2&&(Xg[qA=V(pu,8)]=1);var U1=1}else{var zA=a(19),VA=V(pu,4)+4;if(19<VA){B1.a=3;var $1=0;break n}for(M1=0;M1<VA;++M1)zA[JX[M1]]=V(pu,3);var f5=void 0,Jg=void 0,HA=B1,kJ=zA,q1=u5,WA=Xg,m5=0,gu=HA.m,KA=8,GA=o(128,L);s:for(;T(GA,0,7,kJ,19);){if(V(gu,1)){var CJ=2+2*V(gu,3);if((f5=2+V(gu,CJ))>q1)break s}else f5=q1;for(Jg=0;Jg<q1&&f5--;){W(gu);var YA=GA[0+(127&B(gu))];U(gu,gu.u+YA.g);var $m=YA.value;if(16>$m)WA[Jg++]=$m,$m!=0&&(KA=$m);else{var AJ=$m==16,QA=$m-16,EJ=QX[QA],XA=V(gu,YX[QA])+EJ;if(Jg+XA>q1)break s;for(var TJ=AJ?KA:0;0<XA--;)WA[Jg++]=TJ}}m5=1;break s}m5||(HA.a=3),U1=m5}(U1=U1&&!pu.h)&&(h5=T(wJ,NJ,8,Xg,u5)),U1&&h5!=0?$1=h5:(B1.a=3,$1=0)}if($1==0)break r;if(id&&XX[_r]==1&&(id=io[Xr].g==0),ef+=io[Xr].g,Xr+=$1,3>=_r){var Zg,p5=Da[0];for(Zg=1;Zg<ri;++Zg)Da[Zg]>p5&&(p5=Da[Zg]);Ti+=p5}}if(Us.nd=id,Us.Qb=0,id&&(Us.qb=(ao[3][cl[3]+0].value<<24|ao[1][cl[1]+0].value<<16|ao[2][cl[2]+0].value)>>>0,ef==0&&256>ao[0][cl[0]+0].value&&(Us.Qb=1,Us.qb+=ao[0][cl[0]+0].value<<8)),Us.jc=!Us.Qb&&6>Ti,Us.jc){var z1,ad=Us;for(z1=0;z1<Xh;++z1){var xu=z1,vu=ad.pd[xu],V1=ad.G[0][ad.H[0]+xu];256<=V1.value?(vu.g=V1.g+256,vu.value=V1.value):(vu.g=0,vu.value=0,xu>>=Mn(V1,8,vu),xu>>=Mn(ad.G[1][ad.H[1]+xu],16,vu),xu>>=Mn(ad.G[2][ad.H[2]+xu],0,vu),Mn(ad.G[3][ad.H[3]+xu],24,vu))}}}ti.vc=es,ti.Wb=ys,ti.Ya=no,ti.yc=ro,Tt=1;break t}Tt=0}if(!(ne=Tt)){K.a=3;break e}if(0<We){if(xe.ua=1<<We,!fe(xe.Wa,We)){K.a=1,ne=0;break e}}else xe.ua=0;var g5=K,JA=ae,PJ=de,x5=g5.s,v5=x5.xc;if(g5.c=JA,g5.i=PJ,x5.md=Ce(JA,v5),x5.wc=v5==0?-1:(1<<v5)-1,M){K.xb=lJ;break e}if((Fe=a(ae*de))==null){K.a=1,ne=0;break e}ne=(ne=Ue(K,Fe,0,ae,de,de,null))&&!he.h;break e}return ne?(Z!=null?Z[0]=Fe:(e(Fe==null),e(M)),K.$=0,M||tt(xe)):tt(xe),ne}function Ke(S,P){var M=S.c*S.i,K=M+P+16*P;return e(S.c<=P),S.V=a(K),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+M+P,1)}function vt(S,P){var M=S.C,K=P-M,Z=S.V,ne=S.Ba+S.c*M;for(e(P<=S.l.o);0<K;){var ae=16<K?16:K,de=S.l.ma,he=S.l.width,xe=he*ae,Fe=de.ca,We=de.tb+he*M,ve=S.Ta,Le=S.Ua;ye(S,ae,Z,ne),_A(ve,Le,Fe,We,xe),be(de,M,M+ae,Fe,We,he),K-=ae,Z+=ae*S.c,M+=ae}e(M==P),S.C=S.Ma=P}function kt(){this.ub=this.yd=this.td=this.Rb=0}function Bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Nt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Lt(){this.Yb=function(){var S=[];return function P(M,K,Z){for(var ne=Z[K],ae=0;ae<ne&&(M.push(Z.length>K+1?[]:0),!(Z.length<K+1));ae++)P(M[ae],K+1,Z)}(S,0,[3,11]),S}()}function ur(){this.jb=a(3),this.Wc=l([4,8],Lt),this.Xc=l([4,17],Lt)}function Es(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Hr(){this.ld=this.La=this.dd=this.tc=0}function fn(){this.Na=this.la=0}function tc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function il(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hr),this.Y=0,this.ya=Array(new il),this.aa=0,this.l=new Hi}function Fo(){this.y=a(16),this.f=a(8),this.ea=a(8)}function ru(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new kt,this.Kc=new Bt,this.ed=new Es,this.Qa=new Nt,this.Ic=this.$c=this.Aa=0,this.D=new rc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,F),this.ia=0,this.pb=o(4,tc),this.Pa=new ur,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fo),this.Hd=0,this.rb=Array(new fn),this.sb=0,this.wa=Array(new Hr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new il),this.L=this.aa=0,this.gd=l([4,2],Hr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qj(){var S=new ru;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,Yg||(Yg=Qc)),S}function Bn(S,P,M){return S.a==0&&(S.a=P,S.sc=M,S.cb=0),0}function g1(S,P,M){return 3<=M&&S[P+0]==157&&S[P+1]==1&&S[P+2]==42}function x1(S,P){if(S==null)return 0;if(S.a=0,S.sc="OK",P==null)return Bn(S,2,"null VP8Io passed to VP8GetHeaders()");var M=P.data,K=P.w,Z=P.ha;if(4>Z)return Bn(S,7,"Truncated header.");var ne=M[K+0]|M[K+1]<<8|M[K+2]<<16,ae=S.Od;if(ae.Rb=!(1&ne),ae.td=ne>>1&7,ae.yd=ne>>4&1,ae.ub=ne>>5,3<ae.td)return Bn(S,3,"Incorrect keyframe parameters.");if(!ae.yd)return Bn(S,4,"Frame not displayable.");K+=3,Z-=3;var de=S.Kc;if(ae.Rb){if(7>Z)return Bn(S,7,"cannot parse picture header");if(!g1(M,K,Z))return Bn(S,3,"Bad code word");de.c=16383&(M[K+4]<<8|M[K+3]),de.Td=M[K+4]>>6,de.i=16383&(M[K+6]<<8|M[K+5]),de.Ud=M[K+6]>>6,K+=7,Z-=7,S.za=de.c+15>>4,S.Ub=de.i+15>>4,P.width=de.c,P.height=de.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,i((ne=S.Pa).jb,0,255,ne.jb.length),e((ne=S.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,i(ne.Zb,0,0,ne.Zb.length),i(ne.Lb,0,0,ne.Lb)}if(ae.ub>Z)return Bn(S,7,"bad partition length");X(ne=S.m,M,K,ae.ub),K+=ae.ub,Z-=ae.ub,ae.Rb&&(de.Ld=re(ne),de.Kd=re(ne)),de=S.Qa;var he,xe=S.Pa;if(e(ne!=null),e(de!=null),de.Cb=re(ne),de.Cb){if(de.Bb=re(ne),re(ne)){for(de.Fb=re(ne),he=0;4>he;++he)de.Zb[he]=re(ne)?Q(ne,7):0;for(he=0;4>he;++he)de.Lb[he]=re(ne)?Q(ne,6):0}if(de.Bb)for(he=0;3>he;++he)xe.jb[he]=re(ne)?ee(ne,8):255}else de.Bb=0;if(ne.Ka)return Bn(S,3,"cannot parse segment header");if((de=S.ed).zd=re(ne),de.Tb=ee(ne,6),de.wb=ee(ne,3),de.Pc=re(ne),de.Pc&&re(ne)){for(xe=0;4>xe;++xe)re(ne)&&(de.vd[xe]=Q(ne,6));for(xe=0;4>xe;++xe)re(ne)&&(de.od[xe]=Q(ne,6))}if(S.L=de.Tb==0?0:de.zd?1:2,ne.Ka)return Bn(S,3,"cannot parse filter header");var Fe=Z;if(Z=he=K,K=he+Fe,de=Fe,S.Xb=(1<<ee(S.m,2))-1,Fe<3*(xe=S.Xb))M=7;else{for(he+=3*xe,de-=3*xe,Fe=0;Fe<xe;++Fe){var We=M[Z+0]|M[Z+1]<<8|M[Z+2]<<16;We>de&&(We=de),X(S.Jc[+Fe],M,he,We),he+=We,de-=We,Z+=3}X(S.Jc[+xe],M,he,de),M=he<K?0:5}if(M!=0)return Bn(S,M,"cannot parse partitions");for(M=ee(he=S.m,7),Z=re(he)?Q(he,4):0,K=re(he)?Q(he,4):0,de=re(he)?Q(he,4):0,xe=re(he)?Q(he,4):0,he=re(he)?Q(he,4):0,Fe=S.Qa,We=0;4>We;++We){if(Fe.Cb){var ve=Fe.Zb[We];Fe.Fb||(ve+=M)}else{if(0<We){S.pb[We]=S.pb[0];continue}ve=M}var Le=S.pb[We];Le.Sc[0]=l5[mn(ve+Z,127)],Le.Sc[1]=c5[mn(ve+0,127)],Le.Eb[0]=2*l5[mn(ve+K,127)],Le.Eb[1]=101581*c5[mn(ve+de,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=l5[mn(ve+xe,117)],Le.Qc[1]=c5[mn(ve+he,127)],Le.lc=ve+he}if(!ae.Rb)return Bn(S,4,"Not a key frame.");for(re(ne),ae=S.Pa,M=0;4>M;++M){for(Z=0;8>Z;++Z)for(K=0;3>K;++K)for(de=0;11>de;++de)xe=le(ne,aJ[M][Z][K][de])?ee(ne,8):nJ[M][Z][K][de],ae.Wc[M][Z].Yb[K][de]=xe;for(Z=0;17>Z;++Z)ae.Xc[M][Z]=ae.Wc[M][oJ[Z]]}return S.kc=re(ne),S.kc&&(S.Bd=ee(ne,8)),S.cb=1}function Qc(S,P,M,K,Z,ne,ae){var de=P[Z].Yb[M];for(M=0;16>Z;++Z){if(!le(S,de[M+0]))return Z;for(;!le(S,de[M+1]);)if(de=P[++Z].Yb[0],M=0,Z==16)return 16;var he=P[Z+1].Yb;if(le(S,de[M+2])){var xe=S,Fe=0;if(le(xe,(ve=de)[(We=M)+3]))if(le(xe,ve[We+6])){for(de=0,We=2*(Fe=le(xe,ve[We+8]))+(ve=le(xe,ve[We+9+Fe])),Fe=0,ve=rJ[We];ve[de];++de)Fe+=Fe+le(xe,ve[de]);Fe+=3+(8<<We)}else le(xe,ve[We+7])?(Fe=7+2*le(xe,165),Fe+=le(xe,145)):Fe=5+le(xe,159);else Fe=le(xe,ve[We+4])?3+le(xe,ve[We+5]):2;de=he[2]}else Fe=1,de=he[1];he=ae+sJ[Z],0>(xe=S).b&&te(xe);var We,ve=xe.b,Le=(We=xe.Ca>>1)-(xe.I>>ve)>>31;--xe.b,xe.Ca+=Le,xe.Ca|=1,xe.I-=(We+1&Le)<<ve,ne[he]=((Fe^Le)-Le)*K[(0<Z)+0]}return 16}function Rh(S){var P=S.rb[S.sb-1];P.la=0,P.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function al(S,P,M,K,Z){Z=S[P+M+32*K]+(Z>>3),S[P+M+32*K]=-256&Z?0>Z?0:255:Z}function Ih(S,P,M,K,Z,ne){al(S,P,0,M,K+Z),al(S,P,1,M,K+ne),al(S,P,2,M,K-ne),al(S,P,3,M,K-Z)}function Cn(S){return(20091*S>>16)+S}function Eg(S,P,M,K){var Z,ne=0,ae=a(16);for(Z=0;4>Z;++Z){var de=S[P+0]+S[P+8],he=S[P+0]-S[P+8],xe=(35468*S[P+4]>>16)-Cn(S[P+12]),Fe=Cn(S[P+4])+(35468*S[P+12]>>16);ae[ne+0]=de+Fe,ae[ne+1]=he+xe,ae[ne+2]=he-xe,ae[ne+3]=de-Fe,ne+=4,P++}for(Z=ne=0;4>Z;++Z)de=(S=ae[ne+0]+4)+ae[ne+8],he=S-ae[ne+8],xe=(35468*ae[ne+4]>>16)-Cn(ae[ne+12]),al(M,K,0,0,de+(Fe=Cn(ae[ne+4])+(35468*ae[ne+12]>>16))),al(M,K,1,0,he+xe),al(M,K,2,0,he-xe),al(M,K,3,0,de-Fe),ne++,K+=32}function zj(S,P,M,K){var Z=S[P+0]+4,ne=35468*S[P+4]>>16,ae=Cn(S[P+4]),de=35468*S[P+1]>>16;Ih(M,K,0,Z+ae,S=Cn(S[P+1]),de),Ih(M,K,1,Z+ne,S,de),Ih(M,K,2,Z-ne,S,de),Ih(M,K,3,Z-ae,S,de)}function Vj(S,P,M,K,Z){Eg(S,P,M,K),Z&&Eg(S,P+16,M,K+4)}function Hj(S,P,M,K){Zh(S,P+0,M,K,1),Zh(S,P+32,M,K+128,1)}function sc(S,P,M,K){var Z;for(S=S[P+0]+4,Z=0;4>Z;++Z)for(P=0;4>P;++P)al(M,K,P,Z,S)}function v1(S,P,M,K){S[P+0]&&us(S,P+0,M,K),S[P+16]&&us(S,P+16,M,K+4),S[P+32]&&us(S,P+32,M,K+128),S[P+48]&&us(S,P+48,M,K+128+4)}function y1(S,P,M,K){var Z,ne=a(16);for(Z=0;4>Z;++Z){var ae=S[P+0+Z]+S[P+12+Z],de=S[P+4+Z]+S[P+8+Z],he=S[P+4+Z]-S[P+8+Z],xe=S[P+0+Z]-S[P+12+Z];ne[0+Z]=ae+de,ne[8+Z]=ae-de,ne[4+Z]=xe+he,ne[12+Z]=xe-he}for(Z=0;4>Z;++Z)ae=(S=ne[0+4*Z]+3)+ne[3+4*Z],de=ne[1+4*Z]+ne[2+4*Z],he=ne[1+4*Z]-ne[2+4*Z],xe=S-ne[3+4*Z],M[K+0]=ae+de>>3,M[K+16]=xe+he>>3,M[K+32]=ae-de>>3,M[K+48]=xe-he>>3,K+=64}function su(S,P,M){var K,Z=P-32,ne=to,ae=255-S[Z-1];for(K=0;K<M;++K){var de,he=ne,xe=ae+S[P-1];for(de=0;de<M;++de)S[P+de]=he[xe+S[Z+de]];P+=32}}function Tg(S,P){su(S,P,4)}function Wj(S,P){su(S,P,8)}function Kj(S,P){su(S,P,16)}function Gj(S,P){var M;for(M=0;16>M;++M)n(S,P+32*M,S,P-32,16)}function Pg(S,P){var M;for(M=16;0<M;--M)i(S,P,S[P-1],16),P+=32}function Dh(S,P,M){var K;for(K=0;16>K;++K)i(P,M+32*K,S,16)}function nu(S,P){var M,K=16;for(M=0;16>M;++M)K+=S[P-1+32*M]+S[P+M-32];Dh(K>>5,S,P)}function Yj(S,P){var M,K=8;for(M=0;16>M;++M)K+=S[P-1+32*M];Dh(K>>4,S,P)}function Mh(S,P){var M,K=8;for(M=0;16>M;++M)K+=S[P+M-32];Dh(K>>4,S,P)}function Fg(S,P){Dh(128,S,P)}function yr(S,P,M){return S+2*P+M+2>>2}function Qj(S,P){var M,K=P-32;for(K=new Uint8Array([yr(S[K-1],S[K+0],S[K+1]),yr(S[K+0],S[K+1],S[K+2]),yr(S[K+1],S[K+2],S[K+3]),yr(S[K+2],S[K+3],S[K+4])]),M=0;4>M;++M)n(S,P+32*M,K,0,K.length)}function Xj(S,P){var M=S[P-1],K=S[P-1+32],Z=S[P-1+64],ne=S[P-1+96];ke(S,P+0,16843009*yr(S[P-1-32],M,K)),ke(S,P+32,16843009*yr(M,K,Z)),ke(S,P+64,16843009*yr(K,Z,ne)),ke(S,P+96,16843009*yr(Z,ne,ne))}function Jj(S,P){var M,K=4;for(M=0;4>M;++M)K+=S[P+M-32]+S[P-1+32*M];for(K>>=3,M=0;4>M;++M)i(S,P+32*M,K,4)}function Zj(S,P){var M=S[P-1+0],K=S[P-1+32],Z=S[P-1+64],ne=S[P-1-32],ae=S[P+0-32],de=S[P+1-32],he=S[P+2-32],xe=S[P+3-32];S[P+0+96]=yr(K,Z,S[P-1+96]),S[P+1+96]=S[P+0+64]=yr(M,K,Z),S[P+2+96]=S[P+1+64]=S[P+0+32]=yr(ne,M,K),S[P+3+96]=S[P+2+64]=S[P+1+32]=S[P+0+0]=yr(ae,ne,M),S[P+3+64]=S[P+2+32]=S[P+1+0]=yr(de,ae,ne),S[P+3+32]=S[P+2+0]=yr(he,de,ae),S[P+3+0]=yr(xe,he,de)}function Xc(S,P){var M=S[P+1-32],K=S[P+2-32],Z=S[P+3-32],ne=S[P+4-32],ae=S[P+5-32],de=S[P+6-32],he=S[P+7-32];S[P+0+0]=yr(S[P+0-32],M,K),S[P+1+0]=S[P+0+32]=yr(M,K,Z),S[P+2+0]=S[P+1+32]=S[P+0+64]=yr(K,Z,ne),S[P+3+0]=S[P+2+32]=S[P+1+64]=S[P+0+96]=yr(Z,ne,ae),S[P+3+32]=S[P+2+64]=S[P+1+96]=yr(ne,ae,de),S[P+3+64]=S[P+2+96]=yr(ae,de,he),S[P+3+96]=yr(de,he,he)}function Jc(S,P){var M=S[P-1+0],K=S[P-1+32],Z=S[P-1+64],ne=S[P-1-32],ae=S[P+0-32],de=S[P+1-32],he=S[P+2-32],xe=S[P+3-32];S[P+0+0]=S[P+1+64]=ne+ae+1>>1,S[P+1+0]=S[P+2+64]=ae+de+1>>1,S[P+2+0]=S[P+3+64]=de+he+1>>1,S[P+3+0]=he+xe+1>>1,S[P+0+96]=yr(Z,K,M),S[P+0+64]=yr(K,M,ne),S[P+0+32]=S[P+1+96]=yr(M,ne,ae),S[P+1+32]=S[P+2+96]=yr(ne,ae,de),S[P+2+32]=S[P+3+96]=yr(ae,de,he),S[P+3+32]=yr(de,he,xe)}function e5(S,P){var M=S[P+0-32],K=S[P+1-32],Z=S[P+2-32],ne=S[P+3-32],ae=S[P+4-32],de=S[P+5-32],he=S[P+6-32],xe=S[P+7-32];S[P+0+0]=M+K+1>>1,S[P+1+0]=S[P+0+64]=K+Z+1>>1,S[P+2+0]=S[P+1+64]=Z+ne+1>>1,S[P+3+0]=S[P+2+64]=ne+ae+1>>1,S[P+0+32]=yr(M,K,Z),S[P+1+32]=S[P+0+96]=yr(K,Z,ne),S[P+2+32]=S[P+1+96]=yr(Z,ne,ae),S[P+3+32]=S[P+2+96]=yr(ne,ae,de),S[P+3+64]=yr(ae,de,he),S[P+3+96]=yr(de,he,xe)}function t5(S,P){var M=S[P-1+0],K=S[P-1+32],Z=S[P-1+64],ne=S[P-1+96];S[P+0+0]=M+K+1>>1,S[P+2+0]=S[P+0+32]=K+Z+1>>1,S[P+2+32]=S[P+0+64]=Z+ne+1>>1,S[P+1+0]=yr(M,K,Z),S[P+3+0]=S[P+1+32]=yr(K,Z,ne),S[P+3+32]=S[P+1+64]=yr(Z,ne,ne),S[P+3+64]=S[P+2+64]=S[P+0+96]=S[P+1+96]=S[P+2+96]=S[P+3+96]=ne}function Om(S,P){var M=S[P-1+0],K=S[P-1+32],Z=S[P-1+64],ne=S[P-1+96],ae=S[P-1-32],de=S[P+0-32],he=S[P+1-32],xe=S[P+2-32];S[P+0+0]=S[P+2+32]=M+ae+1>>1,S[P+0+32]=S[P+2+64]=K+M+1>>1,S[P+0+64]=S[P+2+96]=Z+K+1>>1,S[P+0+96]=ne+Z+1>>1,S[P+3+0]=yr(de,he,xe),S[P+2+0]=yr(ae,de,he),S[P+1+0]=S[P+3+32]=yr(M,ae,de),S[P+1+32]=S[P+3+64]=yr(K,M,ae),S[P+1+64]=S[P+3+96]=yr(Z,K,M),S[P+1+96]=yr(ne,Z,K)}function Og(S,P){var M;for(M=0;8>M;++M)n(S,P+32*M,S,P-32,8)}function Bh(S,P){var M;for(M=0;8>M;++M)i(S,P,S[P-1],8),P+=32}function Lm(S,P,M){var K;for(K=0;8>K;++K)i(P,M+32*K,S,8)}function Rm(S,P){var M,K=8;for(M=0;8>M;++M)K+=S[P+M-32]+S[P-1+32*M];Lm(K>>4,S,P)}function r5(S,P){var M,K=4;for(M=0;8>M;++M)K+=S[P+M-32];Lm(K>>3,S,P)}function Lg(S,P){var M,K=4;for(M=0;8>M;++M)K+=S[P-1+32*M];Lm(K>>3,S,P)}function Rg(S,P){Lm(128,S,P)}function Uh(S,P,M){var K=S[P-M],Z=S[P+0],ne=3*(Z-K)+s5[1020+S[P-2*M]-S[P+M]],ae=E1[112+(ne+4>>3)];S[P-M]=to[255+K+E1[112+(ne+3>>3)]],S[P+0]=to[255+Z-ae]}function $h(S,P,M,K){var Z=S[P+0],ne=S[P+M];return Io[255+S[P-2*M]-S[P-M]]>K||Io[255+ne-Z]>K}function Ig(S,P,M,K){return 4*Io[255+S[P-M]-S[P+0]]+Io[255+S[P-2*M]-S[P+M]]<=K}function Im(S,P,M,K,Z){var ne=S[P-3*M],ae=S[P-2*M],de=S[P-M],he=S[P+0],xe=S[P+M],Fe=S[P+2*M],We=S[P+3*M];return 4*Io[255+de-he]+Io[255+ae-xe]>K?0:Io[255+S[P-4*M]-ne]<=Z&&Io[255+ne-ae]<=Z&&Io[255+ae-de]<=Z&&Io[255+We-Fe]<=Z&&Io[255+Fe-xe]<=Z&&Io[255+xe-he]<=Z}function Dg(S,P,M,K){var Z=2*K+1;for(K=0;16>K;++K)Ig(S,P+K,M,Z)&&Uh(S,P+K,M)}function qh(S,P,M,K){var Z=2*K+1;for(K=0;16>K;++K)Ig(S,P+K*M,1,Z)&&Uh(S,P+K*M,1)}function b1(S,P,M,K){var Z;for(Z=3;0<Z;--Z)Dg(S,P+=4*M,M,K)}function w1(S,P,M,K){var Z;for(Z=3;0<Z;--Z)qh(S,P+=4,M,K)}function Zc(S,P,M,K,Z,ne,ae,de){for(ne=2*ne+1;0<Z--;){if(Im(S,P,M,ne,ae))if($h(S,P,M,de))Uh(S,P,M);else{var he=S,xe=P,Fe=M,We=he[xe-2*Fe],ve=he[xe-Fe],Le=he[xe+0],Me=he[xe+Fe],st=he[xe+2*Fe],Ve=27*(lt=s5[1020+3*(Le-ve)+s5[1020+We-Me]])+63>>7,nt=18*lt+63>>7,lt=9*lt+63>>7;he[xe-3*Fe]=to[255+he[xe-3*Fe]+lt],he[xe-2*Fe]=to[255+We+nt],he[xe-Fe]=to[255+ve+Ve],he[xe+0]=to[255+Le-Ve],he[xe+Fe]=to[255+Me-nt],he[xe+2*Fe]=to[255+st-lt]}P+=K}}function ed(S,P,M,K,Z,ne,ae,de){for(ne=2*ne+1;0<Z--;){if(Im(S,P,M,ne,ae))if($h(S,P,M,de))Uh(S,P,M);else{var he=S,xe=P,Fe=M,We=he[xe-Fe],ve=he[xe+0],Le=he[xe+Fe],Me=E1[112+(4+(st=3*(ve-We))>>3)],st=E1[112+(st+3>>3)],Ve=Me+1>>1;he[xe-2*Fe]=to[255+he[xe-2*Fe]+Ve],he[xe-Fe]=to[255+We+st],he[xe+0]=to[255+ve-Me],he[xe+Fe]=to[255+Le-Ve]}P+=K}}function N1(S,P,M,K,Z,ne){Zc(S,P,M,1,16,K,Z,ne)}function j1(S,P,M,K,Z,ne){Zc(S,P,1,M,16,K,Z,ne)}function zh(S,P,M,K,Z,ne){var ae;for(ae=3;0<ae;--ae)ed(S,P+=4*M,M,1,16,K,Z,ne)}function _1(S,P,M,K,Z,ne){var ae;for(ae=3;0<ae;--ae)ed(S,P+=4,1,M,16,K,Z,ne)}function R(S,P,M,K,Z,ne,ae,de){Zc(S,P,Z,1,8,ne,ae,de),Zc(M,K,Z,1,8,ne,ae,de)}function J(S,P,M,K,Z,ne,ae,de){Zc(S,P,1,Z,8,ne,ae,de),Zc(M,K,1,Z,8,ne,ae,de)}function we(S,P,M,K,Z,ne,ae,de){ed(S,P+4*Z,Z,1,8,ne,ae,de),ed(M,K+4*Z,Z,1,8,ne,ae,de)}function Ee(S,P,M,K,Z,ne,ae,de){ed(S,P+4,1,Z,8,ne,ae,de),ed(M,K+4,1,Z,8,ne,ae,de)}function Ie(){this.ba=new vs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ss,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ot(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gt(){this.ua=0,this.Wa=new Je,this.vb=new Je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new L}function Jt(){this.xb=this.a=0,this.l=new Hi,this.ca=new vs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gt,this.ab=0,this.gc=o(4,mt),this.Oc=0}function gr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wr(S,P,M,K,Z,ne,ae){for(S=S==null?0:S[P+0],P=0;P<ae;++P)Z[ne+P]=S+M[K+P]&255,S=Z[ne+P]}function ls(S,P,M,K,Z,ne,ae){var de;if(S==null)wr(null,null,M,K,Z,ne,ae);else for(de=0;de<ae;++de)Z[ne+de]=S[P+de]+M[K+de]&255}function nn(S,P,M,K,Z,ne,ae){if(S==null)wr(null,null,M,K,Z,ne,ae);else{var de,he=S[P+0],xe=he,Fe=he;for(de=0;de<ae;++de)xe=Fe+(he=S[P+de])-xe,Fe=M[K+de]+(-256&xe?0>xe?0:255:xe)&255,xe=he,Z[ne+de]=Fe}}function Un(S,P,M,K){var Z=P.width,ne=P.o;if(e(S!=null&&P!=null),0>M||0>=K||M+K>ne)return null;if(!S.Cc){if(S.ga==null){var ae;if(S.ga=new gr,(ae=S.ga==null)||(ae=P.width*P.o,e(S.Gb.length==0),S.Gb=a(ae),S.Uc=0,S.Gb==null?ae=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,ae=1),ae=!ae),!ae){ae=S.ga;var de=S.Fa,he=S.P,xe=S.qc,Fe=S.mb,We=S.nb,ve=he+1,Le=xe-1,Me=ae.l;if(e(de!=null&&Fe!=null&&P!=null),mu[0]=null,mu[1]=wr,mu[2]=ls,mu[3]=nn,ae.ca=Fe,ae.tb=We,ae.c=P.width,ae.i=P.height,e(0<ae.c&&0<ae.i),1>=xe)P=0;else if(ae.$a=3&de[he+0],ae.Z=de[he+0]>>2&3,ae.Lc=de[he+0]>>4&3,he=de[he+0]>>6&3,0>ae.$a||1<ae.$a||4<=ae.Z||1<ae.Lc||he)P=0;else if(Me.put=ir,Me.ac=Po,Me.bc=sl,Me.ma=ae,Me.width=P.width,Me.height=P.height,Me.Da=P.Da,Me.v=P.v,Me.va=P.va,Me.j=P.j,Me.o=P.o,ae.$a)e:{e(ae.$a==1),P=$e();t:for(;;){if(P==null){P=0;break e}if(e(ae!=null),ae.mc=P,P.c=ae.c,P.i=ae.i,P.l=ae.l,P.l.ma=ae,P.l.width=ae.c,P.l.height=ae.i,P.a=0,G(P.m,de,ve,Le),!ze(ae.c,ae.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&pe(P.s)?(ae.ic=1,de=P.c*P.i,P.Ta=null,P.Ua=0,P.V=a(de),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(ae.ic=0,P=Ke(P,ae.c)),!P))break t;P=1;break e}ae.mc=null,P=0}else P=Le>=ae.c*ae.i;ae=!P}if(ae)return null;S.ga.Lc!=1?S.Ga=0:K=ne-M}e(S.ga!=null),e(M+K<=ne);e:{if(P=(de=S.ga).c,ne=de.l.o,de.$a==0){if(ve=S.rc,Le=S.Vc,Me=S.Fa,he=S.P+1+M*P,xe=S.mb,Fe=S.nb+M*P,e(he<=S.P+S.qc),de.Z!=0)for(e(mu[de.Z]!=null),ae=0;ae<K;++ae)mu[de.Z](ve,Le,Me,he,xe,Fe,P),ve=xe,Le=Fe,Fe+=P,he+=P;else for(ae=0;ae<K;++ae)n(xe,Fe,Me,he,P),ve=xe,Le=Fe,Fe+=P,he+=P;S.rc=ve,S.Vc=Le}else{if(e(de.mc!=null),P=M+K,e((ae=de.mc)!=null),e(P<=ae.i),ae.C>=P)P=1;else if(de.ic||Oo(),de.ic){de=ae.V,ve=ae.Ba,Le=ae.c;var st=ae.i,Ve=(Me=1,he=ae.$/Le,xe=ae.$%Le,Fe=ae.m,We=ae.s,ae.$),nt=Le*st,lt=Le*P,yt=We.wc,ft=Ve<lt?se(We,xe,he):null;e(Ve<=nt),e(P<=st),e(pe(We));t:for(;;){for(;!Fe.h&&Ve<lt;){if(xe&yt||(ft=se(We,xe,he)),e(ft!=null),W(Fe),256>(st=Xs(ft.G[0],ft.H[0],Fe)))de[ve+Ve]=st,++Ve,++xe>=Le&&(xe=0,++he<=P&&!(he%16)&&je(ae,he));else{if(!(280>st)){Me=0;break t}st=Vi(st-256,Fe);var Zt,Wt=Xs(ft.G[4],ft.H[4],Fe);if(W(Fe),!(Ve>=(Wt=La(Le,Wt=Vi(Wt,Fe)))&&nt-Ve>=st)){Me=0;break t}for(Zt=0;Zt<st;++Zt)de[ve+Ve+Zt]=de[ve+Ve+Zt-Wt];for(Ve+=st,xe+=st;xe>=Le;)xe-=Le,++he<=P&&!(he%16)&&je(ae,he);Ve<lt&&xe&yt&&(ft=se(We,xe,he))}e(Fe.h==q(Fe))}je(ae,he>P?P:he);break t}!Me||Fe.h&&Ve<nt?(Me=0,ae.a=Fe.h?5:3):ae.$=Ve,P=Me}else P=Ue(ae,ae.V,ae.Ba,ae.c,ae.i,P,vt);if(!P){K=0;break e}}M+K>=ne&&(S.Cc=1),K=1}if(!K)return null;if(S.Cc&&((K=S.ga)!=null&&(K.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+M*Z}function Bs(S,P,M,K,Z,ne){for(;0<Z--;){var ae,de=S,he=P+(M?1:0),xe=S,Fe=P+(M?0:3);for(ae=0;ae<K;++ae){var We=xe[Fe+4*ae];We!=255&&(We*=32897,de[he+4*ae+0]=de[he+4*ae+0]*We>>23,de[he+4*ae+1]=de[he+4*ae+1]*We>>23,de[he+4*ae+2]=de[he+4*ae+2]*We>>23)}P+=ne}}function Jn(S,P,M,K,Z){for(;0<K--;){var ne;for(ne=0;ne<M;++ne){var ae=S[P+2*ne+0],de=15&(xe=S[P+2*ne+1]),he=4369*de,xe=(240&xe|xe>>4)*he>>16;S[P+2*ne+0]=(240&ae|ae>>4)*he>>16&240|(15&ae|ae<<4)*he>>16>>4&15,S[P+2*ne+1]=240&xe|de}P+=Z}}function $n(S,P,M,K,Z,ne,ae,de){var he,xe,Fe=255;for(xe=0;xe<Z;++xe){for(he=0;he<K;++he){var We=S[P+he];ne[ae+4*he]=We,Fe&=We}P+=M,ae+=de}return Fe!=255}function Ci(S,P,M,K,Z){var ne;for(ne=0;ne<Z;++ne)M[K+ne]=S[P+ne]>>8}function Oo(){Gg=Bs,NA=Jn,jA=$n,_A=Ci}function Ra(S,P,M){E[S]=function(K,Z,ne,ae,de,he,xe,Fe,We,ve,Le,Me,st,Ve,nt,lt,yt){var ft,Zt=yt-1>>1,Wt=de[he+0]|xe[Fe+0]<<16,Tr=We[ve+0]|Le[Me+0]<<16;e(K!=null);var Yt=3*Wt+Tr+131074>>2;for(P(K[Z+0],255&Yt,Yt>>16,st,Ve),ne!=null&&(Yt=3*Tr+Wt+131074>>2,P(ne[ae+0],255&Yt,Yt>>16,nt,lt)),ft=1;ft<=Zt;++ft){var Gr=de[he+ft]|xe[Fe+ft]<<16,ei=We[ve+ft]|Le[Me+ft]<<16,Pr=Wt+Gr+Tr+ei+524296,Qt=Pr+2*(Gr+Tr)>>3;Yt=Qt+Wt>>1,Wt=(Pr=Pr+2*(Wt+ei)>>3)+Gr>>1,P(K[Z+2*ft-1],255&Yt,Yt>>16,st,Ve+(2*ft-1)*M),P(K[Z+2*ft-0],255&Wt,Wt>>16,st,Ve+(2*ft-0)*M),ne!=null&&(Yt=Pr+Tr>>1,Wt=Qt+ei>>1,P(ne[ae+2*ft-1],255&Yt,Yt>>16,nt,lt+(2*ft-1)*M),P(ne[ae+2*ft+0],255&Wt,Wt>>16,nt,lt+(2*ft+0)*M)),Wt=Gr,Tr=ei}1&yt||(Yt=3*Wt+Tr+131074>>2,P(K[Z+yt-1],255&Yt,Yt>>16,st,Ve+(yt-1)*M),ne!=null&&(Yt=3*Tr+Wt+131074>>2,P(ne[ae+yt-1],255&Yt,Yt>>16,nt,lt+(yt-1)*M)))}}function S1(){Do[T1]=cJ,Do[P1]=RA,Do[TA]=dJ,Do[F1]=IA,Do[O1]=DA,Do[n5]=MA,Do[PA]=uJ,Do[i5]=RA,Do[a5]=IA,Do[L1]=DA,Do[o5]=MA}function Dm(S){return S&-16384?0>S?0:255:S>>hJ}function Vh(S,P){return Dm((19077*S>>8)+(26149*P>>8)-14234)}function iu(S,P,M){return Dm((19077*S>>8)-(6419*P>>8)-(13320*M>>8)+8708)}function Hh(S,P){return Dm((19077*S>>8)+(33050*P>>8)-17685)}function Wh(S,P,M,K,Z){K[Z+0]=Vh(S,M),K[Z+1]=iu(S,P,M),K[Z+2]=Hh(S,P)}function Kh(S,P,M,K,Z){K[Z+0]=Hh(S,P),K[Z+1]=iu(S,P,M),K[Z+2]=Vh(S,M)}function Wi(S,P,M,K,Z){var ne=iu(S,P,M);P=ne<<3&224|Hh(S,P)>>3,K[Z+0]=248&Vh(S,M)|ne>>5,K[Z+1]=P}function Gh(S,P,M,K,Z){var ne=240&Hh(S,P)|15;K[Z+0]=240&Vh(S,M)|iu(S,P,M)>>4,K[Z+1]=ne}function Yh(S,P,M,K,Z){K[Z+0]=255,Wh(S,P,M,K,Z+1)}function Mg(S,P,M,K,Z){Kh(S,P,M,K,Z),K[Z+3]=255}function Bg(S,P,M,K,Z){Wh(S,P,M,K,Z),K[Z+3]=255}function mn(S,P){return 0>S?0:S>P?P:S}function td(S,P,M){E[S]=function(K,Z,ne,ae,de,he,xe,Fe,We){for(var ve=Fe+(-2&We)*M;Fe!=ve;)P(K[Z+0],ne[ae+0],de[he+0],xe,Fe),P(K[Z+1],ne[ae+0],de[he+0],xe,Fe+M),Z+=2,++ae,++he,Fe+=2*M;1&We&&P(K[Z+0],ne[ae+0],de[he+0],xe,Fe)}}function Mm(S,P,M){return M==0?S==0?P==0?6:5:P==0?4:0:M}function k1(S,P,M,K,Z){switch(S>>>30){case 3:Zh(P,M,K,Z,0);break;case 2:Ro(P,M,K,Z);break;case 1:us(P,M,K,Z)}}function Lo(S,P){var M,K,Z=P.M,ne=P.Nb,ae=S.oc,de=S.pc+40,he=S.oc,xe=S.pc+584,Fe=S.oc,We=S.pc+600;for(M=0;16>M;++M)ae[de+32*M-1]=129;for(M=0;8>M;++M)he[xe+32*M-1]=129,Fe[We+32*M-1]=129;for(0<Z?ae[de-1-32]=he[xe-1-32]=Fe[We-1-32]=129:(i(ae,de-32-1,127,21),i(he,xe-32-1,127,9),i(Fe,We-32-1,127,9)),K=0;K<S.za;++K){var ve=P.ya[P.aa+K];if(0<K){for(M=-1;16>M;++M)n(ae,de+32*M-4,ae,de+32*M+12,4);for(M=-1;8>M;++M)n(he,xe+32*M-4,he,xe+32*M+4,4),n(Fe,We+32*M-4,Fe,We+32*M+4,4)}var Le=S.Gd,Me=S.Hd+K,st=ve.ad,Ve=ve.Hc;if(0<Z&&(n(ae,de-32,Le[Me].y,0,16),n(he,xe-32,Le[Me].f,0,8),n(Fe,We-32,Le[Me].ea,0,8)),ve.Za){var nt=ae,lt=de-32+16;for(0<Z&&(K>=S.za-1?i(nt,lt,Le[Me].y[15],4):n(nt,lt,Le[Me+1].y,0,4)),M=0;4>M;M++)nt[lt+128+M]=nt[lt+256+M]=nt[lt+384+M]=nt[lt+0+M];for(M=0;16>M;++M,Ve<<=2)nt=ae,lt=de+UA[M],ol[ve.Ob[M]](nt,lt),k1(Ve,st,16*+M,nt,lt)}else if(nt=Mm(K,Z,ve.Ob[0]),fu[nt](ae,de),Ve!=0)for(M=0;16>M;++M,Ve<<=2)k1(Ve,st,16*+M,ae,de+UA[M]);for(M=ve.Gc,nt=Mm(K,Z,ve.Dd),nd[nt](he,xe),nd[nt](Fe,We),Ve=st,nt=he,lt=xe,255&(ve=0|M)&&(170&ve?ac(Ve,256,nt,lt):Fs(Ve,256,nt,lt)),ve=Fe,Ve=We,255&(M>>=8)&&(170&M?ac(st,320,ve,Ve):Fs(st,320,ve,Ve)),Z<S.Ub-1&&(n(Le[Me].y,0,ae,de+480,16),n(Le[Me].f,0,he,xe+224,8),n(Le[Me].ea,0,Fe,We+224,8)),M=8*ne*S.B,Le=S.sa,Me=S.ta+16*K+16*ne*S.R,st=S.qa,ve=S.ra+8*K+M,Ve=S.Ha,nt=S.Ia+8*K+M,M=0;16>M;++M)n(Le,Me+M*S.R,ae,de+32*M,16);for(M=0;8>M;++M)n(st,ve+M*S.B,he,xe+32*M,8),n(Ve,nt+M*S.B,Fe,We+32*M,8)}}function Qh(S,P,M,K,Z,ne,ae,de,he){var xe=[0],Fe=[0],We=0,ve=he!=null?he.kd:0,Le=he??new ot;if(S==null||12>M)return 7;Le.data=S,Le.w=P,Le.ha=M,P=[P],M=[M],Le.gb=[Le.gb];e:{var Me=P,st=M,Ve=Le.gb;if(e(S!=null),e(st!=null),e(Ve!=null),Ve[0]=0,12<=st[0]&&!r(S,Me[0],"RIFF")){if(r(S,Me[0]+8,"WEBP")){Ve=3;break e}var nt=Ae(S,Me[0]+4);if(12>nt||4294967286<nt){Ve=3;break e}if(ve&&nt>st[0]-8){Ve=7;break e}Ve[0]=nt,Me[0]+=12,st[0]-=12}Ve=0}if(Ve!=0)return Ve;for(nt=0<Le.gb[0],M=M[0];;){e:{var lt=S;st=P,Ve=M;var yt=xe,ft=Fe,Zt=Me=[0];if((Yt=We=[We])[0]=0,8>Ve[0])Ve=7;else{if(!r(lt,st[0],"VP8X")){if(Ae(lt,st[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var Wt=Ae(lt,st[0]+8),Tr=1+He(lt,st[0]+12);if(2147483648<=Tr*(lt=1+He(lt,st[0]+15))){Ve=3;break e}Zt!=null&&(Zt[0]=Wt),yt!=null&&(yt[0]=Tr),ft!=null&&(ft[0]=lt),st[0]+=18,Ve[0]-=18,Yt[0]=1}Ve=0}}if(We=We[0],Me=Me[0],Ve!=0)return Ve;if(st=!!(2&Me),!nt&&We)return 3;if(ne!=null&&(ne[0]=!!(16&Me)),ae!=null&&(ae[0]=st),de!=null&&(de[0]=0),ae=xe[0],Me=Fe[0],We&&st&&he==null){Ve=0;break}if(4>M){Ve=7;break}if(nt&&We||!nt&&!We&&!r(S,P[0],"ALPH")){M=[M],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Wt=S,Ve=P,nt=M;var Yt=Le.gb;yt=Le.na,ft=Le.P,Zt=Le.Sa,Tr=22,e(Wt!=null),e(nt!=null),lt=Ve[0];var Gr=nt[0];for(e(yt!=null),e(Zt!=null),yt[0]=null,ft[0]=null,Zt[0]=0;;){if(Ve[0]=lt,nt[0]=Gr,8>Gr){Ve=7;break e}var ei=Ae(Wt,lt+4);if(4294967286<ei){Ve=3;break e}var Pr=8+ei+1&-2;if(Tr+=Pr,0<Yt&&Tr>Yt){Ve=3;break e}if(!r(Wt,lt,"VP8 ")||!r(Wt,lt,"VP8L")){Ve=0;break e}if(Gr[0]<Pr){Ve=7;break e}r(Wt,lt,"ALPH")||(yt[0]=Wt,ft[0]=lt+8,Zt[0]=ei),lt+=Pr,Gr-=Pr}}if(M=M[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Ve!=0)break}M=[M],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Yt=S,Ve=P,nt=M,yt=Le.gb[0],ft=Le.Ja,Zt=Le.xa,Wt=Ve[0],lt=!r(Yt,Wt,"VP8 "),Tr=!r(Yt,Wt,"VP8L"),e(Yt!=null),e(nt!=null),e(ft!=null),e(Zt!=null),8>nt[0])Ve=7;else{if(lt||Tr){if(Yt=Ae(Yt,Wt+4),12<=yt&&Yt>yt-12){Ve=3;break e}if(ve&&Yt>nt[0]-8){Ve=7;break e}ft[0]=Yt,Ve[0]+=8,nt[0]-=8,Zt[0]=Tr}else Zt[0]=5<=nt[0]&&Yt[Wt+0]==47&&!(Yt[Wt+4]>>5),ft[0]=nt[0];Ve=0}if(M=M[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],P=P[0],Ve!=0)break;if(4294967286<Le.Ja)return 3;if(de==null||st||(de[0]=Le.xa?2:1),ae=[ae],Me=[Me],Le.xa){if(5>M){Ve=7;break}de=ae,ve=Me,st=ne,S==null||5>M?S=0:5<=M&&S[P+0]==47&&!(S[P+4]>>5)?(nt=[0],Yt=[0],yt=[0],G(ft=new I,S,P,M),nl(ft,nt,Yt,yt)?(de!=null&&(de[0]=nt[0]),ve!=null&&(ve[0]=Yt[0]),st!=null&&(st[0]=yt[0]),S=1):S=0):S=0}else{if(10>M){Ve=7;break}de=Me,S==null||10>M||!g1(S,P+3,M-3)?S=0:(ve=S[P+0]|S[P+1]<<8|S[P+2]<<16,st=16383&(S[P+7]<<8|S[P+6]),S=16383&(S[P+9]<<8|S[P+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Le.Ja||!st||!S?S=0:(ae&&(ae[0]=st),de&&(de[0]=S),S=1))}if(!S||(ae=ae[0],Me=Me[0],We&&(xe[0]!=ae||Fe[0]!=Me)))return 3;he!=null&&(he[0]=Le,he.offset=P-he.w,e(4294967286>P-he.w),e(he.offset==he.ha-M));break}return Ve==0||Ve==7&&We&&he==null?(ne!=null&&(ne[0]|=Le.na!=null&&0<Le.na.length),K!=null&&(K[0]=ae),Z!=null&&(Z[0]=Me),0):Ve}function Ug(S,P,M){var K=P.width,Z=P.height,ne=0,ae=0,de=K,he=Z;if(P.Da=S!=null&&0<S.Da,P.Da&&(de=S.cd,he=S.bd,ne=S.v,ae=S.j,11>M||(ne&=-2,ae&=-2),0>ne||0>ae||0>=de||0>=he||ne+de>K||ae+he>Z))return 0;if(P.v=ne,P.j=ae,P.va=ne+de,P.o=ae+he,P.U=de,P.T=he,P.da=S!=null&&0<S.da,P.da){if(!Oe(de,he,M=[S.ib],ne=[S.hb]))return 0;P.ib=M[0],P.hb=ne[0]}return P.ob=S!=null&&S.ob,P.Kb=S==null||!S.Sd,P.da&&(P.ob=P.ib<3*K/4&&P.hb<3*Z/4,P.Kb=0),1}function $g(S){if(S==null)return 2;if(11>S.S){var P=S.f.RGBA;P.fb+=(S.height-1)*P.A,P.A=-P.A}else P=S.f.kb,S=S.height,P.O+=(S-1)*P.fa,P.fa=-P.fa,P.N+=(S-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(S-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(S-1)*P.lb,P.lb=-P.lb);return 0}function au(S,P,M,K){if(K==null||0>=S||0>=P)return 2;if(M!=null){if(M.Da){var Z=M.cd,ne=M.bd,ae=-2&M.v,de=-2&M.j;if(0>ae||0>de||0>=Z||0>=ne||ae+Z>S||de+ne>P)return 2;S=Z,P=ne}if(M.da){if(!Oe(S,P,Z=[M.ib],ne=[M.hb]))return 2;S=Z[0],P=ne[0]}}K.width=S,K.height=P;e:{var he=K.width,xe=K.height;if(S=K.S,0>=he||0>=xe||!(S>=T1&&13>S))S=2;else{if(0>=K.Rd&&K.sd==null){ae=ne=Z=P=0;var Fe=(de=he*$A[S])*xe;if(11>S||(ne=(xe+1)/2*(P=(he+1)/2),S==12&&(ae=(Z=he)*xe)),(xe=a(Fe+2*ne+ae))==null){S=1;break e}K.sd=xe,11>S?((he=K.f.RGBA).eb=xe,he.fb=0,he.A=de,he.size=Fe):((he=K.f.kb).y=xe,he.O=0,he.fa=de,he.Fd=Fe,he.f=xe,he.N=0+Fe,he.Ab=P,he.Cd=ne,he.ea=xe,he.W=0+Fe+ne,he.Db=P,he.Ed=ne,S==12&&(he.F=xe,he.J=0+Fe+2*ne),he.Tc=ae,he.lb=Z)}if(P=1,Z=K.S,ne=K.width,ae=K.height,Z>=T1&&13>Z)if(11>Z)S=K.f.RGBA,P&=(de=Math.abs(S.A))*(ae-1)+ne<=S.size,P&=de>=ne*$A[Z],P&=S.eb!=null;else{S=K.f.kb,de=(ne+1)/2,Fe=(ae+1)/2,he=Math.abs(S.fa),xe=Math.abs(S.Ab);var We=Math.abs(S.Db),ve=Math.abs(S.lb),Le=ve*(ae-1)+ne;P&=he*(ae-1)+ne<=S.Fd,P&=xe*(Fe-1)+de<=S.Cd,P=(P&=We*(Fe-1)+de<=S.Ed)&he>=ne&xe>=de&We>=de,P&=S.y!=null,P&=S.f!=null,P&=S.ea!=null,Z==12&&(P&=ve>=ne,P&=Le<=S.Tc,P&=S.F!=null)}else P=0;S=P?0:2}}return S!=0||M!=null&&M.fd&&(S=$g(K)),S}var Xh=64,Za=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eo=24,ou=32,rd=8,lu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];me("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(S){return S},E.Predictor2=function(S,P,M){return P[M+0]},E.Predictor3=function(S,P,M){return P[M+1]},E.Predictor4=function(S,P,M){return P[M-1]},E.Predictor5=function(S,P,M){return Be(Be(S,P[M+1]),P[M+0])},E.Predictor6=function(S,P,M){return Be(S,P[M-1])},E.Predictor7=function(S,P,M){return Be(S,P[M+0])},E.Predictor8=function(S,P,M){return Be(P[M-1],P[M+0])},E.Predictor9=function(S,P,M){return Be(P[M+0],P[M+1])},E.Predictor10=function(S,P,M){return Be(Be(S,P[M-1]),Be(P[M+0],P[M+1]))},E.Predictor11=function(S,P,M){var K=P[M+0];return 0>=ct(K>>24&255,S>>24&255,(P=P[M-1])>>24&255)+ct(K>>16&255,S>>16&255,P>>16&255)+ct(K>>8&255,S>>8&255,P>>8&255)+ct(255&K,255&S,255&P)?K:S},E.Predictor12=function(S,P,M){var K=P[M+0];return(qe((S>>24&255)+(K>>24&255)-((P=P[M-1])>>24&255))<<24|qe((S>>16&255)+(K>>16&255)-(P>>16&255))<<16|qe((S>>8&255)+(K>>8&255)-(P>>8&255))<<8|qe((255&S)+(255&K)-(255&P)))>>>0},E.Predictor13=function(S,P,M){var K=P[M-1];return(De((S=Be(S,P[M+0]))>>24&255,K>>24&255)<<24|De(S>>16&255,K>>16&255)<<16|De(S>>8&255,K>>8&255)<<8|De(255&S,255&K))>>>0};var qg=E.PredictorAdd0;E.PredictorAdd1=Ut,me("Predictor2","PredictorAdd2"),me("Predictor3","PredictorAdd3"),me("Predictor4","PredictorAdd4"),me("Predictor5","PredictorAdd5"),me("Predictor6","PredictorAdd6"),me("Predictor7","PredictorAdd7"),me("Predictor8","PredictorAdd8"),me("Predictor9","PredictorAdd9"),me("Predictor10","PredictorAdd10"),me("Predictor11","PredictorAdd11"),me("Predictor12","PredictorAdd12"),me("Predictor13","PredictorAdd13");var Bm=E.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var An,C1=E.ColorIndexInverseTransform,nc=E.MapARGB,ic=E.VP8LColorIndexInverseTransformAlpha,zg=E.MapAlpha,Vg=E.VP8LPredictorsAdd=[];Vg.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var Hg,Wg,cu,du,uu,Jh,hu,Zh,Ro,ac,us,Fs,En,Zn,sd,Kg,Um,A1,gA,xA,vA,yA,bA,wA,Gg,NA,jA,_A,SA=a(511),kA=a(2041),CA=a(225),AA=a(767),EA=0,s5=kA,E1=CA,to=AA,Io=SA,T1=0,P1=1,TA=2,F1=3,O1=4,n5=5,PA=6,i5=7,a5=8,L1=9,o5=10,YX=[2,3,7],QX=[3,3,11],FA=[280,256,256,256,40],XX=[0,1,1,1,0],JX=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ZX=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],eJ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tJ=8,l5=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],c5=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yg=null,rJ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sJ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],OA=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nJ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],iJ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],aJ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],oJ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fu=[],ol=[],nd=[],lJ=1,LA=2,mu=[],Do=[];Ra("UpsampleRgbLinePair",Wh,3),Ra("UpsampleBgrLinePair",Kh,3),Ra("UpsampleRgbaLinePair",Bg,4),Ra("UpsampleBgraLinePair",Mg,4),Ra("UpsampleArgbLinePair",Yh,4),Ra("UpsampleRgba4444LinePair",Gh,2),Ra("UpsampleRgb565LinePair",Wi,2);var cJ=E.UpsampleRgbLinePair,dJ=E.UpsampleBgrLinePair,RA=E.UpsampleRgbaLinePair,IA=E.UpsampleBgraLinePair,DA=E.UpsampleArgbLinePair,MA=E.UpsampleRgba4444LinePair,uJ=E.UpsampleRgb565LinePair,R1=16,I1=1<<R1-1,Qg=-227,d5=482,hJ=6,BA=0,fJ=a(256),mJ=a(256),pJ=a(256),gJ=a(256),xJ=a(d5-Qg),vJ=a(d5-Qg);td("YuvToRgbRow",Wh,3),td("YuvToBgrRow",Kh,3),td("YuvToRgbaRow",Bg,4),td("YuvToBgraRow",Mg,4),td("YuvToArgbRow",Yh,4),td("YuvToRgba4444Row",Gh,2),td("YuvToRgb565Row",Wi,2);var UA=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],D1=[0,2,8],yJ=[8,7,6,4,4,2,2,2,1,1,1,1],bJ=1;this.WebPDecodeRGBA=function(S,P,M,K,Z){var ne=P1,ae=new Ie,de=new vs;ae.ba=de,de.S=ne,de.width=[de.width],de.height=[de.height];var he=de.width,xe=de.height,Fe=new or;if(Fe==null||S==null)var We=2;else e(Fe!=null),We=Qh(S,P,M,Fe.width,Fe.height,Fe.Pd,Fe.Qd,Fe.format,null);if(We!=0?he=0:(he!=null&&(he[0]=Fe.width[0]),xe!=null&&(xe[0]=Fe.height[0]),he=1),he){de.width=de.width[0],de.height=de.height[0],K!=null&&(K[0]=de.width),Z!=null&&(Z[0]=de.height);e:{if(K=new Hi,(Z=new ot).data=S,Z.w=P,Z.ha=M,Z.kd=1,P=[0],e(Z!=null),((S=Qh(Z.data,Z.w,Z.ha,null,null,null,P,null,Z))==0||S==7)&&P[0]&&(S=4),(P=S)==0){if(e(ae!=null),K.data=Z.data,K.w=Z.w+Z.offset,K.ha=Z.ha-Z.offset,K.put=ir,K.ac=Po,K.bc=sl,K.ma=ae,Z.xa){if((S=$e())==null){ae=1;break e}if(function(ve,Le){var Me=[0],st=[0],Ve=[0];t:for(;;){if(ve==null)return 0;if(Le==null)return ve.a=2,0;if(ve.l=Le,ve.a=0,G(ve.m,Le.data,Le.w,Le.ha),!nl(ve.m,Me,st,Ve)){ve.a=3;break t}if(ve.xb=LA,Le.width=Me[0],Le.height=st[0],!ze(Me[0],st[0],1,ve,null))break t;return 1}return e(ve.a!=0),0}(S,K)){if(K=(P=au(K.width,K.height,ae.Oa,ae.ba))==0){t:{K=S;r:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((M=K.l)!=null),e((Z=M.ma)!=null),K.xb!=0){if(K.ca=Z.ba,K.tb=Z.tb,e(K.ca!=null),!Ug(Z.Oa,M,F1)){K.a=2;break r}if(!Ke(K,M.width)||M.da)break r;if((M.da||pr(K.ca.S))&&Oo(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Oo()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!fe(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Ue(K,K.V,K.Ba,K.c,K.i,M.o,ue))break r;Z.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(P=S.a)}else P=S.a}else{if((S=new qj)==null){ae=1;break e}if(S.Fa=Z.na,S.P=Z.P,S.qc=Z.Sa,x1(S,K)){if((P=au(K.width,K.height,ae.Oa,ae.ba))==0){if(S.Aa=0,M=ae.Oa,e((Z=S)!=null),M!=null){if(0<(he=0>(he=M.Md)?0:100<he?255:255*he/100)){for(xe=Fe=0;4>xe;++xe)12>(We=Z.pb[xe]).lc&&(We.ia=he*yJ[0>We.lc?0:We.lc]>>3),Fe|=We.ia;Fe&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=M.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(ve,Le){if(ve==null)return 0;if(Le==null)return Bn(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!x1(ve,Le))return 0;if(e(ve.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(ve.L=0);var Me=D1[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Le.v-Me>>4,ve.zb=Le.j-Me>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Le.o+15+Me>>4,ve.Hb=Le.va+15+Me>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var st=ve.ed;for(Me=0;4>Me;++Me){var Ve;if(ve.Qa.Cb){var nt=ve.Qa.Lb[Me];ve.Qa.Fb||(nt+=st.Tb)}else nt=st.Tb;for(Ve=0;1>=Ve;++Ve){var lt=ve.gd[Me][Ve],yt=nt;if(st.Pc&&(yt+=st.vd[0],Ve&&(yt+=st.od[0])),0<(yt=0>yt?0:63<yt?63:yt)){var ft=yt;0<st.wb&&(ft=4<st.wb?ft>>2:ft>>1)>9-st.wb&&(ft=9-st.wb),1>ft&&(ft=1),lt.dd=ft,lt.tc=2*yt+ft,lt.ld=40<=yt?2:15<=yt?1:0}else lt.tc=0;lt.La=Ve}}}Me=0}else Bn(ve,6,"Frame setup failed"),Me=ve.a;if(Me=Me==0){if(Me){ve.$c=0,0<ve.Aa||(ve.Ic=bJ);t:{Me=ve.Ic,st=4*(ft=ve.za);var Zt=32*ft,Wt=ft+1,Tr=0<ve.L?ft*(0<ve.Aa?2:1):0,Yt=(ve.Aa==2?2:1)*ft;if((lt=st+832+(Ve=3*(16*Me+D1[ve.L])/2*Zt)+(nt=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=lt)Me=0;else{if(lt>ve.Vb){if(ve.Vb=0,ve.Ec=a(lt),ve.Fc=0,ve.Ec==null){Me=Bn(ve,1,"no memory during frame initialization.");break t}ve.Vb=lt}lt=ve.Ec,yt=ve.Fc,ve.Ac=lt,ve.Bc=yt,yt+=st,ve.Gd=o(Zt,Fo),ve.Hd=0,ve.rb=o(Wt+1,fn),ve.sb=1,ve.wa=Tr?o(Tr,Hr):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=ft),e(!0),ve.oc=lt,ve.pc=yt,yt+=832,ve.ya=o(Yt,il),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=ft),ve.R=16*ft,ve.B=8*ft,ft=(Zt=D1[ve.L])*ve.R,Zt=Zt/2*ve.B,ve.sa=lt,ve.ta=yt+ft,ve.qa=ve.sa,ve.ra=ve.ta+16*Me*ve.R+Zt,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Me*ve.B+Zt,ve.$c=0,yt+=Ve,ve.mb=nt?lt:null,ve.nb=nt?yt:null,e(yt+nt<=ve.Fc+ve.Vb),Rh(ve),i(ve.Ac,ve.Bc,0,st),Me=1}}if(Me){if(Le.ka=0,Le.y=ve.sa,Le.O=ve.ta,Le.f=ve.qa,Le.N=ve.ra,Le.ea=ve.Ha,Le.Vd=ve.Ia,Le.fa=ve.R,Le.Rc=ve.B,Le.F=null,Le.J=0,!EA){for(Me=-255;255>=Me;++Me)SA[255+Me]=0>Me?-Me:Me;for(Me=-1020;1020>=Me;++Me)kA[1020+Me]=-128>Me?-128:127<Me?127:Me;for(Me=-112;112>=Me;++Me)CA[112+Me]=-16>Me?-16:15<Me?15:Me;for(Me=-255;510>=Me;++Me)AA[255+Me]=0>Me?0:255<Me?255:Me;EA=1}hu=y1,Zh=Vj,ac=Hj,us=sc,Fs=v1,Ro=zj,En=N1,Zn=j1,sd=R,Kg=J,Um=zh,A1=_1,gA=we,xA=Ee,vA=Dg,yA=qh,bA=b1,wA=w1,ol[0]=Jj,ol[1]=Tg,ol[2]=Qj,ol[3]=Xj,ol[4]=Zj,ol[5]=Jc,ol[6]=Xc,ol[7]=e5,ol[8]=Om,ol[9]=t5,fu[0]=nu,fu[1]=Kj,fu[2]=Gj,fu[3]=Pg,fu[4]=Yj,fu[5]=Mh,fu[6]=Fg,nd[0]=Rm,nd[1]=Wj,nd[2]=Og,nd[3]=Bh,nd[4]=Lg,nd[5]=r5,nd[6]=Rg,Me=1}else Me=0}Me&&(Me=function(Gr,ei){for(Gr.M=0;Gr.M<Gr.Va;++Gr.M){var Pr,Qt=Gr.Jc[Gr.M&Gr.Xb],Tt=Gr.m,Tn=Gr;for(Pr=0;Pr<Tn.za;++Pr){var _r=Tt,Xr=Tn,qs=Xr.Ac,Ai=Xr.Bc+4*Pr,ha=Xr.zc,pn=Xr.ya[Xr.aa+Pr];if(Xr.Qa.Bb?pn.$b=le(_r,Xr.Pa.jb[0])?2+le(_r,Xr.Pa.jb[2]):le(_r,Xr.Pa.jb[1]):pn.$b=0,Xr.kc&&(pn.Ad=le(_r,Xr.Bd)),pn.Za=!le(_r,145)+0,pn.Za){var Ki=pn.Ob,fa=0;for(Xr=0;4>Xr;++Xr){var ti,es=ha[0+Xr];for(ti=0;4>ti;++ti){es=iJ[qs[Ai+ti]][es];for(var ys=OA[le(_r,es[0])];0<ys;)ys=OA[2*ys+le(_r,es[ys])];es=-ys,qs[Ai+ti]=es}n(Ki,fa,qs,Ai,4),fa+=4,ha[0+Xr]=es}}else es=le(_r,156)?le(_r,128)?1:3:le(_r,163)?2:0,pn.Ob[0]=es,i(qs,Ai,es,4),i(ha,0,es,4);pn.Dd=le(_r,142)?le(_r,114)?le(_r,183)?1:3:2:0}if(Tn.m.Ka)return Bn(Gr,7,"Premature end-of-partition0 encountered.");for(;Gr.ja<Gr.za;++Gr.ja){if(Tn=Qt,_r=(Tt=Gr).rb[Tt.sb-1],qs=Tt.rb[Tt.sb+Tt.ja],Pr=Tt.ya[Tt.aa+Tt.ja],Ai=Tt.kc?Pr.Ad:0)_r.la=qs.la=0,Pr.Za||(_r.Na=qs.Na=0),Pr.Hc=0,Pr.Gc=0,Pr.ia=0;else{var gn,bs;if(_r=qs,qs=Tn,Ai=Tt.Pa.Xc,ha=Tt.ya[Tt.aa+Tt.ja],pn=Tt.pb[ha.$b],Xr=ha.ad,Ki=0,fa=Tt.rb[Tt.sb-1],es=ti=0,i(Xr,Ki,0,384),ha.Za)var Ei=0,ll=Ai[3];else{ys=a(16);var Pn=_r.Na+fa.Na;if(Pn=Yg(qs,Ai[1],Pn,pn.Eb,0,ys,0),_r.Na=fa.Na=(0<Pn)+0,1<Pn)hu(ys,0,Xr,Ki);else{var Ia=ys[0]+3>>3;for(ys=0;256>ys;ys+=16)Xr[Ki+ys]=Ia}Ei=1,ll=Ai[0]}var Os=15&_r.la,ri=15&fa.la;for(ys=0;4>ys;++ys){var ro=1&ri;for(Ia=bs=0;4>Ia;++Ia)Os=Os>>1|(ro=(Pn=Yg(qs,ll,Pn=ro+(1&Os),pn.Sc,Ei,Xr,Ki))>Ei)<<7,bs=bs<<2|(3<Pn?3:1<Pn?2:Xr[Ki+0]!=0),Ki+=16;Os>>=4,ri=ri>>1|ro<<7,ti=(ti<<8|bs)>>>0}for(ll=Os,Ei=ri>>4,gn=0;4>gn;gn+=2){for(bs=0,Os=_r.la>>4+gn,ri=fa.la>>4+gn,ys=0;2>ys;++ys){for(ro=1&ri,Ia=0;2>Ia;++Ia)Pn=ro+(1&Os),Os=Os>>1|(ro=0<(Pn=Yg(qs,Ai[2],Pn,pn.Qc,0,Xr,Ki)))<<3,bs=bs<<2|(3<Pn?3:1<Pn?2:Xr[Ki+0]!=0),Ki+=16;Os>>=2,ri=ri>>1|ro<<5}es|=bs<<4*gn,ll|=Os<<4<<gn,Ei|=(240&ri)<<gn}_r.la=ll,fa.la=Ei,ha.Hc=ti,ha.Gc=es,ha.ia=43690&es?0:pn.ia,Ai=!(ti|es)}if(0<Tt.L&&(Tt.wa[Tt.Y+Tt.ja]=Tt.gd[Pr.$b][Pr.Za],Tt.wa[Tt.Y+Tt.ja].La|=!Ai),Tn.Ka)return Bn(Gr,7,"Premature end-of-file encountered.")}if(Rh(Gr),Tt=ei,Tn=1,Pr=(Qt=Gr).D,_r=0<Qt.L&&Qt.M>=Qt.zb&&Qt.M<=Qt.Va,Qt.Aa==0)t:{if(Pr.M=Qt.M,Pr.uc=_r,Lo(Qt,Pr),Tn=1,Pr=(bs=Qt.D).Nb,_r=(es=D1[Qt.L])*Qt.R,qs=es/2*Qt.B,ys=16*Pr*Qt.R,Ia=8*Pr*Qt.B,Ai=Qt.sa,ha=Qt.ta-_r+ys,pn=Qt.qa,Xr=Qt.ra-qs+Ia,Ki=Qt.Ha,fa=Qt.Ia-qs+Ia,ri=(Os=bs.M)==0,ti=Os>=Qt.Va-1,Qt.Aa==2&&Lo(Qt,bs),bs.uc)for(ro=(Pn=Qt).D.M,e(Pn.D.uc),bs=Pn.yb;bs<Pn.Hb;++bs){Ei=bs,ll=ro;var ma=(so=(Ti=Pn).D).Nb;gn=Ti.R;var so=so.wa[so.Y+Ei],no=Ti.sa,Da=Ti.ta+16*ma*gn+16*Ei,io=so.dd,Us=so.tc;if(Us!=0)if(e(3<=Us),Ti.L==1)0<Ei&&yA(no,Da,gn,Us+4),so.La&&wA(no,Da,gn,Us),0<ll&&vA(no,Da,gn,Us+4),so.La&&bA(no,Da,gn,Us);else{var ao=Ti.B,cl=Ti.qa,ef=Ti.ra+8*ma*ao+8*Ei,id=Ti.Ha,Ti=Ti.Ia+8*ma*ao+8*Ei;ma=so.ld,0<Ei&&(Zn(no,Da,gn,Us+4,io,ma),Kg(cl,ef,id,Ti,ao,Us+4,io,ma)),so.La&&(A1(no,Da,gn,Us,io,ma),xA(cl,ef,id,Ti,ao,Us,io,ma)),0<ll&&(En(no,Da,gn,Us+4,io,ma),sd(cl,ef,id,Ti,ao,Us+4,io,ma)),so.La&&(Um(no,Da,gn,Us,io,ma),gA(cl,ef,id,Ti,ao,Us,io,ma))}}if(Qt.ia&&alert("todo:DitherRow"),Tt.put!=null){if(bs=16*Os,Os=16*(Os+1),ri?(Tt.y=Qt.sa,Tt.O=Qt.ta+ys,Tt.f=Qt.qa,Tt.N=Qt.ra+Ia,Tt.ea=Qt.Ha,Tt.W=Qt.Ia+Ia):(bs-=es,Tt.y=Ai,Tt.O=ha,Tt.f=pn,Tt.N=Xr,Tt.ea=Ki,Tt.W=fa),ti||(Os-=es),Os>Tt.o&&(Os=Tt.o),Tt.F=null,Tt.J=null,Qt.Fa!=null&&0<Qt.Fa.length&&bs<Os&&(Tt.J=Un(Qt,Tt,bs,Os-bs),Tt.F=Qt.mb,Tt.F==null&&Tt.F.length==0)){Tn=Bn(Qt,3,"Could not decode alpha data.");break t}bs<Tt.j&&(es=Tt.j-bs,bs=Tt.j,e(!(1&es)),Tt.O+=Qt.R*es,Tt.N+=Qt.B*(es>>1),Tt.W+=Qt.B*(es>>1),Tt.F!=null&&(Tt.J+=Tt.width*es)),bs<Os&&(Tt.O+=Tt.v,Tt.N+=Tt.v>>1,Tt.W+=Tt.v>>1,Tt.F!=null&&(Tt.J+=Tt.v),Tt.ka=bs-Tt.j,Tt.U=Tt.va-Tt.v,Tt.T=Os-bs,Tn=Tt.put(Tt))}Pr+1!=Qt.Ic||ti||(n(Qt.sa,Qt.ta-_r,Ai,ha+16*Qt.R,_r),n(Qt.qa,Qt.ra-qs,pn,Xr+8*Qt.B,qs),n(Qt.Ha,Qt.Ia-qs,Ki,fa+8*Qt.B,qs))}if(!Tn)return Bn(Gr,6,"Output aborted.")}return 1}(ve,Le)),Le.bc!=null&&Le.bc(Le),Me&=1}return Me?(ve.cb=0,Me):0})(S,K)||(P=S.a)}}else P=S.a}P==0&&ae.Oa!=null&&ae.Oa.fd&&(P=$g(ae.ba))}ae=P}ne=ae!=0?null:11>ne?de.f.RGBA.eb:de.f.kb.y}else ne=null;return ne};var $A=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,A){for(var C="",T=0;T<4;T++)C+=String.fromCharCode(E[A++]);return C}function u(E,A){return E[A+0]|E[A+1]<<8}function h(E,A){return(E[A+0]|E[A+1]<<8|E[A+2]<<16)>>>0}function m(E,A){return(E[A+0]|E[A+1]<<8|E[A+2]<<16|E[A+3]<<24)>>>0}new c;var f=[0],g=[0],p=[],x=new c,y=t,v=function(E,A){var C={},T=0,L=!1,D=0,H=0;if(C.frames=[],!function(F,I){for(var B=0;B<4;B++)if(F[I+B]!="RIFF".charCodeAt(B))return!0;return!1}(E,A)){for(m(E,A+=4),A+=8;A<E.length;){var X=d(E,A),ee=m(E,A+=4);A+=4;var Q=ee+(1&ee);switch(X){case"VP8 ":case"VP8L":C.frames[T]===void 0&&(C.frames[T]={}),(V=C.frames[T]).src_off=L?H:A-8,V.src_size=D+ee+8,T++,L&&(L=!1,D=0,H=0);break;case"VP8X":(V=C.header={}).feature_flags=E[A];var G=A+4;V.canvas_width=1+h(E,G),G+=3,V.canvas_height=1+h(E,G),G+=3;break;case"ALPH":L=!0,D=Q+8,H=A-8;break;case"ANIM":(V=C.header).bgcolor=m(E,A),G=A+4,V.loop_count=u(E,G),G+=2;break;case"ANMF":var z,V;(V=C.frames[T]={}).offset_x=2*h(E,A),A+=3,V.offset_y=2*h(E,A),A+=3,V.width=1+h(E,A),A+=3,V.height=1+h(E,A),A+=3,V.duration=h(E,A),A+=3,z=E[A++],V.dispose=1&z,V.blend=z>>1&1}X!="ANMF"&&(A+=Q)}return C}}(y,0);v.response=y,v.rgbaoutput=!0,v.dataurl=!1;var b=v.header?v.header:null,w=v.frames?v.frames:null;if(b){b.loop_counter=b.loop_count,f=[b.canvas_height],g=[b.canvas_width];for(var _=0;_<w.length&&w[_].blend!=0;_++);}var N=w[0],j=x.WebPDecodeRGBA(y,N.src_off,N.src_size,g,f);N.rgba=j,N.imgwidth=g[0],N.imgheight=f[0];for(var k=0;k<g[0]*f[0]*4;k++)p[k]=j[k];return this.width=g,this.height=f,this.data=p,this}(function(t){var e,r,n,i,a,o,l,c,d,u=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new c,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=F;Object.defineProperty(this,"pdf",{get:function(){return I}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(Ae){B=!!Ae}});var q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return q},set:function(Ae){q=!!Ae}});var U=0;Object.defineProperty(this,"posX",{get:function(){return U},set:function(Ae){isNaN(Ae)||(U=Ae)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(Ae){isNaN(Ae)||(W=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ae){var fe;typeof Ae=="number"?fe=[Ae,Ae,Ae,Ae]:((fe=new Array(4))[0]=Ae[0],fe[1]=Ae.length>=2?Ae[1]:fe[0],fe[2]=Ae.length>=3?Ae[2]:fe[0],fe[3]=Ae.length>=4?Ae[3]:fe[1]),d.margin=fe}});var te=!1;Object.defineProperty(this,"autoPaging",{get:function(){return te},set:function(Ae){te=Ae}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(Ae){re=Ae}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(Ae){le=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ae){Ae instanceof u&&(d=Ae)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ae){d.path=Ae}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Ae){ke=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var fe;fe=m(Ae),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var fe=m(Ae);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var Pe=null,He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Ae){Pe=null,He=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var fe;if(this.ctx.font=Ae,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var _t=fe[1];fe[2];var Je=fe[3],Oe=fe[4];fe[5];var Ce=fe[6],oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(oe==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:oe==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var me=function(Rt){var It,os,Mr=[],Ht=Rt.trim();if(Ht==="")return z4;if(Ht in MF)return[MF[Ht]];for(;Ht!=="";){switch(os=null,It=(Ht=UF(Ht)).charAt(0)){case'"':case"'":os=yve(Ht.substring(1),It);break;default:os=bve(Ht)}if(os===null||(Mr.push(os[0]),(Ht=UF(os[1]))!==""&&Ht.charAt(0)!==","))return z4;Ht=Ht.replace(/^,/,"")}return Mr}(Ce);if(this.fontFaces){var Ne=function(Rt,It){if(Pe===null){var os=function(Mr){var Ht=[];return Object.keys(Mr).forEach(function(dr){Mr[dr].forEach(function(rs){var sr=null;switch(rs){case"bold":sr={family:dr,weight:"bold"};break;case"italic":sr={family:dr,style:"italic"};break;case"bolditalic":sr={family:dr,weight:"bold",style:"italic"};break;case"":case"normal":sr={family:dr}}sr!==null&&(sr.ref={name:dr,style:rs},Ht.push(sr))})}),Ht}(Rt.getFontList());Pe=function(Mr){for(var Ht={},dr=0;dr<Mr.length;++dr){var rs=q4(Mr[dr]),sr=rs.family,Er=rs.stretch,pr=rs.style,Qs=rs.weight;Ht[sr]=Ht[sr]||{},Ht[sr][Er]=Ht[sr][Er]||{},Ht[sr][Er][pr]=Ht[sr][Er][pr]||{},Ht[sr][Er][pr][Qs]=rs}return Ht}(os.concat(It))}return Pe}(this.pdf,this.fontFaces),Be=me.map(function(Rt){return{family:Rt,stretch:"normal",weight:Je,style:_t}}),qe=function(Rt,It,os){for(var Mr=(os=os||{}).defaultFontFamily||"times",Ht=Object.assign({},vve,os.genericFontFamilies||{}),dr=null,rs=null,sr=0;sr<It.length;++sr)if(Ht[(dr=q4(It[sr])).family]&&(dr.family=Ht[dr.family]),Rt.hasOwnProperty(dr.family)){rs=Rt[dr.family];break}if(!(rs=rs||Rt[Mr]))throw new Error("Could not find a font-family for the rule '"+BF(dr)+"' and default family '"+Mr+"'.");if(rs=function(Er,pr){if(pr[Er])return pr[Er];var Qs=V3[Er],kn=Qs<=V3.normal?-1:1,vs=DF(pr,bW,Qs,kn);if(!vs)throw new Error("Could not find a matching font-stretch value for "+Er);return vs}(dr.stretch,rs),rs=function(Er,pr){if(pr[Er])return pr[Er];for(var Qs=yW[Er],kn=0;kn<Qs.length;++kn)if(pr[Qs[kn]])return pr[Qs[kn]];throw new Error("Could not find a matching font-style for "+Er)}(dr.style,rs),!(rs=function(Er,pr){if(pr[Er])return pr[Er];if(Er===400&&pr[500])return pr[500];if(Er===500&&pr[400])return pr[400];var Qs=xve[Er],kn=DF(pr,wW,Qs,Er<400?-1:1);if(!kn)throw new Error("Could not find a matching font-weight for value "+Er);return kn}(dr.weight,rs)))throw new Error("Failed to resolve a font for the rule '"+BF(dr)+"'.");return rs}(Ne,Be);this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var De="";(Je==="bold"||parseInt(Je,10)>=700||_t==="bold")&&(De="bold"),_t==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var ct="",Ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xt=0;xt<me.length;xt++){if(this.pdf.internal.getFont(me[xt],De,{noFallback:!0,disableWarning:!0})!==void 0){ct=me[xt];break}if(De==="bolditalic"&&this.pdf.internal.getFont(me[xt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=me[xt],De="bold";else if(this.pdf.internal.getFont(me[xt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=me[xt],De="normal";break}}if(ct===""){for(var $t=0;$t<me.length;$t++)if(Ut[me[$t]]){ct=Ut[me[$t]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,V.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,V.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,I){if(isNaN(F)||isNaN(I))throw Ls.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new o(F,I));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new o(F,I)},h.prototype.closePath=function(){var F=new o(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&Ss(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){F=new o(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},h.prototype.lineTo=function(F,I){if(isNaN(F)||isNaN(I))throw Ls.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new o(F,I));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new o(B.x,B.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,I,B,q){if(isNaN(B)||isNaN(q)||isNaN(F)||isNaN(I))throw Ls.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var U=this.ctx.transform.applyToPoint(new o(B,q)),W=this.ctx.transform.applyToPoint(new o(F,I));this.path.push({type:"qct",x1:W.x,y1:W.y,x:U.x,y:U.y}),this.ctx.lastPoint=new o(U.x,U.y)},h.prototype.bezierCurveTo=function(F,I,B,q,U,W){if(isNaN(U)||isNaN(W)||isNaN(F)||isNaN(I)||isNaN(B)||isNaN(q))throw Ls.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var te=this.ctx.transform.applyToPoint(new o(U,W)),re=this.ctx.transform.applyToPoint(new o(F,I)),le=this.ctx.transform.applyToPoint(new o(B,q));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:le.x,y2:le.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.arc=function(F,I,B,q,U,W){if(isNaN(F)||isNaN(I)||isNaN(B)||isNaN(q)||isNaN(U))throw Ls.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var te=this.ctx.transform.applyToPoint(new o(F,I));F=te.x,I=te.y;var re=this.ctx.transform.applyToPoint(new o(0,B)),le=this.ctx.transform.applyToPoint(new o(0,0));B=Math.sqrt(Math.pow(re.x-le.x,2)+Math.pow(re.y-le.y,2))}Math.abs(U-q)>=2*Math.PI&&(q=0,U=2*Math.PI),this.path.push({type:"arc",x:F,y:I,radius:B,startAngle:q,endAngle:U,counterclockwise:W})},h.prototype.arcTo=function(F,I,B,q,U){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,I,B,q){if(isNaN(F)||isNaN(I)||isNaN(B)||isNaN(q))throw Ls.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,I),this.lineTo(F+B,I),this.lineTo(F+B,I+q),this.lineTo(F,I+q),this.lineTo(F,I),this.lineTo(F+B,I),this.lineTo(F,I)},h.prototype.fillRect=function(F,I,B,q){if(isNaN(F)||isNaN(I)||isNaN(B)||isNaN(q))throw Ls.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var U={};this.lineCap!=="butt"&&(U.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(U.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,I,B,q),this.fill(),U.hasOwnProperty("lineCap")&&(this.lineCap=U.lineCap),U.hasOwnProperty("lineJoin")&&(this.lineJoin=U.lineJoin)}},h.prototype.strokeRect=function(F,I,B,q){if(isNaN(F)||isNaN(I)||isNaN(B)||isNaN(q))throw Ls.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(F,I,B,q),this.stroke())},h.prototype.clearRect=function(F,I,B,q){if(isNaN(F)||isNaN(I)||isNaN(B)||isNaN(q))throw Ls.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,I,B,q))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=q}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(I),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(F){var I,B,q,U;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))I=0,B=0,q=0,U=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(W!==null)I=parseInt(W[1]),B=parseInt(W[2]),q=parseInt(W[3]),U=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)I=parseInt(W[1]),B=parseInt(W[2]),q=parseInt(W[3]),U=parseFloat(W[4]);else{if(U=1,typeof F=="string"&&F.charAt(0)!=="#"){var te=new hW(F);F=te.ok?te.toHex():"#000000"}F.length===4?(I=F.substring(1,2),I+=I,B=F.substring(2,3),B+=B,q=F.substring(3,4),q+=q):(I=F.substring(1,3),B=F.substring(3,5),q=F.substring(5,7)),I=parseInt(I,16),B=parseInt(B,16),q=parseInt(q,16)}}return{r:I,g:B,b:q,a:U,style:F}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,I,B,q){if(isNaN(I)||isNaN(B)||typeof F!="string")throw Ls.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(q=isNaN(q)?void 0:q,!f.call(this)){var U=Q(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;T.call(this,{text:F,x:I,y:B,scale:W,angle:U,align:this.textAlign,maxWidth:q})}},h.prototype.strokeText=function(F,I,B,q){if(isNaN(I)||isNaN(B)||typeof F!="string")throw Ls.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){q=isNaN(q)?void 0:q;var U=Q(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;T.call(this,{text:F,x:I,y:B,scale:W,renderingMode:"stroke",angle:U,align:this.textAlign,maxWidth:q})}},h.prototype.measureText=function(F){if(typeof F!="string")throw Ls.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,B=this.pdf.internal.scaleFactor,q=I.internal.getFontSize(),U=I.getStringUnitWidth(F)*q/I.internal.scaleFactor;return new function(W){var te=(W=W||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this}({width:U*=Math.round(96*B/72*1e4)/1e4})},h.prototype.scale=function(F,I){if(isNaN(F)||isNaN(I))throw Ls.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new c(F,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.rotate=function(F){if(isNaN(F))throw Ls.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new c(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.translate=function(F,I){if(isNaN(F)||isNaN(I))throw Ls.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new c(1,0,0,1,F,I);this.ctx.transform=this.ctx.transform.multiply(B)},h.prototype.transform=function(F,I,B,q,U,W){if(isNaN(F)||isNaN(I)||isNaN(B)||isNaN(q)||isNaN(U)||isNaN(W))throw Ls.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var te=new c(F,I,B,q,U,W);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.setTransform=function(F,I,B,q,U,W){F=isNaN(F)?1:F,I=isNaN(I)?0:I,B=isNaN(B)?0:B,q=isNaN(q)?1:q,U=isNaN(U)?0:U,W=isNaN(W)?0:W,this.ctx.transform=new c(F,I,B,q,U,W)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,I,B,q,U,W,te,re,le){var ke=this.pdf.getImageProperties(F),Pe=1,He=1,Ae=1,fe=1;q!==void 0&&re!==void 0&&(Ae=re/q,fe=le/U,Pe=ke.width/q*re/q,He=ke.height/U*le/U),W===void 0&&(W=I,te=B,I=0,B=0),q!==void 0&&re===void 0&&(re=q,le=U),q===void 0&&re===void 0&&(re=ke.width,le=ke.height);for(var _t,Je=this.ctx.transform.decompose(),Oe=Q(Je.rotate.shx),Ce=new c,oe=(Ce=(Ce=(Ce=Ce.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(W-I*Ae,te-B*fe,q*Pe,U*He)),me=x.call(this,oe),Ne=[],Be=0;Be<me.length;Be+=1)Ne.indexOf(me[Be])===-1&&Ne.push(me[Be]);if(b(Ne),this.autoPaging)for(var qe=Ne[0],De=Ne[Ne.length-1],ct=qe;ct<De+1;ct++){this.pdf.setPage(ct);var Ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=ct===1?this.posY+this.margin[0]:this.margin[0],$t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=ct===1?0:$t+(ct-2)*Rt;if(this.ctx.clip_path.length!==0){var os=this.path;_t=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(_t,this.posX+this.margin[3],-It+xt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=os}var Mr=JSON.parse(JSON.stringify(oe));Mr=v([Mr],this.posX+this.margin[3],-It+xt+this.ctx.prevPageLastElemOffset)[0];var Ht=(ct>qe||ct<De)&&p.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Rt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Mr.x,Mr.y,Mr.w,Mr.h,null,null,Oe),Ht&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",oe.x,oe.y,oe.w,oe.h,null,null,Oe)};var x=function(F,I,B){var q=[];I=I||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var U=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":q.push(Math.floor((F.y+U)/B)+1);break;case"arc":q.push(Math.floor((F.y+U-F.radius)/B)+1),q.push(Math.floor((F.y+U+F.radius)/B)+1);break;case"qct":var W=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);q.push(Math.floor((W.y+U)/B)+1),q.push(Math.floor((W.y+W.h+U)/B)+1);break;case"bct":var te=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);q.push(Math.floor((te.y+U)/B)+1),q.push(Math.floor((te.y+te.h+U)/B)+1);break;case"rect":q.push(Math.floor((F.y+U)/B)+1),q.push(Math.floor((F.y+F.h+U)/B)+1)}for(var re=0;re<q.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<q[re];)y.call(this);return q},y=function(){var F=this.fillStyle,I=this.strokeStyle,B=this.font,q=this.lineCap,U=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=I,this.font=B,this.lineCap=q,this.lineWidth=U,this.lineJoin=W},v=function(F,I,B){for(var q=0;q<F.length;q++)switch(F[q].type){case"bct":F[q].x2+=I,F[q].y2+=B;case"qct":F[q].x1+=I,F[q].y1+=B;default:F[q].x+=I,F[q].y+=B}return F},b=function(F){return F.sort(function(I,B){return I-B})},w=function(F,I){for(var B,q,U=this.fillStyle,W=this.strokeStyle,te=this.lineCap,re=this.lineWidth,le=Math.abs(re*this.ctx.transform.scaleX),ke=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),He=JSON.parse(JSON.stringify(this.path)),Ae=[],fe=0;fe<He.length;fe++)if(He[fe].x!==void 0)for(var _t=x.call(this,He[fe]),Je=0;Je<_t.length;Je+=1)Ae.indexOf(_t[Je])===-1&&Ae.push(_t[Je]);for(var Oe=0;Oe<Ae.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<Ae[Oe];)y.call(this);if(b(Ae),this.autoPaging)for(var Ce=Ae[0],oe=Ae[Ae.length-1],me=Ce;me<oe+1;me++){this.pdf.setPage(me),this.fillStyle=U,this.strokeStyle=W,this.lineCap=te,this.lineWidth=le,this.lineJoin=ke;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=me===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=me===1?0:qe+(me-2)*De;if(this.ctx.clip_path.length!==0){var Ut=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(B,this.posX+this.margin[3],-ct+Be+this.ctx.prevPageLastElemOffset),_.call(this,F,!0),this.path=Ut}if(q=JSON.parse(JSON.stringify(Pe)),this.path=v(q,this.posX+this.margin[3],-ct+Be+this.ctx.prevPageLastElemOffset),I===!1||me===0){var xt=(me>Ce||me<oe)&&p.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,De,null).clip().discardPath()),_.call(this,F,I),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=le,_.call(this,F,I),this.lineWidth=re;this.path=Pe},_=function(F,I){if((F!=="stroke"||I||!g.call(this))&&(F==="stroke"||I||!f.call(this))){for(var B,q,U=[],W=this.path,te=0;te<W.length;te++){var re=W[te];switch(re.type){case"begin":U.push({begin:!0});break;case"close":U.push({close:!0});break;case"mt":U.push({start:re,deltas:[],abs:[]});break;case"lt":var le=U.length;if(W[te-1]&&!isNaN(W[te-1].x)&&(B=[re.x-W[te-1].x,re.y-W[te-1].y],le>0)){for(;le>=0;le--)if(U[le-1].close!==!0&&U[le-1].begin!==!0){U[le-1].deltas.push(B),U[le-1].abs.push(re);break}}break;case"bct":B=[re.x1-W[te-1].x,re.y1-W[te-1].y,re.x2-W[te-1].x,re.y2-W[te-1].y,re.x-W[te-1].x,re.y-W[te-1].y],U[U.length-1].deltas.push(B);break;case"qct":var ke=W[te-1].x+2/3*(re.x1-W[te-1].x),Pe=W[te-1].y+2/3*(re.y1-W[te-1].y),He=re.x+2/3*(re.x1-re.x),Ae=re.y+2/3*(re.y1-re.y),fe=re.x,_t=re.y;B=[ke-W[te-1].x,Pe-W[te-1].y,He-W[te-1].x,Ae-W[te-1].y,fe-W[te-1].x,_t-W[te-1].y],U[U.length-1].deltas.push(B);break;case"arc":U.push({deltas:[],abs:[],arc:!0}),Array.isArray(U[U.length-1].abs)&&U[U.length-1].abs.push(re)}}q=I?null:F==="stroke"?"stroke":"fill";for(var Je=!1,Oe=0;Oe<U.length;Oe++)if(U[Oe].arc)for(var Ce=U[Oe].abs,oe=0;oe<Ce.length;oe++){var me=Ce[oe];me.type==="arc"?k.call(this,me.x,me.y,me.radius,me.startAngle,me.endAngle,me.counterclockwise,void 0,I,!Je):L.call(this,me.x,me.y),Je=!0}else if(U[Oe].close===!0)this.pdf.internal.out("h"),Je=!1;else if(U[Oe].begin!==!0){var Ne=U[Oe].start.x,Be=U[Oe].start.y;D.call(this,U[Oe].deltas,Ne,Be),Je=!0}q&&E.call(this,q),I&&A.call(this)}},N=function(F){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-B;case"top":return F+I-B;case"hanging":return F+I-2*B;case"middle":return F+I/2-B;default:return F}},j=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(I,B){this.colorStops.push([I,B])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(F,I,B,q,U,W,te,re,le){for(var ke=X.call(this,B,q,U,W),Pe=0;Pe<ke.length;Pe++){var He=ke[Pe];Pe===0&&(le?C.call(this,He.x1+F,He.y1+I):L.call(this,He.x1+F,He.y1+I)),H.call(this,F,I,He.x2,He.y2,He.x3,He.y3,He.x4,He.y4)}re?A.call(this):E.call(this,te)},E=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(F,I){this.pdf.internal.out(r(F)+" "+n(I)+" m")},T=function(F){var I;switch(F.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var B=this.pdf.getTextDimensions(F.text),q=N.call(this,F.y),U=j.call(this,q)-B.h,W=this.ctx.transform.applyToPoint(new o(F.x,q)),te=this.ctx.transform.decompose(),re=new c;re=(re=(re=re.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var le,ke,Pe,He=this.ctx.transform.applyToRectangle(new l(F.x,q,B.w,B.h)),Ae=re.applyToRectangle(new l(F.x,U,B.w,B.h)),fe=x.call(this,Ae),_t=[],Je=0;Je<fe.length;Je+=1)_t.indexOf(fe[Je])===-1&&_t.push(fe[Je]);if(b(_t),this.autoPaging)for(var Oe=_t[0],Ce=_t[_t.length-1],oe=Oe;oe<Ce+1;oe++){this.pdf.setPage(oe);var me=oe===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],qe=Be-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],ct=De-this.margin[3],Ut=oe===1?0:Ne+(oe-2)*qe;if(this.ctx.clip_path.length!==0){var xt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(le,this.posX+this.margin[3],-1*Ut+me),_.call(this,"fill",!0),this.path=xt}var $t=v([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-Ut+me+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*F.scale),Pe=this.lineWidth,this.lineWidth=Pe*F.scale);var Rt=this.autoPaging!=="text";if(Rt||$t.y+$t.h<=Be){if(Rt||$t.y>=me&&$t.x<=De){var It=Rt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||De-$t.x)[0],os=v([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-Ut+me+this.ctx.prevPageLastElemOffset)[0],Mr=Rt&&(oe>Oe||oe<Ce)&&p.call(this);Mr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,qe,null).clip().discardPath()),this.pdf.text(It,os.x,os.y,{angle:F.angle,align:I,renderingMode:F.renderingMode}),Mr&&this.pdf.restoreGraphicsState()}}else $t.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-$t.y);F.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Pe)}else F.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*F.scale),Pe=this.lineWidth,this.lineWidth=Pe*F.scale),this.pdf.text(F.text,W.x+this.posX,W.y+this.posY,{angle:F.angle,align:I,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Pe)},L=function(F,I,B,q){B=B||0,q=q||0,this.pdf.internal.out(r(F+B)+" "+n(I+q)+" l")},D=function(F,I,B){return this.pdf.lines(F,I,B,null,null)},H=function(F,I,B,q,U,W,te,re){this.pdf.internal.out([e(i(B+F)),e(a(q+I)),e(i(U+F)),e(a(W+I)),e(i(te+F)),e(a(re+I)),"c"].join(" "))},X=function(F,I,B,q){for(var U=2*Math.PI,W=Math.PI/2;I>B;)I-=U;var te=Math.abs(B-I);te<U&&q&&(te=U-te);for(var re=[],le=q?-1:1,ke=I;te>1e-5;){var Pe=ke+le*Math.min(te,W);re.push(ee.call(this,F,ke,Pe)),te-=Math.abs(Pe-ke),ke=Pe}return re},ee=function(F,I,B){var q=(B-I)/2,U=F*Math.cos(q),W=F*Math.sin(q),te=U,re=-W,le=te*te+re*re,ke=le+te*U+re*W,Pe=4/3*(Math.sqrt(2*le*ke)-ke)/(te*W-re*U),He=te-Pe*re,Ae=re+Pe*te,fe=He,_t=-Ae,Je=q+I,Oe=Math.cos(Je),Ce=Math.sin(Je);return{x1:F*Math.cos(I),y1:F*Math.sin(I),x2:He*Oe-Ae*Ce,y2:He*Ce+Ae*Oe,x3:fe*Oe-_t*Ce,y3:fe*Ce+_t*Oe,x4:F*Math.cos(B),y4:F*Math.sin(B)}},Q=function(F){return 180*F/Math.PI},G=function(F,I,B,q,U,W){var te=F+.5*(B-F),re=I+.5*(q-I),le=U+.5*(B-U),ke=W+.5*(q-W),Pe=Math.min(F,U,te,le),He=Math.max(F,U,te,le),Ae=Math.min(I,W,re,ke),fe=Math.max(I,W,re,ke);return new l(Pe,Ae,He-Pe,fe-Ae)},z=function(F,I,B,q,U,W,te,re){var le,ke,Pe,He,Ae,fe,_t,Je,Oe,Ce,oe,me,Ne,Be,qe=B-F,De=q-I,ct=U-B,Ut=W-q,xt=te-U,$t=re-W;for(ke=0;ke<41;ke++)Oe=(_t=(Pe=F+(le=ke/40)*qe)+le*((Ae=B+le*ct)-Pe))+le*(Ae+le*(U+le*xt-Ae)-_t),Ce=(Je=(He=I+le*De)+le*((fe=q+le*Ut)-He))+le*(fe+le*(W+le*$t-fe)-Je),ke==0?(oe=Oe,me=Ce,Ne=Oe,Be=Ce):(oe=Math.min(oe,Oe),me=Math.min(me,Ce),Ne=Math.max(Ne,Oe),Be=Math.max(Be,Ce));return new l(Math.round(oe),Math.round(me),Math.round(Ne-oe),Math.round(Be-me))},V=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,I,B=(F=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:I}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(er.API),function(t){var e=function(o){var l,c,d,u,h,m,f,g,p,x;for(c=[],d=0,u=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;u>d;d+=4)(h=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(m=(h=((h=((h=((h=(h-(x=h%85))/85)-(p=h%85))/85)-(g=h%85))/85)-(f=h%85))/85)%85,c.push(m+33,f+33,g+33,p+33,x+33)):c.push(122);return function(y,v){for(var b=v;b>0;b--)y.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,u,h,m=String,f="length",g=255,p="charCodeAt",x="slice",y="replace";for(o[x](-2),o=o[x](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),d=[],u=0,h=(o+=l="uuuuu"[x](o[f]%5||5))[f];h>u;u+=5)c=52200625*(o[p](u)-33)+614125*(o[p](u+1)-33)+7225*(o[p](u+2)-33)+85*(o[p](u+3)-33)+(o[p](u+4)-33),d.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(v,b){for(var w=b;w>0;w--)v.pop()}(d,l[f]),m.fromCharCode.apply(m,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=D3(l)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",u=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=i(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(er.API),function(t){t.loadFile=function(e,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,d,u){var h=new XMLHttpRequest,m=0,f=function(g){var p=g.length,x=[],y=String.fromCharCode;for(m=0;m<p;m+=1)x.push(y(255&g.charCodeAt(m)));return x.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return f(h.responseText)}(i,a,o)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(er.API),function(t){function e(){return(fr.html2canvas?Promise.resolve(fr.html2canvas):qf(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(fr.DOMPurify?Promise.resolve(fr.DOMPurify):qf(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Ss(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var d=document.createElement(l);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},a=function l(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),u=l.convert(Promise.resolve(),d);return(u=u.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(r).then(function(d){return this.set({src:i("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var g=u[f],p=g.src.find(function(x){return x.format==="truetype"});p&&d.addFont(p.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,d.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(l=l||er.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,u){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,u){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(u,h){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return d.updateProgress(null,u),m}).then(u,h).then(function(m){return d.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var u=this;l&&(l=l.bind(u)),c&&(c=c.bind(u));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),m=d.call(h,l,c);return o.convert(m,u.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,er.getPageSize=function(l,c,d){if(Ss(l)==="object"){var u=l;l=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var h,m=(""+d).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var g,p=0,x=0;if(f.hasOwnProperty(m))p=f[m][1]/h,x=f[m][0]/h;else try{p=d[1],x=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",x>p&&(g=x,x=p,p=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",p>x&&(g=x,x=p,p=g)}return{width:x,height:p,unit:c,k:h,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(q4):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}}(er.API),er.API.addJS=function(t){return qF=t,this.internal.events.subscribe("postPutResources",function(){Db=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Db+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$F=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Db!==void 0&&$F!==void 0&&this.internal.out("/Names <</JavaScript "+Db+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(a=0;a<d;a++){var h=r.internal.newObject();u.push(h);var m=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(er.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,p={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=f,e.indexOf(h.charCodeAt(x+1))!==-1){m=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),p={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:m,numcomponents:h.charCodeAt(x+9)};break}f=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:i}}return u}}(er.API),er.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=sve(t,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,d=a.palette,u=a.depth;i=d&&c===1?function(k){for(var E=k.width,A=k.height,C=k.data,T=k.palette,L=k.depth,D=!1,H=[],X=[],ee=void 0,Q=!1,G=0,z=0;z<T.length;z++){var V=W8(T[z],4),F=V[0],I=V[1],B=V[2],q=V[3];H.push(F,I,B),q!=null&&(q===0?(G++,X.length<1&&X.push(z)):q<255&&(Q=!0))}if(Q||G>1){D=!0,X=void 0;var U=E*A;ee=new Uint8Array(U);for(var W=new DataView(C.buffer),te=0;te<U;te++){var re=V4(W,te,L),le=W8(T[re],4)[3];ee[te]=le}}else G===0&&(X=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:D?8:void 0,colorBytes:C,alphaBytes:ee,needSMask:D,palette:H,mask:X}}(a):c===2||c===4?function(k){for(var E=k.data,A=k.width,C=k.height,T=k.channels,L=k.depth,D=T===2?"DeviceGray":"DeviceRGB",H=T-1,X=A*C,ee=H,Q=X*ee,G=1*X,z=Math.ceil(Q*L/8),V=Math.ceil(G*L/8),F=new Uint8Array(z),I=new Uint8Array(V),B=new DataView(E.buffer),q=new DataView(F.buffer),U=new DataView(I.buffer),W=!1,te=0;te<X;te++){for(var re=te*T,le=0;le<ee;le++)XF(q,V4(B,re+le,L),te*ee+le,L);var ke=V4(B,re+ee,L);ke<(1<<L)-1&&(W=!0),XF(U,ke,1*te,L)}return{colorSpace:D,colorsPerPixel:H,sMaskBitsPerComponent:W?L:void 0,colorBytes:F,alphaBytes:I,needSMask:W}}(a):function(k){var E=k.data,A=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:A,colorsPerPixel:A==="DeviceGray"?1:3,colorBytes:E instanceof Uint16Array?function(C){for(var T=C.length,L=new Uint8Array(2*T),D=new DataView(L.buffer,L.byteOffset,L.byteLength),H=0;H<T;H++)D.setUint16(2*H,C[H],!1);return L}(E):E,needSMask:!1}}(a);var h,m,f,g=i,p=g.colorSpace,x=g.colorsPerPixel,y=g.sMaskBitsPerComponent,v=g.colorBytes,b=g.alphaBytes,w=g.needSMask,_=g.palette,N=g.mask,j=null;return n!==er.API.image_compression.NONE&&typeof D3=="function"?(j=function(k){var E;switch(k){case er.API.image_compression.FAST:E=11;break;case er.API.image_compression.MEDIUM:E=13;break;case er.API.image_compression.SLOW:E=14;break;default:E=12}return E}(n),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(j," /Colors ").concat(x," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=WF(v,Math.ceil(o*x*u/8),x,u,n),w&&(f=WF(b,Math.ceil(o*y/8),1,y,n))):(h=void 0,m=void 0,t=v,w&&(f=b)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:h,decodeParameters:m,transparency:N,palette:_,sMask:f,predictor:j,width:o,height:l,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:p}}},function(t){t.processGIF89A=function(e,r,n,i){var a=new _ve(e),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new H4(100).encode(d,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A}(er.API),ul.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ul.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ls.log("bit decode error:"+r)}},ul.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ul.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ul.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},ul.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,d=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},ul.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=i*this.width*4+4*a;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},ul.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ul.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},ul.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var a=new ul(e,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new H4(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)}}(er.API),ZF.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var a=new ZF(e),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},d=new H4(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)}}(er.API),er.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var u=n[d],h=n[d+1],m=n[d+2],f=n[d+3];a[l++]=u,a[l++]=h,a[l++]=m,o[c++]=f}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},er.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xm=er.API,Mb=Xm.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,m=0,f=t.length,g=0,p=l[0]||c,x=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(m=h&&Ss(d[n])==="object"&&!isNaN(parseInt(d[n][g],10))?d[n][g]/u:0,x.push((l[n]||p)/c+m)),g=n;return x},zF=Xm.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Xm.processArabic&&(t=Xm.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Mb.apply(this,arguments).reduce(function(a,o){return a+o},0)},VF=function(t,e,r,n){for(var i=[],a=0,o=t.length,l=0;a!==o&&l+e[a]<r;)l+=e[a],a++;i.push(t.slice(0,a));var c=a;for(l=0;a!==o;)l+e[a]>n&&(i.push(t.slice(c,a)),l=0,c=a),l+=e[a],a++;return c!==a&&i.push(t.slice(c,a)),i},HF=function(t,e,r){r||(r={});var n,i,a,o,l,c,d,u=[],h=[u],m=r.textIndent||0,f=0,g=0,p=t.split(" "),x=Mb.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),v=[];p.map(function(w){(w=w.split(/\s*\n/)).length>1?v=v.concat(w.map(function(_,N){return(N&&_.length?`
`:"")+_})):v.push(w[0])}),p=v,c=zF.apply(this,[y,r])}for(a=0,o=p.length;a<o;a++){var b=0;if(n=p[a],c&&n[0]==`
`&&(n=n.substr(1),b=1),m+f+(g=(i=Mb.apply(this,[n,r])).reduce(function(w,_){return w+_},0))>e||b){if(g>e){for(l=VF.apply(this,[n,i,e-(m+f),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);g=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(w,_){return w+_},0)}else u=[n];h.push(u),m=g+c,f=x}else u.push(n),m+=f+g,f=x}return d=c?function(w,_){return(_?y:"")+w.join(" ")}:function(w){return w.join(" ")},h.map(d)},Xm.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(HF.apply(this,[n[l],o,a]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=t.__fontmetrics__.compress=function(m){var f,g,p,x,y=["{"];for(var v in m){if(f=m[v],isNaN(parseInt(v,10))?g="'"+v+"'":(v=parseInt(v,10),g=(g=o(v).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof f=="number")f<0?(p=o(f).slice(3),x="-"):(p=o(f).slice(2),x=""),p=x+p.slice(0,-1)+i[p.slice(-1)];else{if(Ss(f)!=="object")throw new Error("Don't know what to do with value type "+Ss(f)+".");p=l(f)}y.push(g+p)}return y.push("}"),y.join("")},c=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,g,p,x,y={},v=1,b=y,w=[],_="",N="",j=m.length-1,k=1;k<j;k+=1)(x=m[k])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(x):x=="{"?(w.push([b,p]),b={},p=void 0):x=="}"?((g=w.pop())[0][g[1]]=b,p=void 0,b=g[0]):x=="-"?v=-1:p===void 0?n.hasOwnProperty(x)?(_+=n[x],p=parseInt(_,16)*v,v=1,_=""):_+=x:n.hasOwnProperty(x)?(N+=n[x],b[p]=parseInt(N,16)*v,v=1,p=void 0,N=""):N+=x;return y},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var f=m.font,g=h.Unicode[f.postScriptName];g&&(f.metadata.Unicode={},f.metadata.Unicode.widths=g.widths,f.metadata.Unicode.kerning=g.kerning);var p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(er.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(N2(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(er),er.API.addSvgAsImage=function(t,e,r,n,i,a,o,l){if(isNaN(e)||isNaN(r))throw Ls.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Ls.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(fr.canvg?Promise.resolve(fr.canvg):qf(()=>import("./index.es-CYiNcdEy.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,r,n,i,o,l)})},er.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},er.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(g,p){var x,y=!1;for(x=0;x<g.length;x+=1)g[x]===p&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Ss(t)==="object"){for(i in t)if(a=t[i],m(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&m(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(d=0;d<a.length;d+=1)if(n=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(u=0;u<a[d].length;u+=1)typeof a[d][u]!="number"&&(n=!1);n===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(er.API),function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=a.length;h<m;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},n=function(a){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(a).sort(function(f,g){return f-g})).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(d=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",g=0;g<m.length;g++)f+=String.fromCharCode(m[g]);var p=d();u({data:f,addLength1:!0,objectId:p}),c("endobj");var x=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var y=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+lp(l.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+lp(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+lp(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var g=d();u({data:m,addLength1:!0,objectId:g}),c("endobj");var p=d();u({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var x=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+lp(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+lp(l.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,d=a.y,u=a.options||{},h=a.mutex||{},m=h.pdfEscape,f=h.activeFontKey,g=h.fonts,p=f,x="",y=0,v="",b=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(v=l,p=f,Array.isArray(l)&&(v=l[0]),y=0;y<v.length;y+=1)g[p].metadata.hasOwnProperty("cmap")&&(o=g[p].metadata.cmap.unicode.codeMap[v[y].charCodeAt(0)]),o||v[y].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?x+=v[y]:x+="";var w="";return parseInt(p.slice(1))<14||b==="WinAnsiEncoding"?w=m(x,p).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(w=r(x,g[p])),h.isHex=!0,{text:w,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([i(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(i(Object.assign({},c,{text:o[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(er),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(er.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,l,c,d,u,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var w=function(C){var T=C.charCodeAt(),L=T>>8,D=p[L];return D!==void 0?h[256*D+(255&T)]:L===252||L===253?"AL":y.test(L)?"L":L===8?"R":"N"},_=function(C){for(var T,L=0;L<C.length;L++){if((T=w(C.charAt(L)))==="L")return!1;if(T==="R")return!0}return!1},N=function(C,T,L,D){var H,X,ee,Q,G=T[D];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(G="AN");break;case"AL":v=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":D<1||D+1>=T.length||(H=L[D-1])!=="EN"&&H!=="AN"||(X=T[D+1])!=="EN"&&X!=="AN"?G="N":v&&(X="AN"),G=X===H?X:"N";break;case"ES":G=(H=D>0?L[D-1]:"B")==="EN"&&D+1<T.length&&T[D+1]==="EN"?"EN":"N";break;case"ET":if(D>0&&L[D-1]==="EN"){G="EN";break}if(v){G="N";break}for(ee=D+1,Q=T.length;ee<Q&&T[ee]==="ET";)ee++;G=ee<Q&&T[ee]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(Q=T.length,ee=D+1;ee<Q&&T[ee]==="NSM";)ee++;if(ee<Q){var z=C[D],V=z>=1425&&z<=2303||z===64286;if(H=T[ee],V&&(H==="R"||H==="AL")){G="R";break}}}G=D<1||(H=T[D-1])==="B"?"N":L[D-1];break;case"B":v=!1,i=!0,G=b;break;case"S":a=!0,G="N"}return G},j=function(C,T,L){var D=C.split("");return L&&k(D,L,{hiLevel:b}),D.reverse(),T&&T.reverse(),D.join("")},k=function(C,T,L){var D,H,X,ee,Q,G=-1,z=C.length,V=0,F=[],I=b?f:m,B=[];for(v=!1,i=!1,a=!1,H=0;H<z;H++)B[H]=w(C[H]);for(X=0;X<z;X++){if(Q=V,F[X]=N(C,B,F,X),D=240&(V=I[Q][g[F[X]]]),V&=15,T[X]=ee=I[V][5],D>0)if(D===16){for(H=G;H<X;H++)T[H]=1;G=-1}else G=-1;if(I[V][6])G===-1&&(G=X);else if(G>-1){for(H=G;H<X;H++)T[H]=ee;G=-1}B[X]==="B"&&(T[X]=0),L.hiLevel|=ee}a&&function(q,U,W){for(var te=0;te<W;te++)if(q[te]==="S"){U[te]=b;for(var re=te-1;re>=0&&q[re]==="WS";re--)U[re]=b}}(B,T,z)},E=function(C,T,L,D,H){if(!(H.hiLevel<C)){if(C===1&&b===1&&!i)return T.reverse(),void(L&&L.reverse());for(var X,ee,Q,G,z=T.length,V=0;V<z;){if(D[V]>=C){for(Q=V+1;Q<z&&D[Q]>=C;)Q++;for(G=V,ee=Q-1;G<ee;G++,ee--)X=T[G],T[G]=T[ee],T[ee]=X,L&&(X=L[G],L[G]=L[ee],L[ee]=X);V=Q}V++}}},A=function(C,T,L){var D=C.split(""),H={hiLevel:b};return L||(L=[]),k(D,L,H),function(X,ee,Q){if(Q.hiLevel!==0&&u)for(var G,z=0;z<X.length;z++)ee[z]===1&&(G=x.indexOf(X[z]))>=0&&(X[z]=x[G+1])}(D,L,H),E(2,D,T,L,H),E(1,D,T,L,H),D.join("")};return this.__bidiEngine__.doBidiReorder=function(C,T,L){if(function(H,X){if(X)for(var ee=0;ee<H.length;ee++)X[ee]=ee;l===void 0&&(l=_(H)),d===void 0&&(d=_(H))}(C,T),o||!c||d)if(o&&c&&l^d)b=l?1:0,C=j(C,T,L);else if(!o&&c&&d)b=l?1:0,C=A(C,T,L),C=j(C,T);else if(!o||l||c||d){if(o&&!c&&l^d)C=j(C,T),l?(b=0,C=A(C,T,L)):(b=1,C=A(C,T,L),C=j(C,T));else if(o&&l&&!c&&d)b=1,C=A(C,T,L),C=j(C,T);else if(!o&&!c&&l^d){var D=u;l?(b=1,C=A(C,T,L),b=0,u=!1,C=A(C,T,L),u=D):(b=0,C=A(C,T,L),C=j(C,T),b=1,u=!1,C=A(C,T,L),u=D,C=j(C,T))}}else b=0,C=A(C,T,L);else b=l?1:0,C=A(C,T,L);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,d=C.isOutputRtl,u=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(er),er.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new vh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Bve(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Sve(this.contents),this.head=new Cve(this),this.name=new Fve(this),this.cmap=new jW(this),this.toUnicode={},this.hhea=new Ave(this),this.maxp=new Ove(this),this.hmtx=new Lve(this),this.post=new Tve(this),this.os2=new Eve(this),this.loca=new Mve(this),this.glyf=new Rve(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,l;for(o=0,a=0,l=(e=""+e).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ec,vh=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t}(),Sve=function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,l,c,d,u,h,m,f,g,p;for(p in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),u=16*f-h,(i=new vh).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(o),i.writeShort(u),a=16*f,d=i.pos+a,l=null,g=[],r)for(m=r[p],i.writeString(p),i.writeInt(t(m)),i.writeInt(d),i.writeInt(m.length),g=g.concat(m),p==="head"&&(l=d),d+=m.length;d%4;)g.push(0),d++;return i.write(g),n=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=_W.call(r);r.length%4;)r.push(0);for(a=new vh(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e}(),kve={}.hasOwnProperty,Gc=function(t,e){for(var r in e)kve.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ec=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Cve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new vh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),eO=function(){function t(e,r){var n,i,a,o,l,c,d,u,h,m,f,g,p,x,y,v,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,a=function(){var w,_;for(_=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)_.push(e.readUInt16());return _}(),e.pos+=2,p=function(){var w,_;for(_=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)_.push(e.readUInt16());return _}(),d=function(){var w,_;for(_=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)_.push(e.readUInt16());return _}(),u=function(){var w,_;for(_=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)_.push(e.readUInt16());return _}(),i=(this.length-e.pos+this.offset)/2,l=function(){var w,_;for(_=[],c=w=0;0<=i?w<i:w>i;c=0<=i?++w:--w)_.push(e.readUInt16());return _}(),c=y=0,b=a.length;y<b;c=++y)for(x=a[c],n=v=g=p[c];g<=x?v<=x:v>=x;n=g<=x?++v:--v)u[c]===0?o=n+d[c]:(o=l[u[c]/2+(n-g)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,i,a,o,l,c,d,u,h,m,f,g,p,x,y,v,b,w,_,N,j,k,E,A,C,T,L,D,H,X,ee,Q,G,z,V,F,I,B,q,U,W,te,re,le,ke,Pe;switch(D=new vh,o=Object.keys(e).sort(function(He,Ae){return He-Ae}),r){case"macroman":for(p=0,x=function(){var He=[];for(g=0;g<256;++g)He.push(0);return He}(),v={0:0},a={},H=0,G=o.length;H<G;H++)v[re=e[i=o[H]]]==null&&(v[re]=++p),a[i]={old:e[i],new:v[e[i]]},x[i]=v[e[i]];return D.writeUInt16(1),D.writeUInt16(0),D.writeUInt32(12),D.writeUInt16(0),D.writeUInt16(262),D.writeUInt16(0),D.write(x),{charMap:a,subtable:D.data,maxGlyphID:p+1};case"unicode":for(T=[],h=[],b=0,v={},n={},y=d=null,X=0,z=o.length;X<z;X++)v[_=e[i=o[X]]]==null&&(v[_]=++b),n[i]={old:_,new:v[_]},l=v[_]-i,y!=null&&l===d||(y&&h.push(y),T.push(i),d=l),y=i;for(y&&h.push(y),h.push(65535),T.push(65535),A=2*(E=T.length),k=2*Math.pow(Math.log(E)/Math.LN2,2),m=Math.log(k/2)/Math.LN2,j=2*E-k,c=[],N=[],f=[],g=ee=0,V=T.length;ee<V;g=++ee){if(C=T[g],u=h[g],C===65535){c.push(0),N.push(0);break}if(C-(L=n[C].new)>=32768)for(c.push(0),N.push(2*(f.length+E-g)),i=Q=C;C<=u?Q<=u:Q>=u;i=C<=u?++Q:--Q)f.push(n[i].new);else c.push(L-C),N.push(0)}for(D.writeUInt16(3),D.writeUInt16(1),D.writeUInt32(12),D.writeUInt16(4),D.writeUInt16(16+8*E+2*f.length),D.writeUInt16(0),D.writeUInt16(A),D.writeUInt16(k),D.writeUInt16(m),D.writeUInt16(j),W=0,F=h.length;W<F;W++)i=h[W],D.writeUInt16(i);for(D.writeUInt16(0),te=0,I=T.length;te<I;te++)i=T[te],D.writeUInt16(i);for(le=0,B=c.length;le<B;le++)l=c[le],D.writeUInt16(l);for(ke=0,q=N.length;ke<q;ke++)w=N[ke],D.writeUInt16(w);for(Pe=0,U=f.length;Pe<U;Pe++)p=f[Pe],D.writeUInt16(p);return{charMap:n,subtable:D.data,maxGlyphID:b+1}}},t}(),jW=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new eO(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=eO.encode(e,r),(i=new vh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),Ave=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),Eve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Tve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t}(),Pve=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Fve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,l,c,d,u,h,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},a=u=0,h=n.length;u<h;a=++u)i=n[a],e.pos=i.offset,d=e.readString(i.length),o=new Pve(d,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Ove=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),Lve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],r=d=0;0<=i?d<i:d>i;r=0<=i?++d:--d)u.push(e.readInt16());return u}(),this.widths=(function(){var d,u,h,m;for(m=[],d=0,u=(h=this.metrics).length;d<u;d++)a=h[d],m.push(a.advance);return m}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),_W=[].slice,Rve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,l,c,d,u,h;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new vh(r.read(i))).readShort(),d=l.readShort(),h=l.readShort(),c=l.readShort(),u=l.readShort(),this.cache[e]=o===-1?new Dve(l,d,h,c,u):new Ive(l,o,d,h,c,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)i=e[r[l]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t}(),Ive=function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Dve=function(){function t(e,r,n,i,a){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new vh(_W.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),Mve=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Gc(t,ec),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var d=new Array(4*n.length),u=0;u<n.length;++u)d[4*u+3]=255&n[u],d[4*u+2]=(65280&n[u])>>8,d[4*u+1]=(16711680&n[u])>>16,d[4*u]=(4278190080&n[u])>>24;return d},t}(),Bve=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,l,c;for(i={},o=0,l=e.length;o<l;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,l,c,d,u,h,m,f,g,p,x,y;for(i in n=jW.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},y=n.charMap)f[(c=y[i]).old]=c.new;for(g in m=n.maxGlyphID,o)g in f||(f[g]=m++);return u=function(v){var b,w;for(b in w={},v)w[v[b]]=b;return w}(f),h=Object.keys(u).sort(function(v,b){return v-b}),p=function(){var v,b,w;for(w=[],v=0,b=h.length;v<b;v++)l=h[v],w.push(u[l]);return w}(),a=this.font.glyf.encode(o,p,f),d=this.font.loca.encode(a.offsets,p),x={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},t}();er.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e}();function SW(t,e,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,l=i.internal.getFontSize()/o,c=i.getLineHeightFactor?i.getLineHeightFactor():a,d=l*c,u=/\r\n|\r|\n/g,h="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof t=="string"?t.split(u):t,m=h.length||1),r+=l*(2-a),n.valign==="middle"?r-=m/2*d:n.valign==="bottom"&&(r-=m*d),n.halign==="center"||n.halign==="right"){var f=l;if(n.halign==="center"&&(f*=.5),h&&m>=1){for(var g=0;g<h.length;g++)i.text(h[g],e-i.getStringUnitWidth(h[g])*f,r),r+=d;return i}e-=i.getStringUnitWidth(t)*f}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var tO={},zp=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:tO=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,a;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(e.lineColor),u&&(a=this.jsPDFDocument).setDrawColor.apply(a,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,a){return this.jsPDFDocument.rect(e,r,n,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return tO||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),H3=function(t,e){return H3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},H3(t,e)};function kW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");H3(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var CW=function(t){kW(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function Uve(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function $ve(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Nw(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function AW(t,e,r,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var o=EW(i,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function EW(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function vj(t,e){var r,n,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function TW(t,e){var r=vj(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function qve(t,e,r,n,i){var a={},o=1.3333333333333333,l=W4(e,function(b){return i.getComputedStyle(b).backgroundColor});l!=null&&(a.fillColor=l);var c=W4(e,function(b){return i.getComputedStyle(b).color});c!=null&&(a.textColor=c);var d=Vve(n,r);d&&(a.cellPadding=d);var u="borderTopColor",h=o*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var f=(parseFloat(m)||0)/h;f&&(a.lineWidth=f)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?u="borderRightColor":a.lineWidth.bottom?u="borderBottomColor":a.lineWidth.left&&(u="borderLeftColor"));var g=W4(e,function(b){return i.getComputedStyle(b)[u]});g!=null&&(a.lineColor=g);var p=["left","right","center","justify"];p.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),p=["middle","bottom","top"],p.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(a.fontSize=x/o);var y=zve(n);y&&(a.fontStyle=y);var v=(n.fontFamily||"").toLowerCase();return t.indexOf(v)!==-1&&(a.font=v),a}function zve(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function W4(t,e){var r=PW(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function PW(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:PW(t.parentElement,e):r}function Vve(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=r.map(function(l){return parseInt(l||"0")/n}),o=vj(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function FW(t,e,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],h=[],m=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:h,foot:m};for(var f=0;f<l.rows.length;f++){var g=l.rows[f],p=(o=(a=g==null?void 0:g.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),x=Hve(c,d,r,g,n,i);x&&(p==="thead"?u.push(x):p==="tfoot"?m.push(x):h.push(x))}return{head:u,body:h,foot:m}}function Hve(t,e,r,n,i,a){for(var o=new CW(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(i||d.display!=="none"){var u=void 0;a&&(u=qve(t,c,e,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:Wve(c)})}}var h=r.getComputedStyle(n);if(o.length>0&&(i||h.display!=="none"))return o}function Wve(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Kve(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Ed(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(a[c]=l[c])}return a}function OW(t,e){var r=new zp(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();Kve(i,n,e);var a=Ed({},i,n,e),o;typeof window<"u"&&(o=window);var l=Gve(i,n,e),c=Yve(i,n,e),d=Qve(r,a),u=Jve(r,a,o);return{id:e.tableId,content:u,hooks:c,styles:l,settings:d}}function Gve(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var d=t[c],u=e[c],h=r[c];n.columnStyles=Ed({},d,u,h)}else{var m=[t,e,r],f=m.map(function(g){return g[c]||{}});n[c]=Ed({},f[0],f[1],f[2])}},a=0,o=Object.keys(n);a<o.length;a++){var l=o[a];i(l)}return n}function Yve(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var l=o[a];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function Qve(t,e){var r,n,i,a,o,l,c,d,u,h,m,f,g=vj(e.margin,40/t.scaleFactor()),p=(r=Xve(t,e.startY))!==null&&r!==void 0?r:g.top,x;e.showFoot===!0?x="everyPage":e.showFoot===!1?x="never":x=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var v=(a=e.useCss)!==null&&a!==void 0?a:!1,b=e.theme||(v?"plain":"striped"),w=!!e.horizontalPageBreak,_=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:v,theme:b,startY:p,margin:g,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:x,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:w,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Xve(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Jve(t,e,r){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=FW(t,e.html,r,o,e.useCss)||{};n=l.head||n,i=l.body||n,a=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Zve(n,i,a);return{columns:c,head:n,body:i,foot:a}}function Zve(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,l;Array.isArray(n)?l=n[parseInt(a)]:l=n[a],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(n)?d=i.length:d=a+(c>0?"_".concat(c):"");var u={dataKey:d};i.push(u)}}),i}var W3=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),eye=function(t){kW(e,t);function e(r,n,i,a,o,l){var c=t.call(this,r,n,l)||this;return c.cell=i,c.row=a,c.column=o,c.section=a.section,c}return e}(W3),tye=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,a,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new eye(e,this,n,i,a,o),h=d(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new W3(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new W3(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),LW=function(){function t(e,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof CW&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>i?d:i},0)},t}(),RW=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=vj(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),rye=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t}();function sye(t,e){nye(t,e);var r=[],n=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=K3(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=K3(r,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),aye(e),oye(e,t),iye(e)}function nye(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=TW(t,e);e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=a.cells[c.index];if(d){var u=e.hooks.didParseCell;e.callCellHooks(t,u,d,a,c,null);var h=d.padding("horizontal");d.contentWidth=Nw(d.text,d.styles,t)+h;var m=Nw(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=m+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>i?(d.minWidth=i,d.wrappedWidth=i):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var f=10/r;d.minWidth=d.styles.minCellWidth||f,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=a.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function K3(t,e,r){for(var n=e,i=t.reduce(function(f,g){return f+g.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],l=o.wrappedWidth/i,c=n*l,d=o.width+c,u=r(o),h=d<u?u:d;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(f){return e<0?f.width>r(f):!0});m.length&&(e=K3(m,e,r))}return e}function iye(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=e[c.index];if(r>1)r--,delete a.cells[c.index];else if(d)d.cell.height+=a.height,r=d.cell.colSpan,delete a.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var u=a.cells[c.index];if(!u)continue;if(u.height=a.height,u.rowSpan>1){var h=n.length-i,m=u.rowSpan>h?h:u.rowSpan;e[c.index]={cell:u,left:m,row:a}}}}}function aye(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,a=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])a+=c.width,delete n.cells[c.index];else if(i){var d=i;delete n.cells[c.index],i=null,d.width=c.width+a}else{var d=n.cells[c.index];if(!d)continue;if(o=d.colSpan,a=0,d.colSpan>1){i=d,a+=c.width;continue}d.width=c.width+a}}}function oye(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var a=i[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=a.cells[c.index];if(d){e.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,u+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=rO(d.text,u,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=rO(d.text,u,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,u);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<m*d.rowSpan?r={height:m,count:d.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>a.height&&(a.height=m)}}r.count--}}function rO(t,e,r,n,i){return t.map(function(a){return lye(a,e,r,n,i)})}function lye(t,e,r,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Nw(t,r,n))return t;for(;e<Nw(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function IW(t,e){var r=new zp(t),n=cye(e,r.scaleFactor()),i=new tye(e,n);return sye(r,i),r.applyStyles(r.userStyles),i}function cye(t,e){var r=t.content,n=uye(r.columns);if(r.head.length===0){var i=sO(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=sO(n,"foot");i&&r.foot.push(i)}var a=t.settings.theme,o=t.styles;return{columns:n,head:K4("head",r.head,n,o,a,e),body:K4("body",r.body,n,o,a,e),foot:K4("foot",r.foot,n,o,a,e)}}function K4(t,e,r,n,i,a){var o={},l=e.map(function(c,d){for(var u=0,h={},m=0,f=0,g=0,p=r;g<p.length;g++){var x=p[g];if(o[x.index]==null||o[x.index].left===0)if(f===0){var y=void 0;Array.isArray(c)?y=c[x.index-m-u]:y=c[x.dataKey];var v={};typeof y=="object"&&!Array.isArray(y)&&(v=(y==null?void 0:y.styles)||{});var b=hye(t,x,d,i,n,a,v),w=new RW(y,b,t);h[x.dataKey]=w,h[x.index]=w,f=w.colSpan-1,o[x.index]={left:w.rowSpan-1,times:f}}else f--,m++;else o[x.index].left--,f=o[x.index].times,u++}return new LW(c,d,t,h)});return l}function sO(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=dye(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function dye(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function uye(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new rye(i,e,r)})}function hye(t,e,r,n,i,a,o){var l=$ve(n),c;t==="head"?c=i.headStyles:t==="body"?c=i.bodyStyles:t==="foot"&&(c=i.footStyles);var d=Ed({},l.table,l[t],i.styles,c),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?u:{},m=t==="body"&&r%2===0?Ed({},l.alternateRow,i.alternateRowStyles):{},f=Uve(a),g=Ed({},f,d,m,h);return Ed(g,o)}function fye(t,e,r){var n;r===void 0&&(r={});var i=TW(t,e),a=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var f=e.columns.find(function(g){return g.dataKey===m||g.index===m});f&&!a.has(f.index)&&(a.set(f.index,!0),o.push(f.index),l.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var d=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(a.has(u)){u++;continue}var h=e.columns[u].wrappedWidth;if(d||i>=h)d=!1,o.push(u),l.push(e.columns[u]),i-=h;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function mye(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=fye(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function DW(t,e){var r=e.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+i.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(m,f){return m+f.height},0);l+=d}var u=new zp(t);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(BW(u),a.y=i.top),e.callWillDrawPageHooks(u,a);var h=Ed({},a);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?pye(u,e,h,a):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(m){return Yd(u,e,m,a,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(m,f){var g=f===e.body.length-1;jw(u,e,m,g,h,a,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(m){return Yd(u,e,m,a,e.columns)})),AW(u,e,h,a),e.callEndPageHooks(u,a),e.finalY=a.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function pye(t,e,r,n){var i=mye(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?Qx(t,e,r,n,d.columns,!0):nO(t,e,n,d.columns),gye(t,e,r,n,d.columns),G4(t,e,n,d.columns)});else for(var o=-1,l=i[0],c=function(){var d=o;if(l){t.applyStyles(t.userStyles);var u=l.columns;o>=0?Qx(t,e,r,n,u,!0):nO(t,e,n,u),d=iO(t,e,o+1,n,u),G4(t,e,n,u)}var h=d-o;i.slice(1).forEach(function(m){t.applyStyles(t.userStyles),Qx(t,e,r,n,m.columns,!0),iO(t,e,o+1,n,m.columns,h),G4(t,e,n,m.columns)}),o=d};o<e.body.length-1;)c()}function nO(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Yd(t,e,a,r,n)})}function gye(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,o){var l=o===e.body.length-1;jw(t,e,a,l,r,n,i)})}function iO(t,e,r,n,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var o=Math.min(r+a,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,d){var u=r+d===e.body.length-1,h=MW(t,e,u,n);c.canEntireRowFit(h,i)&&(Yd(t,e,c,n,i),l=r+d)}),l}function G4(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Yd(t,e,a,r,n)})}function xye(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function vye(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new RW(d.raw,d.styles,d.section);u=Ed(u,d),u.text=[];var h=xye(d,e,n);d.text.length>h&&(u.text=d.text.splice(h,d.text.length));var m=n.scaleFactor(),f=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(m,f),d.contentHeight>=e&&(d.contentHeight=e,u.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(m,f),u.contentHeight>a&&(a=u.contentHeight),i[c.index]=u}}var g=new LW(t.raw,-1,t.section,i,!0);g.height=a;for(var p=0,x=r.columns;p<x.length;p++){var c=x[p],u=g.cells[c.index];u&&(u.height=g.height);var d=t.cells[c.index];d&&(d.height=t.height)}return g}function yye(t,e,r,n){var i=t.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,l=i-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=e.hasRowSpan(n.columns),h=e.getMaxCellHeight(n.columns)>l;return h?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function jw(t,e,r,n,i,a,o){var l=MW(t,e,n,a);if(r.canEntireRowFit(l,o))Yd(t,e,r,a,o);else if(yye(t,r,l,e)){var c=vye(r,l,e,t);Yd(t,e,r,a,o),Qx(t,e,i,a,o),jw(t,e,c,n,i,a,o)}else Qx(t,e,i,a,o),jw(t,e,r,n,i,a,o)}function Yd(t,e,r,n,i){n.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var l=o[a],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}bye(t,c,n);var u=c.getTextPos();SW(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function bye(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=EW(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),wye(t,e,r,n.lineWidth))}function wye(t,e,r,n){var i,a,o,l;n.top&&(i=r.x,a=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,a,o,l)),n.bottom&&(i=r.x,a=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,a,o,l)),n.left&&(i=r.x,a=r.y,o=r.x,l=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,i,a,o,l)),n.right&&(i=r.x+e.width,a=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,i,a,o,l));function c(d,u,h,m,f){t.getDocument().setLineWidth(d),t.getDocument().line(u,h,m,f,"S")}}function MW(t,e,r,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Qx(t,e,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(l){return Yd(t,e,l,n,i)}),e.callEndPageHooks(t,n);var o=e.settings.margin;AW(t,e,r,n),BW(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Yd(t,e,l,n,i)}),t.applyStyles(t.userStyles))}function BW(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Nye(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=OW(this,n),a=IW(this,i);return DW(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){SW(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return zp.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){zp.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new zp(this),a=FW(i,e,window,r,!1),o=a.head,l=a.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var Y4;function jye(t,e){var r=OW(t,e),n=IW(t,r);DW(t,n)}try{if(typeof window<"u"&&window){var aO=window,oO=aO.jsPDF||((Y4=aO.jspdf)===null||Y4===void 0?void 0:Y4.jsPDF);oO&&Nye(oO)}}catch(t){console.error("Could not apply autoTable plugin",t)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var _w={};_w.version="0.18.5";var UW=1252,_ye=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],$W=function(t){_ye.indexOf(t)!=-1&&(UW=t)};function Sye(){$W(1252)}var Uv=function(t){$W(t)};function kye(){Uv(1200),Sye()}var Bb=function(e){return String.fromCharCode(e)},lO=function(e){return String.fromCharCode(e)},Sw,Qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $v(t){for(var e="",r=0,n=0,i=0,a=0,o=0,l=0,c=0,d=0;d<t.length;)r=t.charCodeAt(d++),a=r>>2,n=t.charCodeAt(d++),o=(r&3)<<4|n>>4,i=t.charCodeAt(d++),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),e+=Qu.charAt(a)+Qu.charAt(o)+Qu.charAt(l)+Qu.charAt(c);return e}function Qd(t){var e="",r=0,n=0,i=0,a=0,o=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<t.length;)a=Qu.indexOf(t.charAt(d++)),o=Qu.indexOf(t.charAt(d++)),r=a<<2|o>>4,e+=String.fromCharCode(r),l=Qu.indexOf(t.charAt(d++)),n=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=Qu.indexOf(t.charAt(d++)),i=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var cs=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),eu=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function mm(t){return cs?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function cO(t){return cs?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var El=function(e){return cs?eu(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function yj(t){if(typeof ArrayBuffer>"u")return El(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function a1(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function Cye(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Ii=cs?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:eu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function Aye(t){for(var e=[],r=0,n=t.length+250,i=mm(t.length+255),a=0;a<t.length;++a){var o=t.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|l>>6&15|(o&3)<<4,i[r++]=128|l&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(e.push(i.slice(0,r)),r=0,i=mm(65535),n=65530)}return e.push(i.slice(0,r)),Ii(e)}var Xx=/\u0000/g,Ub=/[\u0001-\u0006]/g;function Vp(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Ol(t,e){var r=""+t;return r.length>=e?r:bn("0",e-r.length)+r}function AC(t,e){var r=""+t;return r.length>=e?r:bn(" ",e-r.length)+r}function kw(t,e){var r=""+t;return r.length>=e?r:r+bn(" ",e-r.length)}function Eye(t,e){var r=""+Math.round(t);return r.length>=e?r:bn("0",e-r.length)+r}function Tye(t,e){var r=""+t;return r.length>=e?r:bn("0",e-r.length)+r}var dO=Math.pow(2,32);function Jm(t,e){if(t>dO||t<-dO)return Eye(t,e);var r=Math.round(t);return Tye(r,e)}function Cw(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var uO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Q4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Pye(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var jn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},hO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Fye={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Aw(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,o=1,l=0,c=1,d=0,u=0,h=Math.floor(i);d<e&&(h=Math.floor(i),l=h*o+a,u=h*d+c,!(i-h<5e-8));)i=1/(i-h),a=o,o=l,c=d,d=u;if(u>e&&(d>e?(u=c,l=a):(u=d,l=o)),!r)return[0,n*l,u];var m=Math.floor(n*l/u);return[m,n*l-m*u,u]}function $b(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,o=[],l={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=Bye(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}var qW=new Date(1899,11,31,0,0,0),Oye=qW.getTime(),Lye=new Date(1900,2,1,0,0,0);function zW(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=Lye&&(r+=24*60*60*1e3),(r-(Oye+(t.getTimezoneOffset()-qW.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function EC(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Rye(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Iye(t){var e=t<0?12:11,r=EC(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function Dye(t){var e=EC(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Mye(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=Iye(t):e===10?r=t.toFixed(10).substr(0,12):r=Dye(t),EC(Rye(r.toUpperCase()))}function G3(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Mye(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return yh(14,zW(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Bye(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function Uye(t,e,r,n){var i="",a=0,o=0,l=r.y,c,d=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,d=2;break;default:c=l%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,d=e.length;break;case 3:return Q4[r.m-1][1];case 5:return Q4[r.m-1][0];default:return Q4[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,d=e.length;break;case 3:return uO[r.q][0];default:return uO[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Ol(r.S,e.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),e==="s"?a===0?"0":""+a/o:(i=Ol(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:c=l,d=1;break}var u=d>0?Ol(c,d):"";return u}function Xu(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var VW=/%/g;function $ye(t,e,r){var n=e.replace(VW,""),i=e.length-n.length;return Rd(t,n,r*Math.pow(10,2*i))+bn("%",i)}function qye(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Rd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function HW(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+HW(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var WW=/# (\?+)( ?)\/( ?)(\d+)/;function zye(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),o=i-a*n,l=n;return r+(a===0?"":""+a)+" "+(o===0?bn(" ",t[1].length+1+t[4].length):AC(o,t[1].length)+t[2]+"/"+t[3]+Ol(l,t[4].length))}function Vye(t,e,r){return r+(e===0?"":""+e)+bn(" ",t[1].length+2+t[4].length)}var KW=/^#*0*\.([0#]+)/,GW=/\).*[0#]/,YW=/\(###\) ###\\?-####/;function Na(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function fO(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function mO(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Hye(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Wye(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Mo(t,e,r){if(t.charCodeAt(0)===40&&!e.match(GW)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Mo("n",n,r):"("+Mo("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return qye(t,e,r);if(e.indexOf("%")!==-1)return $ye(t,e,r);if(e.indexOf("E")!==-1)return HW(e,r);if(e.charCodeAt(0)===36)return"$"+Mo(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,o,l,c=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+Jm(c,e.length);if(e.match(/^[#?]+$/))return i=Jm(r,0),i==="0"&&(i=""),i.length>e.length?i:Na(e.substr(0,e.length-i.length))+i;if(a=e.match(WW))return zye(a,c,d);if(e.match(/^#+0+$/))return d+Jm(c,e.length-e.indexOf("0"));if(a=e.match(KW))return i=fO(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Na(a[1])).replace(/\.$/,"."+Na(a[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+bn("0",Na(a[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return d+fO(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return d+Xu(Jm(c,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Mo(t,e,-r):Xu(""+(Math.floor(r)+Hye(r,a[1].length)))+"."+Ol(mO(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Mo(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Vp(Mo(t,e.replace(/[\\-]/g,""),r)),o=0,Vp(Vp(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<i.length?i.charAt(o++):g==="0"?"0":""}));if(e.match(YW))return i=Mo(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=Aw(c,Math.pow(10,o)-1,!1),i=""+d,u=Rd("n",a[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=kw(l[2],o),u.length<a[4].length&&(u=Na(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=Aw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?AC(l[1],o)+a[2]+"/"+a[3]+kw(l[2],o):bn(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Jm(r,0),e.length<=i.length?i:Na(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=e.indexOf(".")-o,m=e.length-i.length-h;return Na(e.substr(0,h)+i+e.substr(e.length-m))}if(a=e.match(/^00,000\.([#0]*0)$/))return o=mO(r,a[1].length),r<0?"-"+Mo(t,e,-r):Xu(Wye(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ol(0,3-g.length):"")+g})+"."+Ol(o,a[1].length);switch(e){case"###,##0.00":return Mo(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=Xu(Jm(c,0));return f!=="0"?d+f:"";case"###,###.00":return Mo(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Mo(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Kye(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Rd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Gye(t,e,r){var n=e.replace(VW,""),i=e.length-n.length;return Rd(t,n,r*Math.pow(10,2*i))+bn("%",i)}function QW(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+QW(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,d,u){return c+d+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function hc(t,e,r){if(t.charCodeAt(0)===40&&!e.match(GW)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?hc("n",n,r):"("+hc("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Kye(t,e,r);if(e.indexOf("%")!==-1)return Gye(t,e,r);if(e.indexOf("E")!==-1)return QW(e,r);if(e.charCodeAt(0)===36)return"$"+hc(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,o,l,c=Math.abs(r),d=r<0?"-":"";if(e.match(/^00+$/))return d+Ol(c,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Na(e.substr(0,e.length-i.length))+i;if(a=e.match(WW))return Vye(a,c,d);if(e.match(/^#+0+$/))return d+Ol(c,e.length-e.indexOf("0"));if(a=e.match(KW))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Na(a[1])).replace(/\.$/,"."+Na(a[1])),i=i.replace(/\.(\d*)$/,function(g,p){return"."+p+bn("0",Na(a[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return d+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return d+Xu(""+c);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+hc(t,e,-r):Xu(""+r)+"."+bn("0",a[1].length);if(a=e.match(/^#,#*,#0/))return hc(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Vp(hc(t,e.replace(/[\\-]/g,""),r)),o=0,Vp(Vp(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return o<i.length?i.charAt(o++):g==="0"?"0":""}));if(e.match(YW))return i=hc(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=Aw(c,Math.pow(10,o)-1,!1),i=""+d,u=Rd("n",a[1],l[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=kw(l[2],o),u.length<a[4].length&&(u=Na(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=Aw(c,Math.pow(10,o)-1,!0),d+(l[0]||(l[1]?"":"0"))+" "+(l[1]?AC(l[1],o)+a[2]+"/"+a[3]+kw(l[2],o):bn(" ",2*o+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Na(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=e.indexOf(".")-o,m=e.length-i.length-h;return Na(e.substr(0,h)+i+e.substr(e.length-m))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+hc(t,e,-r):Xu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Ol(0,3-g.length):"")+g})+"."+Ol(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=Xu(""+c);return f!=="0"?d+f:"";default:if(e.match(/\.[0#?]*$/))return hc(t,e.slice(0,e.lastIndexOf(".")),r)+Na(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Rd(t,e,r){return(r|0)===r?hc(t,e,r):Mo(t,e,r)}function Yye(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var XW=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function JW(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Cw(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(XW))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Qye(t,e,r,n){for(var i=[],a="",o=0,l="",c="t",d,u,h,m="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!Cw(t,o))throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(h=t.charCodeAt(++o))!==34&&o<t.length;)a+=String.fromCharCode(h);i[i.length]={t:"t",v:a},++o;break;case"\\":var f=t.charAt(++o),g=f==="("||f===")"?f:"t";i[i.length]={t:g,v:f},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(d==null&&(d=$b(e,r,t.charAt(o+1)==="2"),d==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=$b(e,r),d==null))return"";for(a=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),i[i.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var p={t:l,v:l};if(d==null&&(d=$b(e,r)),t.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(p.v=d.H>=12?"P":"A"),p.t="T",m="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(p.v=d.H>=12?"PM":"AM"),p.t="T",o+=5,m="h"):t.substr(o,5).toUpperCase()==="/"?(d!=null&&(p.v=d.H>=12?"":""),p.t="T",o+=5,m="h"):(p.t="t",++o),d==null&&p.t==="T")return"";i[i.length]=p,c=l;break;case"[":for(a=l;t.charAt(o++)!=="]"&&o<t.length;)a+=t.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(XW)){if(d==null&&(d=$b(e,r),d==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",JW(t)||(i[i.length]={t:"t",v:a}));break;case".":if(d!=null){for(a=l;++o<t.length&&(l=t.charAt(o))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;t.charAt(++o)===l;)a+=l;i[i.length]={t:l,v:a},c=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)a+=t.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"t",v:l},++o;break}var x=0,y=0,v;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=m,c="h",x<1&&(x=1);break;case"s":(v=i[o].v.match(/\.0+$/))&&(y=Math.max(y,v[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[o].v.match(/[Hh]/)&&(x=1),x<2&&i[o].v.match(/[Mm]/)&&(x=2),x<3&&i[o].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var b="",w;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=Uye(i[o].t.charCodeAt(0),i[o].v,d,y),i[o].t="t";break;case"n":case"?":for(w=o+1;i[w]!=null&&((l=i[w].t)==="?"||l==="D"||(l===" "||l==="t")&&i[w+1]!=null&&(i[w+1].t==="?"||i[w+1].t==="t"&&i[w+1].v==="/")||i[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[w].v==="/"||i[w].v===" "&&i[w+1]!=null&&i[w+1].t=="?"));)i[o].v+=i[w].v,i[w]={v:"",t:";"},++w;b+=i[o].v,o=w-1;break;case"G":i[o].t="t",i[o].v=G3(e,r);break}var _="",N,j;if(b.length>0){b.charCodeAt(0)==40?(N=e<0&&b.charCodeAt(0)===45?-e:e,j=Rd("n",b,N)):(N=e<0&&n>1?-e:e,j=Rd("n",b,N),N<0&&i[0]&&i[0].t=="t"&&(j=j.substr(1),i[0].v="-"+i[0].v)),w=j.length-1;var k=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){k=o;break}var E=i.length;if(k===i.length&&j.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(w>=i[o].v.length-1?(w-=i[o].v.length,i[o].v=j.substr(w+1,i[o].v.length)):w<0?i[o].v="":(i[o].v=j.substr(0,w+1),w=-1),i[o].t="t",E=o);w>=0&&E<i.length&&(i[E].v=j.substr(0,w+1)+i[E].v)}else if(k!==i.length&&j.indexOf("E")===-1){for(w=j.indexOf(".")-1,o=k;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(u=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")-1:i[o].v.length-1,_=i[o].v.substr(u+1);u>=0;--u)w>=0&&(i[o].v.charAt(u)==="0"||i[o].v.charAt(u)==="#")&&(_=j.charAt(w--)+_);i[o].v=_,i[o].t="t",E=o}for(w>=0&&E<i.length&&(i[E].v=j.substr(0,w+1)+i[E].v),w=j.indexOf(".")+1,o=k;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==k)){for(u=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")+1:0,_=i[o].v.substr(0,u);u<i[o].v.length;++u)w<j.length&&(_+=j.charAt(w++));i[o].v=_,i[o].t="t",E=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(N=n>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=Rd(i[o].t,i[o].v,N),i[o].t="t");var A="";for(o=0;o!==i.length;++o)i[o]!=null&&(A+=i[o].v);return A}var pO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function gO(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function Xye(t,e){var r=Yye(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(pO),l=r[1].match(pO);return gO(e,o)?[n,r[0]]:gO(e,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,a]}function yh(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:jn)[t],n==null&&(n=r.table&&r.table[hO[t]]||jn[hO[t]]),n==null&&(n=Fye[t]||"General");break}if(Cw(n,0))return G3(e,r);e instanceof Date&&(e=zW(e,r.date1904));var i=Xye(n,e);if(Cw(i[1]))return G3(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Qye(i[1],e,r,i[0])}function ZW(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(jn[r]==null){e<0&&(e=r);continue}if(jn[r]==t){e=r;break}}e<0&&(e=391)}return jn[e]=t,e}function bj(t){for(var e=0;e!=392;++e)t[e]!==void 0&&ZW(t[e],e)}function wj(){jn=Pye()}var eK=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Jye(t){var e=typeof t=="number"?jn[t]:t;return e=e.replace(eK,"(\\d+)"),new RegExp("^"+e+"$")}function Zye(t,e,r){var n=-1,i=-1,a=-1,o=-1,l=-1,c=-1;(e.match(eK)||[]).forEach(function(h,m){var f=parseInt(r[m+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=f;break;case"d":a=f;break;case"h":o=f;break;case"s":c=f;break;case"m":o>=0?l=f:i=f;break}}),c>=0&&l==-1&&i>=0&&(l=i,i=-1);var d=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?d:n==-1&&i==-1&&a==-1?u:d+"T"+u}var e1e=function(){var t={};t.version="1.2.0";function e(){for(var j=0,k=new Array(256),E=0;E!=256;++E)j=E,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,k[E]=j;return typeof Int32Array<"u"?new Int32Array(k):k}var r=e();function n(j){var k=0,E=0,A=0,C=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)C[A]=j[A];for(A=0;A!=256;++A)for(E=j[A],k=256+A;k<4096;k+=256)E=C[k]=E>>>8^j[E&255];var T=[];for(A=1;A!=16;++A)T[A-1]=typeof Int32Array<"u"?C.subarray(A*256,A*256+256):C.slice(A*256,A*256+256);return T}var i=n(r),a=i[0],o=i[1],l=i[2],c=i[3],d=i[4],u=i[5],h=i[6],m=i[7],f=i[8],g=i[9],p=i[10],x=i[11],y=i[12],v=i[13],b=i[14];function w(j,k){for(var E=k^-1,A=0,C=j.length;A<C;)E=E>>>8^r[(E^j.charCodeAt(A++))&255];return~E}function _(j,k){for(var E=k^-1,A=j.length-15,C=0;C<A;)E=b[j[C++]^E&255]^v[j[C++]^E>>8&255]^y[j[C++]^E>>16&255]^x[j[C++]^E>>>24]^p[j[C++]]^g[j[C++]]^f[j[C++]]^m[j[C++]]^h[j[C++]]^u[j[C++]]^d[j[C++]]^c[j[C++]]^l[j[C++]]^o[j[C++]]^a[j[C++]]^r[j[C++]];for(A+=15;C<A;)E=E>>>8^r[(E^j[C++])&255];return~E}function N(j,k){for(var E=k^-1,A=0,C=j.length,T=0,L=0;A<C;)T=j.charCodeAt(A++),T<128?E=E>>>8^r[(E^T)&255]:T<2048?(E=E>>>8^r[(E^(192|T>>6&31))&255],E=E>>>8^r[(E^(128|T&63))&255]):T>=55296&&T<57344?(T=(T&1023)+64,L=j.charCodeAt(A++)&1023,E=E>>>8^r[(E^(240|T>>8&7))&255],E=E>>>8^r[(E^(128|T>>2&63))&255],E=E>>>8^r[(E^(128|L>>6&15|(T&3)<<4))&255],E=E>>>8^r[(E^(128|L&63))&255]):(E=E>>>8^r[(E^(224|T>>12&15))&255],E=E>>>8^r[(E^(128|T>>6&63))&255],E=E>>>8^r[(E^(128|T&63))&255]);return~E}return t.table=r,t.bstr=w,t.buf=_,t.str=N,t}(),Ts=function(){var e={};e.version="1.2.1";function r(se,ye){for(var ue=se.split("/"),pe=ye.split("/"),be=0,je=0,Ue=Math.min(ue.length,pe.length);be<Ue;++be){if(je=ue[be].length-pe[be].length)return je;if(ue[be]!=pe[be])return ue[be]<pe[be]?-1:1}return ue.length-pe.length}function n(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:n(se.slice(0,-1));var ye=se.lastIndexOf("/");return ye===-1?se:se.slice(0,ye+1)}function i(se){if(se.charAt(se.length-1)=="/")return i(se.slice(0,-1));var ye=se.lastIndexOf("/");return ye===-1?se:se.slice(ye+1)}function a(se,ye){typeof ye=="string"&&(ye=new Date(ye));var ue=ye.getHours();ue=ue<<6|ye.getMinutes(),ue=ue<<5|ye.getSeconds()>>>1,se.write_shift(2,ue);var pe=ye.getFullYear()-1980;pe=pe<<4|ye.getMonth()+1,pe=pe<<5|ye.getDate(),se.write_shift(2,pe)}function o(se){var ye=se.read_shift(2)&65535,ue=se.read_shift(2)&65535,pe=new Date,be=ue&31;ue>>>=5;var je=ue&15;ue>>>=4,pe.setMilliseconds(0),pe.setFullYear(ue+1980),pe.setMonth(je-1),pe.setDate(be);var Ue=ye&31;ye>>>=5;var tt=ye&63;return ye>>>=6,pe.setHours(ye),pe.setMinutes(tt),pe.setSeconds(Ue<<1),pe}function l(se){uo(se,0);for(var ye={},ue=0;se.l<=se.length-4;){var pe=se.read_shift(2),be=se.read_shift(2),je=se.l+be,Ue={};switch(pe){case 21589:ue=se.read_shift(1),ue&1&&(Ue.mtime=se.read_shift(4)),be>5&&(ue&2&&(Ue.atime=se.read_shift(4)),ue&4&&(Ue.ctime=se.read_shift(4))),Ue.mtime&&(Ue.mt=new Date(Ue.mtime*1e3));break}se.l=je,ye[pe]=Ue}return ye}var c;function d(){return c||(c={})}function u(se,ye){if(se[0]==80&&se[1]==75)return Qs(se,ye);if((se[0]|32)==109&&(se[1]|32)==105)return ir(se,ye);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var ue=3,pe=512,be=0,je=0,Ue=0,tt=0,$e=0,ze=[],Ke=se.slice(0,512);uo(Ke,0);var vt=h(Ke);switch(ue=vt[0],ue){case 3:pe=512;break;case 4:pe=4096;break;case 0:if(vt[1]==0)return Qs(se,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+ue)}pe!==512&&(Ke=se.slice(0,pe),uo(Ke,28));var kt=se.slice(0,pe);m(Ke,ue);var Bt=Ke.read_shift(4,"i");if(ue===3&&Bt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Bt);Ke.l+=4,Ue=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),tt=Ke.read_shift(4,"i"),be=Ke.read_shift(4,"i"),$e=Ke.read_shift(4,"i"),je=Ke.read_shift(4,"i");for(var Nt=-1,Lt=0;Lt<109&&(Nt=Ke.read_shift(4,"i"),!(Nt<0));++Lt)ze[Lt]=Nt;var ur=f(se,pe);x($e,je,ur,pe,ze);var Es=v(ur,Ue,ze,pe);Es[Ue].name="!Directory",be>0&&tt!==L&&(Es[tt].name="!MiniFAT"),Es[ze[0]].name="!FAT",Es.fat_addrs=ze,Es.ssz=pe;var Hr={},fn=[],tc=[],il=[];b(Ue,Es,ur,fn,be,Hr,tc,tt),g(tc,il,fn),fn.shift();var rc={FileIndex:tc,FullPaths:il};return ye&&ye.raw&&(rc.raw={header:kt,sectors:ur}),rc}function h(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(D,"Header Signature: "),se.l+=16;var ye=se.read_shift(2,"u");return[se.read_shift(2,"u"),ye]}function m(se,ye){var ue=9;switch(se.l+=2,ue=se.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+ue);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+ue);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ue)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function f(se,ye){for(var ue=Math.ceil(se.length/ye)-1,pe=[],be=1;be<ue;++be)pe[be-1]=se.slice(be*ye,(be+1)*ye);return pe[ue-1]=se.slice(ue*ye),pe}function g(se,ye,ue){for(var pe=0,be=0,je=0,Ue=0,tt=0,$e=ue.length,ze=[],Ke=[];pe<$e;++pe)ze[pe]=Ke[pe]=pe,ye[pe]=ue[pe];for(;tt<Ke.length;++tt)pe=Ke[tt],be=se[pe].L,je=se[pe].R,Ue=se[pe].C,ze[pe]===pe&&(be!==-1&&ze[be]!==be&&(ze[pe]=ze[be]),je!==-1&&ze[je]!==je&&(ze[pe]=ze[je])),Ue!==-1&&(ze[Ue]=pe),be!==-1&&pe!=ze[pe]&&(ze[be]=ze[pe],Ke.lastIndexOf(be)<tt&&Ke.push(be)),je!==-1&&pe!=ze[pe]&&(ze[je]=ze[pe],Ke.lastIndexOf(je)<tt&&Ke.push(je));for(pe=1;pe<$e;++pe)ze[pe]===pe&&(je!==-1&&ze[je]!==je?ze[pe]=ze[je]:be!==-1&&ze[be]!==be&&(ze[pe]=ze[be]));for(pe=1;pe<$e;++pe)if(se[pe].type!==0){if(tt=pe,tt!=ze[tt])do tt=ze[tt],ye[pe]=ye[tt]+"/"+ye[pe];while(tt!==0&&ze[tt]!==-1&&tt!=ze[tt]);ze[pe]=-1}for(ye[0]+="/",pe=1;pe<$e;++pe)se[pe].type!==2&&(ye[pe]+="/")}function p(se,ye,ue){for(var pe=se.start,be=se.size,je=[],Ue=pe;ue&&be>0&&Ue>=0;)je.push(ye.slice(Ue*T,Ue*T+T)),be-=T,Ue=df(ue,Ue*4);return je.length===0?rt(0):Ii(je).slice(0,se.size)}function x(se,ye,ue,pe,be){var je=L;if(se===L){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var Ue=ue[se],tt=(pe>>>2)-1;if(!Ue)return;for(var $e=0;$e<tt&&(je=df(Ue,$e*4))!==L;++$e)be.push(je);x(df(Ue,pe-4),ye-1,ue,pe,be)}}function y(se,ye,ue,pe,be){var je=[],Ue=[];be||(be=[]);var tt=pe-1,$e=0,ze=0;for($e=ye;$e>=0;){be[$e]=!0,je[je.length]=$e,Ue.push(se[$e]);var Ke=ue[Math.floor($e*4/pe)];if(ze=$e*4&tt,pe<4+ze)throw new Error("FAT boundary crossed: "+$e+" 4 "+pe);if(!se[Ke])break;$e=df(se[Ke],ze)}return{nodes:je,data:_O([Ue])}}function v(se,ye,ue,pe){var be=se.length,je=[],Ue=[],tt=[],$e=[],ze=pe-1,Ke=0,vt=0,kt=0,Bt=0;for(Ke=0;Ke<be;++Ke)if(tt=[],kt=Ke+ye,kt>=be&&(kt-=be),!Ue[kt]){$e=[];var Nt=[];for(vt=kt;vt>=0;){Nt[vt]=!0,Ue[vt]=!0,tt[tt.length]=vt,$e.push(se[vt]);var Lt=ue[Math.floor(vt*4/pe)];if(Bt=vt*4&ze,pe<4+Bt)throw new Error("FAT boundary crossed: "+vt+" 4 "+pe);if(!se[Lt]||(vt=df(se[Lt],Bt),Nt[vt]))break}je[kt]={nodes:tt,data:_O([$e])}}return je}function b(se,ye,ue,pe,be,je,Ue,tt){for(var $e=0,ze=pe.length?2:0,Ke=ye[se].data,vt=0,kt=0,Bt;vt<Ke.length;vt+=128){var Nt=Ke.slice(vt,vt+128);uo(Nt,64),kt=Nt.read_shift(2),Bt=LC(Nt,0,kt-ze),pe.push(Bt);var Lt={name:Bt,type:Nt.read_shift(1),color:Nt.read_shift(1),L:Nt.read_shift(4,"i"),R:Nt.read_shift(4,"i"),C:Nt.read_shift(4,"i"),clsid:Nt.read_shift(16),state:Nt.read_shift(4,"i"),start:0,size:0},ur=Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2);ur!==0&&(Lt.ct=w(Nt,Nt.l-8));var Es=Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2)+Nt.read_shift(2);Es!==0&&(Lt.mt=w(Nt,Nt.l-8)),Lt.start=Nt.read_shift(4,"i"),Lt.size=Nt.read_shift(4,"i"),Lt.size<0&&Lt.start<0&&(Lt.size=Lt.type=0,Lt.start=L,Lt.name=""),Lt.type===5?($e=Lt.start,be>0&&$e!==L&&(ye[$e].name="!StreamData")):Lt.size>=4096?(Lt.storage="fat",ye[Lt.start]===void 0&&(ye[Lt.start]=y(ue,Lt.start,ye.fat_addrs,ye.ssz)),ye[Lt.start].name=Lt.name,Lt.content=ye[Lt.start].data.slice(0,Lt.size)):(Lt.storage="minifat",Lt.size<0?Lt.size=0:$e!==L&&Lt.start!==L&&ye[$e]&&(Lt.content=p(Lt,ye[$e].data,(ye[tt]||{}).data))),Lt.content&&uo(Lt.content,0),je[Bt]=Lt,Ue.push(Lt)}}function w(se,ye){return new Date((po(se,ye+4)/1e7*Math.pow(2,32)+po(se,ye)/1e7-11644473600)*1e3)}function _(se,ye){return d(),u(c.readFileSync(se),ye)}function N(se,ye){var ue=ye&&ye.type;switch(ue||cs&&Buffer.isBuffer(se)&&(ue="buffer"),ue||"base64"){case"file":return _(se,ye);case"base64":return u(El(Qd(se)),ye);case"binary":return u(El(se),ye)}return u(se,ye)}function j(se,ye){var ue=ye||{},pe=ue.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=pe+"/",se.FileIndex[0]={name:pe,type:5}),ue.CLSID&&(se.FileIndex[0].clsid=ue.CLSID),k(se)}function k(se){var ye="Sh33tJ5";if(!Ts.find(se,"/"+ye)){var ue=rt(4);ue[0]=55,ue[1]=ue[3]=50,ue[2]=54,se.FileIndex.push({name:ye,type:2,content:ue,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+ye),E(se)}}function E(se,ye){j(se);for(var ue=!1,pe=!1,be=se.FullPaths.length-1;be>=0;--be){var je=se.FileIndex[be];switch(je.type){case 0:pe?ue=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:pe=!0,isNaN(je.R*je.L*je.C)&&(ue=!0),je.R>-1&&je.L>-1&&je.R==je.L&&(ue=!0);break;default:ue=!0;break}}if(!(!ue&&!ye)){var Ue=new Date(1987,1,19),tt=0,$e=Object.create?Object.create(null):{},ze=[];for(be=0;be<se.FullPaths.length;++be)$e[se.FullPaths[be]]=!0,se.FileIndex[be].type!==0&&ze.push([se.FullPaths[be],se.FileIndex[be]]);for(be=0;be<ze.length;++be){var Ke=n(ze[be][0]);pe=$e[Ke],pe||(ze.push([Ke,{name:i(Ke).replace("/",""),type:1,clsid:X,ct:Ue,mt:Ue,content:null}]),$e[Ke]=!0)}for(ze.sort(function(Bt,Nt){return r(Bt[0],Nt[0])}),se.FullPaths=[],se.FileIndex=[],be=0;be<ze.length;++be)se.FullPaths[be]=ze[be][0],se.FileIndex[be]=ze[be][1];for(be=0;be<ze.length;++be){var vt=se.FileIndex[be],kt=se.FullPaths[be];if(vt.name=i(kt).replace("/",""),vt.L=vt.R=vt.C=-(vt.color=1),vt.size=vt.content?vt.content.length:0,vt.start=0,vt.clsid=vt.clsid||X,be===0)vt.C=ze.length>1?1:-1,vt.size=0,vt.type=5;else if(kt.slice(-1)=="/"){for(tt=be+1;tt<ze.length&&n(se.FullPaths[tt])!=kt;++tt);for(vt.C=tt>=ze.length?-1:tt,tt=be+1;tt<ze.length&&n(se.FullPaths[tt])!=n(kt);++tt);vt.R=tt>=ze.length?-1:tt,vt.type=1}else n(se.FullPaths[be+1]||"")==n(kt)&&(vt.R=be+1),vt.type=2}}}function A(se,ye){var ue=ye||{};if(ue.fileType=="mad")return sl(se,ue);switch(E(se),ue.fileType){case"zip":return vs(se,ue)}var pe=function(Bt){for(var Nt=0,Lt=0,ur=0;ur<Bt.FileIndex.length;++ur){var Es=Bt.FileIndex[ur];if(Es.content){var Hr=Es.content.length;Hr>0&&(Hr<4096?Nt+=Hr+63>>6:Lt+=Hr+511>>9)}}for(var fn=Bt.FullPaths.length+3>>2,tc=Nt+7>>3,il=Nt+127>>7,rc=tc+Lt+fn+il,Fo=rc+127>>7,ru=Fo<=109?0:Math.ceil((Fo-109)/127);rc+Fo+ru+127>>7>Fo;)ru=++Fo<=109?0:Math.ceil((Fo-109)/127);var Hi=[1,ru,Fo,il,fn,Lt,Nt,0];return Bt.FileIndex[0].size=Nt<<6,Hi[7]=(Bt.FileIndex[0].start=Hi[0]+Hi[1]+Hi[2]+Hi[3]+Hi[4]+Hi[5])+(Hi[6]+7>>3),Hi}(se),be=rt(pe[7]<<9),je=0,Ue=0;{for(je=0;je<8;++je)be.write_shift(1,H[je]);for(je=0;je<8;++je)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),je=0;je<3;++je)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,pe[2]),be.write_shift(4,pe[0]+pe[1]+pe[2]+pe[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,pe[3]?pe[0]+pe[1]+pe[2]-1:L),be.write_shift(4,pe[3]),be.write_shift(-4,pe[1]?pe[0]-1:L),be.write_shift(4,pe[1]),je=0;je<109;++je)be.write_shift(-4,je<pe[2]?pe[1]+je:-1)}if(pe[1])for(Ue=0;Ue<pe[1];++Ue){for(;je<236+Ue*127;++je)be.write_shift(-4,je<pe[2]?pe[1]+je:-1);be.write_shift(-4,Ue===pe[1]-1?L:Ue+1)}var tt=function(Bt){for(Ue+=Bt;je<Ue-1;++je)be.write_shift(-4,je+1);Bt&&(++je,be.write_shift(-4,L))};for(Ue=je=0,Ue+=pe[1];je<Ue;++je)be.write_shift(-4,ee.DIFSECT);for(Ue+=pe[2];je<Ue;++je)be.write_shift(-4,ee.FATSECT);tt(pe[3]),tt(pe[4]);for(var $e=0,ze=0,Ke=se.FileIndex[0];$e<se.FileIndex.length;++$e)Ke=se.FileIndex[$e],Ke.content&&(ze=Ke.content.length,!(ze<4096)&&(Ke.start=Ue,tt(ze+511>>9)));for(tt(pe[6]+7>>3);be.l&511;)be.write_shift(-4,ee.ENDOFCHAIN);for(Ue=je=0,$e=0;$e<se.FileIndex.length;++$e)Ke=se.FileIndex[$e],Ke.content&&(ze=Ke.content.length,!(!ze||ze>=4096)&&(Ke.start=Ue,tt(ze+63>>6)));for(;be.l&511;)be.write_shift(-4,ee.ENDOFCHAIN);for(je=0;je<pe[4]<<2;++je){var vt=se.FullPaths[je];if(!vt||vt.length===0){for($e=0;$e<17;++$e)be.write_shift(4,0);for($e=0;$e<3;++$e)be.write_shift(4,-1);for($e=0;$e<12;++$e)be.write_shift(4,0);continue}Ke=se.FileIndex[je],je===0&&(Ke.start=Ke.size?Ke.start-1:L);var kt=je===0&&ue.root||Ke.name;if(ze=2*(kt.length+1),be.write_shift(64,kt,"utf16le"),be.write_shift(2,ze),be.write_shift(1,Ke.type),be.write_shift(1,Ke.color),be.write_shift(-4,Ke.L),be.write_shift(-4,Ke.R),be.write_shift(-4,Ke.C),Ke.clsid)be.write_shift(16,Ke.clsid,"hex");else for($e=0;$e<4;++$e)be.write_shift(4,0);be.write_shift(4,Ke.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,Ke.start),be.write_shift(4,Ke.size),be.write_shift(4,0)}for(je=1;je<se.FileIndex.length;++je)if(Ke=se.FileIndex[je],Ke.size>=4096)if(be.l=Ke.start+1<<9,cs&&Buffer.isBuffer(Ke.content))Ke.content.copy(be,be.l,0,Ke.size),be.l+=Ke.size+511&-512;else{for($e=0;$e<Ke.size;++$e)be.write_shift(1,Ke.content[$e]);for(;$e&511;++$e)be.write_shift(1,0)}for(je=1;je<se.FileIndex.length;++je)if(Ke=se.FileIndex[je],Ke.size>0&&Ke.size<4096)if(cs&&Buffer.isBuffer(Ke.content))Ke.content.copy(be,be.l,0,Ke.size),be.l+=Ke.size+63&-64;else{for($e=0;$e<Ke.size;++$e)be.write_shift(1,Ke.content[$e]);for(;$e&63;++$e)be.write_shift(1,0)}if(cs)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function C(se,ye){var ue=se.FullPaths.map(function($e){return $e.toUpperCase()}),pe=ue.map(function($e){var ze=$e.split("/");return ze[ze.length-($e.slice(-1)=="/"?2:1)]}),be=!1;ye.charCodeAt(0)===47?(be=!0,ye=ue[0].slice(0,-1)+ye):be=ye.indexOf("/")!==-1;var je=ye.toUpperCase(),Ue=be===!0?ue.indexOf(je):pe.indexOf(je);if(Ue!==-1)return se.FileIndex[Ue];var tt=!je.match(Ub);for(je=je.replace(Xx,""),tt&&(je=je.replace(Ub,"!")),Ue=0;Ue<ue.length;++Ue)if((tt?ue[Ue].replace(Ub,"!"):ue[Ue]).replace(Xx,"")==je||(tt?pe[Ue].replace(Ub,"!"):pe[Ue]).replace(Xx,"")==je)return se.FileIndex[Ue];return null}var T=64,L=-2,D="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:D,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(se,ye,ue){d();var pe=A(se,ue);c.writeFileSync(ye,pe)}function G(se){for(var ye=new Array(se.length),ue=0;ue<se.length;++ue)ye[ue]=String.fromCharCode(se[ue]);return ye.join("")}function z(se,ye){var ue=A(se,ye);switch(ye&&ye.type||"buffer"){case"file":return d(),c.writeFileSync(ye.filename,ue),ue;case"binary":return typeof ue=="string"?ue:G(ue);case"base64":return $v(typeof ue=="string"?ue:G(ue));case"buffer":if(cs)return Buffer.isBuffer(ue)?ue:eu(ue);case"array":return typeof ue=="string"?El(ue):ue}return ue}var V;function F(se){try{var ye=se.InflateRaw,ue=new ye;if(ue._processChunk(new Uint8Array([3,0]),ue._finishFlushFlag),ue.bytesRead)V=se;else throw new Error("zlib does not expose bytesRead")}catch(pe){console.error("cannot use native zlib: "+(pe.message||pe))}}function I(se,ye){if(!V)return Er(se,ye);var ue=V.InflateRaw,pe=new ue,be=pe._processChunk(se.slice(se.l),pe._finishFlushFlag);return se.l+=pe.bytesRead,be}function B(se){return V?V.deflateRawSync(se):Rt(se)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function te(se){var ye=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var re=typeof Uint8Array<"u",le=re?new Uint8Array(256):[],ke=0;ke<256;++ke)le[ke]=te(ke);function Pe(se,ye){var ue=le[se&255];return ye<=8?ue>>>8-ye:(ue=ue<<8|le[se>>8&255],ye<=16?ue>>>16-ye:(ue=ue<<8|le[se>>16&255],ue>>>24-ye))}function He(se,ye){var ue=ye&7,pe=ye>>>3;return(se[pe]|(ue<=6?0:se[pe+1]<<8))>>>ue&3}function Ae(se,ye){var ue=ye&7,pe=ye>>>3;return(se[pe]|(ue<=5?0:se[pe+1]<<8))>>>ue&7}function fe(se,ye){var ue=ye&7,pe=ye>>>3;return(se[pe]|(ue<=4?0:se[pe+1]<<8))>>>ue&15}function _t(se,ye){var ue=ye&7,pe=ye>>>3;return(se[pe]|(ue<=3?0:se[pe+1]<<8))>>>ue&31}function Je(se,ye){var ue=ye&7,pe=ye>>>3;return(se[pe]|(ue<=1?0:se[pe+1]<<8))>>>ue&127}function Oe(se,ye,ue){var pe=ye&7,be=ye>>>3,je=(1<<ue)-1,Ue=se[be]>>>pe;return ue<8-pe||(Ue|=se[be+1]<<8-pe,ue<16-pe)||(Ue|=se[be+2]<<16-pe,ue<24-pe)||(Ue|=se[be+3]<<24-pe),Ue&je}function Ce(se,ye,ue){var pe=ye&7,be=ye>>>3;return pe<=5?se[be]|=(ue&7)<<pe:(se[be]|=ue<<pe&255,se[be+1]=(ue&7)>>8-pe),ye+3}function oe(se,ye,ue){var pe=ye&7,be=ye>>>3;return ue=(ue&1)<<pe,se[be]|=ue,ye+1}function me(se,ye,ue){var pe=ye&7,be=ye>>>3;return ue<<=pe,se[be]|=ue&255,ue>>>=8,se[be+1]=ue,ye+8}function Ne(se,ye,ue){var pe=ye&7,be=ye>>>3;return ue<<=pe,se[be]|=ue&255,ue>>>=8,se[be+1]=ue&255,se[be+2]=ue>>>8,ye+16}function Be(se,ye){var ue=se.length,pe=2*ue>ye?2*ue:ye+5,be=0;if(ue>=ye)return se;if(cs){var je=cO(pe);if(se.copy)se.copy(je);else for(;be<se.length;++be)je[be]=se[be];return je}else if(re){var Ue=new Uint8Array(pe);if(Ue.set)Ue.set(se);else for(;be<ue;++be)Ue[be]=se[be];return Ue}return se.length=pe,se}function qe(se){for(var ye=new Array(se),ue=0;ue<se;++ue)ye[ue]=0;return ye}function De(se,ye,ue){var pe=1,be=0,je=0,Ue=0,tt=0,$e=se.length,ze=re?new Uint16Array(32):qe(32);for(je=0;je<32;++je)ze[je]=0;for(je=$e;je<ue;++je)se[je]=0;$e=se.length;var Ke=re?new Uint16Array($e):qe($e);for(je=0;je<$e;++je)ze[be=se[je]]++,pe<be&&(pe=be),Ke[je]=0;for(ze[0]=0,je=1;je<=pe;++je)ze[je+16]=tt=tt+ze[je-1]<<1;for(je=0;je<$e;++je)tt=se[je],tt!=0&&(Ke[je]=ze[tt+16]++);var vt=0;for(je=0;je<$e;++je)if(vt=se[je],vt!=0)for(tt=Pe(Ke[je],pe)>>pe-vt,Ue=(1<<pe+4-vt)-1;Ue>=0;--Ue)ye[tt|Ue<<vt]=vt&15|je<<4;return pe}var ct=re?new Uint16Array(512):qe(512),Ut=re?new Uint16Array(32):qe(32);if(!re){for(var xt=0;xt<512;++xt)ct[xt]=0;for(xt=0;xt<32;++xt)Ut[xt]=0}(function(){for(var se=[],ye=0;ye<32;ye++)se.push(5);De(se,Ut,32);var ue=[];for(ye=0;ye<=143;ye++)ue.push(8);for(;ye<=255;ye++)ue.push(9);for(;ye<=279;ye++)ue.push(7);for(;ye<=287;ye++)ue.push(8);De(ue,ct,288)})();var $t=function(){for(var ye=re?new Uint8Array(32768):[],ue=0,pe=0;ue<W.length-1;++ue)for(;pe<W[ue+1];++pe)ye[pe]=ue;for(;pe<32768;++pe)ye[pe]=29;var be=re?new Uint8Array(259):[];for(ue=0,pe=0;ue<U.length-1;++ue)for(;pe<U[ue+1];++pe)be[pe]=ue;function je(tt,$e){for(var ze=0;ze<tt.length;){var Ke=Math.min(65535,tt.length-ze),vt=ze+Ke==tt.length;for($e.write_shift(1,+vt),$e.write_shift(2,Ke),$e.write_shift(2,~Ke&65535);Ke-- >0;)$e[$e.l++]=tt[ze++]}return $e.l}function Ue(tt,$e){for(var ze=0,Ke=0,vt=re?new Uint16Array(32768):[];Ke<tt.length;){var kt=Math.min(65535,tt.length-Ke);if(kt<10){for(ze=Ce($e,ze,+(Ke+kt==tt.length)),ze&7&&(ze+=8-(ze&7)),$e.l=ze/8|0,$e.write_shift(2,kt),$e.write_shift(2,~kt&65535);kt-- >0;)$e[$e.l++]=tt[Ke++];ze=$e.l*8;continue}ze=Ce($e,ze,+(Ke+kt==tt.length)+2);for(var Bt=0;kt-- >0;){var Nt=tt[Ke];Bt=(Bt<<5^Nt)&32767;var Lt=-1,ur=0;if((Lt=vt[Bt])&&(Lt|=Ke&-32768,Lt>Ke&&(Lt-=32768),Lt<Ke))for(;tt[Lt+ur]==tt[Ke+ur]&&ur<250;)++ur;if(ur>2){Nt=be[ur],Nt<=22?ze=me($e,ze,le[Nt+1]>>1)-1:(me($e,ze,3),ze+=5,me($e,ze,le[Nt-23]>>5),ze+=3);var Es=Nt<8?0:Nt-4>>2;Es>0&&(Ne($e,ze,ur-U[Nt]),ze+=Es),Nt=ye[Ke-Lt],ze=me($e,ze,le[Nt]>>3),ze-=3;var Hr=Nt<4?0:Nt-2>>1;Hr>0&&(Ne($e,ze,Ke-Lt-W[Nt]),ze+=Hr);for(var fn=0;fn<ur;++fn)vt[Bt]=Ke&32767,Bt=(Bt<<5^tt[Ke])&32767,++Ke;kt-=ur-1}else Nt<=143?Nt=Nt+48:ze=oe($e,ze,1),ze=me($e,ze,le[Nt]),vt[Bt]=Ke&32767,++Ke}ze=me($e,ze,0)-1}return $e.l=(ze+7)/8|0,$e.l}return function($e,ze){return $e.length<8?je($e,ze):Ue($e,ze)}}();function Rt(se){var ye=rt(50+Math.floor(se.length*1.1)),ue=$t(se,ye);return ye.slice(0,ue)}var It=re?new Uint16Array(32768):qe(32768),os=re?new Uint16Array(32768):qe(32768),Mr=re?new Uint16Array(128):qe(128),Ht=1,dr=1;function rs(se,ye){var ue=_t(se,ye)+257;ye+=5;var pe=_t(se,ye)+1;ye+=5;var be=fe(se,ye)+4;ye+=4;for(var je=0,Ue=re?new Uint8Array(19):qe(19),tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,ze=re?new Uint8Array(8):qe(8),Ke=re?new Uint8Array(8):qe(8),vt=Ue.length,kt=0;kt<be;++kt)Ue[q[kt]]=je=Ae(se,ye),$e<je&&($e=je),ze[je]++,ye+=3;var Bt=0;for(ze[0]=0,kt=1;kt<=$e;++kt)Ke[kt]=Bt=Bt+ze[kt-1]<<1;for(kt=0;kt<vt;++kt)(Bt=Ue[kt])!=0&&(tt[kt]=Ke[Bt]++);var Nt=0;for(kt=0;kt<vt;++kt)if(Nt=Ue[kt],Nt!=0){Bt=le[tt[kt]]>>8-Nt;for(var Lt=(1<<7-Nt)-1;Lt>=0;--Lt)Mr[Bt|Lt<<Nt]=Nt&7|kt<<3}var ur=[];for($e=1;ur.length<ue+pe;)switch(Bt=Mr[Je(se,ye)],ye+=Bt&7,Bt>>>=3){case 16:for(je=3+He(se,ye),ye+=2,Bt=ur[ur.length-1];je-- >0;)ur.push(Bt);break;case 17:for(je=3+Ae(se,ye),ye+=3;je-- >0;)ur.push(0);break;case 18:for(je=11+Je(se,ye),ye+=7;je-- >0;)ur.push(0);break;default:ur.push(Bt),$e<Bt&&($e=Bt);break}var Es=ur.slice(0,ue),Hr=ur.slice(ue);for(kt=ue;kt<286;++kt)Es[kt]=0;for(kt=pe;kt<30;++kt)Hr[kt]=0;return Ht=De(Es,It,286),dr=De(Hr,os,30),ye}function sr(se,ye){if(se[0]==3&&!(se[1]&3))return[mm(ye),2];for(var ue=0,pe=0,be=cO(ye||1<<18),je=0,Ue=be.length>>>0,tt=0,$e=0;!(pe&1);){if(pe=Ae(se,ue),ue+=3,pe>>>1)pe>>1==1?(tt=9,$e=5):(ue=rs(se,ue),tt=Ht,$e=dr);else{ue&7&&(ue+=8-(ue&7));var ze=se[ue>>>3]|se[(ue>>>3)+1]<<8;if(ue+=32,ze>0)for(!ye&&Ue<je+ze&&(be=Be(be,je+ze),Ue=be.length);ze-- >0;)be[je++]=se[ue>>>3],ue+=8;continue}for(;;){!ye&&Ue<je+32767&&(be=Be(be,je+32767),Ue=be.length);var Ke=Oe(se,ue,tt),vt=pe>>>1==1?ct[Ke]:It[Ke];if(ue+=vt&15,vt>>>=4,!(vt>>>8&255))be[je++]=vt;else{if(vt==256)break;vt-=257;var kt=vt<8?0:vt-4>>2;kt>5&&(kt=0);var Bt=je+U[vt];kt>0&&(Bt+=Oe(se,ue,kt),ue+=kt),Ke=Oe(se,ue,$e),vt=pe>>>1==1?Ut[Ke]:os[Ke],ue+=vt&15,vt>>>=4;var Nt=vt<4?0:vt-2>>1,Lt=W[vt];for(Nt>0&&(Lt+=Oe(se,ue,Nt),ue+=Nt),!ye&&Ue<Bt&&(be=Be(be,Bt+100),Ue=be.length);je<Bt;)be[je]=be[je-Lt],++je}}}return ye?[be,ue+7>>>3]:[be.slice(0,je),ue+7>>>3]}function Er(se,ye){var ue=se.slice(se.l||0),pe=sr(ue,ye);return se.l+=pe[1],pe[0]}function pr(se,ye){if(se)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function Qs(se,ye){var ue=se;uo(ue,0);var pe=[],be=[],je={FileIndex:pe,FullPaths:be};j(je,{root:ye.root});for(var Ue=ue.length-4;(ue[Ue]!=80||ue[Ue+1]!=75||ue[Ue+2]!=5||ue[Ue+3]!=6)&&Ue>=0;)--Ue;ue.l=Ue+4,ue.l+=4;var tt=ue.read_shift(2);ue.l+=6;var $e=ue.read_shift(4);for(ue.l=$e,Ue=0;Ue<tt;++Ue){ue.l+=20;var ze=ue.read_shift(4),Ke=ue.read_shift(4),vt=ue.read_shift(2),kt=ue.read_shift(2),Bt=ue.read_shift(2);ue.l+=8;var Nt=ue.read_shift(4),Lt=l(ue.slice(ue.l+vt,ue.l+vt+kt));ue.l+=vt+kt+Bt;var ur=ue.l;ue.l=Nt+4,kn(ue,ze,Ke,je,Lt),ue.l=ur}return je}function kn(se,ye,ue,pe,be){se.l+=2;var je=se.read_shift(2),Ue=se.read_shift(2),tt=o(se);if(je&8257)throw new Error("Unsupported ZIP encryption");for(var $e=se.read_shift(4),ze=se.read_shift(4),Ke=se.read_shift(4),vt=se.read_shift(2),kt=se.read_shift(2),Bt="",Nt=0;Nt<vt;++Nt)Bt+=String.fromCharCode(se[se.l++]);if(kt){var Lt=l(se.slice(se.l,se.l+kt));(Lt[21589]||{}).mt&&(tt=Lt[21589].mt),((be||{})[21589]||{}).mt&&(tt=be[21589].mt)}se.l+=kt;var ur=se.slice(se.l,se.l+ze);switch(Ue){case 8:ur=I(se,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ue)}var Es=!1;je&8&&($e=se.read_shift(4),$e==134695760&&($e=se.read_shift(4),Es=!0),ze=se.read_shift(4),Ke=se.read_shift(4)),ze!=ye&&pr(Es,"Bad compressed size: "+ye+" != "+ze),Ke!=ue&&pr(Es,"Bad uncompressed size: "+ue+" != "+Ke),Vi(pe,Bt,ur,{unsafe:!0,mt:tt})}function vs(se,ye){var ue=ye||{},pe=[],be=[],je=rt(1),Ue=ue.compression?8:0,tt=0,$e=0,ze=0,Ke=0,vt=0,kt=se.FullPaths[0],Bt=kt,Nt=se.FileIndex[0],Lt=[],ur=0;for($e=1;$e<se.FullPaths.length;++$e)if(Bt=se.FullPaths[$e].slice(kt.length),Nt=se.FileIndex[$e],!(!Nt.size||!Nt.content||Bt=="Sh33tJ5")){var Es=Ke,Hr=rt(Bt.length);for(ze=0;ze<Bt.length;++ze)Hr.write_shift(1,Bt.charCodeAt(ze)&127);Hr=Hr.slice(0,Hr.l),Lt[vt]=e1e.buf(Nt.content,0);var fn=Nt.content;Ue==8&&(fn=B(fn)),je=rt(30),je.write_shift(4,67324752),je.write_shift(2,20),je.write_shift(2,tt),je.write_shift(2,Ue),Nt.mt?a(je,Nt.mt):je.write_shift(4,0),je.write_shift(-4,Lt[vt]),je.write_shift(4,fn.length),je.write_shift(4,Nt.content.length),je.write_shift(2,Hr.length),je.write_shift(2,0),Ke+=je.length,pe.push(je),Ke+=Hr.length,pe.push(Hr),Ke+=fn.length,pe.push(fn),je=rt(46),je.write_shift(4,33639248),je.write_shift(2,0),je.write_shift(2,20),je.write_shift(2,tt),je.write_shift(2,Ue),je.write_shift(4,0),je.write_shift(-4,Lt[vt]),je.write_shift(4,fn.length),je.write_shift(4,Nt.content.length),je.write_shift(2,Hr.length),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(4,0),je.write_shift(4,Es),ur+=je.l,be.push(je),ur+=Hr.length,be.push(Hr),++vt}return je=rt(22),je.write_shift(4,101010256),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,vt),je.write_shift(2,vt),je.write_shift(4,ur),je.write_shift(4,Ke),je.write_shift(2,0),Ii([Ii(pe),Ii(be),je])}var or={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ss(se,ye){if(se.ctype)return se.ctype;var ue=se.name||"",pe=ue.match(/\.([^\.]+)$/);return pe&&or[pe[1]]||ye&&(pe=(ue=ye).match(/[\.\\]([^\.\\])+$/),pe&&or[pe[1]])?or[pe[1]]:"application/octet-stream"}function Yc(se){for(var ye=$v(se),ue=[],pe=0;pe<ye.length;pe+=76)ue.push(ye.slice(pe,pe+76));return ue.join(`\r
`)+`\r
`}function hi(se){var ye=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ze){var Ke=ze.charCodeAt(0).toString(16).toUpperCase();return"="+(Ke.length==1?"0"+Ke:Ke)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ue=[],pe=ye.split(`\r
`),be=0;be<pe.length;++be){var je=pe[be];if(je.length==0){ue.push("");continue}for(var Ue=0;Ue<je.length;){var tt=76,$e=je.slice(Ue,Ue+tt);$e.charAt(tt-1)=="="?tt--:$e.charAt(tt-2)=="="?tt-=2:$e.charAt(tt-3)=="="&&(tt-=3),$e=je.slice(Ue,Ue+tt),Ue+=tt,Ue<je.length&&($e+="="),ue.push($e)}}return ue.join(`\r
`)}function rl(se){for(var ye=[],ue=0;ue<se.length;++ue){for(var pe=se[ue];ue<=se.length&&pe.charAt(pe.length-1)=="=";)pe=pe.slice(0,pe.length-1)+se[++ue];ye.push(pe)}for(var be=0;be<ye.length;++be)ye[be]=ye[be].replace(/[=][0-9A-Fa-f]{2}/g,function(je){return String.fromCharCode(parseInt(je.slice(1),16))});return El(ye.join(`\r
`))}function Po(se,ye,ue){for(var pe="",be="",je="",Ue,tt=0;tt<10;++tt){var $e=ye[tt];if(!$e||$e.match(/^\s*$/))break;var ze=$e.match(/^(.*?):\s*([^\s].*)$/);if(ze)switch(ze[1].toLowerCase()){case"content-location":pe=ze[2].trim();break;case"content-type":je=ze[2].trim();break;case"content-transfer-encoding":be=ze[2].trim();break}}switch(++tt,be.toLowerCase()){case"base64":Ue=El(Qd(ye.slice(tt).join("")));break;case"quoted-printable":Ue=rl(ye.slice(tt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var Ke=Vi(se,pe.slice(ue.length),Ue,{unsafe:!0});je&&(Ke.ctype=je)}function ir(se,ye){if(G(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ue=ye&&ye.root||"",pe=(cs&&Buffer.isBuffer(se)?se.toString("binary"):G(se)).split(`\r
`),be=0,je="";for(be=0;be<pe.length;++be)if(je=pe[be],!!/^Content-Location:/i.test(je)&&(je=je.slice(je.indexOf("file")),ue||(ue=je.slice(0,je.lastIndexOf("/")+1)),je.slice(0,ue.length)!=ue))for(;ue.length>0&&(ue=ue.slice(0,ue.length-1),ue=ue.slice(0,ue.lastIndexOf("/")+1),je.slice(0,ue.length)!=ue););var Ue=(pe[1]||"").match(/boundary="(.*?)"/);if(!Ue)throw new Error("MAD cannot find boundary");var tt="--"+(Ue[1]||""),$e=[],ze=[],Ke={FileIndex:$e,FullPaths:ze};j(Ke);var vt,kt=0;for(be=0;be<pe.length;++be){var Bt=pe[be];Bt!==tt&&Bt!==tt+"--"||(kt++&&Po(Ke,pe.slice(vt,be),ue),vt=be)}return Ke}function sl(se,ye){var ue=ye||{},pe=ue.boundary||"SheetJS";pe="------="+pe;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+pe.slice(2)+'"',"","",""],je=se.FullPaths[0],Ue=je,tt=se.FileIndex[0],$e=1;$e<se.FullPaths.length;++$e)if(Ue=se.FullPaths[$e].slice(je.length),tt=se.FileIndex[$e],!(!tt.size||!tt.content||Ue=="Sh33tJ5")){Ue=Ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ur){return"_x"+ur.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ur){return"_u"+ur.charCodeAt(0).toString(16)+"_"});for(var ze=tt.content,Ke=cs&&Buffer.isBuffer(ze)?ze.toString("binary"):G(ze),vt=0,kt=Math.min(1024,Ke.length),Bt=0,Nt=0;Nt<=kt;++Nt)(Bt=Ke.charCodeAt(Nt))>=32&&Bt<128&&++vt;var Lt=vt>=kt*4/5;be.push(pe),be.push("Content-Location: "+(ue.root||"file:///C:/SheetJS/")+Ue),be.push("Content-Transfer-Encoding: "+(Lt?"quoted-printable":"base64")),be.push("Content-Type: "+ss(tt,Ue)),be.push(""),be.push(Lt?hi(Ke):Yc(Ke))}return be.push(pe+`--\r
`),be.join(`\r
`)}function nl(se){var ye={};return j(ye,se),ye}function Vi(se,ye,ue,pe){var be=pe&&pe.unsafe;be||j(se);var je=!be&&Ts.find(se,ye);if(!je){var Ue=se.FullPaths[0];ye.slice(0,Ue.length)==Ue?Ue=ye:(Ue.slice(-1)!="/"&&(Ue+="/"),Ue=(Ue+ye).replace("//","/")),je={name:i(ye),type:2},se.FileIndex.push(je),se.FullPaths.push(Ue),be||Ts.utils.cfb_gc(se)}return je.content=ue,je.size=ue?ue.length:0,pe&&(pe.CLSID&&(je.clsid=pe.CLSID),pe.mt&&(je.mt=pe.mt),pe.ct&&(je.ct=pe.ct)),je}function La(se,ye){j(se);var ue=Ts.find(se,ye);if(ue){for(var pe=0;pe<se.FileIndex.length;++pe)if(se.FileIndex[pe]==ue)return se.FileIndex.splice(pe,1),se.FullPaths.splice(pe,1),!0}return!1}function Xs(se,ye,ue){j(se);var pe=Ts.find(se,ye);if(pe){for(var be=0;be<se.FileIndex.length;++be)if(se.FileIndex[be]==pe)return se.FileIndex[be].name=i(ue),se.FullPaths[be]=ue,!0}return!1}function Mn(se){E(se,!0)}return e.find=C,e.read=N,e.parse=u,e.write=z,e.writeFile=Q,e.utils={cfb_new:nl,cfb_add:Vi,cfb_del:La,cfb_mov:Xs,cfb_gc:Mn,ReadShift:Zx,CheckField:vK,prep_blob:uo,bconcat:Ii,use_zlib:F,_deflateRaw:Rt,_inflateRaw:Er,consts:ee},e}();function t1e(t){return typeof t=="string"?yj(t):Array.isArray(t)?Cye(t):t}function o1(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=yj(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?zv(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([t1e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=t,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=a1(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function zi(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function xO(t,e){for(var r=[],n=zi(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function TC(t){for(var e=[],r=zi(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Nj(t){for(var e=[],r=zi(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function r1e(t){for(var e=[],r=zi(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Ew=new Date(1899,11,30,0,0,0);function Qa(t,e){var r=t.getTime(),n=Ew.getTime()+(t.getTimezoneOffset()-Ew.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var tK=new Date,s1e=Ew.getTime()+(tK.getTimezoneOffset()-Ew.getTimezoneOffset())*6e4,vO=tK.getTimezoneOffset();function rK(t){var e=new Date;return e.setTime(t*24*60*60*1e3+s1e),e.getTimezoneOffset()!==vO&&e.setTime(e.getTime()+(e.getTimezoneOffset()-vO)*6e4),e}var yO=new Date("2017-02-19T19:06:09.000Z"),sK=isNaN(yO.getFullYear())?new Date("2/19/17"):yO,n1e=sK.getFullYear()==2017;function Ca(t,e){var r=new Date(t);if(n1e)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(sK.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function jj(t,e){if(cs&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Xa(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Xa(t[r]));return e}function bn(t,e){for(var r="";r.length<e;)r+=t;return r}function Id(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var i1e=["january","february","march","april","may","june","july","august","september","october","november","december"];function qv(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&i1e.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Lr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return cs?n=eu(r):n=Aye(r),Ts.utils.cfb_add(t,e,n)}Ts.utils.cfb_add(t,e,r)}else t.file(e,r)}function PC(){return Ts.utils.cfb_new()}var Xn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,a1e={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},FC=TC(a1e),OC=/[&<>'"]/g,o1e=/[\u0000-\u0008\u000b-\u001f]/g;function ks(t){var e=t+"";return e.replace(OC,function(r){return FC[r]}).replace(o1e,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function bO(t){return ks(t).replace(/ /g,"_x0020_")}var nK=/[\u0000-\u001f]/g;function l1e(t){var e=t+"";return e.replace(OC,function(r){return FC[r]}).replace(/\n/g,"<br/>").replace(nK,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function c1e(t){var e=t+"";return e.replace(OC,function(r){return FC[r]}).replace(nK,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function d1e(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function u1e(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function X4(t){for(var e="",r=0,n=0,i=0,a=0,o=0,l=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}o=t.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function wO(t){var e=mm(2*t.length),r,n,i=1,a=0,o=0,l;for(n=0;n<t.length;n+=i)i=1,(l=t.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(e[a++]=o&255,e[a++]=o>>>8,o=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function NO(t){return eu(t,"binary").toString("utf8")}var qb="foo bar baz",Jx=cs&&(NO(qb)==X4(qb)&&NO||wO(qb)==X4(qb)&&wO)||X4,zv=cs?function(t){return eu(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},h1e=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),iK=/(^\s|\s$|\n)/;function Di(t,e){return"<"+t+(e.match(iK)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Vv(t){return zi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ct(t,e,r){return"<"+t+(r!=null?Vv(r):"")+(e!=null?(e.match(iK)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Y3(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function f1e(t,e){switch(typeof t){case"string":var r=Ct("vt:lpwstr",ks(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ct((t|0)==t?"vt:i4":"vt:r8",ks(String(t)));case"boolean":return Ct("vt:bool",t?"true":"false")}if(t instanceof Date)return Ct("vt:filetime",Y3(t));throw new Error("Unable to serialize "+t)}var xi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},vg=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],mo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function m1e(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function p1e(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,o=n?-e:e;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var l=0;l<=5;++l,a/=256)t[r+l]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var jO=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},_O=cs?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:eu(e)})):jO(t)}:jO,SO=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Rx(t,i)));return n.join("").replace(Xx,"")},LC=cs?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Xx,""):SO(t,e,r)}:SO,kO=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},aK=cs?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):kO(t,e,r)}:kO,CO=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(cp(t,i)));return n.join("")},l1=cs?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):CO(e,r,n)}:CO,oK=function(t,e){var r=po(t,e);return r>0?l1(t,e+4,e+4+r-1):""},lK=oK,cK=function(t,e){var r=po(t,e);return r>0?l1(t,e+4,e+4+r-1):""},dK=cK,uK=function(t,e){var r=2*po(t,e);return r>0?l1(t,e+4,e+4+r-1):""},hK=uK,fK=function(e,r){var n=po(e,r);return n>0?LC(e,r+4,r+4+n):""},mK=fK,pK=function(t,e){var r=po(t,e);return r>0?l1(t,e+4,e+4+r):""},gK=pK,xK=function(t,e){return m1e(t,e)},Tw=xK,RC=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};cs&&(lK=function(e,r){if(!Buffer.isBuffer(e))return oK(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},dK=function(e,r){if(!Buffer.isBuffer(e))return cK(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},hK=function(e,r){if(!Buffer.isBuffer(e))return uK(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},mK=function(e,r){if(!Buffer.isBuffer(e))return fK(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},gK=function(e,r){if(!Buffer.isBuffer(e))return pK(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Tw=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):xK(e,r)},RC=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var cp=function(t,e){return t[e]},Rx=function(t,e){return t[e+1]*256+t[e]},g1e=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},po=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},df=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},x1e=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Zx(t,e){var r="",n,i,a=[],o,l,c,d;switch(e){case"dbcs":if(d=this.l,cs&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(Rx(this,d)),d+=2;t*=2;break;case"utf8":r=l1(this,this.l,this.l+t);break;case"utf16le":t*=2,r=LC(this,this.l,this.l+t);break;case"wstr":return Zx.call(this,t,"dbcs");case"lpstr-ansi":r=lK(this,this.l),t=4+po(this,this.l);break;case"lpstr-cp":r=dK(this,this.l),t=4+po(this,this.l);break;case"lpwstr":r=hK(this,this.l),t=4+2*po(this,this.l);break;case"lpp4":t=4+po(this,this.l),r=mK(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+po(this,this.l),r=gK(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(o=cp(this,this.l+t++))!==0;)a.push(Bb(o));r=a.join("");break;case"_wstr":for(t=0,r="";(o=Rx(this,this.l+t))!==0;)a.push(Bb(o)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",d=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=cp(this,d),this.l=d+1,l=Zx.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Bb(Rx(this,d))),d+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",d=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(d)!==-1)return o=cp(this,d),this.l=d+1,l=Zx.call(this,t-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Bb(cp(this,d))),d+=1}r=a.join("");break;default:switch(t){case 1:return n=cp(this,this.l),this.l++,n;case 2:return n=(e==="i"?g1e:Rx)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?df:x1e)(this,this.l),this.l+=4,n):(i=po(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Tw(this,this.l):i=Tw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=aK(this,this.l,t);break}}return this.l+=t,r}var v1e=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},y1e=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},b1e=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function w1e(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)b1e(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,v1e(this,e,this.l);break;case 8:if(n=8,r==="f"){p1e(this,e,this.l);break}case 16:break;case-4:n=4,y1e(this,e,this.l);break}return this.l+=n,this}function vK(t,e){var r=aK(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function uo(t,e){t.l=e,t.read_shift=Zx,t.chk=vK,t.write_shift=w1e}function Uc(t,e){t.l+=e}function rt(t){var e=mm(t);return uo(e,0),e}function Ya(){var t=[],e=cs?256:2048,r=function(d){var u=rt(d);return uo(u,0),u},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(d){return n&&d<n.length-n.l?n:(i(),n=r(Math.max(d+1,e)))},o=function(){return i(),Ii(t)},l=function(d){i(),n=d,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:l,end:o,_bufs:t}}function ht(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=m5e[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=t.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&RC(r)&&t.push(r)}}function ev(t,e,r){var n=Xa(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function AO(t,e,r){var n=Xa(t);return n.s=ev(n.s,e.s,r),n.e=ev(n.e,e.s,r),n}function tv(t,e){if(t.cRel&&t.c<0)for(t=Xa(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Xa(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=As(t);return!t.cRel&&t.cRel!=null&&(r=_1e(r)),!t.rRel&&t.rRel!=null&&(r=N1e(r)),r}function J4(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+oa(t.s.c)+":"+(t.e.cRel?"":"$")+oa(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ui(t.s.r)+":"+(t.e.rRel?"":"$")+Ui(t.e.r):tv(t.s,e.biff)+":"+tv(t.e,e.biff)}function IC(t){return parseInt(j1e(t),10)-1}function Ui(t){return""+(t+1)}function N1e(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function j1e(t){return t.replace(/\$(\d+)$/,"$1")}function DC(t){for(var e=S1e(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function oa(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function _1e(t){return t.replace(/^([A-Z])/,"$$$1")}function S1e(t){return t.replace(/^\$([A-Z])/,"$1")}function k1e(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function vi(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function As(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Co(t){var e=t.indexOf(":");return e==-1?{s:vi(t),e:vi(t)}:{s:vi(t.slice(0,e)),e:vi(t.slice(e+1))}}function Gn(t,e){return typeof e>"u"||typeof e=="number"?Gn(t.s,t.e):(typeof t!="string"&&(t=As(t)),typeof e!="string"&&(e=As(e)),t==e?t:t+":"+e)}function Ys(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function EO(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=yh(t.z,r?Qa(e):e)}catch{}try{return t.w=yh((t.XF||{}).numFmtId||(r?14:0),r?Qa(e):e)}catch{return""+e}}function Xd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?c1[t.v]||t.v:e==null?EO(t,t.v):EO(t,e))}function Am(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function yK(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),o=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?vi(n.origin):n.origin;o=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=Ys(a["!ref"]);d.s.c=u.s.c,d.s.r=u.s.r,d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),o==-1&&(d.e.r=o=u.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[h].length;++m)if(!(typeof e[h][m]>"u")){var f={v:e[h][m]},g=o+h,p=l+m;if(d.s.r>g&&(d.s.r=g),d.s.c>p&&(d.s.c=p),d.e.r<g&&(d.e.r=g),d.e.c<p&&(d.e.c=p),e[h][m]&&typeof e[h][m]=="object"&&!Array.isArray(e[h][m])&&!(e[h][m]instanceof Date))f=e[h][m];else if(Array.isArray(f.v)&&(f.f=e[h][m][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||jn[14],n.cellDates?(f.t="d",f.w=yh(f.z,Qa(f.v))):(f.t="n",f.v=Qa(f.v),f.w=yh(f.z,f.v))):f.t="s";if(i)a[g]||(a[g]=[]),a[g][p]&&a[g][p].z&&(f.z=a[g][p].z),a[g][p]=f;else{var x=As({c:p,r:g});a[x]&&a[x].z&&(f.z=a[x].z),a[x]=f}}}return d.s.c<1e7&&(a["!ref"]=Gn(d)),a}function yg(t,e){return yK(null,t,e)}function C1e(t){return t.read_shift(4,"i")}function Bl(t,e){return e||(e=rt(4)),e.write_shift(4,t),e}function la(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function yi(t,e){var r=!1;return e==null&&(r=!0,e=rt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function A1e(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function E1e(t,e){return e||(e=rt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function MC(t,e){var r=t.l,n=t.read_shift(1),i=la(t),a=[],o={t:i,h:i};if(n&1){for(var l=t.read_shift(4),c=0;c!=l;++c)a.push(A1e(t));o.r=a}else o.r=[{ich:0,ifnt:0}];return t.l=r+e,o}function T1e(t,e){var r=!1;return e==null&&(r=!0,e=rt(15+4*t.t.length)),e.write_shift(1,0),yi(t.t,e),r?e.slice(0,e.l):e}var P1e=MC;function F1e(t,e){var r=!1;return e==null&&(r=!0,e=rt(23+4*t.t.length)),e.write_shift(1,1),yi(t.t,e),e.write_shift(4,1),E1e({},e),r?e.slice(0,e.l):e}function tl(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Em(t,e){return e==null&&(e=rt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Tm(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Pm(t,e){return e==null&&(e=rt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var O1e=la,bK=yi;function BC(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Pw(t,e){var r=!1;return e==null&&(r=!0,e=rt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var L1e=la,Q3=BC,UC=Pw;function wK(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Tw([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):df(e,0)>>2;return r?i/100:i}function NK(t,e){e==null&&(e=rt(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function jK(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function R1e(t,e){return e||(e=rt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Fm=jK,bg=R1e;function wg(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function pm(t,e){return(e||rt(8)).write_shift(8,t,"f")}function I1e(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var d=H1e[i];d&&(e.rgb=UO(d));break;case 2:e.rgb=UO([o,l,c]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Fw(t,e){if(e||(e=rt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function D1e(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function M1e(t,e){e||(e=rt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var _K=2,lo=3,zb=11,Ow=19,Vb=64,B1e=65,U1e=71,$1e=4108,q1e=4126,Li=80,TO={1:{n:"CodePage",t:_K},2:{n:"Category",t:Li},3:{n:"PresentationFormat",t:Li},4:{n:"ByteCount",t:lo},5:{n:"LineCount",t:lo},6:{n:"ParagraphCount",t:lo},7:{n:"SlideCount",t:lo},8:{n:"NoteCount",t:lo},9:{n:"HiddenCount",t:lo},10:{n:"MultimediaClipCount",t:lo},11:{n:"ScaleCrop",t:zb},12:{n:"HeadingPairs",t:$1e},13:{n:"TitlesOfParts",t:q1e},14:{n:"Manager",t:Li},15:{n:"Company",t:Li},16:{n:"LinksUpToDate",t:zb},17:{n:"CharacterCount",t:lo},19:{n:"SharedDoc",t:zb},22:{n:"HyperlinksChanged",t:zb},23:{n:"AppVersion",t:lo,p:"version"},24:{n:"DigSig",t:B1e},26:{n:"ContentType",t:Li},27:{n:"ContentStatus",t:Li},28:{n:"Language",t:Li},29:{n:"Version",t:Li},255:{},2147483648:{n:"Locale",t:Ow},2147483651:{n:"Behavior",t:Ow},1919054434:{}},PO={1:{n:"CodePage",t:_K},2:{n:"Title",t:Li},3:{n:"Subject",t:Li},4:{n:"Author",t:Li},5:{n:"Keywords",t:Li},6:{n:"Comments",t:Li},7:{n:"Template",t:Li},8:{n:"LastAuthor",t:Li},9:{n:"RevNumber",t:Li},10:{n:"EditTime",t:Vb},11:{n:"LastPrinted",t:Vb},12:{n:"CreatedDate",t:Vb},13:{n:"ModifiedDate",t:Vb},14:{n:"PageCount",t:lo},15:{n:"WordCount",t:lo},16:{n:"CharCount",t:lo},17:{n:"Thumbnail",t:U1e},18:{n:"Application",t:Li},19:{n:"DocSecurity",t:lo},255:{},2147483648:{n:"Locale",t:Ow},2147483651:{n:"Behavior",t:Ow},1919054434:{}};function z1e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var V1e=z1e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),H1e=Xa(V1e),c1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},W1e={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Hb={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function SK(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function kK(t,e){var r=r1e(W1e),n=[],i;n[n.length]=Xn,n[n.length]=Ct("Types",null,{xmlns:xi.CT,"xmlns:xsd":xi.xsd,"xmlns:xsi":xi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return Ct("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){t[c]&&t[c].length>0&&(i=t[c][0],n[n.length]=Ct("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Hb[c][e.bookType]||Hb[c].xlsx}))},o=function(c){(t[c]||[]).forEach(function(d){n[n.length]=Ct("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:Hb[c][e.bookType]||Hb[c].xlsx})})},l=function(c){(t[c]||[]).forEach(function(d){n[n.length]=Ct("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:r[c][0]})})};return a("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ns={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function CK(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Hp(t){var e=[Xn,Ct("Relationships",null,{xmlns:xi.RELS})];return zi(t["!id"]).forEach(function(r){e[e.length]=Ct("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function _s(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[ns.HLINK,ns.XPATH,ns.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function K1e(t){var e=[Xn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function FO(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function G1e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Y1e(t){var e=[Xn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(FO(t[r][0],t[r][1])),e.push(G1e("",t[r][0]));return e.push(FO("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function AK(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_w.version+"</meta:generator></office:meta></office:document-meta>"}var Kf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Z4(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=ks(e),n[n.length]=r?Ct(t,e,r):Di(t,e))}function EK(t,e){var r=e||{},n=[Xn,Ct("cp:coreProperties",null,{"xmlns:cp":xi.CORE_PROPS,"xmlns:dc":xi.dc,"xmlns:dcterms":xi.dcterms,"xmlns:dcmitype":xi.dcmitype,"xmlns:xsi":xi.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Z4("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Y3(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&Z4("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Y3(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Kf.length;++a){var o=Kf[a],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:t?t[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&Z4(o[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Wp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],TK=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function PK(t){var e=[],r=Ct;return t||(t={}),t.Application="SheetJS",e[e.length]=Xn,e[e.length]=Ct("Properties",null,{xmlns:xi.EXT_PROPS,"xmlns:vt":xi.vt}),Wp.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=ks(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+ks(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function FK(t){var e=[Xn,Ct("Properties",null,{xmlns:xi.CUST_PROPS,"xmlns:vt":xi.vt})];if(!t)return e.join("");var r=1;return zi(t).forEach(function(i){++r,e[e.length]=Ct("property",f1e(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ks(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var OO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Q1e(t,e){var r=[];return zi(OO).map(function(n){for(var i=0;i<Kf.length;++i)if(Kf[i][1]==n)return Kf[i];for(i=0;i<Wp.length;++i)if(Wp[i][1]==n)return Wp[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Di(OO[n[1]]||n[1],i))}}),Ct("DocumentProperties",r.join(""),{xmlns:mo.o})}function X1e(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&zi(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var o=0;o<Kf.length;++o)if(a==Kf[o][1])return;for(o=0;o<Wp.length;++o)if(a==Wp[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var l=t[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),i.push(Ct(bO(a),l,{"dt:dt":c}))}}),e&&zi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var o=e[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Ct(bO(a),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+mo.o+'">'+i.join("")+"</"+n+">"}function J1e(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var o=rt(8);return o.write_shift(4,n),o.write_shift(4,i),o}function LO(t,e){var r=rt(4),n=rt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=rt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=J1e(e);break;case 31:case 80:for(n=rt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ii([r,n])}var OK=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Z1e(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function RO(t,e,r){var n=rt(8),i=[],a=[],o=8,l=0,c=rt(8),d=rt(8);if(c.write_shift(4,2),c.write_shift(4,1200),d.write_shift(4,1),a.push(c),i.push(d),o+=8+c.length,!e){d=rt(8),d.write_shift(4,0),i.unshift(d);var u=[rt(4)];for(u[0].write_shift(4,t.length),l=0;l<t.length;++l){var h=t[l][0];for(c=rt(8+2*(h.length+1)+(h.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,h.length+1),c.write_shift(0,h,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ii(u),a.unshift(c),o+=8+c.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(OK.indexOf(t[l][0])>-1||TK.indexOf(t[l][0])>-1)&&t[l][1]!=null){var m=t[l][1],f=0;if(e){f=+e[t[l][0]];var g=r[f];if(g.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=LO(g.t,m)}else{var x=Z1e(m);x==-1&&(x=31,m=String(m)),c=LO(x,m)}a.push(c),d=rt(8),d.write_shift(4,e?f:2+l),i.push(d),o+=8+c.length}var y=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,y),y+=a[l].length;return n.write_shift(4,o),n.write_shift(4,a.length),Ii([n].concat(i).concat(a))}function IO(t,e,r,n,i,a){var o=rt(i?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Ts.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var c=RO(t,r,n);if(l.push(c),i){var d=RO(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+c.length),l.push(d)}return Ii(l)}function ebe(t,e){e||(e=rt(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function tbe(t,e){return t.read_shift(e)===1}function ja(t,e){return e||(e=rt(2)),e.write_shift(2,+!!t),e}function LK(t){return t.read_shift(2,"u")}function $o(t,e){return e||(e=rt(2)),e.write_shift(2,t),e}function RK(t,e,r){return r||(r=rt(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function IK(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?t.read_shift(n,i):"";return o}function rbe(t){var e=t.t||"",r=rt(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=rt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Ii(i)}function sbe(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function nbe(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):sbe(t,n,r)}function ibe(t,e,r){if(r.biff>5)return nbe(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function DK(t,e,r){return r||(r=rt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function DO(t,e){e||(e=rt(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function abe(t){var e=rt(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)e.write_shift(4,o[r]);if(a==28)n=n.slice(1),DO(n,e);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));var l=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),a&8&&DO(i>-1?n.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)e.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)e.write_shift(1,n.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function gm(t,e,r,n){return n||(n=rt(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function obe(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),o=t.read_shift(n,"i");return[i,a,o]}function lbe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function MK(t,e){return e||(e=rt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function $C(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=rt(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function cbe(t,e){var r=!e||e.biff==8,n=rt(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function dbe(t,e){var r=!e||e.biff>=8?2:1,n=rt(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function ube(t,e){var r=rt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=rbe(t[i]);var a=Ii([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function hbe(){var t=rt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function fbe(t){var e=rt(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function mbe(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=rt(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function pbe(t,e,r,n){var i=rt(10);return gm(t,e,n,i),i.write_shift(4,r),i}function gbe(t,e,r,n,i){var a=!i||i.biff==8,o=rt(8+ +a+(1+a)*r.length);return gm(t,e,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function xbe(t,e,r,n){var i=r&&r.biff==5;n||(n=rt(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function vbe(t,e){var r=e.biff==8||!e.biff?4:2,n=rt(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function MO(t,e,r,n){var i=r&&r.biff==5;n||(n=rt(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function ybe(t){var e=rt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function bbe(t,e,r,n,i,a){var o=rt(8);return gm(t,e,n,o),RK(r,a,o),o}function wbe(t,e,r,n){var i=rt(14);return gm(t,e,n,i),pm(r,i),i}function Nbe(t,e,r){if(r.biff<8)return jbe(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(obe(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function jbe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=IK(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function _be(t){var e=rt(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)MK(t[r],e);return e}function Sbe(t){var e=rt(24),r=vi(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Ii([e,abe(t[1])])}function kbe(t){var e=t[1].Tooltip,r=rt(10+2*(e.length+1));r.write_shift(2,2048);var n=vi(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function Cbe(t){return t||(t=rt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function Abe(t,e,r){if(!r.cellStyles)return Uc(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var d={s:i,e:a,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(d.level=c>>8&7),d}function Ebe(t,e){var r=rt(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Tbe(t){for(var e=rt(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function Pbe(t,e,r){var n=rt(15);return u1(n,t,e),n.write_shift(8,r,"f"),n}function Fbe(t,e,r){var n=rt(9);return u1(n,t,e),n.write_shift(2,r),n}var Obe=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=TC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var d=[],u=mm(1);switch(c.type){case"base64":u=El(Qd(l));break;case"binary":u=El(l);break;case"buffer":case"array":u=l;break}uo(u,0);var h=u.read_shift(1),m=!!(h&136),f=!1,g=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,m=!0;break;case 49:f=!0,m=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var p=0,x=521;h==2&&(p=u.read_shift(2)),u.l+=3,h!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),h!=2&&(x=u.read_shift(2));var y=u.read_shift(2),v=c.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(v=t[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var b=[],w={},_=Math.min(u.length,h==2?521:x-10-(f?264:0)),N=g?32:11;u.l<_&&u[u.l]!=13;)switch(w={},w.name=Sw.utils.decode(v,u.slice(u.l,u.l+N)).replace(/[\u0000\r\n].*$/g,""),u.l+=N,w.type=String.fromCharCode(u.read_shift(1)),h!=2&&!g&&(w.offset=u.read_shift(4)),w.len=u.read_shift(1),h==2&&(w.offset=u.read_shift(2)),w.dec=u.read_shift(1),w.name.length&&b.push(w),h!=2&&(u.l+=g?13:14),w.type){case"B":(!f||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(u[u.l]!==13&&(u.l=x-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=x;var j=0,k=0;for(d[0]=[],k=0;k!=b.length;++k)d[0][k]=b[k].name;for(;p-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,d[++j]=[],k=0,k=0;k!=b.length;++k){var E=u.slice(u.l,u.l+b[k].len);u.l+=b[k].len,uo(E,0);var A=Sw.utils.decode(v,E);switch(b[k].type){case"C":A.trim().length&&(d[j][k]=A.replace(/\s+$/,""));break;case"D":A.length===8?d[j][k]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):d[j][k]=A;break;case"F":d[j][k]=parseFloat(A.trim());break;case"+":case"I":d[j][k]=g?E.read_shift(-4,"i")^2147483648:E.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":d[j][k]=!0;break;case"N":case"F":d[j][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));d[j][k]="##MEMO##"+(g?parseInt(A.trim(),10):E.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(d[j][k]=+A||0);break;case"@":d[j][k]=new Date(E.read_shift(-8,"f")-621356832e5);break;case"T":d[j][k]=new Date((E.read_shift(4)-2440588)*864e5+E.read_shift(4));break;case"Y":d[j][k]=E.read_shift(4,"i")/1e4+E.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[j][k]=-E.read_shift(-8,"f");break;case"B":if(f&&b[k].len==8){d[j][k]=E.read_shift(8,"f");break}case"G":case"P":E.l+=b[k].len;break;case"0":if(b[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[k].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(d=d.slice(0,c.sheetRows)),c.DBF=b,d}function n(l,c){var d=c||{};d.dateNF||(d.dateNF="yyyymmdd");var u=yg(r(l,d),d);return u["!cols"]=d.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete d.DBF,u}function i(l,c){try{return Am(n(l,c),c)}catch(d){if(c&&c.WTF)throw d}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var d=c||{};if(+d.codepage>=0&&Uv(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ya(),h=Mw(l,{header:1,raw:!0,cellDates:!0}),m=h[0],f=h.slice(1),g=l["!cols"]||[],p=0,x=0,y=0,v=1;for(p=0;p<m.length;++p){if(((g[p]||{}).DBF||{}).name){m[p]=g[p].DBF.name,++y;continue}if(m[p]!=null){if(++y,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(x=0;x<1024;++x)if(m.indexOf(m[p]+"_"+x)==-1){m[p]+="_"+x;break}}}}var b=Ys(l["!ref"]),w=[],_=[],N=[];for(p=0;p<=b.e.c-b.s.c;++p){var j="",k="",E=0,A=[];for(x=0;x<f.length;++x)f[x][p]!=null&&A.push(f[x][p]);if(A.length==0||m[p]==null){w[p]="?";continue}for(x=0;x<A.length;++x){switch(typeof A[x]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=A[x]instanceof Date?"D":"C";break;default:k="C"}E=Math.max(E,String(A[x]).length),j=j&&j!=k?"C":k}E>250&&(E=250),k=((g[p]||{}).DBF||{}).type,k=="C"&&g[p].DBF.len>E&&(E=g[p].DBF.len),j=="B"&&k=="N"&&(j="N",N[p]=g[p].DBF.dec,E=g[p].DBF.len),_[p]=j=="C"||k=="N"?E:a[j]||0,v+=_[p],w[p]=j}var C=u.next(32);for(C.write_shift(4,318902576),C.write_shift(4,f.length),C.write_shift(2,296+32*y),C.write_shift(2,v),p=0;p<4;++p)C.write_shift(4,0);for(C.write_shift(4,0|(+e[UW]||3)<<8),p=0,x=0;p<m.length;++p)if(m[p]!=null){var T=u.next(32),L=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);T.write_shift(1,L,"sbcs"),T.write_shift(1,w[p]=="?"?"C":w[p],"sbcs"),T.write_shift(4,x),T.write_shift(1,_[p]||a[w[p]]||0),T.write_shift(1,N[p]||0),T.write_shift(1,2),T.write_shift(4,0),T.write_shift(1,0),T.write_shift(4,0),T.write_shift(4,0),x+=_[p]||a[w[p]]||0}var D=u.next(264);for(D.write_shift(4,13),p=0;p<65;++p)D.write_shift(4,0);for(p=0;p<f.length;++p){var H=u.next(v);for(H.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(w[x]){case"L":H.write_shift(1,f[p][x]==null?63:f[p][x]?84:70);break;case"B":H.write_shift(8,f[p][x]||0,"f");break;case"N":var X="0";for(typeof f[p][x]=="number"&&(X=f[p][x].toFixed(N[x]||0)),y=0;y<_[x]-X.length;++y)H.write_shift(1,32);H.write_shift(1,X,"sbcs");break;case"D":f[p][x]?(H.write_shift(4,("0000"+f[p][x].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(f[p][x].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+f[p][x].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(f[p][x]!=null?f[p][x]:"").slice(0,_[x]);for(H.write_shift(1,ee,"sbcs"),y=0;y<_[x]-ee.length;++y)H.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}}(),Lbe=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+zi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,f){var g=t[f];return typeof g=="number"?lO(g):g},n=function(m,f,g){var p=f.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?m:lO(p)};t["|"]=254;function i(m,f){switch(f.type){case"base64":return a(Qd(m),f);case"binary":return a(m,f);case"buffer":return a(cs&&Buffer.isBuffer(m)?m.toString("binary"):a1(m),f);case"array":return a(jj(m),f)}throw new Error("Unrecognized type "+f.type)}function a(m,f){var g=m.split(/[\n\r]+/),p=-1,x=-1,y=0,v=0,b=[],w=[],_=null,N={},j=[],k=[],E=[],A=0,C;for(+f.codepage>=0&&Uv(+f.codepage);y!==g.length;++y){A=0;var T=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),L=T.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),D=L[0],H;if(T.length>0)switch(D){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&w.push(T.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,ee=!1,Q=!1,G=!1,z=-1,V=-1;for(v=1;v<L.length;++v)switch(L[v].charAt(0)){case"A":break;case"X":x=parseInt(L[v].slice(1))-1,ee=!0;break;case"Y":for(p=parseInt(L[v].slice(1))-1,ee||(x=0),C=b.length;C<=p;++C)b[C]=[];break;case"K":H=L[v].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(Id(H))?isNaN(qv(H).getDate())||(H=Ca(H)):(H=Id(H),_!==null&&JW(_)&&(H=rK(H))),X=!0;break;case"E":G=!0;var F=F2e(L[v].slice(1),{r:p,c:x});b[p][x]=[b[p][x],F];break;case"S":Q=!0,b[p][x]=[b[p][x],"S5S"];break;case"G":break;case"R":z=parseInt(L[v].slice(1))-1;break;case"C":V=parseInt(L[v].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+T)}if(X&&(b[p][x]&&b[p][x].length==2?b[p][x][0]=H:b[p][x]=H,_=null),Q){if(G)throw new Error("SYLK shared formula cannot have own formula");var I=z>-1&&b[z][V];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");b[p][x][1]=O2e(I[1],{r:p-z,c:x-V})}break;case"F":var B=0;for(v=1;v<L.length;++v)switch(L[v].charAt(0)){case"X":x=parseInt(L[v].slice(1))-1,++B;break;case"Y":for(p=parseInt(L[v].slice(1))-1,C=b.length;C<=p;++C)b[C]=[];break;case"M":A=parseInt(L[v].slice(1))/20;break;case"F":break;case"G":break;case"P":_=w[parseInt(L[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(E=L[v].slice(1).split(" "),C=parseInt(E[0],10);C<=parseInt(E[1],10);++C)A=parseInt(E[2],10),k[C-1]=A===0?{hidden:!0}:{wch:A},qC(k[C-1]);break;case"C":x=parseInt(L[v].slice(1))-1,k[x]||(k[x]={});break;case"R":p=parseInt(L[v].slice(1))-1,j[p]||(j[p]={}),A>0?(j[p].hpt=A,j[p].hpx=zK(A)):A===0&&(j[p].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+T)}B<1&&(_=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+T)}}return j.length>0&&(N["!rows"]=j),k.length>0&&(N["!cols"]=k),f&&f.sheetRows&&(b=b.slice(0,f.sheetRows)),[b,N]}function o(m,f){var g=i(m,f),p=g[0],x=g[1],y=yg(p,f);return zi(x).forEach(function(v){y[v]=x[v]}),y}function l(m,f){return Am(o(m,f),f)}function c(m,f,g,p){var x="C;Y"+(g+1)+";X"+(p+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+VC(m.f,{r:g,c:p}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function d(m,f){f.forEach(function(g,p){var x="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Lw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Rw(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function u(m,f){f.forEach(function(g,p){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*Iw(g.hpx)+";"),x.length>2&&m.push(x+"R"+(p+1))})}function h(m,f){var g=["ID;PWXL;N;E"],p=[],x=Ys(m["!ref"]),y,v=Array.isArray(m),b=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),m["!cols"]&&d(g,m["!cols"]),m["!rows"]&&u(g,m["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var w=x.s.r;w<=x.e.r;++w)for(var _=x.s.c;_<=x.e.c;++_){var N=As({r:w,c:_});y=v?(m[w]||[])[_]:m[N],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,m,w,_))}return g.join(b)+b+p.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:o,from_sheet:h}}(),Rbe=function(){function t(a,o){switch(o.type){case"base64":return e(Qd(a),o);case"binary":return e(a,o);case"buffer":return e(cs&&Buffer.isBuffer(a)?a.toString("binary"):a1(a),o);case"array":return e(jj(a),o)}throw new Error("Unrecognized type "+o.type)}function e(a,o){for(var l=a.split(`
`),c=-1,d=-1,u=0,h=[];u!==l.length;++u){if(l[u].trim()==="BOT"){h[++c]=[],d=0;continue}if(!(c<0)){var m=l[u].trim().split(","),f=m[0],g=m[1];++u;for(var p=l[u]||"";(p.match(/["]/g)||[]).length&1&&u<l.length-1;)p+=`
`+l[++u];switch(p=p.trim(),+f){case-1:if(p==="BOT"){h[++c]=[],d=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?h[c][d]=!0:p==="FALSE"?h[c][d]=!1:isNaN(Id(g))?isNaN(qv(g).getDate())?h[c][d]=g:h[c][d]=Ca(g):h[c][d]=Id(g),++d;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),h[c][d++]=p!==""?p:null;break}if(p==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function r(a,o){return yg(t(a,o),o)}function n(a,o){return Am(r(a,o),o)}var i=function(){var a=function(c,d,u,h,m){c.push(d),c.push(u+","+h),c.push('"'+m.replace(/"/g,'""')+'"')},o=function(c,d,u,h){c.push(d+","+u),c.push(d==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(c){var d=[],u=Ys(c["!ref"]),h,m=Array.isArray(c);a(d,"TABLE",0,1,"sheetjs"),a(d,"VECTORS",0,u.e.r-u.s.r+1,""),a(d,"TUPLES",0,u.e.c-u.s.c+1,""),a(d,"DATA",0,0,"");for(var f=u.s.r;f<=u.e.r;++f){o(d,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var p=As({r:f,c:g});if(h=m?(c[f]||[])[g]:c[p],!h){o(d,1,0,"");continue}switch(h.t){case"n":var x=h.w;!x&&h.v!=null&&(x=h.v),x==null?h.f&&!h.F?o(d,1,0,"="+h.f):o(d,1,0,""):o(d,0,x,"V");break;case"b":o(d,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=yh(h.z||jn[14],Qa(Ca(h.v)))),o(d,0,h.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var y=`\r
`,v=d.join(y);return v}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),BK=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,m){for(var f=h.split(`
`),g=-1,p=-1,x=0,y=[];x!==f.length;++x){var v=f[x].trim().split(":");if(v[0]==="cell"){var b=vi(v[1]);if(y.length<=b.r)for(g=y.length;g<=b.r;++g)y[g]||(y[g]=[]);switch(g=b.r,p=b.c,v[2]){case"t":y[g][p]=t(v[3]);break;case"v":y[g][p]=+v[3];break;case"vtf":var w=v[v.length-1];case"vtc":switch(v[3]){case"nl":y[g][p]=!!+v[4];break;default:y[g][p]=+v[4];break}v[2]=="vtf"&&(y[g][p]=[y[g][p],w])}}}return m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}function n(h,m){return yg(r(h,m),m)}function i(h,m){return Am(n(h,m),m)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function d(h){if(!h||!h["!ref"])return"";for(var m=[],f=[],g,p="",x=Co(h["!ref"]),y=Array.isArray(h),v=x.s.r;v<=x.e.r;++v)for(var b=x.s.c;b<=x.e.c;++b)if(p=As({r:v,c:b}),g=y?(h[v]||[])[b]:h[p],!(!g||g.v==null||g.t==="z")){switch(f=["cell",p,"t"],g.t){case"s":case"str":f.push(e(g.v));break;case"n":g.f?(f[2]="vtf",f[3]="n",f[4]=g.v,f[5]=e(g.f)):(f[2]="v",f[3]=g.v);break;case"b":f[2]="vt"+(g.f?"f":"c"),f[3]="nl",f[4]=g.v?"1":"0",f[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var w=Qa(Ca(g.v));f[2]="vtc",f[3]="nd",f[4]=""+w,f[5]=g.w||yh(g.z||jn[14],w);break;case"e":continue}m.push(f.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function u(h){return[a,o,l,o,d(h),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),Ibe=function(){function t(u,h,m,f,g){g.raw?h[m][f]=u:u===""||(u==="TRUE"?h[m][f]=!0:u==="FALSE"?h[m][f]=!1:isNaN(Id(u))?isNaN(qv(u).getDate())?h[m][f]=u:h[m][f]=Ca(u):h[m][f]=Id(u))}function e(u,h){var m=h||{},f=[];if(!u||u.length===0)return f;for(var g=u.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var x=10,y=0,v=0;v<=p;++v)y=g[v].indexOf(" "),y==-1?y=g[v].length:y++,x=Math.max(x,y);for(v=0;v<=p;++v){f[v]=[];var b=0;for(t(g[v].slice(0,x).trim(),f,v,b,m),b=1;b<=(g[v].length-x)/10+1;++b)t(g[v].slice(x+(b-1)*10,x+b*10).trim(),f,v,b,m)}return m.sheetRows&&(f=f.slice(0,m.sheetRows)),f}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var h={},m=!1,f=0,g=0;f<u.length;++f)(g=u.charCodeAt(f))==34?m=!m:!m&&g in r&&(h[g]=(h[g]||0)+1);g=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&g.push([h[f],f]);if(!g.length){h=n;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&g.push([h[f],f])}return g.sort(function(p,x){return p[0]-x[0]||n[p[1]]-n[x[1]]}),r[g.pop()[1]]||44}function a(u,h){var m=h||{},f="",g=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(f=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(f=u.charAt(4),u=u.slice(6)):f=i(u.slice(0,1024)):m&&m.FS?f=m.FS:f=i(u.slice(0,1024));var x=0,y=0,v=0,b=0,w=0,_=f.charCodeAt(0),N=!1,j=0,k=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var E=m.dateNF!=null?Jye(m.dateNF):null;function A(){var C=u.slice(b,w),T={};if(C.charAt(0)=='"'&&C.charAt(C.length-1)=='"'&&(C=C.slice(1,-1).replace(/""/g,'"')),C.length===0)T.t="z";else if(m.raw)T.t="s",T.v=C;else if(C.trim().length===0)T.t="s",T.v=C;else if(C.charCodeAt(0)==61)C.charCodeAt(1)==34&&C.charCodeAt(C.length-1)==34?(T.t="s",T.v=C.slice(2,-1).replace(/""/g,'"')):L2e(C)?(T.t="n",T.f=C.slice(1)):(T.t="s",T.v=C);else if(C=="TRUE")T.t="b",T.v=!0;else if(C=="FALSE")T.t="b",T.v=!1;else if(!isNaN(v=Id(C)))T.t="n",m.cellText!==!1&&(T.w=C),T.v=v;else if(!isNaN(qv(C).getDate())||E&&C.match(E)){T.z=m.dateNF||jn[14];var L=0;E&&C.match(E)&&(C=Zye(C,m.dateNF,C.match(E)||[]),L=1),m.cellDates?(T.t="d",T.v=Ca(C,L)):(T.t="n",T.v=Qa(Ca(C,L))),m.cellText!==!1&&(T.w=yh(T.z,T.v instanceof Date?Qa(T.v):T.v)),m.cellNF||delete T.z}else T.t="s",T.v=C;if(T.t=="z"||(m.dense?(g[x]||(g[x]=[]),g[x][y]=T):g[As({c:y,r:x})]=T),b=w+1,k=u.charCodeAt(b),p.e.c<y&&(p.e.c=y),p.e.r<x&&(p.e.r=x),j==_)++y;else if(y=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;w<u.length;++w)switch(j=u.charCodeAt(w)){case 34:k===34&&(N=!N);break;case _:case 10:case 13:if(!N&&A())break e;break}return w-b>0&&A(),g["!ref"]=Gn(p),g}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,h):yg(e(u,h),h)}function l(u,h){var m="",f=h.type=="string"?[0,0,0,0]:G5e(u,h);switch(h.type){case"base64":m=Qd(u);break;case"binary":m=u;break;case"buffer":h.codepage==65001?m=u.toString("utf8"):h.codepage&&typeof Sw<"u"||(m=cs&&Buffer.isBuffer(u)?u.toString("binary"):a1(u));break;case"array":m=jj(u);break;case"string":m=u;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?m=Jx(m.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?m=Jx(m):h.type=="binary"&&typeof Sw<"u",m.slice(0,19)=="socialcalc:version:"?BK.to_sheet(h.type=="string"?m:Jx(m),h):o(m,h)}function c(u,h){return Am(l(u,h),h)}function d(u){for(var h=[],m=Ys(u["!ref"]),f,g=Array.isArray(u),p=m.s.r;p<=m.e.r;++p){for(var x=[],y=m.s.c;y<=m.e.c;++y){var v=As({r:p,c:y});if(f=g?(u[p]||[])[y]:u[v],!f||f.v==null){x.push("          ");continue}for(var b=(f.w||(Xd(f),f.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(y===0?" ":""))}h.push(x.join(""))}return h.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:d}}(),BO=function(){function t(F,I,B){if(F){uo(F,F.l||0);for(var q=B.Enum||z;F.l<F.length;){var U=F.read_shift(2),W=q[U]||q[65535],te=F.read_shift(2),re=F.l+te,le=W.f&&W.f(F,te,B);if(F.l=re,I(le,W,U))return}}}function e(F,I){switch(I.type){case"base64":return r(El(Qd(F)),I);case"binary":return r(El(F),I);case"buffer":case"array":return r(F,I)}throw"Unsupported type "+I.type}function r(F,I){if(!F)return F;var B=I||{},q=B.dense?[]:{},U="Sheet1",W="",te=0,re={},le=[],ke=[],Pe={s:{r:0,c:0},e:{r:0,c:0}},He=B.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)B.Enum=z,t(F,function(Je,Oe,Ce){switch(Ce){case 0:B.vers=Je,Je>=4096&&(B.qpro=!0);break;case 6:Pe=Je;break;case 204:Je&&(W=Je);break;case 222:W=Je;break;case 15:case 51:B.qpro||(Je[1].v=Je[1].v.slice(1));case 13:case 14:case 16:Ce==14&&(Je[2]&112)==112&&(Je[2]&15)>1&&(Je[2]&15)<15&&(Je[1].z=B.dateNF||jn[14],B.cellDates&&(Je[1].t="d",Je[1].v=rK(Je[1].v))),B.qpro&&Je[3]>te&&(q["!ref"]=Gn(Pe),re[U]=q,le.push(U),q=B.dense?[]:{},Pe={s:{r:0,c:0},e:{r:0,c:0}},te=Je[3],U=W||"Sheet"+(te+1),W="");var oe=B.dense?(q[Je[0].r]||[])[Je[0].c]:q[As(Je[0])];if(oe){oe.t=Je[1].t,oe.v=Je[1].v,Je[1].z!=null&&(oe.z=Je[1].z),Je[1].f!=null&&(oe.f=Je[1].f);break}B.dense?(q[Je[0].r]||(q[Je[0].r]=[]),q[Je[0].r][Je[0].c]=Je[1]):q[As(Je[0])]=Je[1];break}},B);else if(F[2]==26||F[2]==14)B.Enum=V,F[2]==14&&(B.qpro=!0,F.l=0),t(F,function(Je,Oe,Ce){switch(Ce){case 204:U=Je;break;case 22:Je[1].v=Je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Je[3]>te&&(q["!ref"]=Gn(Pe),re[U]=q,le.push(U),q=B.dense?[]:{},Pe={s:{r:0,c:0},e:{r:0,c:0}},te=Je[3],U="Sheet"+(te+1)),He>0&&Je[0].r>=He)break;B.dense?(q[Je[0].r]||(q[Je[0].r]=[]),q[Je[0].r][Je[0].c]=Je[1]):q[As(Je[0])]=Je[1],Pe.e.c<Je[0].c&&(Pe.e.c=Je[0].c),Pe.e.r<Je[0].r&&(Pe.e.r=Je[0].r);break;case 27:Je[14e3]&&(ke[Je[14e3][0]]=Je[14e3][1]);break;case 1537:ke[Je[0]]=Je[1],Je[0]==te&&(U=Je[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(q["!ref"]=Gn(Pe),re[W||U]=q,le.push(W||U),!ke.length)return{SheetNames:le,Sheets:re};for(var Ae={},fe=[],_t=0;_t<ke.length;++_t)re[le[_t]]?(fe.push(ke[_t]||le[_t]),Ae[ke[_t]]=re[ke[_t]]||re[le[_t]]):(fe.push(ke[_t]),Ae[ke[_t]]={"!ref":"A1"});return{SheetNames:fe,Sheets:Ae}}function n(F,I){var B=I||{};if(+B.codepage>=0&&Uv(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Ya(),U=Ys(F["!ref"]),W=Array.isArray(F),te=[];Et(q,0,a(1030)),Et(q,6,c(U));for(var re=Math.min(U.e.r,8191),le=U.s.r;le<=re;++le)for(var ke=Ui(le),Pe=U.s.c;Pe<=U.e.c;++Pe){le===U.s.r&&(te[Pe]=oa(Pe));var He=te[Pe]+ke,Ae=W?(F[le]||[])[Pe]:F[He];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")(Ae.v|0)==Ae.v&&Ae.v>=-32768&&Ae.v<=32767?Et(q,13,f(le,Pe,Ae.v)):Et(q,14,p(le,Pe,Ae.v));else{var fe=Xd(Ae);Et(q,15,h(le,Pe,fe.slice(0,239)))}}return Et(q,1),q.end()}function i(F,I){var B=I||{};if(+B.codepage>=0&&Uv(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Ya();Et(q,0,o(F));for(var U=0,W=0;U<F.SheetNames.length;++U)(F.Sheets[F.SheetNames[U]]||{})["!ref"]&&Et(q,27,G(F.SheetNames[U],W++));var te=0;for(U=0;U<F.SheetNames.length;++U){var re=F.Sheets[F.SheetNames[U]];if(!(!re||!re["!ref"])){for(var le=Ys(re["!ref"]),ke=Array.isArray(re),Pe=[],He=Math.min(le.e.r,8191),Ae=le.s.r;Ae<=He;++Ae)for(var fe=Ui(Ae),_t=le.s.c;_t<=le.e.c;++_t){Ae===le.s.r&&(Pe[_t]=oa(_t));var Je=Pe[_t]+fe,Oe=ke?(re[Ae]||[])[_t]:re[Je];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")Et(q,23,A(Ae,_t,te,Oe.v));else{var Ce=Xd(Oe);Et(q,22,j(Ae,_t,te,Ce.slice(0,239)))}}++te}}return Et(q,1),q.end()}function a(F){var I=rt(2);return I.write_shift(2,F),I}function o(F){var I=rt(26);I.write_shift(2,4096),I.write_shift(2,4),I.write_shift(4,0);for(var B=0,q=0,U=0,W=0;W<F.SheetNames.length;++W){var te=F.SheetNames[W],re=F.Sheets[te];if(!(!re||!re["!ref"])){++U;var le=Co(re["!ref"]);B<le.e.r&&(B=le.e.r),q<le.e.c&&(q=le.e.c)}}return B>8191&&(B=8191),I.write_shift(2,B),I.write_shift(1,U),I.write_shift(1,q),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(1,1),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(4,0),I}function l(F,I,B){var q={s:{c:0,r:0},e:{c:0,r:0}};return I==8&&B.qpro?(q.s.c=F.read_shift(1),F.l++,q.s.r=F.read_shift(2),q.e.c=F.read_shift(1),F.l++,q.e.r=F.read_shift(2),q):(q.s.c=F.read_shift(2),q.s.r=F.read_shift(2),I==12&&B.qpro&&(F.l+=2),q.e.c=F.read_shift(2),q.e.r=F.read_shift(2),I==12&&B.qpro&&(F.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function c(F){var I=rt(8);return I.write_shift(2,F.s.c),I.write_shift(2,F.s.r),I.write_shift(2,F.e.c),I.write_shift(2,F.e.r),I}function d(F,I,B){var q=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(q[0].c=F.read_shift(1),q[3]=F.read_shift(1),q[0].r=F.read_shift(2),F.l+=2):(q[2]=F.read_shift(1),q[0].c=F.read_shift(2),q[0].r=F.read_shift(2)),q}function u(F,I,B){var q=F.l+I,U=d(F,I,B);if(U[1].t="s",B.vers==20768){F.l++;var W=F.read_shift(1);return U[1].v=F.read_shift(W,"utf8"),U}return B.qpro&&F.l++,U[1].v=F.read_shift(q-F.l,"cstr"),U}function h(F,I,B){var q=rt(7+B.length);q.write_shift(1,255),q.write_shift(2,I),q.write_shift(2,F),q.write_shift(1,39);for(var U=0;U<q.length;++U){var W=B.charCodeAt(U);q.write_shift(1,W>=128?95:W)}return q.write_shift(1,0),q}function m(F,I,B){var q=d(F,I,B);return q[1].v=F.read_shift(2,"i"),q}function f(F,I,B){var q=rt(7);return q.write_shift(1,255),q.write_shift(2,I),q.write_shift(2,F),q.write_shift(2,B,"i"),q}function g(F,I,B){var q=d(F,I,B);return q[1].v=F.read_shift(8,"f"),q}function p(F,I,B){var q=rt(13);return q.write_shift(1,255),q.write_shift(2,I),q.write_shift(2,F),q.write_shift(8,B,"f"),q}function x(F,I,B){var q=F.l+I,U=d(F,I,B);if(U[1].v=F.read_shift(8,"f"),B.qpro)F.l=q;else{var W=F.read_shift(2);w(F.slice(F.l,F.l+W),U),F.l+=W}return U}function y(F,I,B){var q=I&32768;return I&=-32769,I=(q?F:0)+(I>=8192?I-16384:I),(q?"":"$")+(B?oa(I):Ui(I))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(F,I){uo(F,0);for(var B=[],q=0,U="",W="",te="",re="";F.l<F.length;){var le=F[F.l++];switch(le){case 0:B.push(F.read_shift(8,"f"));break;case 1:W=y(I[0].c,F.read_shift(2),!0),U=y(I[0].r,F.read_shift(2),!1),B.push(W+U);break;case 2:{var ke=y(I[0].c,F.read_shift(2),!0),Pe=y(I[0].r,F.read_shift(2),!1);W=y(I[0].c,F.read_shift(2),!0),U=y(I[0].r,F.read_shift(2),!1),B.push(ke+Pe+":"+W+U)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(F.read_shift(2));break;case 6:{for(var He="";le=F[F.l++];)He+=String.fromCharCode(le);B.push('"'+He.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:re=B.pop(),te=B.pop(),B.push(["AND","OR"][le-20]+"("+te+","+re+")");break;default:if(le<32&&b[le])re=B.pop(),te=B.pop(),B.push(te+b[le]+re);else if(v[le]){if(q=v[le][1],q==69&&(q=F[F.l++]),q>B.length){console.error("WK1 bad formula parse 0x"+le.toString(16)+":|"+B.join("|")+"|");return}var Ae=B.slice(-q);B.length-=q,B.push(v[le][0]+"("+Ae.join(",")+")")}else return le<=7?console.error("WK1 invalid opcode "+le.toString(16)):le<=24?console.error("WK1 unsupported op "+le.toString(16)):le<=30?console.error("WK1 invalid opcode "+le.toString(16)):le<=115?console.error("WK1 unsupported function opcode "+le.toString(16)):console.error("WK1 unrecognized opcode "+le.toString(16))}}B.length==1?I[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function _(F){var I=[{c:0,r:0},{t:"n",v:0},0];return I[0].r=F.read_shift(2),I[3]=F[F.l++],I[0].c=F[F.l++],I}function N(F,I){var B=_(F);return B[1].t="s",B[1].v=F.read_shift(I-4,"cstr"),B}function j(F,I,B,q){var U=rt(6+q.length);U.write_shift(2,F),U.write_shift(1,B),U.write_shift(1,I),U.write_shift(1,39);for(var W=0;W<q.length;++W){var te=q.charCodeAt(W);U.write_shift(1,te>=128?95:te)}return U.write_shift(1,0),U}function k(F,I){var B=_(F);B[1].v=F.read_shift(2);var q=B[1].v>>1;if(B[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return B[1].v=q,B}function E(F,I){var B=_(F),q=F.read_shift(4),U=F.read_shift(4),W=F.read_shift(2);if(W==65535)return q===0&&U===3221225472?(B[1].t="e",B[1].v=15):q===0&&U===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var te=W&32768;return W=(W&32767)-16446,B[1].v=(1-te*2)*(U*Math.pow(2,W+32)+q*Math.pow(2,W)),B}function A(F,I,B,q){var U=rt(14);if(U.write_shift(2,F),U.write_shift(1,B),U.write_shift(1,I),q==0)return U.write_shift(4,0),U.write_shift(4,0),U.write_shift(2,65535),U;var W=0,te=0,re=0,le=0;return q<0&&(W=1,q=-q),te=Math.log2(q)|0,q/=Math.pow(2,te-31),le=q>>>0,le&2147483648||(q/=2,++te,le=q>>>0),q-=le,le|=2147483648,le>>>=0,q*=Math.pow(2,32),re=q>>>0,U.write_shift(4,re),U.write_shift(4,le),te+=16383+(W?32768:0),U.write_shift(2,te),U}function C(F,I){var B=E(F);return F.l+=I-14,B}function T(F,I){var B=_(F),q=F.read_shift(4);return B[1].v=q>>6,B}function L(F,I){var B=_(F),q=F.read_shift(8,"f");return B[1].v=q,B}function D(F,I){var B=L(F);return F.l+=I-10,B}function H(F,I){return F[F.l+I-1]==0?F.read_shift(I,"cstr"):""}function X(F,I){var B=F[F.l++];B>I-1&&(B=I-1);for(var q="";q.length<B;)q+=String.fromCharCode(F[F.l++]);return q}function ee(F,I,B){if(!(!B.qpro||I<21)){var q=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var U=F.read_shift(I-21,"cstr");return[q,U]}}function Q(F,I){for(var B={},q=F.l+I;F.l<q;){var U=F.read_shift(2);if(U==14e3){for(B[U]=[0,""],B[U][0]=F.read_shift(2);F[F.l];)B[U][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return B}function G(F,I){var B=rt(5+F.length);B.write_shift(2,14e3),B.write_shift(2,I);for(var q=0;q<F.length;++q){var U=F.charCodeAt(q);B[B.l++]=U>127?95:U}return B[B.l++]=0,B}var z={0:{n:"BOF",f:LK},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},V={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:E},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:C},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:T},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:D},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),Dbe=/^\s|\s$|[\t\n\r]/;function UK(t,e){if(!e.bookSST)return"";var r=[Xn];r[r.length]=Ct("sst",null,{xmlns:vg[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(Dbe)&&(a+=' xml:space="preserve"'),a+=">"+ks(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Mbe(t){return[t.read_shift(4),t.read_shift(4)]}function Bbe(t,e){return e||(e=rt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var Ube=T1e;function $be(t){var e=Ya();ht(e,159,Bbe(t));for(var r=0;r<t.length;++r)ht(e,19,Ube(t[r]));return ht(e,160),e.end()}function qbe(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function $K(t){var e=0,r,n=qbe(t),i=n.length+1,a,o,l,c,d;for(r=mm(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)o=r[a],l=e&16384?1:0,c=e<<1&32767,d=l|c,e=d^o;return e^52811}var zbe=function(){function t(i,a){switch(a.type){case"base64":return e(Qd(i),a);case"binary":return e(i,a);case"buffer":return e(cs&&Buffer.isBuffer(i)?i.toString("binary"):a1(i),a);case"array":return e(jj(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var o=a||{},l=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,h){Array.isArray(l)&&(l[h]=[]);for(var m=/\\\w+\b/g,f=0,g,p=-1;g=m.exec(u);){switch(g[0]){case"\\cell":var x=u.slice(f,m.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++p,x.length){var y={v:x,t:"s"};Array.isArray(l)?l[h][p]=y:l[As({r:h,c:p})]=y}break}f=m.lastIndex}p>d.e.c&&(d.e.c=p)}),l["!ref"]=Gn(d),l}function r(i,a){return Am(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],o=Ys(i["!ref"]),l,c=Array.isArray(i),d=o.s.r;d<=o.e.r;++d){a.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=As({r:d,c:u});l=c?(i[d]||[])[u]:i[h],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(Xd(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function UO(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var Vbe=6,Dd=Vbe;function Lw(t){return Math.floor((t+Math.round(128/Dd)/256)*Dd)}function Rw(t){return Math.floor((t-5)/Dd*100+.5)/100}function X3(t){return Math.round((t*Dd+5)/Dd*256)/256}function qC(t){t.width?(t.wpx=Lw(t.width),t.wch=Rw(t.wpx),t.MDW=Dd):t.wpx?(t.wch=Rw(t.wpx),t.width=X3(t.wch),t.MDW=Dd):typeof t.wch=="number"&&(t.width=X3(t.wch),t.wpx=Lw(t.width),t.MDW=Dd),t.customWidth&&delete t.customWidth}var Hbe=96,qK=Hbe;function Iw(t){return t*96/qK}function zK(t){return t*qK/96}function Wbe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Ct("numFmt",null,{numFmtId:n,formatCode:ks(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ct("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Kbe(t){var e=[];return e[e.length]=Ct("cellXfs",null),t.forEach(function(r){e[e.length]=Ct("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ct("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function VK(t,e){var r=[Xn,Ct("styleSheet",null,{xmlns:vg[0],"xmlns:vt":xi.vt})],n;return t.SSF&&(n=Wbe(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Kbe(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Gbe(t,e){var r=t.read_shift(2),n=la(t);return[r,n]}function Ybe(t,e,r){r||(r=rt(6+4*e.length)),r.write_shift(2,t),yi(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Qbe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=D1e(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(n.underline=o);var l=t.read_shift(1);l>0&&(n.family=l);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=I1e(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=la(t),n}function Xbe(t,e){e||(e=rt(25+4*32)),e.write_shift(2,t.sz*20),M1e(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Fw(t.color,e);var n=0;return n=2,e.write_shift(1,n),yi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Jbe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],e_,Zbe=Uc;function $O(t,e){e||(e=rt(4*3+8*7+16*1)),e_||(e_=TC(Jbe));var r=e_[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Fw({auto:1},e),Fw({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function e2e(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function HK(t,e,r){r||(r=rt(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function vx(t,e){return e||(e=rt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var t2e=Uc;function r2e(t,e){return e||(e=rt(51)),e.write_shift(1,0),vx(null,e),vx(null,e),vx(null,e),vx(null,e),vx(null,e),e.length>e.l?e.slice(0,e.l):e}function s2e(t,e){return e||(e=rt(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Pw(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function n2e(t,e,r){var n=rt(2052);return n.write_shift(4,t),Pw(e,n),Pw(r,n),n.length>n.l?n.slice(0,n.l):n}function i2e(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(ht(t,615,Bl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ht(t,44,Ybe(i,e[i]))}),ht(t,616))}}function a2e(t){var e=1;ht(t,611,Bl(e)),ht(t,43,Xbe({sz:12,color:{theme:1},name:"Calibri",family:2})),ht(t,612)}function o2e(t){var e=2;ht(t,603,Bl(e)),ht(t,45,$O({patternType:"none"})),ht(t,45,$O({patternType:"gray125"})),ht(t,604)}function l2e(t){var e=1;ht(t,613,Bl(e)),ht(t,46,r2e()),ht(t,614)}function c2e(t){var e=1;ht(t,626,Bl(e)),ht(t,47,HK({numFmtId:0},65535)),ht(t,627)}function d2e(t,e){ht(t,617,Bl(e.length)),e.forEach(function(r){ht(t,47,HK(r,0))}),ht(t,618)}function u2e(t){var e=1;ht(t,619,Bl(e)),ht(t,48,s2e({xfId:0,name:"Normal"})),ht(t,620)}function h2e(t){var e=0;ht(t,505,Bl(e)),ht(t,506)}function f2e(t){var e=0;ht(t,508,n2e(e,"TableStyleMedium9","PivotStyleMedium4")),ht(t,509)}function m2e(t,e){var r=Ya();return ht(r,278),i2e(r,t.SSF),a2e(r),o2e(r),l2e(r),c2e(r),d2e(r,e.cellXfs),u2e(r),h2e(r),f2e(r),ht(r,279),r.end()}function WK(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Xn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function p2e(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:la(t)}}function g2e(t){var e=rt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),yi(t.name,e),e.slice(0,e.l)}function x2e(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function v2e(t){var e=rt(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function y2e(t,e){var r=rt(8+2*e.length);return r.write_shift(4,t),yi(e,r),r.slice(0,r.l)}function b2e(t){return t.l+=4,t.read_shift(4)!=0}function w2e(t,e){var r=rt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function N2e(){var t=Ya();return ht(t,332),ht(t,334,Bl(1)),ht(t,335,g2e({name:"XLDAPR",version:12e4,flags:3496657072})),ht(t,336),ht(t,339,y2e(1,"XLDAPR")),ht(t,52),ht(t,35,Bl(514)),ht(t,4096,Bl(0)),ht(t,4097,$o(1)),ht(t,36),ht(t,53),ht(t,340),ht(t,337,w2e(1)),ht(t,51,v2e([[1,0]])),ht(t,338),ht(t,333),t.end()}function KK(){var t=[Xn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function j2e(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=As(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Cp=1024;function GK(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Ct("xml",null,{"xmlns:v":mo.v,"xmlns:o":mo.o,"xmlns:x":mo.x,"xmlns:mv":mo.mv}).replace(/\/>/,">"),Ct("o:shapelayout",Ct("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ct("v:shapetype",[Ct("v:stroke",null,{joinstyle:"miter"}),Ct("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Cp<t*1e3;)Cp+=1e3;return e.forEach(function(a){var o=vi(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?Ct("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Ct("v:fill",c,l),u={on:"t",obscured:"t"};++Cp,i=i.concat(["<v:shape"+Vv({id:"_x0000_s"+Cp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Ct("v:shadow",null,u),Ct("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Di("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Di("x:AutoFill","False"),Di("x:Row",String(o.r)),Di("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function YK(t){var e=[Xn,Ct("comments",null,{xmlns:vg[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=ks(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(ks(c.a))),a.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(Di("t",ks(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)o+=`Reply:
    `+a[l]+`
`;e.push(Di("t",ks(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function _2e(t,e,r){var n=[Xn,Ct("ThreadedComments",null,{xmlns:xi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),n.push(Ct("threadedComment",Di("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function S2e(t){var e=[Xn,Ct("personList",null,{xmlns:xi.TCMNT,"xmlns:x":vg[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Ct("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function k2e(t){var e={};e.iauthor=t.read_shift(4);var r=Fm(t);return e.rfx=r.s,e.ref=As(r.s),t.l+=16,e}function C2e(t,e){return e==null&&(e=rt(36)),e.write_shift(4,t[1].iauthor),bg(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var A2e=la;function E2e(t){return yi(t.slice(0,54))}function T2e(t){var e=Ya(),r=[];return ht(e,628),ht(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ht(e,632,E2e(i.a)))})}),ht(e,631),ht(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:vi(n[0]),e:vi(n[0])};ht(e,635,C2e([a,i])),i.t&&i.t.length>0&&ht(e,637,F1e(i)),ht(e,636),delete i.iauthor})}),ht(e,634),ht(e,629),e.end()}function P2e(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Ts.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var QK=["xlsb","xlsm","xlam","biff8","xla"],F2e=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,o){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var d=a.length>0?parseInt(a,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return l?u+=e.c:--u,c?d+=e.r:--d,i+(l?"":"$")+oa(u)+(c?"":"$")+Ui(d)}return function(i,a){return e=a,i.replace(t,r)}}(),zC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,VC=function(){return function(e,r){return e.replace(zC,function(n,i,a,o,l,c){var d=DC(o)-(a?0:r.c),u=IC(c)-(l?0:r.r),h=u==0?"":l?u+1:"["+u+"]",m=d==0?"":a?d+1:"["+d+"]";return i+"R"+h+"C"+m})}}();function O2e(t,e){return t.replace(zC,function(r,n,i,a,o,l){return n+(i=="$"?i+a:oa(DC(a)+e.c))+(o=="$"?o+l:Ui(IC(l)+e.r))})}function L2e(t){return t.length!=1}function qn(t){t.l+=1}function bh(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function XK(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return JK(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),o=bh(t),l=bh(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function JK(t){var e=bh(t),r=bh(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function R2e(t,e,r){if(r.biff<8)return JK(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=bh(t),o=bh(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function ZK(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return I2e(t);var n=t.read_shift(r&&r.biff==12?4:2),i=bh(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function I2e(t){var e=bh(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function D2e(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function M2e(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return B2e(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),o=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:l}}function B2e(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function U2e(t,e,r){var n=(t[t.l++]&96)>>5,i=XK(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function $2e(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var o=XK(t,a,r);return[n,i,o]}function q2e(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function z2e(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function V2e(t,e,r){var n=(t[t.l++]&96)>>5,i=R2e(t,e-1,r);return[n,i]}function H2e(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function qO(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function W2e(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function K2e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function G2e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Y2e(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Q2e(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function eG(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function X2e(t){return t.read_shift(2),eG(t)}function J2e(t){return t.read_shift(2),eG(t)}function Z2e(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=ZK(t,0,r);return[n,i]}function ewe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=M2e(t,0,r);return[n,i]}function twe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=ZK(t,0,r);return[n,i,a]}function rwe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[rNe[i],sG[i],n]}function swe(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:nwe(t);return[i,(a[0]===0?sG:tNe)[a[1]]]}function nwe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function iwe(t,e,r){t.l+=r&&r.biff==2?3:4}function awe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function owe(t){return t.l++,c1[t.read_shift(1)]}function lwe(t){return t.l++,t.read_shift(2)}function cwe(t){return t.l++,t.read_shift(1)!==0}function dwe(t){return t.l++,wg(t)}function uwe(t,e,r){return t.l++,IK(t,e-1,r)}function hwe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=tbe(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=c1[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=wg(t);break;case 2:r[1]=ibe(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fwe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?Fm:lbe)(t));return i}function mwe(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var l=0;l!=i;++l)o[a][l]=hwe(t,r.biff);return o}function pwe(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function gwe(t,e,r){if(r.biff==5)return xwe(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function xwe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function vwe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function ywe(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function bwe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function wwe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var Nwe=Uc,jwe=Uc,_we=Uc;function d1(t,e,r){return t.l+=2,[D2e(t)]}function HC(t){return t.l+=6,[]}var Swe=d1,kwe=HC,Cwe=HC,Awe=d1;function tG(t){return t.l+=2,[LK(t),t.read_shift(2)&1]}var Ewe=d1,Twe=tG,Pwe=HC,Fwe=d1,Owe=d1,Lwe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Rwe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),o=Lwe[r>>2&31];return{ixti:e,coltype:r&3,rt:o,idx:n,c:i,C:a}}function Iwe(t){return t.l+=2,[t.read_shift(4)]}function Dwe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Mwe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Bwe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Uwe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function $we(t){return t.l+=4,[0,0]}var zO={1:{n:"PtgExp",f:awe},2:{n:"PtgTbl",f:_we},3:{n:"PtgAdd",f:qn},4:{n:"PtgSub",f:qn},5:{n:"PtgMul",f:qn},6:{n:"PtgDiv",f:qn},7:{n:"PtgPower",f:qn},8:{n:"PtgConcat",f:qn},9:{n:"PtgLt",f:qn},10:{n:"PtgLe",f:qn},11:{n:"PtgEq",f:qn},12:{n:"PtgGe",f:qn},13:{n:"PtgGt",f:qn},14:{n:"PtgNe",f:qn},15:{n:"PtgIsect",f:qn},16:{n:"PtgUnion",f:qn},17:{n:"PtgRange",f:qn},18:{n:"PtgUplus",f:qn},19:{n:"PtgUminus",f:qn},20:{n:"PtgPercent",f:qn},21:{n:"PtgParen",f:qn},22:{n:"PtgMissArg",f:qn},23:{n:"PtgStr",f:uwe},26:{n:"PtgSheet",f:Dwe},27:{n:"PtgEndSheet",f:Mwe},28:{n:"PtgErr",f:owe},29:{n:"PtgBool",f:cwe},30:{n:"PtgInt",f:lwe},31:{n:"PtgNum",f:dwe},32:{n:"PtgArray",f:H2e},33:{n:"PtgFunc",f:rwe},34:{n:"PtgFuncVar",f:swe},35:{n:"PtgName",f:pwe},36:{n:"PtgRef",f:Z2e},37:{n:"PtgArea",f:U2e},38:{n:"PtgMemArea",f:vwe},39:{n:"PtgMemErr",f:Nwe},40:{n:"PtgMemNoMem",f:jwe},41:{n:"PtgMemFunc",f:ywe},42:{n:"PtgRefErr",f:bwe},43:{n:"PtgAreaErr",f:q2e},44:{n:"PtgRefN",f:ewe},45:{n:"PtgAreaN",f:V2e},46:{n:"PtgMemAreaN",f:Bwe},47:{n:"PtgMemNoMemN",f:Uwe},57:{n:"PtgNameX",f:gwe},58:{n:"PtgRef3d",f:twe},59:{n:"PtgArea3d",f:$2e},60:{n:"PtgRefErr3d",f:wwe},61:{n:"PtgAreaErr3d",f:z2e},255:{}},qwe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zwe={1:{n:"PtgElfLel",f:tG},2:{n:"PtgElfRw",f:Fwe},3:{n:"PtgElfCol",f:Swe},6:{n:"PtgElfRwV",f:Owe},7:{n:"PtgElfColV",f:Awe},10:{n:"PtgElfRadical",f:Ewe},11:{n:"PtgElfRadicalS",f:Pwe},13:{n:"PtgElfColS",f:kwe},15:{n:"PtgElfColSV",f:Cwe},16:{n:"PtgElfRadicalLel",f:Twe},25:{n:"PtgList",f:Rwe},29:{n:"PtgSxName",f:Iwe},255:{}},Vwe={0:{n:"PtgAttrNoop",f:$we},1:{n:"PtgAttrSemi",f:Q2e},2:{n:"PtgAttrIf",f:G2e},4:{n:"PtgAttrChoose",f:W2e},8:{n:"PtgAttrGoto",f:K2e},16:{n:"PtgAttrSum",f:iwe},32:{n:"PtgAttrBaxcel",f:qO},33:{n:"PtgAttrBaxcel",f:qO},64:{n:"PtgAttrSpace",f:X2e},65:{n:"PtgAttrSpaceSemi",f:J2e},128:{n:"PtgAttrIfError",f:Y2e},255:{}};function Hwe(t,e,r,n){if(n.biff<8)return Uc(t,e);for(var i=t.l+e,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=mwe(t,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=fwe(t,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=t.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return e=i-t.l,e!==0&&a.push(Uc(t,e)),a}function Wwe(t,e,r){for(var n=t.l+e,i,a,o=[];n!=t.l;)e=n-t.l,a=t[t.l],i=zO[a]||zO[qwe[a]],(a===24||a===25)&&(i=(a===24?zwe:Vwe)[t[t.l+1]]),!i||!i.f?Uc(t,e):o.push([i.n,i.f(t,e,r)]);return o}function Kwe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Gwe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Ywe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function rG(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function VO(t,e,r){var n=rG(t,e,r);return n=="#REF"?n:Ywe(n,r)}function W0(t,e,r,n,i){var a=i&&i.biff||8,o={s:{c:0,r:0}},l=[],c,d,u,h=0,m=0,f,g="";if(!t[0]||!t[0][0])return"";for(var p=-1,x="",y=0,v=t[0].length;y<v;++y){var b=t[0][y];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),d=l.pop(),p>=0){switch(t[0][p][1][0]){case 0:x=bn(" ",t[0][p][1][1]);break;case 1:x=bn("\r",t[0][p][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}d=d+x,p=-1}l.push(d+Gwe[b[0]]+c);break;case"PtgIsect":c=l.pop(),d=l.pop(),l.push(d+" "+c);break;case"PtgUnion":c=l.pop(),d=l.pop(),l.push(d+","+c);break;case"PtgRange":c=l.pop(),d=l.pop(),l.push(d+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ev(b[1][1],o,i),l.push(tv(u,a));break;case"PtgRefN":u=r?ev(b[1][1],r,i):b[1][1],l.push(tv(u,a));break;case"PtgRef3d":h=b[1][1],u=ev(b[1][2],o,i),g=VO(n,h,i),l.push(g+"!"+tv(u,a));break;case"PtgFunc":case"PtgFuncVar":var w=b[1][0],_=b[1][1];w||(w=0),w&=127;var N=w==0?[]:l.slice(-w);l.length-=w,_==="User"&&(_=N.shift()),l.push(_+"("+N.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":f=AO(b[1][1],r?{s:r}:o,i),l.push(J4(f,i));break;case"PtgArea":f=AO(b[1][1],o,i),l.push(J4(f,i));break;case"PtgArea3d":h=b[1][1],f=b[1][2],g=VO(n,h,i),l.push(g+"!"+J4(f,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=b[1][2];var j=(n.names||[])[m-1]||(n[0]||[])[m],k=j?j.Name:"SH33TJSNAME"+String(m);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var E=b[1][1];m=b[1][2];var A;if(i.biff<=5)E<0&&(E=-E),n[E]&&(A=n[E][m]);else{var C="";if(((n[E]||[])[0]||[])[0]==14849||(((n[E]||[])[0]||[])[0]==1025?n[E][m]&&n[E][m].itab>0&&(C=n.SheetNames[n[E][m].itab-1]+"!"):C=n.SheetNames[m-1]+"!"),n[E]&&n[E][m])C+=n[E][m].Name;else if(n[0]&&n[0][m])C+=n[0][m].Name;else{var T=(rG(n,E,i)||"").split(";;");T[m-1]?C=T[m-1]:C+="SH33TJSERRX"}l.push(C);break}A||(A={Name:"SH33TJSERRY"}),l.push(A.Name);break;case"PtgParen":var L="(",D=")";if(p>=0){switch(x="",t[0][p][1][0]){case 2:L=bn(" ",t[0][p][1][1])+L;break;case 3:L=bn("\r",t[0][p][1][1])+L;break;case 4:D=bn(" ",t[0][p][1][1])+D;break;case 5:D=bn("\r",t[0][p][1][1])+D;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][p][1][0])}p=-1}l.push(L+l.pop()+D);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var H={c:r.c,r:r.r};if(n.sharedf[As(u)]){var X=n.sharedf[As(u)];l.push(W0(X,o,H,n,i))}else{var ee=!1;for(c=0;c!=n.arrayf.length;++c)if(d=n.arrayf[c],!(u.c<d[0].s.c||u.c>d[0].e.c)&&!(u.r<d[0].s.r||u.r>d[0].e.r)){l.push(W0(d[1],o,H,n,i)),ee=!0;break}ee||l.push(b[1])}break;case"PtgArray":l.push("{"+Kwe(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&Q.indexOf(t[0][y][0])==-1){b=t[0][p];var G=!0;switch(b[1][0]){case 4:G=!1;case 0:x=bn(" ",b[1][1]);break;case 5:G=!1;case 1:x=bn("\r",b[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((G?x:"")+l.pop()+(G?"":x)),p=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function Qwe(t){if(t==null){var e=rt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return pm(t);return pm(0)}function Xwe(t,e,r,n,i){var a=gm(e,r,i),o=Qwe(t.v),l=rt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var d=rt(t.bf.length),u=0;u<t.bf.length;++u)d[u]=t.bf[u];var h=Ii([a,o,l,d]);return h}function _j(t,e,r){var n=t.read_shift(4),i=Wwe(t,n,r),a=t.read_shift(4),o=a>0?Hwe(t,a,i,r):null;return[i,o]}var Jwe=_j,Sj=_j,Zwe=_j,eNe=_j,tNe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},sG={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},rNe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function sNe(t){var e="of:="+t.replace(zC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function nNe(t){return t.replace(/\./,"!")}var rv=typeof Map<"u";function WC(t,e,r){var n=0,i=t.length;if(r){if(rv?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=rv?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(rv?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function kj(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Dd=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Rw(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=X3(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function nG(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Lh(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){ZW(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function iNe(t,e,r){if(t&&t["!ref"]){var n=Ys(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function aNe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Gn(t[r])+'"/>';return e+"</mergeCells>"}function oNe(t,e,r,n,i){var a=!1,o={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,o.codeName=zv(ks(c))}if(t&&t["!outline"]){var d={summaryBelow:1,summaryRight:1};t["!outline"].above&&(d.summaryBelow=0),t["!outline"].left&&(d.summaryRight=0),l=(l||"")+Ct("outlinePr",null,d)}!a&&!l||(i[i.length]=Ct("sheetPr",l,o))}var lNe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],cNe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function dNe(t){var e={sheet:1};return lNe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),cNe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=$K(t.password).toString(16).toUpperCase()),Ct("sheetProtection",null,e)}function uNe(t){return nG(t),Ct("pageMargins",null,t)}function hNe(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Ct("col",null,kj(i,n)));return r[r.length]="</cols>",r.join("")}function fNe(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Gn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Co(i);o.s.r==o.e.r&&(o.e.r=Co(e["!ref"]).e.r,i=Gn(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ct("autoFilter",null,{ref:i})}function mNe(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ct("sheetViews",Ct("sheetView",null,i),{})}function pNe(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,o=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=c1[t.v];break;case"d":n&&n.cellDates?i=Ca(t.v,-1).toISOString():(t=Xa(t),t.t="n",i=""+(t.v=Qa(Ca(t.v)))),typeof t.z>"u"&&(t.z=jn[14]);break;default:i=t.v;break}var l=Di("v",ks(i)),c={r:e},d=Lh(n.cellXfs,t,n);switch(d!==0&&(c.s=d),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Di("v",""+WC(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=a&&(t.t=a,t.v=o),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=Ct("f",ks(t.f),u)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),Ct("c",l,c)}function gNe(t,e,r,n){var i=[],a=[],o=Ys(t["!ref"]),l="",c,d="",u=[],h=0,m=0,f=t["!rows"],g=Array.isArray(t),p={r:d},x,y=-1;for(m=o.s.c;m<=o.e.c;++m)u[m]=oa(m);for(h=o.s.r;h<=o.e.r;++h){for(a=[],d=Ui(h),m=o.s.c;m<=o.e.c;++m){c=u[m]+d;var v=g?(t[h]||[])[m]:t[c];v!==void 0&&(l=pNe(v,c,t,e))!=null&&a.push(l)}(a.length>0||f&&f[h])&&(p={r:d},f&&f[h]&&(x=f[h],x.hidden&&(p.hidden=1),y=-1,x.hpx?y=Iw(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(p.ht=y,p.customHeight=1),x.level&&(p.outlineLevel=x.level)),i[i.length]=Ct("row",a.join(""),p))}if(f)for(;h<f.length;++h)f&&f[h]&&(p={r:h+1},x=f[h],x.hidden&&(p.hidden=1),y=-1,x.hpx?y=Iw(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(p.ht=y,p.customHeight=1),x.level&&(p.outlineLevel=x.level),i[i.length]=Ct("row","",p));return i.join("")}function iG(t,e,r,n){var i=[Xn,Ct("worksheet",null,{xmlns:vg[0],"xmlns:r":xi.r})],a=r.SheetNames[t],o=0,l="",c=r.Sheets[a];c==null&&(c={});var d=c["!ref"]||"A1",u=Ys(d);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),d=Gn(u)}n||(n={}),c["!comments"]=[];var h=[];oNe(c,r,t,e,i),i[i.length]=Ct("dimension",null,{ref:d}),i[i.length]=mNe(c,e,t,r),e.sheetFormat&&(i[i.length]=Ct("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=hNe(c,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=gNe(c,e),l.length>0&&(i[i.length]=l)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=dNe(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=fNe(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=aNe(c["!merges"]));var m=-1,f,g=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(f={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=_s(n,-1,ks(p[1].Target).replace(/#.*$/,""),ns.HLINK),f["r:id"]="rId"+g),(m=p[1].Target.indexOf("#"))>-1&&(f.location=ks(p[1].Target.slice(m+1))),p[1].Tooltip&&(f.tooltip=ks(p[1].Tooltip)),i[i.length]=Ct("hyperlink",null,f))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=uNe(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Di("ignoredErrors",Ct("ignoredError",null,{numberStoredAsText:1,sqref:d}))),h.length>0&&(g=_s(n,-1,"../drawings/drawing"+(t+1)+".xml",ns.DRAW),i[i.length]=Ct("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=h),c["!comments"].length>0&&(g=_s(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ns.VML),i[i.length]=Ct("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function xNe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function vNe(t,e,r){var n=rt(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=Iw(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var d={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var h=-1,m=-1,f=u<<10;f<u+1<<10;++f){d.c=f;var g=Array.isArray(r)?(r[d.r]||[])[d.c]:r[As(d)];g&&(h<0&&(h=f),m=f)}h<0||(++l,n.write_shift(4,h),n.write_shift(4,m))}var p=n.l;return n.l=c,n.write_shift(4,l),n.l=p,n.length>n.l?n.slice(0,n.l):n}function yNe(t,e,r,n){var i=vNe(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&ht(t,0,i)}var bNe=Fm,wNe=bg;function NNe(){}function jNe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=O1e(t),r}function _Ne(t,e,r){r==null&&(r=rt(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Fw({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),bK(t,r),r.slice(0,r.l)}function SNe(t){var e=tl(t);return[e]}function kNe(t,e,r){return r==null&&(r=rt(8)),Em(e,r)}function CNe(t){var e=Tm(t);return[e]}function ANe(t,e,r){return r==null&&(r=rt(4)),Pm(e,r)}function ENe(t){var e=tl(t),r=t.read_shift(1);return[e,r,"b"]}function TNe(t,e,r){return r==null&&(r=rt(9)),Em(e,r),r.write_shift(1,t.v?1:0),r}function PNe(t){var e=Tm(t),r=t.read_shift(1);return[e,r,"b"]}function FNe(t,e,r){return r==null&&(r=rt(5)),Pm(e,r),r.write_shift(1,t.v?1:0),r}function ONe(t){var e=tl(t),r=t.read_shift(1);return[e,r,"e"]}function LNe(t,e,r){return r==null&&(r=rt(9)),Em(e,r),r.write_shift(1,t.v),r}function RNe(t){var e=Tm(t),r=t.read_shift(1);return[e,r,"e"]}function INe(t,e,r){return r==null&&(r=rt(8)),Pm(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function DNe(t){var e=tl(t),r=t.read_shift(4);return[e,r,"s"]}function MNe(t,e,r){return r==null&&(r=rt(12)),Em(e,r),r.write_shift(4,e.v),r}function BNe(t){var e=Tm(t),r=t.read_shift(4);return[e,r,"s"]}function UNe(t,e,r){return r==null&&(r=rt(8)),Pm(e,r),r.write_shift(4,e.v),r}function $Ne(t){var e=tl(t),r=wg(t);return[e,r,"n"]}function qNe(t,e,r){return r==null&&(r=rt(16)),Em(e,r),pm(t.v,r),r}function zNe(t){var e=Tm(t),r=wg(t);return[e,r,"n"]}function VNe(t,e,r){return r==null&&(r=rt(12)),Pm(e,r),pm(t.v,r),r}function HNe(t){var e=tl(t),r=wK(t);return[e,r,"n"]}function WNe(t,e,r){return r==null&&(r=rt(12)),Em(e,r),NK(t.v,r),r}function KNe(t){var e=Tm(t),r=wK(t);return[e,r,"n"]}function GNe(t,e,r){return r==null&&(r=rt(8)),Pm(e,r),NK(t.v,r),r}function YNe(t){var e=tl(t),r=MC(t);return[e,r,"is"]}function QNe(t){var e=tl(t),r=la(t);return[e,r,"str"]}function XNe(t,e,r){return r==null&&(r=rt(12+4*t.v.length)),Em(e,r),yi(t.v,r),r.length>r.l?r.slice(0,r.l):r}function JNe(t){var e=Tm(t),r=la(t);return[e,r,"str"]}function ZNe(t,e,r){return r==null&&(r=rt(8+4*t.v.length)),Pm(e,r),yi(t.v,r),r.length>r.l?r.slice(0,r.l):r}function eje(t,e,r){var n=t.l+e,i=tl(t);i.r=r["!row"];var a=t.read_shift(1),o=[i,a,"b"];if(r.cellFormula){t.l+=2;var l=Sj(t,n-t.l,r);o[3]=W0(l,null,i,r.supbooks,r)}else t.l=n;return o}function tje(t,e,r){var n=t.l+e,i=tl(t);i.r=r["!row"];var a=t.read_shift(1),o=[i,a,"e"];if(r.cellFormula){t.l+=2;var l=Sj(t,n-t.l,r);o[3]=W0(l,null,i,r.supbooks,r)}else t.l=n;return o}function rje(t,e,r){var n=t.l+e,i=tl(t);i.r=r["!row"];var a=wg(t),o=[i,a,"n"];if(r.cellFormula){t.l+=2;var l=Sj(t,n-t.l,r);o[3]=W0(l,null,i,r.supbooks,r)}else t.l=n;return o}function sje(t,e,r){var n=t.l+e,i=tl(t);i.r=r["!row"];var a=la(t),o=[i,a,"str"];if(r.cellFormula){t.l+=2;var l=Sj(t,n-t.l,r);o[3]=W0(l,null,i,r.supbooks,r)}else t.l=n;return o}var nje=Fm,ije=bg;function aje(t,e){return e==null&&(e=rt(4)),e.write_shift(4,t),e}function oje(t,e){var r=t.l+e,n=Fm(t),i=BC(t),a=la(t),o=la(t),l=la(t);t.l=r;var c={rfx:n,relId:i,loc:a,display:l};return o&&(c.Tooltip=o),c}function lje(t,e){var r=rt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));bg({s:vi(t[0]),e:vi(t[0])},r),UC("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return yi(i||"",r),yi(t[1].Tooltip||"",r),yi("",r),r.slice(0,r.l)}function cje(){}function dje(t,e,r){var n=t.l+e,i=jK(t),a=t.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var l=Jwe(t,n-t.l,r);o[1]=l}else t.l=n;return o}function uje(t,e,r){var n=t.l+e,i=Fm(t),a=[i];if(r.cellFormula){var o=eNe(t,n-t.l,r);a[1]=o,t.l=n}else t.l=n;return a}function hje(t,e,r){r==null&&(r=rt(18));var n=kj(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var aG=["left","right","top","bottom","header","footer"];function fje(t){var e={};return aG.forEach(function(r){e[r]=wg(t)}),e}function mje(t,e){return e==null&&(e=rt(6*8)),nG(t),aG.forEach(function(r){pm(t[r],e)}),e}function pje(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function gje(t,e,r){r==null&&(r=rt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function xje(t){var e=rt(24);return e.write_shift(4,4),e.write_shift(4,1),bg(t,e),e}function vje(t,e){return e==null&&(e=rt(16*4+2)),e.write_shift(2,t.password?$K(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function yje(){}function bje(){}function wje(t,e,r,n,i,a,o){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=Xa(e),e.z=e.z||jn[14],e.v=Qa(Ca(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r,c:n};switch(c.s=Lh(i.cellXfs,e,i),e.l&&a["!links"].push([As(c),e.l]),e.c&&a["!comments"].push([As(c),e.c]),e.t){case"s":case"str":return i.bookSST?(l=WC(i.Strings,e.v,i.revStrings),c.t="s",c.v=l,o?ht(t,18,UNe(e,c)):ht(t,7,MNe(e,c))):(c.t="str",o?ht(t,17,ZNe(e,c)):ht(t,6,XNe(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?ht(t,13,GNe(e,c)):ht(t,2,WNe(e,c)):o?ht(t,16,VNe(e,c)):ht(t,5,qNe(e,c)),!0;case"b":return c.t="b",o?ht(t,15,FNe(e,c)):ht(t,4,TNe(e,c)),!0;case"e":return c.t="e",o?ht(t,14,INe(e,c)):ht(t,3,LNe(e,c)),!0}return o?ht(t,12,ANe(e,c)):ht(t,1,kNe(e,c)),!0}function Nje(t,e,r,n){var i=Ys(e["!ref"]||"A1"),a,o="",l=[];ht(t,145);var c=Array.isArray(e),d=i.e.r;e["!rows"]&&(d=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=d;++u){o=Ui(u),yNe(t,e,i,u);var h=!1;if(u<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){u===i.s.r&&(l[m]=oa(m)),a=l[m]+o;var f=c?(e[u]||[])[m]:e[a];if(!f){h=!1;continue}h=wje(t,f,u,m,n,e,h)}}ht(t,146)}function jje(t,e){!e||!e["!merges"]||(ht(t,177,aje(e["!merges"].length)),e["!merges"].forEach(function(r){ht(t,176,ije(r))}),ht(t,178))}function _je(t,e){!e||!e["!cols"]||(ht(t,390),e["!cols"].forEach(function(r,n){r&&ht(t,60,hje(n,r))}),ht(t,391))}function Sje(t,e){!e||!e["!ref"]||(ht(t,648),ht(t,649,xje(Ys(e["!ref"]))),ht(t,650))}function kje(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=_s(r,-1,n[1].Target.replace(/#.*$/,""),ns.HLINK);ht(t,494,lje(n,i))}}),delete e["!links"]}function Cje(t,e,r,n){if(e["!comments"].length>0){var i=_s(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ns.VML);ht(t,551,UC("rId"+i)),e["!legacy"]=i}}function Aje(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Gn(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=Co(a);l.s.r==l.e.r&&(l.e.r=Co(e["!ref"]).e.r,a=Gn(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ht(t,161,bg(Ys(a))),ht(t,162)}}function Eje(t,e,r){ht(t,133),ht(t,137,gje(e,r)),ht(t,138),ht(t,134)}function Tje(t,e){e["!protect"]&&ht(t,535,vje(e["!protect"]))}function Pje(t,e,r,n){var i=Ya(),a=r.SheetNames[t],o=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var c=Ys(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ht(i,129),(r.vbaraw||o["!outline"])&&ht(i,147,_Ne(l,o["!outline"])),ht(i,148,wNe(c)),Eje(i,o,r.Workbook),_je(i,o),Nje(i,o,t,e),Tje(i,o),Aje(i,o,r,t),jje(i,o),kje(i,o,n),o["!margins"]&&ht(i,476,mje(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Sje(i,o),Cje(i,o,t,n),ht(i,130),i.end()}function Fje(t,e){t.l+=10;var r=la(t);return{name:r}}var Oje=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Lje(t){return!t.Workbook||!t.Workbook.WBProps?"false":u1e(t.Workbook.WBProps.date1904)?"true":"false"}var Rje="][*?/\\".split("");function oG(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Rje.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ije(t,e,r){t.forEach(function(n,i){oG(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=e&&e[i]&&e[i].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function Dje(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Ije(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)iNe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function lG(t){var e=[Xn];e[e.length]=Ct("workbook",null,{xmlns:vg[0],"xmlns:r":xi.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Oje.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ct("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var o={name:ks(t.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Ct("sheet",null,o)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=Ct("definedName",ks(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Mje(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Q3(t),r.name=la(t),r}function Bje(t,e){return e||(e=rt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),UC(t.strRelID,e),yi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Uje(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?la(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function $je(t,e){e||(e=rt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),bK(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function qje(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=L1e(t),o=Zwe(t,0,r),l=BC(t);t.l=n;var c={Name:a,Ptg:o};return i<268435455&&(c.Sheet=i),l&&(c.Comment=l),c}function zje(t,e){ht(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ht(t,156,Bje(i))}ht(t,144)}function Vje(t,e){e||(e=rt(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return yi("SheetJS",e),yi(_w.version,e),yi(_w.version,e),yi("7262",e),e.length>e.l?e.slice(0,e.l):e}function Hje(t,e){e||(e=rt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function Wje(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(ht(t,135),ht(t,158,Hje(i)),ht(t,136))}}function Kje(t,e){var r=Ya();return ht(r,131),ht(r,128,Vje()),ht(r,153,$je(t.Workbook&&t.Workbook.WBProps||null)),Wje(r,t),zje(r,t),ht(r,132),r.end()}function Gje(t,e,r){return(e.slice(-4)===".bin"?Kje:lG)(t)}function Yje(t,e,r,n,i){return(e.slice(-4)===".bin"?Pje:iG)(t,r,n,i)}function Qje(t,e,r){return(e.slice(-4)===".bin"?m2e:VK)(t,r)}function Xje(t,e,r){return(e.slice(-4)===".bin"?$be:UK)(t,r)}function Jje(t,e,r){return(e.slice(-4)===".bin"?T2e:YK)(t)}function Zje(t){return(t.slice(-4)===".bin"?N2e:KK)()}function e5e(t,e){var r=[];return t.Props&&r.push(Q1e(t.Props,e)),t.Custprops&&r.push(X1e(t.Props,t.Custprops)),r.join("")}function t5e(){return""}function r5e(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(Ct("NumberFormat",null,{"ss:Format":ks(jn[n.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(Ct("Style",a.join(""),o))}),Ct("Styles",r.join(""))}function cG(t){return Ct("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+VC(t.Ref,{r:0,c:0})})}function s5e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(cG(i)))}return Ct("Names",r.join(""))}function n5e(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],o=0;o<i.length;++o){var l=i[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(cG(l)))}return a.join("")}function i5e(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Ct("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Ct("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Ct("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Ct("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Di("ProtectContents","True")),t["!protect"].objects&&i.push(Di("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Di("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Di("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Di("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){t["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Ct("WorksheetOptions",i.join(""),{xmlns:mo.x})}function a5e(t){return t.map(function(e){var r=d1e(e.t||""),n=Ct("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ct("Comment",n,{"ss:Author":e.a})}).join("")}function o5e(t,e,r,n,i,a,o){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+ks(VC(t.f,o))),t.F&&t.F.slice(0,e.length)==e){var c=vi(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=ks(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=ks(t.l.Tooltip))),r["!merges"])for(var d=r["!merges"],u=0;u!=d.length;++u)d[u].s.c!=o.c||d[u].s.r!=o.r||(d[u].e.c>d[u].s.c&&(l["ss:MergeAcross"]=d[u].e.c-d[u].s.c),d[u].e.r>d[u].s.r&&(l["ss:MergeDown"]=d[u].e.r-d[u].s.r));var h="",m="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",m=String(t.v);break;case"b":h="Boolean",m=t.v?"1":"0";break;case"e":h="Error",m=c1[t.v];break;case"d":h="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||jn[14]);break;case"s":h="String",m=c1e(t.v||"");break}var f=Lh(n.cellXfs,t,n);l["ss:StyleID"]="s"+(21+f),l["ss:Index"]=o.c+1;var g=t.v!=null?m:"",p=t.t=="z"?"":'<Data ss:Type="'+h+'">'+g+"</Data>";return(t.c||[]).length>0&&(p+=a5e(t.c)),Ct("Cell",p,l)}function l5e(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=zK(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function c5e(t,e,r,n){if(!t["!ref"])return"";var i=Ys(t["!ref"]),a=t["!merges"]||[],o=0,l=[];t["!cols"]&&t["!cols"].forEach(function(x,y){qC(x);var v=!!x.width,b=kj(y,x),w={"ss:Index":y+1};v&&(w["ss:Width"]=Lw(b.width)),x.hidden&&(w["ss:Hidden"]="1"),l.push(Ct("Column",null,w))});for(var c=Array.isArray(t),d=i.s.r;d<=i.e.r;++d){for(var u=[l5e(d,(t["!rows"]||[])[d])],h=i.s.c;h<=i.e.c;++h){var m=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>h)&&!(a[o].s.r>d)&&!(a[o].e.c<h)&&!(a[o].e.r<d)){(a[o].s.c!=h||a[o].s.r!=d)&&(m=!0);break}if(!m){var f={r:d,c:h},g=As(f),p=c?(t[d]||[])[h]:t[g];u.push(o5e(p,g,t,e,r,n,f))}}u.push("</Row>"),u.length>2&&l.push(u.join(""))}return l.join("")}function d5e(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],o=a?n5e(a,e,t,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?c5e(a,e,t,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(i5e(a,e,t,r)),n.join("")}function u5e(t,e){e||(e={}),t.SSF||(t.SSF=Xa(jn)),t.SSF&&(wj(),bj(t.SSF),e.revssf=Nj(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Lh(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(e5e(t,e)),r.push(t5e()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Ct("Worksheet",d5e(n,e,t),{"ss:Name":ks(t.SheetNames[n])}));return r[2]=r5e(t,e),r[3]=s5e(t),Xn+Ct("Workbook",r.join(""),{xmlns:mo.ss,"xmlns:o":mo.o,"xmlns:x":mo.x,"xmlns:ss":mo.ss,"xmlns:dt":mo.dt,"xmlns:html":mo.html})}var t_={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function h5e(t,e){var r=[],n=[],i=[],a=0,o,l=xO(TO,"n"),c=xO(PO,"n");if(t.Props)for(o=zi(t.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],t.Props[o[a]]]);if(t.Custprops)for(o=zi(t.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],t.Custprops[o[a]]]);var d=[];for(a=0;a<i.length;++a)OK.indexOf(i[a][0])>-1||TK.indexOf(i[a][0])>-1||i[a][1]!=null&&d.push(i[a]);n.length&&Ts.utils.cfb_add(e,"/SummaryInformation",IO(n,t_.SI,c,PO)),(r.length||d.length)&&Ts.utils.cfb_add(e,"/DocumentSummaryInformation",IO(r,t_.DSI,l,TO,d.length?d:null,t_.UDI))}function f5e(t,e){var r=e||{},n=Ts.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ts.utils.cfb_add(n,i,dG(t,r)),r.biff==8&&(t.Props||t.Custprops)&&h5e(t,n),r.biff==8&&t.vbaraw&&P2e(n,Ts.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var m5e={0:{f:xNe},1:{f:SNe},2:{f:HNe},3:{f:ONe},4:{f:ENe},5:{f:$Ne},6:{f:QNe},7:{f:DNe},8:{f:sje},9:{f:rje},10:{f:eje},11:{f:tje},12:{f:CNe},13:{f:KNe},14:{f:RNe},15:{f:PNe},16:{f:zNe},17:{f:JNe},18:{f:BNe},19:{f:MC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:qje},40:{},42:{},43:{f:Qbe},44:{f:Gbe},45:{f:Zbe},46:{f:t2e},47:{f:e2e},48:{},49:{f:C1e},50:{},51:{f:x2e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Abe},62:{f:YNe},63:{f:j2e},64:{f:yje},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Uc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:pje},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:jNe},148:{f:bNe,p:16},151:{f:cje},152:{},153:{f:Uje},154:{},155:{},156:{f:Mje},157:{},158:{},159:{T:1,f:Mbe},160:{T:-1},161:{T:1,f:Fm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:nje},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:p2e},336:{T:-1},337:{f:b2e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Q3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Nbe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:dje},427:{f:uje},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:fje},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:NNe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:oje},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Q3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:A2e},633:{T:1},634:{T:-1},635:{T:1,f:k2e},636:{T:-1},637:{f:P1e},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Fje},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:bje},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Et(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&RC(r)&&t.push(r)}}function p5e(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return Et(t,e,r,i);var a=e;if(!isNaN(a)){for(var o=r.parts||[],l=0,c=0,d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;var u=t.next(4);for(u.write_shift(2,a),u.write_shift(2,d),t.push(r.slice(c,c+d)),c+=d;c<i;){for(u=t.next(4),u.write_shift(2,60),d=0;d+(o[l]||8224)<=8224;)d+=o[l]||8224,l++;u.write_shift(2,d),t.push(r.slice(c,c+d)),c+=d}}}function u1(t,e,r){return t||(t=rt(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function g5e(t,e,r,n){var i=rt(9);return u1(i,t,e),RK(r,n||"b",i),i}function x5e(t,e,r){var n=rt(8+2*r.length);return u1(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function v5e(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Qa(Ca(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Et(t,2,Fbe(r,n,i)):Et(t,3,Pbe(r,n,i));return;case"b":case"e":Et(t,5,g5e(r,n,e.v,e.t));return;case"s":case"str":Et(t,4,x5e(r,n,(e.v||"").slice(0,255)));return}Et(t,1,u1(null,r,n))}function y5e(t,e,r,n){var i=Array.isArray(e),a=Ys(e["!ref"]||"A1"),o,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=Gn(a)}for(var d=a.s.r;d<=a.e.r;++d){l=Ui(d);for(var u=a.s.c;u<=a.e.c;++u){d===a.s.r&&(c[u]=oa(u)),o=c[u]+l;var h=i?(e[d]||[])[u]:e[o];h&&v5e(t,h,d,u)}}}function b5e(t,e){for(var r=e||{},n=Ya(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Et(n,r.biff==4?1033:r.biff==3?521:9,$C(t,16,r)),y5e(n,t.Sheets[t.SheetNames[i]],i,r),Et(n,10),n.end()}function w5e(t,e,r){Et(t,49,mbe({sz:12,name:"Arial"},r))}function N5e(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Et(t,1054,xbe(i,e[i],r))})}function j5e(t,e){var r=rt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Et(t,2151,r),r=rt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),MK(Ys(e["!ref"]||"A1"),r),r.write_shift(4,4),Et(t,2152,r)}function _5e(t,e){for(var r=0;r<16;++r)Et(t,224,MO({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Et(t,224,MO(n,0,e))})}function S5e(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Et(t,440,Sbe(n)),n[1].Tooltip&&Et(t,2048,kbe(n))}delete e["!links"]}function k5e(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&Et(t,125,Ebe(kj(i,n),i))})}}function C5e(t,e,r,n,i){var a=16+Lh(i.cellXfs,e,i);if(e.v==null&&!e.bf){Et(t,513,gm(r,n,a));return}if(e.bf)Et(t,6,Xwe(e,r,n,i,a));else switch(e.t){case"d":case"n":var o=e.t=="d"?Qa(Ca(e.v)):e.v;Et(t,515,wbe(r,n,o,a));break;case"b":case"e":Et(t,517,bbe(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var l=WC(i.Strings,e.v,i.revStrings);Et(t,253,pbe(r,n,l,a))}else Et(t,516,gbe(r,n,(e.v||"").slice(0,255),a,i));break;default:Et(t,513,gm(r,n,a))}}function A5e(t,e,r){var n=Ya(),i=r.SheetNames[t],a=r.Sheets[i]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[t]||{},c=Array.isArray(a),d=e.biff==8,u,h="",m=[],f=Ys(a["!ref"]||"A1"),g=d?65536:16384;if(f.e.c>255||f.e.r>=g){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,g-1)}Et(n,2057,$C(r,16,e)),Et(n,13,$o(1)),Et(n,12,$o(100)),Et(n,15,ja(!0)),Et(n,17,ja(!1)),Et(n,16,pm(.001)),Et(n,95,ja(!0)),Et(n,42,ja(!1)),Et(n,43,ja(!1)),Et(n,130,$o(1)),Et(n,128,ybe()),Et(n,131,ja(!1)),Et(n,132,ja(!1)),d&&k5e(n,a["!cols"]),Et(n,512,vbe(f,e)),d&&(a["!links"]=[]);for(var p=f.s.r;p<=f.e.r;++p){h=Ui(p);for(var x=f.s.c;x<=f.e.c;++x){p===f.s.r&&(m[x]=oa(x)),u=m[x]+h;var y=c?(a[p]||[])[x]:a[u];y&&(C5e(n,y,p,x,e),d&&y.l&&a["!links"].push([u,y.l]))}}var v=l.CodeName||l.name||i;return d&&Et(n,574,fbe((o.Views||[])[0])),d&&(a["!merges"]||[]).length&&Et(n,229,_be(a["!merges"])),d&&S5e(n,a),Et(n,442,DK(v)),d&&j5e(n,a),Et(n,10),n.end()}function E5e(t,e,r){var n=Ya(),i=(t||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},l=r.biff==8,c=r.biff==5;if(Et(n,2057,$C(t,5,r)),r.bookType=="xla"&&Et(n,135),Et(n,225,l?$o(1200):null),Et(n,193,ebe(2)),c&&Et(n,191),c&&Et(n,192),Et(n,226),Et(n,92,cbe("SheetJS",r)),Et(n,66,$o(l?1200:1252)),l&&Et(n,353,$o(0)),l&&Et(n,448),Et(n,317,Tbe(t.SheetNames.length)),l&&t.vbaraw&&Et(n,211),l&&t.vbaraw){var d=o.CodeName||"ThisWorkbook";Et(n,442,DK(d))}Et(n,156,$o(17)),Et(n,25,ja(!1)),Et(n,18,ja(!1)),Et(n,19,$o(0)),l&&Et(n,431,ja(!1)),l&&Et(n,444,$o(0)),Et(n,61,hbe()),Et(n,64,ja(!1)),Et(n,141,$o(0)),Et(n,34,ja(Lje(t)=="true")),Et(n,14,ja(!0)),l&&Et(n,439,ja(!1)),Et(n,218,$o(0)),w5e(n,t,r),N5e(n,t.SSF,r),_5e(n,r),l&&Et(n,352,ja(!1));var u=n.end(),h=Ya();l&&Et(h,140,Cbe()),l&&r.Strings&&p5e(h,252,ube(r.Strings)),Et(h,10);var m=h.end(),f=Ya(),g=0,p=0;for(p=0;p<t.SheetNames.length;++p)g+=(l?12:11)+(l?2:1)*t.SheetNames[p].length;var x=u.length+g+m.length;for(p=0;p<t.SheetNames.length;++p){var y=a[p]||{};Et(f,133,dbe({pos:x,hs:y.Hidden||0,dt:0,name:t.SheetNames[p]},r)),x+=e[p].length}var v=f.end();if(g!=v.length)throw new Error("BS8 "+g+" != "+v.length);var b=[];return u.length&&b.push(u),v.length&&b.push(v),m.length&&b.push(m),Ii(b)}function T5e(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Xa(jn)),t&&t.SSF&&(wj(),bj(t.SSF),r.revssf=Nj(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,KC(r),r.cellXfs=[],Lh(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=A5e(i,r,t);return n.unshift(E5e(t,n,r)),Ii(n)}function dG(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Co(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return T5e(t,e);case 4:case 3:case 2:return b5e(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function P5e(t,e,r,n){for(var i=t["!merges"]||[],a=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,c=0,d=0;d<i.length;++d)if(!(i[d].s.r>r||i[d].s.c>o)&&!(i[d].e.r<r||i[d].e.c<o)){if(i[d].s.r<r||i[d].s.c<o){l=-1;break}l=i[d].e.r-i[d].s.r+1,c=i[d].e.c-i[d].s.c+1;break}if(!(l<0)){var u=As({r,c:o}),h=n.dense?(t[r]||[])[o]:t[u],m=h&&h.v!=null&&(h.h||l1e(h.w||(Xd(h),h.w)||""))||"",f={};l>1&&(f.rowspan=l),c>1&&(f.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":h&&(f["data-t"]=h&&h.t||"z",h.v!=null&&(f["data-v"]=h.v),h.z!=null&&(f["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+h.l.Target+'">'+m+"</a>")),f.id=(n.id||"sjs")+"-"+u,a.push(Ct("td",m,f))}}var g="<tr>";return g+a.join("")+"</tr>"}var F5e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',O5e="</body></html>";function L5e(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function uG(t,e){var r=e||{},n=r.header!=null?r.header:F5e,i=r.footer!=null?r.footer:O5e,a=[n],o=Co(t["!ref"]);r.dense=Array.isArray(t),a.push(L5e(t,o,r));for(var l=o.s.r;l<=o.e.r;++l)a.push(P5e(t,o,l,r));return a.push("</table>"+i),a.join("")}function hG(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?vi(n.origin):n.origin;i=o.r,a=o.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),d={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var u=Co(t["!ref"]);d.s.r=Math.min(d.s.r,u.s.r),d.s.c=Math.min(d.s.c,u.s.c),d.e.r=Math.max(d.e.r,u.e.r),d.e.c=Math.max(d.e.c,u.e.c),i==-1&&(d.e.r=i=u.e.r+1)}var h=[],m=0,f=t["!rows"]||(t["!rows"]=[]),g=0,p=0,x=0,y=0,v=0,b=0;for(t["!cols"]||(t["!cols"]=[]);g<l.length&&p<c;++g){var w=l[g];if(HO(w)){if(n.display)continue;f[p]={hidden:!0}}var _=w.children;for(x=y=0;x<_.length;++x){var N=_[x];if(!(n.display&&HO(N))){var j=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):h1e(N.innerHTML),k=N.getAttribute("data-z")||N.getAttribute("z");for(m=0;m<h.length;++m){var E=h[m];E.s.c==y+a&&E.s.r<p+i&&p+i<=E.e.r&&(y=E.e.c+1-a,m=-1)}b=+N.getAttribute("colspan")||1,((v=+N.getAttribute("rowspan")||1)>1||b>1)&&h.push({s:{r:p+i,c:y+a},e:{r:p+i+(v||1)-1,c:y+a+(b||1)-1}});var A={t:"s",v:j},C=N.getAttribute("data-t")||N.getAttribute("t")||"";j!=null&&(j.length==0?A.t=C||"z":n.raw||j.trim().length==0||C=="s"||(j==="TRUE"?A={t:"b",v:!0}:j==="FALSE"?A={t:"b",v:!1}:isNaN(Id(j))?isNaN(qv(j).getDate())||(A={t:"d",v:Ca(j)},n.cellDates||(A={t:"n",v:Qa(A.v)}),A.z=n.dateNF||jn[14]):A={t:"n",v:Id(j)})),A.z===void 0&&k!=null&&(A.z=k);var T="",L=N.getElementsByTagName("A");if(L&&L.length)for(var D=0;D<L.length&&!(L[D].hasAttribute("href")&&(T=L[D].getAttribute("href"),T.charAt(0)!="#"));++D);T&&T.charAt(0)!="#"&&(A.l={Target:T}),n.dense?(t[p+i]||(t[p+i]=[]),t[p+i][y+a]=A):t[As({c:y+a,r:p+i})]=A,d.e.c<y+a&&(d.e.c=y+a),y+=b}}++p}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),d.e.r=Math.max(d.e.r,p-1+i),t["!ref"]=Gn(d),p>=c&&(t["!fullref"]=Gn((d.e.r=l.length-g+p-1+i,d))),t}function fG(t,e){var r=e||{},n=r.dense?[]:{};return hG(n,t,e)}function R5e(t,e){return Am(fG(t,e),e)}function HO(t){var e="",r=I5e(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function I5e(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var D5e=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Vv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Xn+e}}(),WO=function(){var t=function(a){return ks(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,l){var c=[];c.push('      <table:table table:name="'+ks(o.SheetNames[l])+`" table:style-name="ta1">
`);var d=0,u=0,h=Co(a["!ref"]||"A1"),m=a["!merges"]||[],f=0,g=Array.isArray(a);if(a["!cols"])for(u=0;u<=h.e.c;++u)c.push("        <table:table-column"+(a["!cols"][u]?' table:style-name="co'+a["!cols"][u].ods+'"':"")+`></table:table-column>
`);var p="",x=a["!rows"]||[];for(d=0;d<h.s.r;++d)p=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;d<=h.e.r;++d){for(p=x[d]?' table:style-name="ro'+x[d].ods+'"':"",c.push("        <table:table-row"+p+`>
`),u=0;u<h.s.c;++u)c.push(e);for(;u<=h.e.c;++u){var y=!1,v={},b="";for(f=0;f!=m.length;++f)if(!(m[f].s.c>u)&&!(m[f].s.r>d)&&!(m[f].e.c<u)&&!(m[f].e.r<d)){(m[f].s.c!=u||m[f].s.r!=d)&&(y=!0),v["table:number-columns-spanned"]=m[f].e.c-m[f].s.c+1,v["table:number-rows-spanned"]=m[f].e.r-m[f].s.r+1;break}if(y){c.push(r);continue}var w=As({r:d,c:u}),_=g?(a[d]||[])[u]:a[w];if(_&&_.f&&(v["table:formula"]=ks(sNe(_.f)),_.F&&_.F.slice(0,w.length)==w)){var N=Co(_.F);v["table:number-matrix-columns-spanned"]=N.e.c-N.s.c+1,v["table:number-matrix-rows-spanned"]=N.e.r-N.s.r+1}if(!_){c.push(e);continue}switch(_.t){case"b":b=_.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=_.v?"true":"false";break;case"n":b=_.w||String(_.v||0),v["office:value-type"]="float",v["office:value"]=_.v||0;break;case"s":case"str":b=_.v==null?"":_.v,v["office:value-type"]="string";break;case"d":b=_.w||Ca(_.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Ca(_.v).toISOString(),v["table:style-name"]="ce1";break;default:c.push(e);continue}var j=t(b);if(_.l&&_.l.Target){var k=_.l.Target;k=k.charAt(0)=="#"?"#"+nNe(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),j=Ct("text:a",j,{"xlink:href":k.replace(/&/g,"&amp;")})}c.push("          "+Ct("table:table-cell",Ct("text:p",j,{}),v)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var u=0;u<d["!cols"].length;++u)if(d["!cols"][u]){var h=d["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;qC(h),h.ods=l;var m=d["!cols"][u].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var u=0;u<d["!rows"].length;++u)if(d["!rows"][u]){d["!rows"][u].ods=c;var h=d["!rows"][u].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,l){var c=[Xn],d=Vv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Vv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+d+u+`>
`),c.push(AK().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+d+`>
`),i(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)c.push(n(o.Sheets[o.SheetNames[h]],o,h));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function mG(t,e){if(e.bookType=="fods")return WO(t,e);var r=PC(),n="",i=[],a=[];return n="mimetype",Lr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Lr(r,n,WO(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Lr(r,n,D5e(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Lr(r,n,Xn+AK()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Lr(r,n,Y1e(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Lr(r,n,K1e(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Dw(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function M5e(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):El(zv(t))}function B5e(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function wh(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function U5e(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function Hv(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function ws(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Kp(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ni(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Hv(t,r),a=i&7;i=Math.floor(i/8);var o=0,l;if(i==0)break;switch(a){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:o=4,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=Hv(t,r),l=t.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var d={data:l,type:a};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Pi(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(ws(n*8+i.type)),i.type==2&&e.push(ws(i.data.length)),e.push(i.data))})}),wh(e)}function hl(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Hv(t,n),a=ni(t.slice(n[0],n[0]+i));n[0]+=i;var o={id:Kp(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=ni(l.data),d=Kp(c[3][0].data);o.messages.push({meta:c,data:t.slice(n[0],n[0]+d)}),n[0]+=d}),(e=a[3])!=null&&e[0]&&(o.merge=Kp(a[3][0].data)>>>0>0),r.push(o)}return r}function Zm(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:ws(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ws(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:ws(o.data.length)}],n[2].push({data:Pi(o.meta),type:2})});var a=Pi(n);e.push(ws(a.length)),e.push(a),i.forEach(function(o){return e.push(o)})}),wh(e)}function $5e(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Hv(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var o=e[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[r[0]],l>1&&(o|=e[r[0]+1]<<8),l>2&&(o|=e[r[0]+2]<<16),l>3&&(o|=e[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}i.push(e.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,d=0;if(a==1?(d=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(d=(e[r[0]++]>>2)+1,a==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[wh(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(d>=c)for(i.push(i[0].slice(-c)),d-=c;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-c,-c+d))}}var u=wh(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function fl(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push($5e(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return wh(e)}function ep(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=ws(n),o=a.length;e.push(a),n<=60?(o++,e.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),o+=n,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=n}return wh(e)}function r_(t,e){var r=new Uint8Array(32),n=Dw(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,U5e(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function s_(t,e){var r=new Uint8Array(32),n=Dw(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Su(t){var e=ni(t);return Hv(e[1][0].data)}function q5e(t,e,r){var n,i,a,o;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(a=t[8])==null?void 0:a[0])==null?void 0:o.data)&&Kp(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,d=Dw(t[7][0].data),u=0,h=[],m=Dw(t[4][0].data),f=0,g=[],p=0;p<e.length;++p){if(e[p]==null){d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}d.setUint16(p*2,u,!0),m.setUint16(p*2,f,!0);var x,y;switch(typeof e[p]){case"string":x=r_({t:"s",v:e[p]},r),y=s_({t:"s",v:e[p]},r);break;case"number":x=r_({t:"n",v:e[p]},r),y=s_({t:"n",v:e[p]},r);break;case"boolean":x=r_({t:"b",v:e[p]},r),y=s_({t:"b",v:e[p]},r);break;default:throw new Error("Unsupported value "+e[p])}h.push(x),u+=x.length,g.push(y),f+=y.length,++c}for(t[2][0].data=ws(c);p<t[7][0].data.length/2;++p)d.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return t[6][0].data=wh(h),t[3][0].data=wh(g),c}function z5e(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Co(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Gn(n)));var a=Mw(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(I){return I.forEach(function(B){typeof B=="string"&&o.push(B)})});var l={},c=[],d=Ts.read(e.numbers,{type:"base64"});d.FileIndex.map(function(I,B){return[I,d.FullPaths[B]]}).forEach(function(I){var B=I[0],q=I[1];if(B.type==2&&B.name.match(/\.iwa/)){var U=B.content,W=fl(U),te=hl(W);te.forEach(function(re){c.push(re.id),l[re.id]={deps:[],location:q,type:Kp(re.messages[0].meta[1][0].data)}})}}),c.sort(function(I,B){return I-B});var u=c.filter(function(I){return I>1}).map(function(I){return[I,ws(I)]});d.FileIndex.map(function(I,B){return[I,d.FullPaths[B]]}).forEach(function(I){var B=I[0];if(I[1],!!B.name.match(/\.iwa/)){var q=hl(fl(B.content));q.forEach(function(U){U.messages.forEach(function(W){u.forEach(function(te){U.messages.some(function(re){return Kp(re.meta[1][0].data)!=11006&&B5e(re.data,te[1])})&&l[te[0]].deps.push(U.id)})})})}});for(var h=Ts.find(d,l[1].location),m=hl(fl(h.content)),f,g=0;g<m.length;++g){var p=m[g];p.id==1&&(f=p)}var x=Su(ni(f.messages[0].data)[1][0].data);for(h=Ts.find(d,l[x].location),m=hl(fl(h.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(f=p);for(x=Su(ni(f.messages[0].data)[2][0].data),h=Ts.find(d,l[x].location),m=hl(fl(h.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(f=p);for(x=Su(ni(f.messages[0].data)[2][0].data),h=Ts.find(d,l[x].location),m=hl(fl(h.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(f=p);var y=ni(f.messages[0].data);{y[6][0].data=ws(n.e.r+1),y[7][0].data=ws(n.e.c+1);var v=Su(y[46][0].data),b=Ts.find(d,l[v].location),w=hl(fl(b.content));{for(var _=0;_<w.length&&w[_].id!=v;++_);if(w[_].id!=v)throw"Bad ColumnRowUIDMapArchive";var N=ni(w[_].messages[0].data);N[1]=[],N[2]=[],N[3]=[];for(var j=0;j<=n.e.c;++j){var k=[];k[1]=k[2]=[{type:0,data:ws(j+420690)}],N[1].push({type:2,data:Pi(k)}),N[2].push({type:0,data:ws(j)}),N[3].push({type:0,data:ws(j)})}N[4]=[],N[5]=[],N[6]=[];for(var E=0;E<=n.e.r;++E)k=[],k[1]=k[2]=[{type:0,data:ws(E+726270)}],N[4].push({type:2,data:Pi(k)}),N[5].push({type:0,data:ws(E)}),N[6].push({type:0,data:ws(E)});w[_].messages[0].data=Pi(N)}b.content=ep(Zm(w)),b.size=b.content.length,delete y[46];var A=ni(y[4][0].data);{A[7][0].data=ws(n.e.r+1);var C=ni(A[1][0].data),T=Su(C[2][0].data);b=Ts.find(d,l[T].location),w=hl(fl(b.content));{if(w[0].id!=T)throw"Bad HeaderStorageBucket";var L=ni(w[0].messages[0].data);for(E=0;E<a.length;++E){var D=ni(L[2][0].data);D[1][0].data=ws(E),D[4][0].data=ws(a[E].length),L[2][E]={type:L[2][0].type,data:Pi(D)}}w[0].messages[0].data=Pi(L)}b.content=ep(Zm(w)),b.size=b.content.length;var H=Su(A[2][0].data);b=Ts.find(d,l[H].location),w=hl(fl(b.content));{if(w[0].id!=H)throw"Bad HeaderStorageBucket";for(L=ni(w[0].messages[0].data),j=0;j<=n.e.c;++j)D=ni(L[2][0].data),D[1][0].data=ws(j),D[4][0].data=ws(n.e.r+1),L[2][j]={type:L[2][0].type,data:Pi(D)};w[0].messages[0].data=Pi(L)}b.content=ep(Zm(w)),b.size=b.content.length;var X=Su(A[4][0].data);(function(){for(var I=Ts.find(d,l[X].location),B=hl(fl(I.content)),q,U=0;U<B.length;++U){var W=B[U];W.id==X&&(q=W)}var te=ni(q.messages[0].data);{te[3]=[];var re=[];o.forEach(function(Pe,He){re[1]=[{type:0,data:ws(He)}],re[2]=[{type:0,data:ws(1)}],re[3]=[{type:2,data:M5e(Pe)}],te[3].push({type:2,data:Pi(re)})})}q.messages[0].data=Pi(te);var le=Zm(B),ke=ep(le);I.content=ke,I.size=I.content.length})();var ee=ni(A[3][0].data);{var Q=ee[1][0];delete ee[2];var G=ni(Q.data);{var z=Su(G[2][0].data);(function(){for(var I=Ts.find(d,l[z].location),B=hl(fl(I.content)),q,U=0;U<B.length;++U){var W=B[U];W.id==z&&(q=W)}var te=ni(q.messages[0].data);{delete te[6],delete ee[7];var re=new Uint8Array(te[5][0].data);te[5]=[];for(var le=0,ke=0;ke<=n.e.r;++ke){var Pe=ni(re);le+=q5e(Pe,a[ke],o),Pe[1][0].data=ws(ke),te[5].push({data:Pi(Pe),type:2})}te[1]=[{type:0,data:ws(n.e.c+1)}],te[2]=[{type:0,data:ws(n.e.r+1)}],te[3]=[{type:0,data:ws(le)}],te[4]=[{type:0,data:ws(n.e.r+1)}]}q.messages[0].data=Pi(te);var He=Zm(B),Ae=ep(He);I.content=Ae,I.size=I.content.length})()}Q.data=Pi(G)}A[3][0].data=Pi(ee)}y[4][0].data=Pi(A)}f.messages[0].data=Pi(y);var V=Zm(m),F=ep(V);return h.content=F,h.size=h.content.length,d}function V5e(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function KC(t){V5e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function H5e(t,e){return e.bookType=="ods"?mG(t,e):e.bookType=="numbers"?z5e(t,e):e.bookType=="xlsb"?W5e(t,e):K5e(t,e)}function W5e(t,e){Cp=1024,t&&!t.SSF&&(t.SSF=Xa(jn)),t&&t.SSF&&(wj(),bj(t.SSF),e.revssf=Nj(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,rv?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=QK.indexOf(e.bookType)>-1,i=SK();KC(e=e||{});var a=PC(),o="",l=0;if(e.cellXfs=[],Lh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Lr(a,o,EK(t.Props,e)),i.coreprops.push(o),_s(e.rels,2,o,ns.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(t.SheetNames[d]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,Lr(a,o,PK(t.Props)),i.extprops.push(o),_s(e.rels,3,o,ns.EXT_PROPS),t.Custprops!==t.Props&&zi(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Lr(a,o,FK(t.Custprops)),i.custprops.push(o),_s(e.rels,4,o,ns.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var u={"!id":{}},h=t.Sheets[t.SheetNames[l-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Lr(a,o,Yje(l-1,o,e,t,u)),i.sheets.push(o),_s(e.wbrels,-1,"worksheets/sheet"+l+"."+r,ns.WS[0])}if(h){var f=h["!comments"],g=!1,p="";f&&f.length>0&&(p="xl/comments"+l+"."+r,Lr(a,p,Jje(f,p)),i.comments.push(p),_s(u,-1,"../comments"+l+"."+r,ns.CMNT),g=!0),h["!legacy"]&&g&&Lr(a,"xl/drawings/vmlDrawing"+l+".vml",GK(l,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&Lr(a,CK(o),Hp(u))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Lr(a,o,Xje(e.Strings,o,e)),i.strs.push(o),_s(e.wbrels,-1,"sharedStrings."+r,ns.SST)),o="xl/workbook."+r,Lr(a,o,Gje(t,o)),i.workbooks.push(o),_s(e.rels,1,o,ns.WB),o="xl/theme/theme1.xml",Lr(a,o,WK(t.Themes,e)),i.themes.push(o),_s(e.wbrels,-1,"theme/theme1.xml",ns.THEME),o="xl/styles."+r,Lr(a,o,Qje(t,o,e)),i.styles.push(o),_s(e.wbrels,-1,"styles."+r,ns.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Lr(a,o,t.vbaraw),i.vba.push(o),_s(e.wbrels,-1,"vbaProject.bin",ns.VBA)),o="xl/metadata."+r,Lr(a,o,Zje(o)),i.metadata.push(o),_s(e.wbrels,-1,"metadata."+r,ns.XLMETA),Lr(a,"[Content_Types].xml",kK(i,e)),Lr(a,"_rels/.rels",Hp(e.rels)),Lr(a,"xl/_rels/workbook."+r+".rels",Hp(e.wbrels)),delete e.revssf,delete e.ssf,a}function K5e(t,e){Cp=1024,t&&!t.SSF&&(t.SSF=Xa(jn)),t&&t.SSF&&(wj(),bj(t.SSF),e.revssf=Nj(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,rv?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=QK.indexOf(e.bookType)>-1,i=SK();KC(e=e||{});var a=PC(),o="",l=0;if(e.cellXfs=[],Lh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),o="docProps/core.xml",Lr(a,o,EK(t.Props,e)),i.coreprops.push(o),_s(e.rels,2,o,ns.CORE_PROPS),o="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],d=0;d<t.SheetNames.length;++d)(t.Workbook.Sheets[d]||{}).Hidden!=2&&c.push(t.SheetNames[d]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,Lr(a,o,PK(t.Props)),i.extprops.push(o),_s(e.rels,3,o,ns.EXT_PROPS),t.Custprops!==t.Props&&zi(t.Custprops||{}).length>0&&(o="docProps/custom.xml",Lr(a,o,FK(t.Custprops)),i.custprops.push(o),_s(e.rels,4,o,ns.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var h={"!id":{}},m=t.Sheets[t.SheetNames[l-1]],f=(m||{})["!type"]||"sheet";switch(f){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,Lr(a,o,iG(l-1,e,t,h)),i.sheets.push(o),_s(e.wbrels,-1,"worksheets/sheet"+l+"."+r,ns.WS[0])}if(m){var g=m["!comments"],p=!1,x="";if(g&&g.length>0){var y=!1;g.forEach(function(v){v[1].forEach(function(b){b.T==!0&&(y=!0)})}),y&&(x="xl/threadedComments/threadedComment"+l+"."+r,Lr(a,x,_2e(g,u,e)),i.threadedcomments.push(x),_s(h,-1,"../threadedComments/threadedComment"+l+"."+r,ns.TCMNT)),x="xl/comments"+l+"."+r,Lr(a,x,YK(g)),i.comments.push(x),_s(h,-1,"../comments"+l+"."+r,ns.CMNT),p=!0}m["!legacy"]&&p&&Lr(a,"xl/drawings/vmlDrawing"+l+".vml",GK(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}h["!id"].rId1&&Lr(a,CK(o),Hp(h))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+r,Lr(a,o,UK(e.Strings,e)),i.strs.push(o),_s(e.wbrels,-1,"sharedStrings."+r,ns.SST)),o="xl/workbook."+r,Lr(a,o,lG(t)),i.workbooks.push(o),_s(e.rels,1,o,ns.WB),o="xl/theme/theme1.xml",Lr(a,o,WK(t.Themes,e)),i.themes.push(o),_s(e.wbrels,-1,"theme/theme1.xml",ns.THEME),o="xl/styles."+r,Lr(a,o,VK(t,e)),i.styles.push(o),_s(e.wbrels,-1,"styles."+r,ns.STY),t.vbaraw&&n&&(o="xl/vbaProject.bin",Lr(a,o,t.vbaraw),i.vba.push(o),_s(e.wbrels,-1,"vbaProject.bin",ns.VBA)),o="xl/metadata."+r,Lr(a,o,KK()),i.metadata.push(o),_s(e.wbrels,-1,"metadata."+r,ns.XLMETA),u.length>1&&(o="xl/persons/person.xml",Lr(a,o,S2e(u)),i.people.push(o),_s(e.wbrels,-1,"persons/person.xml",ns.PEOPLE)),Lr(a,"[Content_Types].xml",kK(i,e)),Lr(a,"_rels/.rels",Hp(e.rels)),Lr(a,"xl/_rels/workbook."+r+".rels",Hp(e.wbrels)),delete e.revssf,delete e.ssf,a}function G5e(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Qd(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function pG(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return o1(e.file,Ts.write(t,{type:cs?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Ts.write(t,e)}function Y5e(t,e){var r=Xa(e||{}),n=H5e(t,r);return Q5e(n,r)}function Q5e(t,e){var r={},n=cs?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Ts.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(yj(i))}return e.password&&typeof encrypt_agile<"u"?pG(encrypt_agile(i,e.password),e):e.type==="file"?o1(e.file,i):e.type=="string"?Jx(i):i}function X5e(t,e){var r=e||{},n=f5e(t,r);return pG(n,r)}function fc(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return $v(zv(n));case"binary":return zv(n);case"string":return t;case"file":return o1(e.file,n,"utf8");case"buffer":return cs?eu(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):fc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function J5e(t,e){switch(e.type){case"base64":return $v(t);case"binary":return t;case"string":return t;case"file":return o1(e.file,t,"binary");case"buffer":return cs?eu(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Wb(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?$v(r):e.type=="string"?Jx(r):r;case"file":return o1(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function gG(t,e){kye(),Dje(t);var r=Xa(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=gG(t,r);return r.type="array",yj(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return fc(u5e(t,r),r);case"slk":case"sylk":return fc(Lbe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return fc(uG(t.Sheets[t.SheetNames[i]],r),r);case"txt":return J5e(xG(t.Sheets[t.SheetNames[i]],r),r);case"csv":return fc(GC(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return fc(Rbe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Wb(Obe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return fc(Ibe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return fc(zbe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return fc(BK.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return fc(mG(t,r),r);case"wk1":return Wb(BO.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Wb(BO.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Wb(dG(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),X5e(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Y5e(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Z5e(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function e4e(t,e,r){var n={};return n.type="file",n.file=e,Z5e(n),gG(t,n)}function t4e(t,e,r,n,i,a,o,l){var c=Ui(r),d=l.defval,u=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),h=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!o||t[r])for(var f=e.s.c;f<=e.e.c;++f){var g=o?t[r][f]:t[n[f]+c];if(g===void 0||g.t===void 0){if(d===void 0)continue;a[f]!=null&&(m[a[f]]=d);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(a[f]!=null){if(p==null)if(g.t=="e"&&p===null)m[a[f]]=null;else if(d!==void 0)m[a[f]]=d;else if(u&&p===null)m[a[f]]=null;else continue;else m[a[f]]=u&&(g.t!=="n"||g.t==="n"&&l.rawNumbers!==!1)?p:Xd(g,p,l);p!=null&&(h=!1)}}return{row:m,isempty:h}}function Mw(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},u=d.range!=null?d.range:t["!ref"];switch(d.header===1?n=1:d.header==="A"?n=2:Array.isArray(d.header)?n=3:d.header==null&&(n=0),typeof u){case"string":c=Ys(u);break;case"number":c=Ys(t["!ref"]),c.s.r=u;break;default:c=u}n>0&&(i=0);var h=Ui(c.s.r),m=[],f=[],g=0,p=0,x=Array.isArray(t),y=c.s.r,v=0,b={};x&&!t[y]&&(t[y]=[]);var w=d.skipHidden&&t["!cols"]||[],_=d.skipHidden&&t["!rows"]||[];for(v=c.s.c;v<=c.e.c;++v)if(!(w[v]||{}).hidden)switch(m[v]=oa(v),r=x?t[y][v]:t[m[v]+h],n){case 1:a[v]=v-c.s.c;break;case 2:a[v]=m[v];break;case 3:a[v]=d.header[v-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=Xd(r,null,d),p=b[o]||0,!p)b[o]=1;else{do l=o+"_"+p++;while(b[l]);b[o]=p,b[l]=1}a[v]=l}for(y=c.s.r+i;y<=c.e.r;++y)if(!(_[y]||{}).hidden){var N=t4e(t,c,y,m,n,a,x,d);(N.isempty===!1||(n===1?d.blankrows!==!1:d.blankrows))&&(f[g++]=N.row)}return f.length=g,f}var KO=/"/g;function r4e(t,e,r,n,i,a,o,l){for(var c=!0,d=[],u="",h=Ui(r),m=e.s.c;m<=e.e.c;++m)if(n[m]){var f=l.dense?(t[r]||[])[m]:t[n[m]+h];if(f==null)u="";else if(f.v!=null){c=!1,u=""+(l.rawNumbers&&f.t=="n"?f.v:Xd(f,null,l));for(var g=0,p=0;g!==u.length;++g)if((p=u.charCodeAt(g))===i||p===a||p===34||l.forceQuotes){u='"'+u.replace(KO,'""')+'"';break}u=="ID"&&(u='"ID"')}else f.f!=null&&!f.F?(c=!1,u="="+f.f,u.indexOf(",")>=0&&(u='"'+u.replace(KO,'""')+'"')):u="";d.push(u)}return l.blankrows===!1&&c?null:d.join(o)}function GC(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Ys(t["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),d=new RegExp((a=="|"?"\\|":a)+"+$"),u="",h=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],f=n.skipHidden&&t["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(m[g]||{}).hidden||(h[g]=oa(g));for(var p=0,x=i.s.r;x<=i.e.r;++x)(f[x]||{}).hidden||(u=r4e(t,i,x,h,o,c,a,n),u!=null&&(n.strip&&(u=u.replace(d,"")),(u||n.blankrows!==!1)&&r.push((p++?l:"")+u)));return delete n.dense,r.join("")}function xG(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=GC(t,e);return r}function s4e(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Ys(t["!ref"]),a="",o=[],l,c=[],d=Array.isArray(t);for(l=i.s.c;l<=i.e.c;++l)o[l]=oa(l);for(var u=i.s.r;u<=i.e.r;++u)for(a=Ui(u),l=i.s.c;l<=i.e.c;++l)if(e=o[l]+a,r=d?(t[u]||[])[l]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function vG(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},o=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?vi(n.origin):n.origin;o=c.r,l=c.c}var d,u={s:{c:0,r:0},e:{c:l,r:o+e.length-1+i}};if(a["!ref"]){var h=Ys(a["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+e.length-1+i)}else o==-1&&(o=0,u.e.r=e.length-1+i);var m=n.header||[],f=0;e.forEach(function(p,x){zi(p).forEach(function(y){(f=m.indexOf(y))==-1&&(m[f=m.length]=y);var v=p[y],b="z",w="",_=As({c:l+f,r:o+x+i});d=Wv(a,_),v&&typeof v=="object"&&!(v instanceof Date)?a[_]=v:(typeof v=="number"?b="n":typeof v=="boolean"?b="b":typeof v=="string"?b="s":v instanceof Date?(b="d",n.cellDates||(b="n",v=Qa(v)),w=n.dateNF||jn[14]):v===null&&n.nullError&&(b="e",v=0),d?(d.t=b,d.v=v,delete d.w,delete d.R,w&&(d.z=w)):a[_]=d={t:b,v},w&&(d.z=w))})}),u.e.c=Math.max(u.e.c,l+m.length-1);var g=Ui(o);if(i)for(f=0;f<m.length;++f)a[oa(f+l)+g]={t:"s",v:m[f]};return a["!ref"]=Gn(u),a}function n4e(t,e){return vG(null,t,e)}function Wv(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=vi(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Wv(t,As(e)):Wv(t,As({r:e,c:r||0}))}function i4e(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function a4e(){return{SheetNames:[],Sheets:{}}}function o4e(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=o+i)!=-1;++i);}if(oG(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function l4e(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=i4e(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function c4e(t,e){return t.z=e,t}function yG(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function d4e(t,e,r){return yG(t,"#"+e,r)}function u4e(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function h4e(t,e,r,n){for(var i=typeof e!="string"?e:Ys(e),a=typeof e=="string"?e:Gn(e),o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var c=Wv(t,o,l);c.t="n",c.F=a,delete c.v,o==i.s.r&&l==i.s.c&&(c.f=r,n&&(c.D=!0))}return t}var n_={encode_col:oa,encode_row:Ui,encode_cell:As,encode_range:Gn,decode_col:DC,decode_row:IC,split_cell:k1e,decode_cell:vi,decode_range:Co,format_cell:Xd,sheet_add_aoa:yK,sheet_add_json:vG,sheet_add_dom:hG,aoa_to_sheet:yg,json_to_sheet:n4e,table_to_sheet:fG,table_to_book:R5e,sheet_to_csv:GC,sheet_to_txt:xG,sheet_to_json:Mw,sheet_to_html:uG,sheet_to_formulae:s4e,sheet_to_row_object_array:Mw,sheet_get_cell:Wv,book_new:a4e,book_append_sheet:o4e,book_set_sheet_visibility:l4e,cell_set_number_format:c4e,cell_set_hyperlink:yG,cell_set_internal_link:d4e,cell_add_comment:u4e,sheet_set_array_formula:h4e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function f4e(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(null),[a,o]=O.useState(""),[l,c]=O.useState(""),[d,u]=O.useState(""),[h,m]=O.useState("all"),[f,g]=O.useState(1),[p]=O.useState(10),[x,y]=O.useState("requestedAt"),[v,b]=O.useState("desc"),{data:w=[],isLoading:_}=pt({queryKey:["/api/admin/withdrawals"],enabled:!!t&&t.role==="admin"}),N=Ft({mutationFn:({id:z,status:V,notes:F})=>St(`/api/admin/withdrawals/${z}/status`,{method:"PUT",body:JSON.stringify({status:V,adminNotes:F})}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),e({title:"Status updated",description:"Withdrawal status has been updated successfully."})},onError:z=>{e({title:"Error",description:z.message||"Failed to update withdrawal status",variant:"destructive"})}});Ft({mutationFn:z=>St(`/api/admin/withdrawals/${z}/process`,{method:"POST"}),onSuccess:(z,V)=>{r.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),e({title:"Withdrawal processed",description:"Flutterwave bank transfer has been initiated successfully."})},onError:z=>{e({title:"Error",description:z.message||"Failed to process withdrawal",variant:"destructive"})}}),Ft({mutationFn:z=>St(`/api/admin/withdrawals/${z}/retry`,{method:"POST"}),onSuccess:(z,V)=>{r.invalidateQueries({queryKey:["/api/admin/withdrawals"]}),e({title:"Withdrawal retried",description:"Withdrawal has been reset and processed again."})},onError:z=>{e({title:"Error",description:z.message||"Failed to retry withdrawal",variant:"destructive"})}});const j=()=>{!n||!a||N.mutate({id:n.id,status:a,adminNotes:l})},k=z=>{i(z),o(z.status),c(z.adminNotes||"")},E=z=>`${((typeof z=="string"?parseFloat(z):z)/100).toFixed(2)}`,A=z=>{x===z?b(v==="asc"?"desc":"asc"):(y(z),b("asc")),g(1)},C=O.useMemo(()=>{let z=w.filter(V=>{var B,q;const F=((B=V.finderName)==null?void 0:B.toLowerCase().includes(d.toLowerCase()))||((q=V.finderEmail)==null?void 0:q.toLowerCase().includes(d.toLowerCase()))||E(V.amount).includes(d)||V.status.toLowerCase().includes(d.toLowerCase()),I=h==="all"||V.status===h;return F&&I});return z.sort((V,F)=>{let I,B;switch(x){case"requestedAt":I=new Date(V.requestedAt).getTime(),B=new Date(F.requestedAt).getTime();break;case"amount":I=parseFloat(V.amount),B=parseFloat(F.amount);break;case"status":I=V.status,B=F.status;break;case"finderName":I=V.finderName||"",B=F.finderName||"";break;default:return 0}return v==="asc"?I>B?1:-1:I<B?1:-1}),z},[w,d,h,x,v]),T=Math.ceil(C.length/p),L=C.slice((f-1)*p,f*p),D=()=>{const z=["Date","Finder Name","Email","Amount","Status","Payment Method","Account Name","Account Number","Bank Name","Admin Notes"],V=C.map(B=>{const q=B.paymentDetails?JSON.parse(B.paymentDetails):{};return[new Date(B.requestedAt).toLocaleDateString(),B.finderName||"",B.finderEmail||"",E(B.amount),B.status,B.paymentMethod||"",q.accountName||"",q.accountNumber||"",q.bankName||"",B.adminNotes||""]}),F=n_.aoa_to_sheet([z,...V]),I=n_.book_new();n_.book_append_sheet(I,F,"Withdrawals"),e4e(I,`withdrawals_${new Date().toISOString().split("T")[0]}.xlsx`),e({title:"Export Complete",description:"Withdrawals exported to Excel file successfully"})},H=()=>{const z=new er;z.setFontSize(20),z.text("Withdrawal Requests Report",20,20),z.setFontSize(12),z.text(`Generated on: ${new Date().toLocaleDateString()}`,20,30);const V=C.map(F=>{const I=F.paymentDetails?JSON.parse(F.paymentDetails):{};return[new Date(F.requestedAt).toLocaleDateString(),F.finderName||"",E(F.amount),F.status,I.accountName||"",I.bankName||""]});jye(z,{head:[["Date","Finder","Amount","Status","Account Name","Bank"]],body:V,startY:40,styles:{fontSize:8},headStyles:{fillColor:[220,38,38]}}),z.save(`withdrawals_${new Date().toISOString().split("T")[0]}.pdf`),e({title:"Export Complete",description:"Withdrawals exported to PDF successfully"})},X=z=>{switch(z){case"pending":return s.jsx(Ye,{className:"bg-yellow-100 text-yellow-800",children:"Pending"});case"processing":return s.jsx(Ye,{className:"bg-blue-100 text-blue-800",children:"Processing"});case"approved":return s.jsx(Ye,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return s.jsx(Ye,{className:"bg-red-100 text-red-800",children:"Rejected"});default:return s.jsx(Ye,{className:"bg-gray-100 text-gray-800",children:z})}},ee=z=>x!==z?s.jsx(bse,{className:"w-4 h-4"}):v==="asc"?s.jsx(yse,{className:"w-4 h-4"}):s.jsx(Nse,{className:"w-4 h-4"});if(_)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"withdrawals"}),s.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-4rem)]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading withdrawal requests..."})]})})]});const Q=w.filter(z=>z.status==="pending"),G=w.filter(z=>z.status==="processing");return w.filter(z=>["approved","rejected"].includes(z.status)),s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"withdrawals"}),s.jsxs("div",{className:"max-w-7xl mx-auto py-4 sm:py-8 px-4 sm:px-6",children:[s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-finder-red rounded-lg flex items-center justify-center",children:s.jsx(Sc,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Withdrawal Management"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Review and process finder withdrawal requests"})]})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[s.jsxs(ie,{onClick:D,variant:"outline",size:"sm",className:"flex items-center gap-2 flex-1 sm:flex-none",children:[s.jsx(as,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Export"})," CSV"]}),s.jsxs(ie,{onClick:H,variant:"outline",size:"sm",className:"flex items-center gap-2 flex-1 sm:flex-none",children:[s.jsx(B0,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Export"})," PDF"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[s.jsx(_e,{children:s.jsxs(Se,{className:"p-3 sm:p-6 text-center",children:[s.jsx("div",{className:"bg-yellow-600 rounded-full w-8 h-8 sm:w-12 sm:h-12 flex items-center justify-center mx-auto mb-2 sm:mb-4",children:s.jsx(hr,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),s.jsx("h3",{className:"text-xs sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2",children:"Pending"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-yellow-600",children:Q.length})]})}),s.jsx(_e,{children:s.jsxs(Se,{className:"p-3 sm:p-6 text-center",children:[s.jsx("div",{className:"bg-blue-600 rounded-full w-8 h-8 sm:w-12 sm:h-12 flex items-center justify-center mx-auto mb-2 sm:mb-4",children:s.jsx(Wr,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),s.jsx("h3",{className:"text-xs sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2",children:"Processing"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:G.length})]})}),s.jsx(_e,{children:s.jsxs(Se,{className:"p-3 sm:p-6 text-center",children:[s.jsx("div",{className:"bg-green-600 rounded-full w-8 h-8 sm:w-12 sm:h-12 flex items-center justify-center mx-auto mb-2 sm:mb-4",children:s.jsx(br,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),s.jsx("h3",{className:"text-xs sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2",children:"Approved"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-green-600",children:w.filter(z=>z.status==="approved").length})]})}),s.jsx(_e,{children:s.jsxs(Se,{className:"p-3 sm:p-6 text-center",children:[s.jsx("div",{className:"bg-finder-red rounded-full w-8 h-8 sm:w-12 sm:h-12 flex items-center justify-center mx-auto mb-2 sm:mb-4",children:s.jsx(fs,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),s.jsx("h3",{className:"text-xs sm:text-base font-semibold text-gray-900 mb-1 sm:mb-2",children:"Rejected"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-finder-red",children:w.filter(z=>z.status==="rejected").length})]})})]}),s.jsx(_e,{className:"mb-4 sm:mb-6",children:s.jsx(Se,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),s.jsx(at,{placeholder:"Search withdrawals...",value:d,onChange:z=>u(z.target.value),className:"pl-10 text-sm"})]})}),s.jsx("div",{className:"w-full sm:w-48",children:s.jsxs(Br,{value:h,onValueChange:m,children:[s.jsx(Ir,{className:"text-sm",children:s.jsx(Ur,{placeholder:"Filter by status"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"all",children:"All Statuses"}),s.jsx(dt,{value:"pending",children:"Pending"}),s.jsx(dt,{value:"processing",children:"Processing"}),s.jsx(dt,{value:"approved",children:"Approved"}),s.jsx(dt,{value:"rejected",children:"Rejected"})]})]})})]})})}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{children:["Withdrawal Requests (",C.length," of ",w.length,")"]})}),s.jsx(Se,{children:C.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Sc,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No withdrawal requests found"}),s.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"hidden lg:block rounded-lg border overflow-hidden",children:s.jsxs(fj,{children:[s.jsx(mj,{children:s.jsxs(um,{children:[s.jsx(Zs,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>A("requestedAt"),children:s.jsxs("div",{className:"flex items-center gap-2",children:["Date ",ee("requestedAt")]})}),s.jsx(Zs,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>A("finderName"),children:s.jsxs("div",{className:"flex items-center gap-2",children:["Finder ",ee("finderName")]})}),s.jsx(Zs,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>A("amount"),children:s.jsxs("div",{className:"flex items-center gap-2",children:["Amount ",ee("amount")]})}),s.jsx(Zs,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>A("status"),children:s.jsxs("div",{className:"flex items-center gap-2",children:["Status ",ee("status")]})}),s.jsx(Zs,{children:"Bank Details"}),s.jsx(Zs,{children:"Actions"})]})}),s.jsx(pj,{children:L.map(z=>{var F,I,B;const V=z.paymentDetails?JSON.parse(z.paymentDetails):{};return s.jsxs(um,{className:"hover:bg-gray-50",children:[s.jsxs(en,{children:[s.jsx("div",{className:"text-sm",children:new Date(z.requestedAt).toLocaleDateString()}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(z.requestedAt).toLocaleTimeString()})]}),s.jsxs(en,{children:[s.jsx("div",{className:"font-medium",children:z.finderName||"N/A"}),s.jsx("div",{className:"text-sm text-gray-600",children:z.finderEmail})]}),s.jsxs(en,{children:[s.jsx("div",{className:"font-semibold text-green-600",children:E(z.amount)}),s.jsx("div",{className:"text-xs text-gray-500 capitalize",children:((F=z.paymentMethod)==null?void 0:F.replace("_"," "))||"N/A"})]}),s.jsx(en,{children:X(z.status)}),s.jsx(en,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:V.accountName||"N/A"}),s.jsx("div",{className:"text-gray-600",children:V.accountNumber||"N/A"}),s.jsx("div",{className:"text-gray-600",children:V.bankName||"N/A"})]})}),s.jsx(en,{children:s.jsxs(qi,{children:[s.jsx(gh,{asChild:!0,children:s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>k(z),children:"Process"})}),s.jsxs(Ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ji,{children:s.jsxs(_i,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Sc,{className:"w-5 h-5 text-finder-red"}),"Process Withdrawal Request"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(_e,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-l-finder-red",children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-finder-red rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:((I=n==null?void 0:n.finderName)==null?void 0:I.charAt(0))||"F"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:(n==null?void 0:n.finderName)||"N/A"}),s.jsx("p",{className:"text-sm text-gray-600",children:n==null?void 0:n.finderEmail})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:n&&E(n.amount)}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Requested: ",n&&new Date(n.requestedAt).toLocaleDateString()]})]})]})})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(_e,{children:[s.jsx(Ze,{className:"pb-3",children:s.jsxs(Xe,{className:"text-base flex items-center gap-2",children:[s.jsx(Nn,{className:"w-4 h-4"}),"Bank Details"]})}),s.jsx(Se,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Account Name:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n!=null&&n.paymentDetails&&JSON.parse(n.paymentDetails).accountName||"N/A"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Account Number:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n!=null&&n.paymentDetails&&JSON.parse(n.paymentDetails).accountNumber||"N/A"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Bank Name:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n!=null&&n.paymentDetails&&JSON.parse(n.paymentDetails).bankName||"N/A"})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Sort Code:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n!=null&&n.paymentDetails&&JSON.parse(n.paymentDetails).routingNumber||"N/A"})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{className:"pb-3",children:s.jsx(Xe,{className:"text-base",children:"Request Details"})}),s.jsxs(Se,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method:"}),s.jsx("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded capitalize",children:((B=n==null?void 0:n.paymentMethod)==null?void 0:B.replace("_"," "))||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Current Status:"}),s.jsx("div",{children:n&&X(n.status)})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(_e,{className:"border-2 border-finder-red/20",children:[s.jsx(Ze,{className:"pb-3",children:s.jsx(Xe,{className:"text-base text-finder-red",children:"Update Status"})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"status",className:"text-sm font-semibold",children:"New Status"}),s.jsxs(Br,{value:a,onValueChange:o,children:[s.jsx(Ir,{className:"mt-1 h-11",children:s.jsx(Ur,{placeholder:"Select new status"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"pending",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"w-4 h-4 text-yellow-600"}),"Pending"]})}),s.jsx(dt,{value:"processing",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-blue-600"}),"Processing"]})}),s.jsx(dt,{value:"approved",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4 text-green-600"}),"Approved"]})}),s.jsx(dt,{value:"rejected",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fs,{className:"w-4 h-4 text-red-600"}),"Rejected"]})})]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"notes",className:"text-sm font-semibold",children:"Admin Notes"}),s.jsx(Ms,{id:"notes",value:l,onChange:q=>c(q.target.value),placeholder:"Add notes about this withdrawal decision...",rows:4,className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the finder"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[s.jsx(ie,{variant:"outline",onClick:()=>i(null),className:"h-11",children:"Cancel"}),s.jsx(ie,{onClick:j,disabled:N.isPending||!a,className:"bg-finder-red hover:bg-finder-red-dark h-11 font-semibold",children:N.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Updating..."]}):"Update Withdrawal"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>o("approved"),className:"text-green-600 border-green-200 hover:bg-green-50",children:[s.jsx(br,{className:"w-4 h-4 mr-1"}),"Quick Approve"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>o("rejected"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(fs,{className:"w-4 h-4 mr-1"}),"Quick Reject"]})]})]})]})]})]})]})})]},z.id)})})]})}),s.jsx("div",{className:"lg:hidden space-y-3",children:L.map(z=>{var F,I,B;const V=z.paymentDetails?JSON.parse(z.paymentDetails):{};return s.jsx(_e,{className:"p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900 text-sm",children:z.finderName||"N/A"}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:z.finderEmail})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-semibold text-green-600 text-sm",children:E(z.amount)}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(z.requestedAt).toLocaleDateString()})]})]}),s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[X(z.status),s.jsx("span",{className:"text-xs text-gray-500 capitalize",children:((F=z.paymentMethod)==null?void 0:F.replace("_"," "))||"N/A"})]})}),s.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs",children:[s.jsx("div",{className:"font-medium text-gray-700 mb-1",children:"Bank Details:"}),s.jsxs("div",{className:"space-y-0.5 text-gray-600",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Name:"})," ",V.accountName||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Account:"})," ",V.accountNumber||"N/A"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Bank:"})," ",V.bankName||"N/A"]})]})]}),s.jsx("div",{className:"pt-2",children:s.jsxs(qi,{children:[s.jsx(gh,{asChild:!0,children:s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>k(z),className:"w-full",children:"Process Withdrawal"})}),s.jsxs(Ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ji,{children:s.jsxs(_i,{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Sc,{className:"w-5 h-5 text-finder-red"}),"Process Withdrawal Request"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(_e,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-l-4 border-l-finder-red",children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-finder-red rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:((I=n==null?void 0:n.finderName)==null?void 0:I.charAt(0))||"F"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:(n==null?void 0:n.finderName)||"N/A"}),s.jsx("p",{className:"text-sm text-gray-600",children:n==null?void 0:n.finderEmail})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:n&&E(n.amount)}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Requested: ",n&&new Date(n.requestedAt).toLocaleDateString()]})]})]})})}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(_e,{children:[s.jsx(Ze,{className:"pb-3",children:s.jsxs(Xe,{className:"text-base flex items-center gap-2",children:[s.jsx(Nn,{className:"w-4 h-4"}),"Bank Details"]})}),s.jsx(Se,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Account Name:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n!=null&&n.paymentDetails&&JSON.parse(n.paymentDetails).accountName||"N/A"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Account Number:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n!=null&&n.paymentDetails&&JSON.parse(n.paymentDetails).accountNumber||"N/A"})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Bank Name:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n!=null&&n.paymentDetails&&JSON.parse(n.paymentDetails).bankName||"N/A"})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Sort Code:"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n!=null&&n.paymentDetails&&JSON.parse(n.paymentDetails).routingNumber||"N/A"})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{className:"pb-3",children:s.jsx(Xe,{className:"text-base",children:"Request Details"})}),s.jsxs(Se,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method:"}),s.jsx("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded capitalize",children:((B=n==null?void 0:n.paymentMethod)==null?void 0:B.replace("_"," "))||"N/A"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Current Status:"}),s.jsx("div",{children:n&&X(n.status)})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(_e,{className:"border-2 border-finder-red/20",children:[s.jsx(Ze,{className:"pb-3",children:s.jsx(Xe,{className:"text-base text-finder-red",children:"Update Status"})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"status",className:"text-sm font-semibold",children:"New Status"}),s.jsxs(Br,{value:a,onValueChange:o,children:[s.jsx(Ir,{className:"mt-1 h-11",children:s.jsx(Ur,{placeholder:"Select new status"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"pending",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"w-4 h-4 text-yellow-600"}),"Pending"]})}),s.jsx(dt,{value:"processing",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4 text-blue-600"}),"Processing"]})}),s.jsx(dt,{value:"approved",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4 text-green-600"}),"Approved"]})}),s.jsx(dt,{value:"rejected",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fs,{className:"w-4 h-4 text-red-600"}),"Rejected"]})})]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"notes",className:"text-sm font-semibold",children:"Admin Notes"}),s.jsx(Ms,{id:"notes",value:l,onChange:q=>c(q.target.value),placeholder:"Add notes about this withdrawal decision...",rows:4,className:"mt-1"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the finder"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4",children:[s.jsx(ie,{variant:"outline",onClick:()=>i(null),className:"h-11",children:"Cancel"}),s.jsx(ie,{onClick:j,disabled:N.isPending||!a,className:"bg-finder-red hover:bg-finder-red-dark h-11 font-semibold",children:N.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Updating..."]}):"Update Withdrawal"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>o("approved"),className:"text-green-600 border-green-200 hover:bg-green-50",children:[s.jsx(br,{className:"w-4 h-4 mr-1"}),"Quick Approve"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>o("rejected"),className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(fs,{className:"w-4 h-4 mr-1"}),"Quick Reject"]})]})]})]})]})]})]})})]})},z.id)})}),T>1&&s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Showing ",(f-1)*p+1," to ",Math.min(f*p,C.length)," of ",C.length]}),s.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>g(z=>Math.max(z-1,1)),disabled:f===1,className:"text-xs sm:text-sm",children:[s.jsx(yU,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(T,5)},(z,V)=>{let F;return T<=5||f<=3?F=V+1:f>=T-2?F=T-4+V:F=f-2+V,s.jsx(ie,{variant:f===F?"default":"outline",size:"sm",onClick:()=>g(F),className:`w-8 h-8 p-0 text-xs ${f===F?"bg-finder-red hover:bg-finder-red-dark":""}`,children:F},F)})}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>g(z=>Math.min(z+1,T)),disabled:f===T,className:"text-xs sm:text-sm",children:[s.jsx("span",{className:"hidden sm:inline",children:"Next"}),s.jsx(ug,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})]})]})})]})]})]})}const GO=t=>{const e=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)};function m4e(){const{toast:t}=ar(),e=vr(),[r,n]=O.useState(!1),[i,a]=O.useState(null),[o,l]=O.useState(!1),[c,d]=O.useState({name:"",description:"",price:"",tokenCount:0,isActive:!0}),{data:u=[],isLoading:h}=pt({queryKey:["/api/admin/token-packages"]}),m=Ft({mutationFn:async v=>St("/api/admin/token-packages",{method:"POST",body:JSON.stringify(v)}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/token-packages"]}),n(!1),p(),t({title:"Success",description:"Token package created successfully"})},onError:v=>{t({title:"Error",description:v.message||"Failed to create token package",variant:"destructive"})}}),f=Ft({mutationFn:async({id:v,data:b})=>St(`/api/admin/token-packages/${v}`,{method:"PUT",body:JSON.stringify(b)}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/token-packages"]}),a(null),l(!1),p(),t({title:"Success",description:"Token package updated successfully"})},onError:v=>{t({title:"Error",description:v.message||"Failed to update token package",variant:"destructive"})}}),g=Ft({mutationFn:async v=>St(`/api/admin/token-packages/${v}`,{method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/token-packages"]}),t({title:"Success",description:"Token package deleted successfully"})},onError:v=>{t({title:"Error",description:v.message||"Failed to delete token package",variant:"destructive"})}}),p=()=>{d({name:"",description:"",price:"",tokenCount:0,isActive:!0})},x=v=>{a(v),d({name:v.name,description:v.description||"",price:v.price,tokenCount:v.tokenCount,isActive:v.isActive}),l(!0)},y=v=>{var _;v.preventDefault();const b=parseFloat(c.price||"0"),w=parseInt(((_=c.tokenCount)==null?void 0:_.toString())||"0");if(!c.name||b<=0||w<=0){t({title:"Validation Error",description:"Please fill in all required fields with valid values",variant:"destructive"});return}m.mutate({...c,price:b.toString(),tokenCount:w})};return h?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"token-packages"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading token packages..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:[s.jsx(Sr,{currentPage:"token-packages"}),s.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200/50 dark:border-gray-700/50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[s.jsxs("div",{className:"relative shrink-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600 to-blue-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative p-3 sm:p-4 bg-gradient-to-r from-green-500 to-blue-500 rounded-2xl",children:s.jsx(Vf,{className:"w-6 h-6 sm:w-7 sm:h-7 text-white"})})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent break-words",children:"Token Packages"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm sm:text-base",children:"Manage token packages for finders"})]})]}),s.jsxs(ie,{onClick:()=>n(!0),className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 w-full sm:w-auto shrink-0",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"text-sm",children:"Create Package"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[r&&s.jsxs(_e,{className:"mb-8 backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"text-slate-800 flex items-center text-lg sm:text-xl",children:[s.jsx(rn,{className:"w-5 h-5 mr-2 text-green-600"}),"Create New Token Package"]})}),s.jsx(Se,{children:s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"name",className:"flex items-center text-sm",children:[s.jsx(as,{className:"w-4 h-4 mr-2 text-blue-500"}),"Package Name *"]}),s.jsx(at,{id:"name",value:c.name,onChange:v=>d(b=>({...b,name:v.target.value})),placeholder:"e.g., Bronze Tier, Mega Pack",className:"bg-white/80 w-full",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"tokenCount",className:"flex items-center text-sm",children:[s.jsx(IT,{className:"w-4 h-4 mr-2 text-orange-500"}),"Number of Tokens *"]}),s.jsx(at,{id:"tokenCount",type:"number",min:"1",value:c.tokenCount||"",onChange:v=>d(b=>({...b,tokenCount:parseInt(v.target.value)||0})),placeholder:"e.g., 100",className:"bg-white/80 w-full",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"price",className:"flex items-center text-sm",children:[s.jsx("span",{className:"w-4 h-4 mr-2 text-green-500",children:""}),"Price () *"]}),s.jsx(at,{id:"price",type:"number",min:"0.01",step:"0.01",value:c.price,onChange:v=>d(b=>({...b,price:v.target.value})),placeholder:"e.g., 5000.00",className:"bg-white/80 w-full",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{className:"flex items-center text-sm",children:[s.jsx(aa,{className:"w-4 h-4 mr-2 text-purple-500"}),"Active Status"]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Gd,{checked:c.isActive||!1,onCheckedChange:v=>d(b=>({...b,isActive:v}))}),s.jsx("span",{className:"text-sm text-gray-600 break-words",children:c.isActive?"Active (available for purchase)":"Inactive (hidden from finders)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"description",className:"text-sm",children:"Description"}),s.jsx(Ms,{id:"description",value:c.description||"",onChange:v=>d(b=>({...b,description:v.target.value})),placeholder:"e.g., 100 tokens to get you started",className:"bg-white/80 min-h-[100px] w-full resize-none",rows:3})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(ie,{type:"submit",disabled:m.isPending,className:"bg-green-600 hover:bg-green-700 w-full sm:w-auto",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),m.isPending?"Saving...":"Create Package"]}),s.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{n(!1),p()},className:"w-full sm:w-auto",children:[s.jsx(ko,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})})]}),s.jsx(qi,{open:o,onOpenChange:l,children:s.jsxs(Ni,{className:"max-w-2xl max-h-[90vh] overflow-y-auto mx-4",children:[s.jsxs(ji,{children:[s.jsxs(_i,{className:"flex items-center text-lg sm:text-xl",children:[s.jsx(Vl,{className:"w-5 h-5 mr-2 text-blue-600"}),"Edit Token Package"]}),s.jsx(Xy,{className:"text-sm",children:"Update the details of this token package. Changes will be saved immediately."})]}),s.jsxs("form",{onSubmit:v=>{var _;v.preventDefault();const b=parseFloat(c.price||"0"),w=parseInt(((_=c.tokenCount)==null?void 0:_.toString())||"0");if(!c.name||b<=0||w<=0){t({title:"Validation Error",description:"Please fill in all required fields with valid values",variant:"destructive"});return}i&&f.mutate({id:i.id,data:{...c,price:b.toString(),tokenCount:w}})},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"edit-name",className:"flex items-center text-sm",children:[s.jsx(as,{className:"w-4 h-4 mr-2 text-blue-500"}),"Package Name *"]}),s.jsx(at,{id:"edit-name",value:c.name,onChange:v=>d(b=>({...b,name:v.target.value})),placeholder:"e.g., Bronze Tier, Mega Pack",className:"w-full",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"edit-tokenCount",className:"flex items-center text-sm",children:[s.jsx(IT,{className:"w-4 h-4 mr-2 text-orange-500"}),"Token Count *"]}),s.jsx(at,{id:"edit-tokenCount",type:"number",min:"1",value:c.tokenCount||"",onChange:v=>d(b=>({...b,tokenCount:parseInt(v.target.value)||0})),placeholder:"e.g., 100",className:"w-full",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{htmlFor:"edit-price",className:"flex items-center text-sm",children:[s.jsx("span",{className:"w-4 h-4 mr-2 text-green-500",children:""}),"Price () *"]}),s.jsx(at,{id:"edit-price",type:"number",min:"0.01",step:"0.01",value:c.price,onChange:v=>d(b=>({...b,price:v.target.value})),placeholder:"e.g., 5000.00",className:"w-full",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{className:"flex items-center text-sm",children:[s.jsx(aa,{className:"w-4 h-4 mr-2 text-purple-500"}),"Active Status"]}),s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx(Gd,{checked:c.isActive||!1,onCheckedChange:v=>d(b=>({...b,isActive:v}))}),s.jsx("span",{className:"text-sm text-gray-600 break-words",children:c.isActive?"Active (available for purchase)":"Inactive (hidden from finders)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"edit-description",className:"text-sm",children:"Description"}),s.jsx(Ms,{id:"edit-description",value:c.description,onChange:v=>d(b=>({...b,description:v.target.value})),placeholder:"e.g., 100 tokens to get you started",className:"min-h-[100px] w-full resize-none",rows:3})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 border-t",children:[s.jsxs(ie,{type:"submit",disabled:f.isPending,className:"bg-blue-600 hover:bg-blue-700 w-full sm:flex-1",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),f.isPending?"Updating...":"Update Package"]}),s.jsxs(ie,{type:"button",variant:"outline",onClick:()=>{l(!1),a(null),p()},className:"w-full sm:flex-1",children:[s.jsx(ko,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})}),s.jsxs(_e,{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"text-slate-800 flex items-center",children:[s.jsx(Vf,{className:"w-5 h-5 mr-2"}),"Token Packages (",u.length,")"]})}),s.jsx(Se,{children:u.length===0?s.jsxs("div",{className:"text-center py-12 text-slate-500",children:[s.jsx(Vf,{className:"w-16 h-16 mx-auto mb-4 text-slate-300"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No token packages yet"}),s.jsx("p",{className:"text-sm sm:text-base",children:"Create your first token package to get started."})]}):s.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 xl:grid-cols-3",children:u.map(v=>s.jsxs(_e,{className:"border border-gray-200 hover:shadow-lg transition-all duration-200 w-full",children:[s.jsx(Ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx(Xe,{className:"text-base sm:text-lg font-bold text-gray-900 break-words flex-1 min-w-0",children:v.name}),s.jsx(Ye,{variant:v.isActive?"default":"secondary",className:"shrink-0",children:v.isActive?"Active":"Inactive"})]})}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[v.description&&s.jsx("p",{className:"text-gray-600 text-sm break-words",children:v.description}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-3 sm:p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Price"}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-green-600 break-words",children:GO(v.price)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Tokens"}),s.jsx("span",{className:"text-base sm:text-lg font-bold text-blue-600",children:v.tokenCount})]}),s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Price per token: "}),s.jsx("span",{className:"text-xs sm:text-sm font-semibold text-orange-600 break-words",children:GO(parseFloat(v.price)/v.tokenCount)})]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(ie,{size:"sm",variant:"outline",onClick:()=>x(v),className:"flex-1 w-full",disabled:f.isPending,children:[s.jsx(Vl,{className:"w-3 h-3 mr-1"}),"Edit"]}),s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>{confirm(`Are you sure you want to delete "${v.name}"?`)&&g.mutate(v.id)},disabled:g.isPending,className:"text-red-600 border-red-200 hover:bg-red-50 w-full sm:w-auto",children:s.jsx(Ph,{className:"w-3 h-3"})})]})]})})]},v.id))})})]})]})]})}var Cj="Tabs",[p4e]=Fa(Cj,[nj]),bG=nj(),[g4e,YC]=p4e(Cj),wG=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=sj(l),[h,m]=Vd({prop:n,onChange:i,defaultProp:a??"",caller:Cj});return s.jsx(g4e,{scope:r,baseId:Oc(),value:h,onValueChange:m,orientation:o,dir:u,activationMode:c,children:s.jsx(rr.div,{dir:u,"data-orientation":o,...d,ref:e})})});wG.displayName=Cj;var NG="TabsList",jG=O.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=YC(NG,r),o=bG(r);return s.jsx(W$,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(rr.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});jG.displayName=NG;var _G="TabsTrigger",SG=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=YC(_G,r),l=bG(r),c=AG(o.baseId,n),d=EG(o.baseId,n),u=n===o.value;return s.jsx(K$,{asChild:!0,...l,focusable:!i,active:u,children:s.jsx(rr.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Pt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Pt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Pt(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!i&&h&&o.onValueChange(n)})})})});SG.displayName=_G;var kG="TabsContent",CG=O.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,l=YC(kG,r),c=AG(l.baseId,n),d=EG(l.baseId,n),u=n===l.value,h=O.useRef(u);return O.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(el,{present:i||u,children:({present:m})=>s.jsx(rr.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});CG.displayName=kG;function AG(t,e){return`${t}-trigger-${e}`}function EG(t,e){return`${t}-content-${e}`}var x4e=wG,TG=jG,PG=SG,FG=CG;const OG=x4e,QC=O.forwardRef(({className:t,...e},r)=>s.jsx(TG,{ref:r,className:Ot("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));QC.displayName=TG.displayName;const xf=O.forwardRef(({className:t,...e},r)=>s.jsx(PG,{ref:r,className:Ot("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));xf.displayName=PG.displayName;const vf=O.forwardRef(({className:t,...e},r)=>s.jsx(FG,{ref:r,className:Ot("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));vf.displayName=FG.displayName;function v4e(){const[t,e]=O.useState(""),[r,n]=O.useState("finder"),[i,a]=O.useState(""),[o,l]=O.useState(""),[c,d]=O.useState(new Date().getMonth()+1),[u,h]=O.useState(new Date().getFullYear()),[m,f]=O.useState(!1),[g,p]=O.useState(""),[x,y]=O.useState(""),{toast:v}=ar(),b=vr(),{data:w=[],isLoading:_}=pt({queryKey:["/api/admin/users"]}),N=w.filter(z=>z.role==="finder"),j=w.filter(z=>z.role==="client"),{data:k}=pt({queryKey:["/api/admin/settings"]});O.useEffect(()=>{k&&(p(k.highBudgetThreshold||"100000"),y(k.highBudgetTokenCost||"5"))},[k]);const{data:E=[],isLoading:A}=pt({queryKey:["/api/admin/token-grants"]}),{data:C=[],isLoading:T}=pt({queryKey:["/api/admin/monthly-distributions",c,u],queryFn:()=>St(`/api/admin/monthly-distributions?month=${c}&year=${u}`)}),L=Ft({mutationFn:()=>St("/api/admin/sync-token-balances",{method:"POST"}),onSuccess:z=>{v({title:"Token Balances Synced",description:z.message}),b.invalidateQueries({queryKey:["/api/admin/users"]}),b.invalidateQueries({queryKey:["/api/admin/token-grants"]})},onError:z=>{v({title:"Sync Failed",description:z.message||"Failed to sync token balances",variant:"destructive"})}}),D=Ft({mutationFn:()=>St("/api/admin/distribute-monthly-tokens",{method:"POST"}),onSuccess:z=>{v({title:"Monthly Tokens Distributed",description:`Distributed to ${z.distributed} finders. ${z.alreadyDistributed} already received tokens this month.`}),b.invalidateQueries({queryKey:["/api/admin/monthly-distributions"]}),b.invalidateQueries({queryKey:["/api/admin/users"]})},onError:z=>{v({title:"Distribution Failed",description:z.message||"Failed to distribute monthly tokens",variant:"destructive"})}}),H=Ft({mutationFn:z=>St("/api/admin/grant-tokens",{method:"POST",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}),onSuccess:(z,V)=>{v({title:"Tokens Granted",description:`${V.amount} tokens have been successfully granted to the ${V.userRole}.`}),b.invalidateQueries({queryKey:["/api/admin/token-grants"]}),b.invalidateQueries({queryKey:["/api/admin/users"]}),f(!1),e(""),n("finder"),a(""),l("")},onError:z=>{console.error("Grant tokens error:",z),v({title:"Grant Failed",description:z.message||"Failed to grant tokens",variant:"destructive"})}}),X=Ft({mutationFn:z=>St("/api/admin/settings",{method:"PUT",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{v({title:"Settings Updated",description:"High budget posting settings have been updated successfully."}),b.invalidateQueries({queryKey:["/api/admin/settings"]})},onError:z=>{v({title:"Update Failed",description:z.message||"Failed to update settings",variant:"destructive"})}}),ee=z=>{if(z.preventDefault(),!g||!x){v({title:"Missing Information",description:"Please fill in all fields",variant:"destructive"});return}X.mutate({highBudgetThreshold:g,highBudgetTokenCost:x})},Q=()=>{if(!t||!i||!o){v({title:"Missing Information",description:"Please fill in all fields",variant:"destructive"});return}const z=parseInt(i);if(isNaN(z)||z<=0){v({title:"Invalid Amount",description:"Amount must be a positive number",variant:"destructive"});return}console.log("Granting tokens:",{userId:t,userRole:r,amount:z,reason:o}),H.mutate({userId:t,userRole:r,amount:z,reason:o})},G=["January","February","March","April","May","June","July","August","September","October","November","December"];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(Sr,{currentPage:"token-management"}),s.jsxs("div",{className:"container mx-auto p-3 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[s.jsx(aa,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600"}),s.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:"Token Management"})]}),s.jsxs(OG,{defaultValue:"distribute",className:"space-y-4 sm:space-y-6",children:[s.jsxs(QC,{className:"grid w-full grid-cols-2 sm:grid-cols-4 h-auto gap-1",children:[s.jsxs(xf,{value:"distribute",className:"text-xs sm:text-sm px-2 py-2",children:[s.jsx("span",{className:"hidden sm:inline",children:"Monthly Distribution"}),s.jsx("span",{className:"sm:hidden",children:"Monthly"})]}),s.jsxs(xf,{value:"grant",className:"text-xs sm:text-sm px-2 py-2",children:[s.jsx("span",{className:"hidden sm:inline",children:"Grant Tokens"}),s.jsx("span",{className:"sm:hidden",children:"Grant"})]}),s.jsxs(xf,{value:"settings",className:"text-xs sm:text-sm px-2 py-2",children:[s.jsx("span",{className:"hidden sm:inline",children:"High Budget Settings"}),s.jsx("span",{className:"sm:hidden",children:"Settings"})]}),s.jsx(xf,{value:"history",className:"text-xs sm:text-sm px-2 py-2",children:"History"})]}),s.jsx(vf,{value:"distribute",children:s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-5 w-5"}),"Monthly Token Distribution"]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Distribute 20 tokens to all active finders for the current month. This can only be done once per month per finder."}),s.jsx(ie,{onClick:()=>D.mutate(),disabled:D.isPending,className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto text-sm sm:text-base",children:D.isPending?"Distributing...":"Distribute Monthly Tokens"}),s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsxs("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:[G[new Date().getMonth()]," ",new Date().getFullYear()," Distribution Status"]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[s.jsx(_e,{children:s.jsx(Se,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:C.length}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Finders Received"})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:C.length*20}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Tokens Distributed"})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:N.length-C.length}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pending Finders"})]})})})]})]})]})]})}),s.jsx(vf,{value:"grant",children:s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Sv,{className:"h-5 w-5"}),"Grant Tokens to Finder"]})}),s.jsx(Se,{children:s.jsxs(qi,{open:m,onOpenChange:f,children:[s.jsx(gh,{asChild:!0,children:s.jsx(ie,{className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto",children:"Grant Tokens"})}),s.jsxs(Ni,{className:"w-[95vw] max-w-md mx-auto",children:[s.jsx(ji,{children:s.jsxs(_i,{className:"text-sm sm:text-base",children:["Grant Tokens to ",r==="finder"?"Finder":"Client"]})}),s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"role-select",children:"User Type"}),s.jsxs(Br,{value:r,onValueChange:z=>{n(z),e("")},children:[s.jsx(Ir,{children:s.jsx(Ur,{})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"finder",children:"Finder"}),s.jsx(dt,{value:"client",children:"Client"})]})]})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"user-select",children:["Select ",r==="finder"?"Finder":"Client"]}),s.jsxs(Br,{value:t,onValueChange:e,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:`Choose a ${r}...`})}),s.jsx(Dr,{children:(r==="finder"?N:j).map(z=>s.jsxs(dt,{value:z.id,children:[z.firstName," ",z.lastName," (",z.email,")",s.jsxs("span",{className:"ml-2 text-muted-foreground",children:["- Balance: ",z.findertokenBalance||0," tokens"]})]},z.id))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"amount",children:"Amount"}),s.jsx(at,{id:"amount",type:"number",min:"1",value:i,onChange:z=>a(z.target.value),placeholder:"Number of tokens to grant"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"reason",children:"Reason"}),s.jsx(Ms,{id:"reason",value:o,onChange:z=>l(z.target.value),placeholder:"Reason for granting tokens...",rows:3})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsx(ie,{onClick:Q,disabled:H.isPending,className:"bg-red-600 hover:bg-red-700 flex-1 text-sm",children:H.isPending?"Granting...":"Grant Tokens"}),s.jsx(ie,{variant:"outline",onClick:()=>f(!1),className:"flex-1 text-sm",children:"Cancel"})]})]})]})]})})]})}),s.jsx(vf,{value:"settings",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Ml,{className:"w-5 h-5"}),"Token Balance Management"]})}),s.jsx(Se,{className:"space-y-6",children:s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 sm:p-4",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-yellow-800 mb-2",children:"Token Balance Synchronization"}),s.jsx("p",{className:"text-yellow-700 mb-3 sm:mb-4 text-sm sm:text-base",children:"If you notice discrepancies in finder token balances, use this tool to recalculate and sync all balances based on transaction history."}),s.jsx(ie,{onClick:()=>L.mutate(),disabled:L.isPending,variant:"outline",className:"border-yellow-300 text-yellow-700 hover:bg-yellow-100 w-full sm:w-auto text-sm sm:text-base",children:L.isPending?"Syncing...":"Sync All Token Balances"})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(U0,{className:"w-5 h-5"}),"High Budget Posting Configuration"]})}),s.jsx(Se,{children:s.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"highBudgetThreshold",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(U0,{className:"w-4 h-4 mr-2 text-purple-600"}),"High Budget Threshold ()"]}),s.jsx(at,{id:"highBudgetThreshold",type:"number",min:"1000",step:"100",value:g,onChange:z=>p(z.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-purple-500 focus:ring-purple-500/20",placeholder:"Enter threshold amount"}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-purple-700",children:[s.jsx("strong",{children:"Current:"})," ",parseInt(g||"100000").toLocaleString()," threshold"]}),s.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Posts with budget  this amount require findertokens"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Te,{htmlFor:"highBudgetTokenCost",className:"text-slate-700 text-sm font-semibold flex items-center",children:[s.jsx(aa,{className:"w-4 h-4 mr-2 text-indigo-600"}),"Required Findertokens"]}),s.jsx(at,{id:"highBudgetTokenCost",type:"number",min:"1",value:x,onChange:z=>y(z.target.value),className:"h-12 text-lg bg-white/80 border-slate-200 focus:border-indigo-500 focus:ring-indigo-500/20",placeholder:"Enter token count"}),s.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-3",children:[s.jsxs("p",{className:"text-sm text-indigo-700",children:[s.jsx("strong",{children:"Current:"})," ",x||"5"," findertokens required"]}),s.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:"Tokens deducted for high-budget posts"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ie,{type:"submit",disabled:X.isPending,className:"bg-red-600 hover:bg-red-700 px-6",children:X.isPending?"Updating...":"Update High Budget Settings"})})]})})]})]})}),s.jsx(vf,{value:"history",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Sv,{className:"h-5 w-5"}),"Token Grants History"]})}),s.jsx(Se,{children:A?s.jsx("div",{className:"text-center py-4",children:"Loading grants..."}):E.length===0?s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No token grants found"}):s.jsx("div",{className:"space-y-3",children:E.map(z=>{var I,B,q,U,W,te,re,le,ke,Pe,He;const V=(I=z.user)!=null&&I.firstName&&((B=z.user)!=null&&B.lastName)?`${z.user.firstName} ${z.user.lastName}`:(U=(q=z.finder)==null?void 0:q.user)!=null&&U.firstName&&((te=(W=z.finder)==null?void 0:W.user)!=null&&te.lastName)?`${z.finder.user.firstName} ${z.finder.user.lastName}`:"Unknown User",F=((re=z.user)==null?void 0:re.email)||((ke=(le=z.finder)==null?void 0:le.user)==null?void 0:ke.email)||"No email";return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx(qr,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[s.jsx("div",{className:"font-medium text-sm sm:text-base truncate",children:V}),s.jsx(Ye,{variant:"outline",className:"text-xs w-fit",children:z.userType})]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:F})]})]}),s.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-end justify-between sm:justify-start gap-2 sm:gap-1 text-right",children:[s.jsxs(Ye,{variant:"secondary",className:"text-xs",children:["+",z.amount," tokens"]}),s.jsxs("div",{className:"flex flex-col text-right",children:[s.jsxs("div",{className:"text-xs text-muted-foreground",children:["by ",((Pe=z.grantedByUser)==null?void 0:Pe.firstName)||"Unknown"," ",((He=z.grantedByUser)==null?void 0:He.lastName)||"Admin"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:Ri(new Date(z.createdAt),"MMM d, yyyy h:mm a")})]})]})]},z.id)})})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-5 w-5"}),"Monthly Distributions History"]})}),s.jsxs(Se,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 mb-4",children:[s.jsxs(Br,{value:c.toString(),onValueChange:z=>d(parseInt(z)),children:[s.jsx(Ir,{className:"w-full sm:w-40",children:s.jsx(Ur,{})}),s.jsx(Dr,{children:G.map((z,V)=>s.jsx(dt,{value:(V+1).toString(),children:z},V+1))})]}),s.jsxs(Br,{value:u.toString(),onValueChange:z=>h(parseInt(z)),children:[s.jsx(Ir,{className:"w-full sm:w-32",children:s.jsx(Ur,{})}),s.jsx(Dr,{children:[2024,2025,2026].map(z=>s.jsx(dt,{value:z.toString(),children:z},z))})]})]}),T?s.jsx("div",{className:"text-center py-4",children:"Loading distributions..."}):C.length===0?s.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:["No distributions found for ",G[c-1]," ",u]}):s.jsx("div",{className:"space-y-3",children:C.map(z=>{var V,F,I,B,q,U;return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 border rounded-lg gap-3 sm:gap-0",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx(qr,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"font-medium text-sm sm:text-base truncate",children:[((F=(V=z.finder)==null?void 0:V.user)==null?void 0:F.firstName)||"Unknown"," ",((B=(I=z.finder)==null?void 0:I.user)==null?void 0:B.lastName)||"User"]}),s.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:((U=(q=z.finder)==null?void 0:q.user)==null?void 0:U.email)||"No email available"})]})]}),s.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-end justify-between sm:justify-start gap-2 sm:gap-1 text-right",children:[s.jsxs(Ye,{variant:"secondary",className:"text-xs",children:["+",z.tokensGranted," tokens"]}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.jsx(hr,{className:"h-3 w-3 inline mr-1"}),Ri(new Date(z.distributedAt),"MMM d, yyyy h:mm a")]})]})]},z.id)})})]})]})]})})]})]})]})}function y4e(){const{toast:t}=ar(),e=vr(),{data:r=[],isLoading:n}=pt({queryKey:["/api/admin/blog-posts"]}),i=Ft({mutationFn:a=>St(`/api/admin/blog-posts/${a}`,{method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/blog-posts"]}),t({title:"Success",description:"Blog post deleted successfully"})},onError:()=>{t({title:"Error",description:"Failed to delete blog post",variant:"destructive"})}});return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"blog-posts"}),s.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Blog Posts"}),s.jsx("p",{className:"text-gray-600",children:"Create and manage blog posts for your platform"})]}),s.jsx(Re,{href:"/admin/blog-posts/create",children:s.jsxs(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white w-full sm:w-auto",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Create Post"]})})]}),r.length===0?s.jsx(_e,{children:s.jsxs(Se,{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 mb-4",children:s.jsx(Vl,{className:"w-16 h-16 mx-auto"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No blog posts yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start creating engaging content for your platform"}),s.jsx(Re,{href:"/admin/blog-posts/create",children:s.jsxs(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Create Your First Post"]})})]})}):s.jsx("div",{className:"space-y-6",children:r.map(a=>s.jsx(_e,{className:"hover:shadow-lg transition-shadow",children:s.jsx(Se,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 truncate",children:a.title}),s.jsx(Ye,{variant:a.isPublished?"default":"secondary",className:"w-fit",children:a.isPublished?"Published":"Draft"})]}),a.excerpt&&s.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:a.excerpt}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center text-sm text-gray-500 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(_n,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Created "}),new Date(a.createdAt).toLocaleDateString()]}),a.publishedAt&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ms,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Published "}),new Date(a.publishedAt).toLocaleDateString()]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("span",{className:"text-sm text-blue-600 font-medium break-all",children:["/",a.slug]})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 lg:ml-4",children:[s.jsx(Re,{href:`/admin/blog-posts/edit/${a.id}`,children:s.jsxs(ie,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[s.jsx(Vl,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Edit"}),s.jsx("span",{className:"sm:hidden",children:"Edit Post"})]})}),a.isPublished&&s.jsx(Re,{href:`/blog/${a.slug}`,children:s.jsxs(ie,{variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[s.jsx(ms,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"View"}),s.jsx("span",{className:"sm:hidden",children:"View Post"})]})}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>i.mutate(a.id),disabled:i.isPending,className:"text-finder-red hover:text-finder-red-dark hover:bg-finder-red/10 w-full sm:w-auto",children:[s.jsx(Ph,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Delete"}),s.jsx("span",{className:"sm:hidden",children:"Delete Post"})]})]})]})})},a.id))})]})]})}var h1=t=>t.type==="checkbox",yf=t=>t instanceof Date,$a=t=>t==null;const LG=t=>typeof t=="object";var Yn=t=>!$a(t)&&!Array.isArray(t)&&LG(t)&&!yf(t),RG=t=>Yn(t)&&t.target?h1(t.target)?t.target.checked:t.target.value:t,b4e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,IG=(t,e)=>t.has(b4e(e)),w4e=t=>{const e=t.constructor&&t.constructor.prototype;return Yn(e)&&e.hasOwnProperty("isPrototypeOf")},XC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function si(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(XC&&(t instanceof Blob||n))&&(r||Yn(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!w4e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=si(t[i]));else return t;return e}var Aj=t=>/^\w*$/.test(t),wn=t=>t===void 0,JC=t=>Array.isArray(t)?t.filter(Boolean):[],ZC=t=>JC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Dt=(t,e,r)=>{if(!e||!Yn(t))return r;const n=(Aj(e)?[e]:ZC(e)).reduce((i,a)=>$a(i)?i:i[a],t);return wn(n)||n===t?wn(t[e])?r:t[e]:n},ho=t=>typeof t=="boolean",Ns=(t,e,r)=>{let n=-1;const i=Aj(e)?[e]:ZC(e),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=r;if(n!==o){const d=t[l];c=Yn(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Bw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Tl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eA=mr.createContext(null);eA.displayName="HookFormContext";const Ej=()=>mr.useContext(eA),N4e=t=>{const{children:e,...r}=t;return mr.createElement(eA.Provider,{value:r},e)};var DG=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Tl.all&&(e._proxyFormState[o]=!n||Tl.all),r&&(r[o]=!0),t[o]}});return i};const tA=typeof window<"u"?mr.useLayoutEffect:mr.useEffect;function j4e(t){const e=Ej(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[o,l]=mr.useState(r._formState),c=mr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return tA(()=>r._subscribe({name:i,formState:c.current,exact:a,callback:d=>{!n&&l({...r._formState,...d})}}),[i,n,a]),mr.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),mr.useMemo(()=>DG(o,r,c.current,!1),[o,r])}var go=t=>typeof t=="string",MG=(t,e,r,n,i)=>go(t)?(n&&e.watch.add(t),Dt(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Dt(r,a))):(n&&(e.watchAll=!0),r),J3=t=>$a(t)||!LG(t);function kd(t,e,r=new WeakSet){if(J3(t)||J3(e))return t===e;if(yf(t)&&yf(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const o=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=e[a];if(yf(o)&&yf(l)||Yn(o)&&Yn(l)||Array.isArray(o)&&Array.isArray(l)?!kd(o,l,r):o!==l)return!1}}return!0}function _4e(t){const e=Ej(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:o,compute:l}=t||{},c=mr.useRef(i),d=mr.useRef(l),u=mr.useRef(void 0);d.current=l;const h=mr.useMemo(()=>r._getWatch(n,c.current),[r,n]),[m,f]=mr.useState(d.current?d.current(h):h);return tA(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:g=>{if(!a){const p=MG(n,r._names,g.values||r._formValues,!1,c.current);if(d.current){const x=d.current(p);kd(x,u.current)||(f(x),u.current=x)}else f(p)}}}),[r,a,n,o]),mr.useEffect(()=>r._removeUnmounted()),m}function S4e(t){const e=Ej(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a,defaultValue:o}=t,l=IG(i._names.array,r),c=mr.useMemo(()=>Dt(i._formValues,r,Dt(i._defaultValues,r,o)),[i,r,o]),d=_4e({control:i,name:r,defaultValue:c,exact:!0}),u=j4e({control:i,name:r,exact:!0}),h=mr.useRef(t),m=mr.useRef(void 0),f=mr.useRef(i.register(r,{...t.rules,value:d,...ho(t.disabled)?{disabled:t.disabled}:{}}));h.current=t;const g=mr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Dt(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!Dt(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Dt(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Dt(u.validatingFields,r)},error:{enumerable:!0,get:()=>Dt(u.errors,r)}}),[u,r]),p=mr.useCallback(b=>f.current.onChange({target:{value:RG(b),name:r},type:Bw.CHANGE}),[r]),x=mr.useCallback(()=>f.current.onBlur({target:{value:Dt(i._formValues,r),name:r},type:Bw.BLUR}),[r,i._formValues]),y=mr.useCallback(b=>{const w=Dt(i._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})},[i._fields,r]),v=mr.useMemo(()=>({name:r,value:d,...ho(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:p,onBlur:x,ref:y}),[r,n,u.disabled,p,x,y,d]);return mr.useEffect(()=>{const b=i._options.shouldUnregister||a,w=m.current;w&&w!==r&&!l&&i.unregister(w),i.register(r,{...h.current.rules,...ho(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(N,j)=>{const k=Dt(i._fields,N);k&&k._f&&(k._f.mount=j)};if(_(r,!0),b){const N=si(Dt(i._options.defaultValues,r,h.current.defaultValue));Ns(i._defaultValues,r,N),wn(Dt(i._formValues,r))&&Ns(i._formValues,r,N)}return!l&&i.register(r),m.current=r,()=>{(l?b&&!i._state.action:b)?i.unregister(r):_(r,!1)}},[r,i,l,a]),mr.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),mr.useMemo(()=>({field:v,formState:u,fieldState:g}),[v,u,g])}const k4e=t=>t.render(S4e(t));var BG=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},sv=t=>Array.isArray(t)?t:[t],YO=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function UG(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],a=e[n];if(i&&Yn(i)&&a){const o=UG(i,a);Yn(o)&&(r[n]=o)}else t[n]&&(r[n]=a)}return r}var Ua=t=>Yn(t)&&!Object.keys(t).length,rA=t=>t.type==="file",Pl=t=>typeof t=="function",Uw=t=>{if(!XC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},$G=t=>t.type==="select-multiple",sA=t=>t.type==="radio",C4e=t=>sA(t)||h1(t),i_=t=>Uw(t)&&t.isConnected;function A4e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=wn(t)?n++:t[e[n++]];return t}function E4e(t){for(const e in t)if(t.hasOwnProperty(e)&&!wn(t[e]))return!1;return!0}function zn(t,e){const r=Array.isArray(e)?e:Aj(e)?[e]:ZC(e),n=r.length===1?t:A4e(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Yn(n)&&Ua(n)||Array.isArray(n)&&E4e(n))&&zn(t,r.slice(0,-1)),t}var T4e=t=>{for(const e in t)if(Pl(t[e]))return!0;return!1};function qG(t){return Array.isArray(t)||Yn(t)&&!T4e(t)}function Z3(t,e={}){for(const r in t)qG(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Z3(t[r],e[r])):wn(t[r])||(e[r]=!0);return e}function dp(t,e,r){r||(r=Z3(e));for(const n in t)qG(t[n])?wn(e)||J3(r[n])?r[n]=Z3(t[n],Array.isArray(t[n])?[]:{}):dp(t[n],$a(e)?{}:e[n],r[n]):r[n]=!kd(t[n],e[n]);return r}const QO={value:!1,isValid:!1},XO={value:!0,isValid:!0};var zG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wn(t[0].attributes.value)?wn(t[0].value)||t[0].value===""?XO:{value:t[0].value,isValid:!0}:XO:QO}return QO},VG=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>wn(t)?t:e?t===""?NaN:t&&+t:r&&go(t)?new Date(t):n?n(t):t;const JO={isValid:!1,value:null};var HG=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,JO):JO;function ZO(t){const e=t.ref;return rA(e)?e.files:sA(e)?HG(t.refs).value:$G(e)?[...e.selectedOptions].map(({value:r})=>r):h1(e)?zG(t.refs).value:VG(wn(e.value)?t.ref.value:e.value,t)}var P4e=(t,e,r,n)=>{const i={};for(const a of t){const o=Dt(e,a);o&&Ns(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},$w=t=>t instanceof RegExp,yx=t=>wn(t)?t:$w(t)?t.source:Yn(t)?$w(t.value)?t.value.source:t.value:t,eL=t=>({isOnSubmit:!t||t===Tl.onSubmit,isOnBlur:t===Tl.onBlur,isOnChange:t===Tl.onChange,isOnAll:t===Tl.all,isOnTouch:t===Tl.onTouched});const tL="AsyncFunction";var F4e=t=>!!t&&!!t.validate&&!!(Pl(t.validate)&&t.validate.constructor.name===tL||Yn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===tL)),O4e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),rL=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const nv=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Dt(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(nv(l,e))break}else if(Yn(l)&&nv(l,e))break}}};function sL(t,e,r){const n=Dt(t,r);if(n||Aj(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=Dt(e,a),l=Dt(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:r}}var L4e=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Ua(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Tl.all))},R4e=(t,e,r)=>!t||!e||t===e||sv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),I4e=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,D4e=(t,e)=>!JC(Dt(t,e)).length&&zn(t,e),M4e=(t,e,r)=>{const n=sv(Dt(t,r));return Ns(n,"root",e[r]),Ns(t,r,n),t};function nL(t,e,r="validate"){if(go(t)||Array.isArray(t)&&t.every(go)||ho(t)&&!t)return{type:r,message:go(t)?t:"",ref:e}}var tp=t=>Yn(t)&&!$w(t)?t:{value:t,message:""},iL=async(t,e,r,n,i,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:h,max:m,pattern:f,validate:g,name:p,valueAsNumber:x,mount:y}=t._f,v=Dt(r,p);if(!y||e.has(p))return{};const b=l?l[0]:o,w=T=>{i&&b.reportValidity&&(b.setCustomValidity(ho(T)?"":T||""),b.reportValidity())},_={},N=sA(o),j=h1(o),k=N||j,E=(x||rA(o))&&wn(o.value)&&wn(v)||Uw(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,A=BG.bind(null,p,n,_),C=(T,L,D,H=dd.maxLength,X=dd.minLength)=>{const ee=T?L:D;_[p]={type:T?H:X,message:ee,ref:o,...A(T?H:X,ee)}};if(a?!Array.isArray(v)||!v.length:c&&(!k&&(E||$a(v))||ho(v)&&!v||j&&!zG(l).isValid||N&&!HG(l).isValid)){const{value:T,message:L}=go(c)?{value:!!c,message:c}:tp(c);if(T&&(_[p]={type:dd.required,message:L,ref:b,...A(dd.required,L)},!n))return w(L),_}if(!E&&(!$a(h)||!$a(m))){let T,L;const D=tp(m),H=tp(h);if(!$a(v)&&!isNaN(v)){const X=o.valueAsNumber||v&&+v;$a(D.value)||(T=X>D.value),$a(H.value)||(L=X<H.value)}else{const X=o.valueAsDate||new Date(v),ee=z=>new Date(new Date().toDateString()+" "+z),Q=o.type=="time",G=o.type=="week";go(D.value)&&v&&(T=Q?ee(v)>ee(D.value):G?v>D.value:X>new Date(D.value)),go(H.value)&&v&&(L=Q?ee(v)<ee(H.value):G?v<H.value:X<new Date(H.value))}if((T||L)&&(C(!!T,D.message,H.message,dd.max,dd.min),!n))return w(_[p].message),_}if((d||u)&&!E&&(go(v)||a&&Array.isArray(v))){const T=tp(d),L=tp(u),D=!$a(T.value)&&v.length>+T.value,H=!$a(L.value)&&v.length<+L.value;if((D||H)&&(C(D,T.message,L.message),!n))return w(_[p].message),_}if(f&&!E&&go(v)){const{value:T,message:L}=tp(f);if($w(T)&&!v.match(T)&&(_[p]={type:dd.pattern,message:L,ref:o,...A(dd.pattern,L)},!n))return w(L),_}if(g){if(Pl(g)){const T=await g(v,r),L=nL(T,b);if(L&&(_[p]={...L,...A(dd.validate,L.message)},!n))return w(L.message),_}else if(Yn(g)){let T={};for(const L in g){if(!Ua(T)&&!n)break;const D=nL(await g[L](v,r),b,L);D&&(T={...D,...A(L,D.message)},w(D.message),n&&(_[p]=T))}if(!Ua(T)&&(_[p]={ref:b,...T},!n))return _}}return w(!0),_};const B4e={mode:Tl.onSubmit,reValidateMode:Tl.onChange,shouldFocusError:!0};function U4e(t={}){let e={...B4e,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Pl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Yn(e.defaultValues)||Yn(e.values)?si(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:si(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...u};const m={array:YO(),state:YO()},f=e.criteriaMode===Tl.all,g=oe=>me=>{clearTimeout(d),d=setTimeout(oe,me)},p=async oe=>{if(!e.disabled&&(u.isValid||h.isValid||oe)){const me=e.resolver?Ua((await j()).errors):await E(n,!0);me!==r.isValid&&m.state.next({isValid:me})}},x=(oe,me)=>{!e.disabled&&(u.isValidating||u.validatingFields||h.isValidating||h.validatingFields)&&((oe||Array.from(l.mount)).forEach(Ne=>{Ne&&(me?Ns(r.validatingFields,Ne,me):zn(r.validatingFields,Ne))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ua(r.validatingFields)}))},y=(oe,me=[],Ne,Be,qe=!0,De=!0)=>{if(Be&&Ne&&!e.disabled){if(o.action=!0,De&&Array.isArray(Dt(n,oe))){const ct=Ne(Dt(n,oe),Be.argA,Be.argB);qe&&Ns(n,oe,ct)}if(De&&Array.isArray(Dt(r.errors,oe))){const ct=Ne(Dt(r.errors,oe),Be.argA,Be.argB);qe&&Ns(r.errors,oe,ct),D4e(r.errors,oe)}if((u.touchedFields||h.touchedFields)&&De&&Array.isArray(Dt(r.touchedFields,oe))){const ct=Ne(Dt(r.touchedFields,oe),Be.argA,Be.argB);qe&&Ns(r.touchedFields,oe,ct)}(u.dirtyFields||h.dirtyFields)&&(r.dirtyFields=dp(i,a)),m.state.next({name:oe,isDirty:C(oe,me),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ns(a,oe,me)},v=(oe,me)=>{Ns(r.errors,oe,me),m.state.next({errors:r.errors})},b=oe=>{r.errors=oe,m.state.next({errors:r.errors,isValid:!1})},w=(oe,me,Ne,Be)=>{const qe=Dt(n,oe);if(qe){const De=Dt(a,oe,wn(Ne)?Dt(i,oe):Ne);wn(De)||Be&&Be.defaultChecked||me?Ns(a,oe,me?De:ZO(qe._f)):D(oe,De),o.mount&&p()}},_=(oe,me,Ne,Be,qe)=>{let De=!1,ct=!1;const Ut={name:oe};if(!e.disabled){if(!Ne||Be){(u.isDirty||h.isDirty)&&(ct=r.isDirty,r.isDirty=Ut.isDirty=C(),De=ct!==Ut.isDirty);const xt=kd(Dt(i,oe),me);ct=!!Dt(r.dirtyFields,oe),xt?zn(r.dirtyFields,oe):Ns(r.dirtyFields,oe,!0),Ut.dirtyFields=r.dirtyFields,De=De||(u.dirtyFields||h.dirtyFields)&&ct!==!xt}if(Ne){const xt=Dt(r.touchedFields,oe);xt||(Ns(r.touchedFields,oe,Ne),Ut.touchedFields=r.touchedFields,De=De||(u.touchedFields||h.touchedFields)&&xt!==Ne)}De&&qe&&m.state.next(Ut)}return De?Ut:{}},N=(oe,me,Ne,Be)=>{const qe=Dt(r.errors,oe),De=(u.isValid||h.isValid)&&ho(me)&&r.isValid!==me;if(e.delayError&&Ne?(c=g(()=>v(oe,Ne)),c(e.delayError)):(clearTimeout(d),c=null,Ne?Ns(r.errors,oe,Ne):zn(r.errors,oe)),(Ne?!kd(qe,Ne):qe)||!Ua(Be)||De){const ct={...Be,...De&&ho(me)?{isValid:me}:{},errors:r.errors,name:oe};r={...r,...ct},m.state.next(ct)}},j=async oe=>{x(oe,!0);const me=await e.resolver(a,e.context,P4e(oe||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(oe),me},k=async oe=>{const{errors:me}=await j(oe);if(oe)for(const Ne of oe){const Be=Dt(me,Ne);Be?Ns(r.errors,Ne,Be):zn(r.errors,Ne)}else r.errors=me;return me},E=async(oe,me,Ne={valid:!0})=>{for(const Be in oe){const qe=oe[Be];if(qe){const{_f:De,...ct}=qe;if(De){const Ut=l.array.has(De.name),xt=qe._f&&F4e(qe._f);xt&&u.validatingFields&&x([De.name],!0);const $t=await iL(qe,l.disabled,a,f,e.shouldUseNativeValidation&&!me,Ut);if(xt&&u.validatingFields&&x([De.name]),$t[De.name]&&(Ne.valid=!1,me))break;!me&&(Dt($t,De.name)?Ut?M4e(r.errors,$t,De.name):Ns(r.errors,De.name,$t[De.name]):zn(r.errors,De.name))}!Ua(ct)&&await E(ct,me,Ne)}}return Ne.valid},A=()=>{for(const oe of l.unMount){const me=Dt(n,oe);me&&(me._f.refs?me._f.refs.every(Ne=>!i_(Ne)):!i_(me._f.ref))&&W(oe)}l.unMount=new Set},C=(oe,me)=>!e.disabled&&(oe&&me&&Ns(a,oe,me),!kd(z(),i)),T=(oe,me,Ne)=>MG(oe,l,{...o.mount?a:wn(me)?i:go(oe)?{[oe]:me}:me},Ne,me),L=oe=>JC(Dt(o.mount?a:i,oe,e.shouldUnregister?Dt(i,oe,[]):[])),D=(oe,me,Ne={})=>{const Be=Dt(n,oe);let qe=me;if(Be){const De=Be._f;De&&(!De.disabled&&Ns(a,oe,VG(me,De)),qe=Uw(De.ref)&&$a(me)?"":me,$G(De.ref)?[...De.ref.options].forEach(ct=>ct.selected=qe.includes(ct.value)):De.refs?h1(De.ref)?De.refs.forEach(ct=>{(!ct.defaultChecked||!ct.disabled)&&(Array.isArray(qe)?ct.checked=!!qe.find(Ut=>Ut===ct.value):ct.checked=qe===ct.value||!!qe)}):De.refs.forEach(ct=>ct.checked=ct.value===qe):rA(De.ref)?De.ref.value="":(De.ref.value=qe,De.ref.type||m.state.next({name:oe,values:si(a)})))}(Ne.shouldDirty||Ne.shouldTouch)&&_(oe,qe,Ne.shouldTouch,Ne.shouldDirty,!0),Ne.shouldValidate&&G(oe)},H=(oe,me,Ne)=>{for(const Be in me){if(!me.hasOwnProperty(Be))return;const qe=me[Be],De=oe+"."+Be,ct=Dt(n,De);(l.array.has(oe)||Yn(qe)||ct&&!ct._f)&&!yf(qe)?H(De,qe,Ne):D(De,qe,Ne)}},X=(oe,me,Ne={})=>{const Be=Dt(n,oe),qe=l.array.has(oe),De=si(me);Ns(a,oe,De),qe?(m.array.next({name:oe,values:si(a)}),(u.isDirty||u.dirtyFields||h.isDirty||h.dirtyFields)&&Ne.shouldDirty&&m.state.next({name:oe,dirtyFields:dp(i,a),isDirty:C(oe,De)})):Be&&!Be._f&&!$a(De)?H(oe,De,Ne):D(oe,De,Ne),rL(oe,l)&&m.state.next({...r,name:oe}),m.state.next({name:o.mount?oe:void 0,values:si(a)})},ee=async oe=>{o.mount=!0;const me=oe.target;let Ne=me.name,Be=!0;const qe=Dt(n,Ne),De=xt=>{Be=Number.isNaN(xt)||yf(xt)&&isNaN(xt.getTime())||kd(xt,Dt(a,Ne,xt))},ct=eL(e.mode),Ut=eL(e.reValidateMode);if(qe){let xt,$t;const Rt=me.type?ZO(qe._f):RG(oe),It=oe.type===Bw.BLUR||oe.type===Bw.FOCUS_OUT,os=!O4e(qe._f)&&!e.resolver&&!Dt(r.errors,Ne)&&!qe._f.deps||I4e(It,Dt(r.touchedFields,Ne),r.isSubmitted,Ut,ct),Mr=rL(Ne,l,It);Ns(a,Ne,Rt),It?(!me||!me.readOnly)&&(qe._f.onBlur&&qe._f.onBlur(oe),c&&c(0)):qe._f.onChange&&qe._f.onChange(oe);const Ht=_(Ne,Rt,It),dr=!Ua(Ht)||Mr;if(!It&&m.state.next({name:Ne,type:oe.type,values:si(a)}),os)return(u.isValid||h.isValid)&&(e.mode==="onBlur"?It&&p():It||p()),dr&&m.state.next({name:Ne,...Mr?{}:Ht});if(!It&&Mr&&m.state.next({...r}),e.resolver){const{errors:rs}=await j([Ne]);if(De(Rt),Be){const sr=sL(r.errors,n,Ne),Er=sL(rs,n,sr.name||Ne);xt=Er.error,Ne=Er.name,$t=Ua(rs)}}else x([Ne],!0),xt=(await iL(qe,l.disabled,a,f,e.shouldUseNativeValidation))[Ne],x([Ne]),De(Rt),Be&&(xt?$t=!1:(u.isValid||h.isValid)&&($t=await E(n,!0)));Be&&(qe._f.deps&&(!Array.isArray(qe._f.deps)||qe._f.deps.length>0)&&G(qe._f.deps),N(Ne,$t,xt,Ht))}},Q=(oe,me)=>{if(Dt(r.errors,me)&&oe.focus)return oe.focus(),1},G=async(oe,me={})=>{let Ne,Be;const qe=sv(oe);if(e.resolver){const De=await k(wn(oe)?oe:qe);Ne=Ua(De),Be=oe?!qe.some(ct=>Dt(De,ct)):Ne}else oe?(Be=(await Promise.all(qe.map(async De=>{const ct=Dt(n,De);return await E(ct&&ct._f?{[De]:ct}:ct)}))).every(Boolean),!(!Be&&!r.isValid)&&p()):Be=Ne=await E(n);return m.state.next({...!go(oe)||(u.isValid||h.isValid)&&Ne!==r.isValid?{}:{name:oe},...e.resolver||!oe?{isValid:Ne}:{},errors:r.errors}),me.shouldFocus&&!Be&&nv(n,Q,oe?qe:l.mount),Be},z=(oe,me)=>{let Ne={...o.mount?a:i};return me&&(Ne=UG(me.dirtyFields?r.dirtyFields:r.touchedFields,Ne)),wn(oe)?Ne:go(oe)?Dt(Ne,oe):oe.map(Be=>Dt(Ne,Be))},V=(oe,me)=>({invalid:!!Dt((me||r).errors,oe),isDirty:!!Dt((me||r).dirtyFields,oe),error:Dt((me||r).errors,oe),isValidating:!!Dt(r.validatingFields,oe),isTouched:!!Dt((me||r).touchedFields,oe)}),F=oe=>{oe&&sv(oe).forEach(me=>zn(r.errors,me)),m.state.next({errors:oe?r.errors:{}})},I=(oe,me,Ne)=>{const Be=(Dt(n,oe,{_f:{}})._f||{}).ref,qe=Dt(r.errors,oe)||{},{ref:De,message:ct,type:Ut,...xt}=qe;Ns(r.errors,oe,{...xt,...me,ref:Be}),m.state.next({name:oe,errors:r.errors,isValid:!1}),Ne&&Ne.shouldFocus&&Be&&Be.focus&&Be.focus()},B=(oe,me)=>Pl(oe)?m.state.subscribe({next:Ne=>"values"in Ne&&oe(T(void 0,me),Ne)}):T(oe,me,!0),q=oe=>m.state.subscribe({next:me=>{R4e(oe.name,me.name,oe.exact)&&L4e(me,oe.formState||u,Je,oe.reRenderRoot)&&oe.callback({values:{...a},...r,...me,defaultValues:i})}}).unsubscribe,U=oe=>(o.mount=!0,h={...h,...oe.formState},q({...oe,formState:h})),W=(oe,me={})=>{for(const Ne of oe?sv(oe):l.mount)l.mount.delete(Ne),l.array.delete(Ne),me.keepValue||(zn(n,Ne),zn(a,Ne)),!me.keepError&&zn(r.errors,Ne),!me.keepDirty&&zn(r.dirtyFields,Ne),!me.keepTouched&&zn(r.touchedFields,Ne),!me.keepIsValidating&&zn(r.validatingFields,Ne),!e.shouldUnregister&&!me.keepDefaultValue&&zn(i,Ne);m.state.next({values:si(a)}),m.state.next({...r,...me.keepDirty?{isDirty:C()}:{}}),!me.keepIsValid&&p()},te=({disabled:oe,name:me})=>{(ho(oe)&&o.mount||oe||l.disabled.has(me))&&(oe?l.disabled.add(me):l.disabled.delete(me))},re=(oe,me={})=>{let Ne=Dt(n,oe);const Be=ho(me.disabled)||ho(e.disabled);return Ns(n,oe,{...Ne||{},_f:{...Ne&&Ne._f?Ne._f:{ref:{name:oe}},name:oe,mount:!0,...me}}),l.mount.add(oe),Ne?te({disabled:ho(me.disabled)?me.disabled:e.disabled,name:oe}):w(oe,!0,me.value),{...Be?{disabled:me.disabled||e.disabled}:{},...e.progressive?{required:!!me.required,min:yx(me.min),max:yx(me.max),minLength:yx(me.minLength),maxLength:yx(me.maxLength),pattern:yx(me.pattern)}:{},name:oe,onChange:ee,onBlur:ee,ref:qe=>{if(qe){re(oe,me),Ne=Dt(n,oe);const De=wn(qe.value)&&qe.querySelectorAll&&qe.querySelectorAll("input,select,textarea")[0]||qe,ct=C4e(De),Ut=Ne._f.refs||[];if(ct?Ut.find(xt=>xt===De):De===Ne._f.ref)return;Ns(n,oe,{_f:{...Ne._f,...ct?{refs:[...Ut.filter(i_),De,...Array.isArray(Dt(i,oe))?[{}]:[]],ref:{type:De.type,name:oe}}:{ref:De}}}),w(oe,!1,void 0,De)}else Ne=Dt(n,oe,{}),Ne._f&&(Ne._f.mount=!1),(e.shouldUnregister||me.shouldUnregister)&&!(IG(l.array,oe)&&o.action)&&l.unMount.add(oe)}}},le=()=>e.shouldFocusError&&nv(n,Q,l.mount),ke=oe=>{ho(oe)&&(m.state.next({disabled:oe}),nv(n,(me,Ne)=>{const Be=Dt(n,Ne);Be&&(me.disabled=Be._f.disabled||oe,Array.isArray(Be._f.refs)&&Be._f.refs.forEach(qe=>{qe.disabled=Be._f.disabled||oe}))},0,!1))},Pe=(oe,me)=>async Ne=>{let Be;Ne&&(Ne.preventDefault&&Ne.preventDefault(),Ne.persist&&Ne.persist());let qe=si(a);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:De,values:ct}=await j();r.errors=De,qe=si(ct)}else await E(n);if(l.disabled.size)for(const De of l.disabled)zn(qe,De);if(zn(r.errors,"root"),Ua(r.errors)){m.state.next({errors:{}});try{await oe(qe,Ne)}catch(De){Be=De}}else me&&await me({...r.errors},Ne),le(),setTimeout(le);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ua(r.errors)&&!Be,submitCount:r.submitCount+1,errors:r.errors}),Be)throw Be},He=(oe,me={})=>{Dt(n,oe)&&(wn(me.defaultValue)?X(oe,si(Dt(i,oe))):(X(oe,me.defaultValue),Ns(i,oe,si(me.defaultValue))),me.keepTouched||zn(r.touchedFields,oe),me.keepDirty||(zn(r.dirtyFields,oe),r.isDirty=me.defaultValue?C(oe,si(Dt(i,oe))):C()),me.keepError||(zn(r.errors,oe),u.isValid&&p()),m.state.next({...r}))},Ae=(oe,me={})=>{const Ne=oe?si(oe):i,Be=si(Ne),qe=Ua(oe),De=qe?i:Be;if(me.keepDefaultValues||(i=Ne),!me.keepValues){if(me.keepDirtyValues){const ct=new Set([...l.mount,...Object.keys(dp(i,a))]);for(const Ut of Array.from(ct))Dt(r.dirtyFields,Ut)?Ns(De,Ut,Dt(a,Ut)):X(Ut,Dt(De,Ut))}else{if(XC&&wn(oe))for(const ct of l.mount){const Ut=Dt(n,ct);if(Ut&&Ut._f){const xt=Array.isArray(Ut._f.refs)?Ut._f.refs[0]:Ut._f.ref;if(Uw(xt)){const $t=xt.closest("form");if($t){$t.reset();break}}}}if(me.keepFieldsRef)for(const ct of l.mount)X(ct,Dt(De,ct));else n={}}a=e.shouldUnregister?me.keepDefaultValues?si(i):{}:si(De),m.array.next({values:{...De}}),m.state.next({values:{...De}})}l={mount:me.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!me.keepIsValid||!!me.keepDirtyValues,o.watch=!!e.shouldUnregister,m.state.next({submitCount:me.keepSubmitCount?r.submitCount:0,isDirty:qe?!1:me.keepDirty?r.isDirty:!!(me.keepDefaultValues&&!kd(oe,i)),isSubmitted:me.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:qe?{}:me.keepDirtyValues?me.keepDefaultValues&&a?dp(i,a):r.dirtyFields:me.keepDefaultValues&&oe?dp(i,oe):me.keepDirty?r.dirtyFields:{},touchedFields:me.keepTouched?r.touchedFields:{},errors:me.keepErrors?r.errors:{},isSubmitSuccessful:me.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},fe=(oe,me)=>Ae(Pl(oe)?oe(a):oe,me),_t=(oe,me={})=>{const Ne=Dt(n,oe),Be=Ne&&Ne._f;if(Be){const qe=Be.refs?Be.refs[0]:Be.ref;qe.focus&&(qe.focus(),me.shouldSelect&&Pl(qe.select)&&qe.select())}},Je=oe=>{r={...r,...oe}},Ce={control:{register:re,unregister:W,getFieldState:V,handleSubmit:Pe,setError:I,_subscribe:q,_runSchema:j,_focusError:le,_getWatch:T,_getDirty:C,_setValid:p,_setFieldArray:y,_setDisabledField:te,_setErrors:b,_getFieldArray:L,_reset:Ae,_resetDefaultValues:()=>Pl(e.defaultValues)&&e.defaultValues().then(oe=>{fe(oe,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:A,_disableForm:ke,_subjects:m,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(oe){o=oe},get _defaultValues(){return i},get _names(){return l},set _names(oe){l=oe},get _formState(){return r},get _options(){return e},set _options(oe){e={...e,...oe}}},subscribe:U,trigger:G,register:re,handleSubmit:Pe,watch:B,setValue:X,getValues:z,reset:fe,resetField:He,clearErrors:F,unregister:W,setError:I,setFocus:_t,getFieldState:V};return{...Ce,formControl:Ce}}function WG(t={}){const e=mr.useRef(void 0),r=mr.useRef(void 0),[n,i]=mr.useState({isDirty:!1,isValidating:!1,isLoading:Pl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Pl(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Pl(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...l}=U4e(t);e.current={...l,formState:n}}const a=e.current.control;return a._options=t,tA(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),mr.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),mr.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),mr.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),mr.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),mr.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),mr.useEffect(()=>{t.values&&!kd(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),mr.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=DG(n,a),e.current}const aL=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Dt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},KG=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?aL(n.ref,r,t):n.refs&&n.refs.forEach(i=>aL(i,r,t))}},$4e=(t,e)=>{e.shouldUseNativeValidation&&KG(t,e);const r={};for(const n in t){const i=Dt(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(q4e(e.names||Object.keys(t),n)){const o=Object.assign({},Dt(r,n));Ns(o,"root",a),Ns(r,n,o)}else Ns(r,n,a)}return r},q4e=(t,e)=>t.some(r=>r.startsWith(e+"."));var z4e=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(h){return t.push(h)})}),e){var c=r[o].types,d=c&&c[n.code];r[o]=BG(o,e,r,i,d?[].concat(d,n.message):n.message)}t.shift()}return r},GG=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return a.shouldUseNativeValidation&&KG({},a),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:$4e(z4e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const YG=N4e,QG=O.createContext({}),Ju=({...t})=>s.jsx(QG.Provider,{value:{name:t.name},children:s.jsx(k4e,{...t})}),Tj=()=>{const t=O.useContext(QG),e=O.useContext(XG),{getFieldState:r,formState:n}=Ej(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},XG=O.createContext({}),Td=O.forwardRef(({className:t,...e},r)=>{const n=O.useId();return s.jsx(XG.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:Ot("space-y-2",t),...e})})});Td.displayName="FormItem";const Gf=O.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=Tj();return s.jsx(Te,{ref:r,className:Ot(n&&"text-destructive",t),htmlFor:i,...e})});Gf.displayName="FormLabel";const Pd=O.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=Tj();return s.jsx(zB,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});Pd.displayName="FormControl";const V4e=O.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Tj();return s.jsx("p",{ref:r,id:n,className:Ot("text-sm text-muted-foreground",t),...e})});V4e.displayName="FormDescription";const Yf=O.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=Tj(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:n,id:a,className:Ot("text-sm font-medium text-destructive",t),...r,children:o}):null});Yf.displayName="FormMessage";const gt=Symbol.for("drizzle:entityKind");function Oi(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,gt))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(gt in r&&r[gt]===e[gt])return!0;r=Object.getPrototypeOf(r)}return!1}var _R;_R=gt;class K0{constructor(e,r){ce(this,"name");ce(this,"keyAsName");ce(this,"primary");ce(this,"notNull");ce(this,"default");ce(this,"defaultFn");ce(this,"onUpdateFn");ce(this,"hasDefault");ce(this,"isUnique");ce(this,"uniqueName");ce(this,"uniqueType");ce(this,"dataType");ce(this,"columnType");ce(this,"enumValues");ce(this,"generated");ce(this,"generatedIdentity");ce(this,"config");this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}ce(K0,_R,"Column");var SR;SR=gt;class JG{constructor(e,r,n){ce(this,"config");ce(this,"$default",this.$defaultFn);ce(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}ce(JG,SR,"ColumnBuilder");const Gp=Symbol.for("drizzle:Name");var kR;kR=gt;class ZG{constructor(e,r){ce(this,"reference");ce(this,"_onUpdate","no action");ce(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:i,foreignColumns:a}=e();return{name:n,columns:i,foreignTable:a[0].table,foreignColumns:a}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new eY(e,this)}}ce(ZG,kR,"PgForeignKeyBuilder");var CR;CR=gt;class eY{constructor(e,r){ce(this,"reference");ce(this,"onUpdate");ce(this,"onDelete");this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(l=>l.name),a=n.map(l=>l.name),o=[this.table[Gp],...i,n[0].table[Gp],...a];return e??`${o.join("_")}_fk`}}ce(eY,CR,"PgForeignKey");function H4e(t,...e){return t(...e)}function W4e(t,e){return`${t[Gp]}_${e.join("_")}_unique`}function oL(t,e,r){for(let n=e;n<t.length;n++){const i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function tY(t,e=0){const r=[];let n=e,i=!1;for(;n<t.length;){const a=t[n];if(a===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,a==="\\"){n+=2;continue}if(a==='"'){const[c,d]=oL(t,n+1,!0);r.push(c),n=d;continue}if(a==="}")return[r,n+1];if(a==="{"){const[c,d]=tY(t,n+1);r.push(c),n=d;continue}const[o,l]=oL(t,n,!1);r.push(o),n=l}return[r,n]}function K4e(t){const[e]=tY(t,1);return e}function rY(t){return`{${t.map(e=>Array.isArray(e)?rY(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var AR,ER;class Zr extends(ER=JG,AR=gt,ER){constructor(){super(...arguments);ce(this,"foreignKeyConfigs",[])}array(r){return new nY(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>H4e((o,l)=>{const c=new ZG(()=>{const d=o();return{columns:[r],foreignColumns:[d]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},i,a))}buildExtraConfigColumn(r){return new sY(r,this.config)}}ce(Zr,AR,"PgColumnBuilder");var TR,PR;class Ar extends(PR=K0,TR=gt,PR){constructor(e,r){r.uniqueName||(r.uniqueName=W4e(e,[r.name])),super(e,r),this.table=e}}ce(Ar,TR,"PgColumn");var FR,OR;class sY extends(OR=Ar,FR=gt,OR){constructor(){super(...arguments);ce(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});ce(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}ce(sY,FR,"ExtraConfigColumn");var LR,RR;class nY extends(RR=Zr,LR=gt,RR){constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new ek(e,this.config,r)}}ce(nY,LR,"PgArrayBuilder");var IR,DR;const bN=class bN extends(DR=Ar,IR=gt,DR){constructor(r,n,i,a){super(r,n);ce(this,"size");this.baseColumn=i,this.range=a,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=K4e(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const i=r.map(a=>a===null?null:Oi(this.baseColumn,bN)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return n?i:rY(i)}};ce(bN,IR,"PgArray");let ek=bN;const lL=Symbol.for("drizzle:isPgEnum");function G4e(t){return!!t&&typeof t=="function"&&lL in t&&t[lL]===!0}var MR;MR=gt;class nA{constructor(e,r,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i}}}ce(nA,MR,"Subquery");const Y4e={startActiveSpan(t,e){return e()}},Yp=Symbol.for("drizzle:ViewBaseConfig"),a_=Symbol.for("drizzle:Schema"),cL=Symbol.for("drizzle:Columns"),dL=Symbol.for("drizzle:ExtraConfigColumns"),o_=Symbol.for("drizzle:OriginalName"),l_=Symbol.for("drizzle:BaseName"),qw=Symbol.for("drizzle:IsAlias"),uL=Symbol.for("drizzle:ExtraConfigBuilder"),iY=Symbol.for("drizzle:IsDrizzleTable");var BR,UR,$R,qR,zR,VR,HR,WR,KR,GR;GR=gt,KR=Gp,WR=o_,HR=a_,VR=cL,zR=dL,qR=l_,$R=qw,UR=iY,BR=uL;class _a{constructor(e,r,n){ce(this,KR);ce(this,WR);ce(this,HR);ce(this,VR);ce(this,zR);ce(this,qR);ce(this,$R,!1);ce(this,UR,!0);ce(this,BR);this[Gp]=this[o_]=e,this[a_]=r,this[l_]=n}}ce(_a,GR,"Table"),ce(_a,"Symbol",{Name:Gp,Schema:a_,OriginalName:o_,Columns:cL,ExtraConfigColumns:dL,BaseName:l_,IsAlias:qw,ExtraConfigBuilder:uL});function aY(t){return typeof t=="object"&&t!==null&&iY in t}function Q4e(t){return t!=null&&typeof t.getSQL=="function"}function X4e(t){var r;const e={sql:"",params:[]};for(const n of t)e.sql+=n.sql,e.params.push(...n.params),(r=n.typings)!=null&&r.length&&(e.typings||(e.typings=[]),e.typings.push(...n.typings));return e}var YR;YR=gt;class qo{constructor(e){ce(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new di([this])}}ce(qo,YR,"StringChunk");var QR;QR=gt;const uf=class uf{constructor(e){ce(this,"decoder",oY);ce(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Y4e.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:d}=n;return X4e(e.map(u=>{var h;if(Oi(u,qo))return{sql:u.value.join(""),params:[]};if(Oi(u,zw))return{sql:a(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const m=[new qo("(")];for(const[f,g]of u.entries())m.push(g),f<u.length-1&&m.push(new qo(", "));return m.push(new qo(")")),this.buildQueryFromSourceParams(m,n)}if(Oi(u,uf))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(Oi(u,_a)){const m=u[_a.Symbol.Schema],f=u[_a.Symbol.Name];return{sql:m===void 0||u[qw]?a(f):a(m)+"."+a(f),params:[]}}if(Oi(u,K0)){const m=i.getColumnCasing(u);if(r.invokeSource==="indexes")return{sql:a(m),params:[]};const f=u.table[_a.Symbol.Schema];return{sql:u.table[qw]||f===void 0?a(u.table[_a.Symbol.Name])+"."+a(m):a(f)+"."+a(u.table[_a.Symbol.Name])+"."+a(m),params:[]}}if(Oi(u,dY)){const m=u[Yp].schema,f=u[Yp].name;return{sql:m===void 0||u[Yp].isAlias?a(f):a(m)+"."+a(f),params:[]}}if(Oi(u,iA)){if(Oi(u.value,Vw))return{sql:o(d.value++,u),params:[u],typings:["none"]};const m=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Oi(m,uf))return this.buildQueryFromSourceParams([m],n);if(c)return{sql:this.mapInlineParam(m,n),params:[]};let f=["none"];return l&&(f=[l(u.encoder)]),{sql:o(d.value++,m),params:[m],typings:f}}return Oi(u,Vw)?{sql:o(d.value++,u),params:[u],typings:["none"]}:Oi(u,uf.Aliased)&&u.fieldAlias!==void 0?{sql:a(u.fieldAlias),params:[]}:Oi(u,nA)?u._.isWith?{sql:a(u._.alias),params:[]}:this.buildQueryFromSourceParams([new qo("("),u._.sql,new qo(") "),new zw(u._.alias)],n):G4e(u)?u.schema?{sql:a(u.schema)+"."+a(u.enumName),params:[]}:{sql:a(u.enumName),params:[]}:Q4e(u)?(h=u.shouldOmitSQLParens)!=null&&h.call(u)?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new qo("("),u.getSQL(),new qo(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:o(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new uf.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};ce(uf,QR,"SQL");let di=uf;var XR;XR=gt;class zw{constructor(e){ce(this,"brand");this.value=e}getSQL(){return new di([this])}}ce(zw,XR,"Name");const oY={mapFromDriverValue:t=>t},lY={mapToDriverValue:t=>t};({...oY,...lY});var JR;JR=gt;class iA{constructor(e,r=lY){ce(this,"brand");this.value=e,this.encoder=r}getSQL(){return new di([this])}}ce(iA,JR,"Param");function Cr(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new qo(t[0]));for(const[n,i]of e.entries())r.push(i,new qo(t[n+1]));return new di(r)}(t=>{function e(){return new di([])}t.empty=e;function r(c){return new di(c)}t.fromList=r;function n(c){return new di([new qo(c)])}t.raw=n;function i(c,d){const u=[];for(const[h,m]of c.entries())h>0&&d!==void 0&&u.push(d),u.push(m);return new di(u)}t.join=i;function a(c){return new zw(c)}t.identifier=a;function o(c){return new Vw(c)}t.placeholder=o;function l(c,d){return new iA(c,d)}t.param=l})(Cr||(Cr={}));(t=>{var r;r=gt;const n=class n{constructor(a,o){ce(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};ce(n,r,"SQL.Aliased");let e=n;t.Aliased=e})(di||(di={}));var ZR;ZR=gt;class Vw{constructor(e){this.name=e}getSQL(){return new di([this])}}ce(Vw,ZR,"Placeholder");const cY=Symbol.for("drizzle:IsDrizzleView");var e7,t7,r7;r7=gt,t7=Yp,e7=cY;class dY{constructor({name:e,schema:r,selectedFields:n,query:i}){ce(this,t7);ce(this,e7,!0);this[Yp]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new di([this])}}ce(dY,r7,"View");function J4e(t){return typeof t=="object"&&t!==null&&cY in t}K0.prototype.getSQL=function(){return new di([this])};_a.prototype.getSQL=function(){return new di([this])};nA.prototype.getSQL=function(){return new di([this])};function Z4e(t){return t[_a.Symbol.Columns]}function e_e(t){return t[Yp].selectedFields}function ki(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var s7,n7;class f1 extends(n7=Zr,s7=gt,n7){generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}ce(f1,s7,"PgIntColumnBaseBuilder");var i7,a7;class uY extends(a7=f1,i7=gt,a7){constructor(e){super(e,"number","PgBigInt53")}build(e){return new hY(e,this.config)}}ce(uY,i7,"PgBigInt53Builder");var o7,l7;class hY extends(l7=Ar,o7=gt,l7){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}ce(hY,o7,"PgBigInt53");var c7,d7;class fY extends(d7=f1,c7=gt,d7){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new mY(e,this.config)}}ce(fY,c7,"PgBigInt64Builder");var u7,h7;class mY extends(h7=Ar,u7=gt,h7){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}ce(mY,u7,"PgBigInt64");function t_e(t,e){const{name:r,config:n}=ki(t,e);return n.mode==="number"?new uY(r):new fY(r)}var f7,m7;class pY extends(m7=Zr,f7=gt,m7){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new gY(e,this.config)}}ce(pY,f7,"PgBigSerial53Builder");var p7,g7;class gY extends(g7=Ar,p7=gt,g7){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}ce(gY,p7,"PgBigSerial53");var x7,v7;class xY extends(v7=Zr,x7=gt,v7){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new vY(e,this.config)}}ce(xY,x7,"PgBigSerial64Builder");var y7,b7;class vY extends(b7=Ar,y7=gt,b7){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}ce(vY,y7,"PgBigSerial64");function r_e(t,e){const{name:r,config:n}=ki(t,e);return n.mode==="number"?new pY(r):new xY(r)}var w7,N7;class yY extends(N7=Zr,w7=gt,N7){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new bY(e,this.config)}}ce(yY,w7,"PgBooleanBuilder");var j7,_7;class bY extends(_7=Ar,j7=gt,_7){getSQLType(){return"boolean"}}ce(bY,j7,"PgBoolean");function Sn(t){return new yY(t??"")}var S7,k7;class wY extends(k7=Zr,S7=gt,k7){constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new NY(e,this.config)}}ce(wY,S7,"PgCharBuilder");var C7,A7;class NY extends(A7=Ar,C7=gt,A7){constructor(){super(...arguments);ce(this,"length",this.config.length);ce(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}ce(NY,C7,"PgChar");function s_e(t,e={}){const{name:r,config:n}=ki(t,e);return new wY(r,n)}var E7,T7;class jY extends(T7=Zr,E7=gt,T7){constructor(e){super(e,"string","PgCidr")}build(e){return new _Y(e,this.config)}}ce(jY,E7,"PgCidrBuilder");var P7,F7;class _Y extends(F7=Ar,P7=gt,F7){getSQLType(){return"cidr"}}ce(_Y,P7,"PgCidr");function n_e(t){return new jY(t??"")}var O7,L7;class SY extends(L7=Zr,O7=gt,L7){constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new kY(e,this.config)}}ce(SY,O7,"PgCustomColumnBuilder");var R7,I7;class kY extends(I7=Ar,R7=gt,I7){constructor(r,n){super(r,n);ce(this,"sqlName");ce(this,"mapTo");ce(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}ce(kY,R7,"PgCustomColumn");function i_e(t){return(e,r)=>{const{name:n,config:i}=ki(e,r);return new SY(n,i,t)}}var D7,M7;class Ng extends(M7=Zr,D7=gt,M7){defaultNow(){return this.default(Cr`now()`)}}ce(Ng,D7,"PgDateColumnBaseBuilder");var B7,U7;class CY extends(U7=Ng,B7=gt,U7){constructor(e){super(e,"date","PgDate")}build(e){return new AY(e,this.config)}}ce(CY,B7,"PgDateBuilder");var $7,q7;class AY extends(q7=Ar,$7=gt,q7){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}ce(AY,$7,"PgDate");var z7,V7;class EY extends(V7=Ng,z7=gt,V7){constructor(e){super(e,"string","PgDateString")}build(e){return new TY(e,this.config)}}ce(EY,z7,"PgDateStringBuilder");var H7,W7;class TY extends(W7=Ar,H7=gt,W7){getSQLType(){return"date"}}ce(TY,H7,"PgDateString");function a_e(t,e){const{name:r,config:n}=ki(t,e);return(n==null?void 0:n.mode)==="date"?new CY(r):new EY(r)}var K7,G7;class PY extends(G7=Zr,K7=gt,G7){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new FY(e,this.config)}}ce(PY,K7,"PgDoublePrecisionBuilder");var Y7,Q7;class FY extends(Q7=Ar,Y7=gt,Q7){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}ce(FY,Y7,"PgDoublePrecision");function o_e(t){return new PY(t??"")}var X7,J7;class OY extends(J7=Zr,X7=gt,J7){constructor(e){super(e,"string","PgInet")}build(e){return new LY(e,this.config)}}ce(OY,X7,"PgInetBuilder");var Z7,eI;class LY extends(eI=Ar,Z7=gt,eI){getSQLType(){return"inet"}}ce(LY,Z7,"PgInet");function l_e(t){return new OY(t??"")}var tI,rI;class RY extends(rI=f1,tI=gt,rI){constructor(e){super(e,"number","PgInteger")}build(e){return new IY(e,this.config)}}ce(RY,tI,"PgIntegerBuilder");var sI,nI;class IY extends(nI=Ar,sI=gt,nI){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}ce(IY,sI,"PgInteger");function is(t){return new RY(t??"")}var iI,aI;class DY extends(aI=Zr,iI=gt,aI){constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new MY(e,this.config)}}ce(DY,iI,"PgIntervalBuilder");var oI,lI;class MY extends(lI=Ar,oI=gt,lI){constructor(){super(...arguments);ce(this,"fields",this.config.intervalConfig.fields);ce(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}ce(MY,oI,"PgInterval");function c_e(t,e={}){const{name:r,config:n}=ki(t,e);return new DY(r,n)}var cI,dI;class BY extends(dI=Zr,cI=gt,dI){constructor(e){super(e,"json","PgJson")}build(e){return new UY(e,this.config)}}ce(BY,cI,"PgJsonBuilder");var uI,hI;class UY extends(hI=Ar,uI=gt,hI){constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}ce(UY,uI,"PgJson");function d_e(t){return new BY(t??"")}var fI,mI;class $Y extends(mI=Zr,fI=gt,mI){constructor(e){super(e,"json","PgJsonb")}build(e){return new qY(e,this.config)}}ce($Y,fI,"PgJsonbBuilder");var pI,gI;class qY extends(gI=Ar,pI=gt,gI){constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}ce(qY,pI,"PgJsonb");function u_e(t){return new $Y(t??"")}var xI,vI;class zY extends(vI=Zr,xI=gt,vI){constructor(e){super(e,"array","PgLine")}build(e){return new VY(e,this.config)}}ce(zY,xI,"PgLineBuilder");var yI,bI;class VY extends(bI=Ar,yI=gt,bI){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}ce(VY,yI,"PgLine");var wI,NI;class HY extends(NI=Zr,wI=gt,NI){constructor(e){super(e,"json","PgLineABC")}build(e){return new WY(e,this.config)}}ce(HY,wI,"PgLineABCBuilder");var jI,_I;class WY extends(_I=Ar,jI=gt,_I){getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}ce(WY,jI,"PgLineABC");function h_e(t,e){const{name:r,config:n}=ki(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new zY(r):new HY(r)}var SI,kI;class KY extends(kI=Zr,SI=gt,kI){constructor(e){super(e,"string","PgMacaddr")}build(e){return new GY(e,this.config)}}ce(KY,SI,"PgMacaddrBuilder");var CI,AI;class GY extends(AI=Ar,CI=gt,AI){getSQLType(){return"macaddr"}}ce(GY,CI,"PgMacaddr");function f_e(t){return new KY(t??"")}var EI,TI;class YY extends(TI=Zr,EI=gt,TI){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new QY(e,this.config)}}ce(YY,EI,"PgMacaddr8Builder");var PI,FI;class QY extends(FI=Ar,PI=gt,FI){getSQLType(){return"macaddr8"}}ce(QY,PI,"PgMacaddr8");function m_e(t){return new YY(t??"")}var OI,LI;class XY extends(LI=Zr,OI=gt,LI){constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new JY(e,this.config)}}ce(XY,OI,"PgNumericBuilder");var RI,II;class JY extends(II=Ar,RI=gt,II){constructor(r,n){super(r,n);ce(this,"precision");ce(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}ce(JY,RI,"PgNumeric");function ZY(t,e){const{name:r,config:n}=ki(t,e);return new XY(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}const Fd=ZY;var DI,MI;class eQ extends(MI=Zr,DI=gt,MI){constructor(e){super(e,"array","PgPointTuple")}build(e){return new tQ(e,this.config)}}ce(eQ,DI,"PgPointTupleBuilder");var BI,UI;class tQ extends(UI=Ar,BI=gt,UI){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}ce(tQ,BI,"PgPointTuple");var $I,qI;class rQ extends(qI=Zr,$I=gt,qI){constructor(e){super(e,"json","PgPointObject")}build(e){return new sQ(e,this.config)}}ce(rQ,$I,"PgPointObjectBuilder");var zI,VI;class sQ extends(VI=Ar,zI=gt,VI){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}ce(sQ,zI,"PgPointObject");function p_e(t,e){const{name:r,config:n}=ki(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new eQ(r):new rQ(r)}function g_e(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function hL(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function nQ(t){const e=g_e(t);let r=0;const n=e[r];r+=1;const i=new DataView(e.buffer),a=i.getUint32(r,n===1);if(r+=4,a&536870912&&(i.getUint32(r,n===1),r+=4),(a&65535)===1){const o=hL(e,r);r+=8;const l=hL(e,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var HI,WI;class iQ extends(WI=Zr,HI=gt,WI){constructor(e){super(e,"array","PgGeometry")}build(e){return new aQ(e,this.config)}}ce(iQ,HI,"PgGeometryBuilder");var KI,GI;class aQ extends(GI=Ar,KI=gt,GI){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return nQ(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}ce(aQ,KI,"PgGeometry");var YI,QI;class oQ extends(QI=Zr,YI=gt,QI){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new lQ(e,this.config)}}ce(oQ,YI,"PgGeometryObjectBuilder");var XI,JI;class lQ extends(JI=Ar,XI=gt,JI){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=nQ(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}ce(lQ,XI,"PgGeometryObject");function x_e(t,e){const{name:r,config:n}=ki(t,e);return!(n!=null&&n.mode)||n.mode==="tuple"?new iQ(r):new oQ(r)}var ZI,eD;class cQ extends(eD=Zr,ZI=gt,eD){constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new dQ(e,this.config)}}ce(cQ,ZI,"PgRealBuilder");var tD,rD;class dQ extends(rD=Ar,tD=gt,rD){constructor(r,n){super(r,n);ce(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}ce(dQ,tD,"PgReal");function v_e(t){return new cQ(t??"")}var sD,nD;class uQ extends(nD=Zr,sD=gt,nD){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new hQ(e,this.config)}}ce(uQ,sD,"PgSerialBuilder");var iD,aD;class hQ extends(aD=Ar,iD=gt,aD){getSQLType(){return"serial"}}ce(hQ,iD,"PgSerial");function y_e(t){return new uQ(t??"")}var oD,lD;class fQ extends(lD=f1,oD=gt,lD){constructor(e){super(e,"number","PgSmallInt")}build(e){return new mQ(e,this.config)}}ce(fQ,oD,"PgSmallIntBuilder");var cD,dD;class mQ extends(dD=Ar,cD=gt,dD){constructor(){super(...arguments);ce(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}ce(mQ,cD,"PgSmallInt");function b_e(t){return new fQ(t??"")}var uD,hD;class pQ extends(hD=Zr,uD=gt,hD){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new gQ(e,this.config)}}ce(pQ,uD,"PgSmallSerialBuilder");var fD,mD;class gQ extends(mD=Ar,fD=gt,mD){getSQLType(){return"smallserial"}}ce(gQ,fD,"PgSmallSerial");function w_e(t){return new pQ(t??"")}var pD,gD;class xQ extends(gD=Zr,pD=gt,gD){constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new vQ(e,this.config)}}ce(xQ,pD,"PgTextBuilder");var xD,vD;class vQ extends(vD=Ar,xD=gt,vD){constructor(){super(...arguments);ce(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}ce(vQ,xD,"PgText");function Qe(t,e={}){const{name:r,config:n}=ki(t,e);return new xQ(r,n)}var yD,bD;class yQ extends(bD=Ng,yD=gt,bD){constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(e){return new bQ(e,this.config)}}ce(yQ,yD,"PgTimeBuilder");var wD,ND;class bQ extends(ND=Ar,wD=gt,ND){constructor(r,n){super(r,n);ce(this,"withTimezone");ce(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}ce(bQ,wD,"PgTime");function N_e(t,e={}){const{name:r,config:n}=ki(t,e);return new yQ(r,n.withTimezone??!1,n.precision)}var jD,_D;class wQ extends(_D=Ng,jD=gt,_D){constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new NQ(e,this.config)}}ce(wQ,jD,"PgTimestampBuilder");var SD,kD;class NQ extends(kD=Ar,SD=gt,kD){constructor(r,n){super(r,n);ce(this,"withTimezone");ce(this,"precision");ce(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));ce(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}ce(NQ,SD,"PgTimestamp");var CD,AD;class jQ extends(AD=Ng,CD=gt,AD){constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new _Q(e,this.config)}}ce(jQ,CD,"PgTimestampStringBuilder");var ED,TD;class _Q extends(TD=Ar,ED=gt,TD){constructor(r,n){super(r,n);ce(this,"withTimezone");ce(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}ce(_Q,ED,"PgTimestampString");function zt(t,e={}){const{name:r,config:n}=ki(t,e);return(n==null?void 0:n.mode)==="string"?new jQ(r,n.withTimezone??!1,n.precision):new wQ(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var PD,FD;class SQ extends(FD=Zr,PD=gt,FD){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Cr`gen_random_uuid()`)}build(e){return new kQ(e,this.config)}}ce(SQ,PD,"PgUUIDBuilder");var OD,LD;class kQ extends(LD=Ar,OD=gt,LD){getSQLType(){return"uuid"}}ce(kQ,OD,"PgUUID");function j_e(t){return new SQ(t??"")}var RD,ID;class CQ extends(ID=Zr,RD=gt,ID){constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new AQ(e,this.config)}}ce(CQ,RD,"PgVarcharBuilder");var DD,MD;class AQ extends(MD=Ar,DD=gt,MD){constructor(){super(...arguments);ce(this,"length",this.config.length);ce(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}ce(AQ,DD,"PgVarchar");function jt(t,e={}){const{name:r,config:n}=ki(t,e);return new CQ(r,n)}var BD,UD;class EQ extends(UD=Zr,BD=gt,UD){constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new TQ(e,this.config)}}ce(EQ,BD,"PgBinaryVectorBuilder");var $D,qD;class TQ extends(qD=Ar,$D=gt,qD){constructor(){super(...arguments);ce(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}ce(TQ,$D,"PgBinaryVector");function __e(t,e){const{name:r,config:n}=ki(t,e);return new EQ(r,n)}var zD,VD;class PQ extends(VD=Zr,zD=gt,VD){constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new FQ(e,this.config)}}ce(PQ,zD,"PgHalfVectorBuilder");var HD,WD;class FQ extends(WD=Ar,HD=gt,WD){constructor(){super(...arguments);ce(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}ce(FQ,HD,"PgHalfVector");function S_e(t,e){const{name:r,config:n}=ki(t,e);return new PQ(r,n)}var KD,GD;class OQ extends(GD=Zr,KD=gt,GD){constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new LQ(e,this.config)}}ce(OQ,KD,"PgSparseVectorBuilder");var YD,QD;class LQ extends(QD=Ar,YD=gt,QD){constructor(){super(...arguments);ce(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}ce(LQ,YD,"PgSparseVector");function k_e(t,e){const{name:r,config:n}=ki(t,e);return new OQ(r,n)}var XD,JD;class RQ extends(JD=Zr,XD=gt,JD){constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new IQ(e,this.config)}}ce(RQ,XD,"PgVectorBuilder");var ZD,eM;class IQ extends(eM=Ar,ZD=gt,eM){constructor(){super(...arguments);ce(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}ce(IQ,ZD,"PgVector");function C_e(t,e){const{name:r,config:n}=ki(t,e);return new RQ(r,n)}function A_e(){return{bigint:t_e,bigserial:r_e,boolean:Sn,char:s_e,cidr:n_e,customType:i_e,date:a_e,doublePrecision:o_e,inet:l_e,integer:is,interval:c_e,json:d_e,jsonb:u_e,line:h_e,macaddr:f_e,macaddr8:m_e,numeric:ZY,point:p_e,geometry:x_e,real:v_e,serial:y_e,smallint:b_e,smallserial:w_e,text:Qe,time:N_e,timestamp:zt,uuid:j_e,varchar:jt,bit:__e,halfvec:S_e,sparsevec:k_e,vector:C_e}}const tk=Symbol.for("drizzle:PgInlineForeignKeys"),fL=Symbol.for("drizzle:EnableRLS");var tM,rM,sM,nM,iM;class Hw extends(iM=_a,nM=gt,sM=tk,rM=fL,tM=_a.Symbol.ExtraConfigBuilder,iM){constructor(){super(...arguments);ce(this,sM,[]);ce(this,rM,!1);ce(this,tM)}}ce(Hw,nM,"PgTable"),ce(Hw,"Symbol",Object.assign({},_a.Symbol,{InlineForeignKeys:tk,EnableRLS:fL}));function E_e(t,e,r,n,i=t){const a=new Hw(t,n,i),o=typeof e=="function"?e(A_e()):e,l=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const f=m.build(a);return a[tk].push(...m.buildForeignKeys(f,a)),[u,f]})),c=Object.fromEntries(Object.entries(o).map(([u,h])=>{const m=h;m.setName(u);const f=m.buildExtraConfigColumn(a);return[u,f]})),d=Object.assign(a,l);return d[_a.Symbol.Columns]=l,d[_a.Symbol.ExtraConfigColumns]=c,Object.assign(d,{enableRLS:()=>(d[Hw.Symbol.EnableRLS]=!0,d)})}const Kr=(t,e,r)=>E_e(t,e,r,void 0);var Jr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Jr||(Jr={}));var rk;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(rk||(rk={}));const qt=Jr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gd=t=>{switch(typeof t){case"undefined":return qt.undefined;case"string":return qt.string;case"number":return Number.isNaN(t)?qt.nan:qt.number;case"boolean":return qt.boolean;case"function":return qt.function;case"bigint":return qt.bigint;case"symbol":return qt.symbol;case"object":return Array.isArray(t)?qt.array:t===null?qt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qt.promise:typeof Map<"u"&&t instanceof Map?qt.map:typeof Set<"u"&&t instanceof Set?qt.set:typeof Date<"u"&&t instanceof Date?qt.date:qt.object;default:return qt.unknown}},bt=Jr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),T_e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class _o extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),n}static assert(e){if(!(e instanceof _o))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Jr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}_o.create=t=>new _o(t);const G0=(t,e)=>{let r;switch(t.code){case bt.invalid_type:t.received===qt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case bt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Jr.jsonStringifyReplacer)}`;break;case bt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Jr.joinValues(t.keys,", ")}`;break;case bt.invalid_union:r="Invalid input";break;case bt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Jr.joinValues(t.options)}`;break;case bt.invalid_enum_value:r=`Invalid enum value. Expected ${Jr.joinValues(t.options)}, received '${t.received}'`;break;case bt.invalid_arguments:r="Invalid function arguments";break;case bt.invalid_return_type:r="Invalid function return type";break;case bt.invalid_date:r="Invalid date";break;case bt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Jr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case bt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case bt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case bt.custom:r="Invalid input";break;case bt.invalid_intersection_types:r="Intersection results could not be merged";break;case bt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case bt.not_finite:r="Number must be finite";break;default:r=e.defaultError,Jr.assertNever(t)}return{message:r}};let DQ=G0;function P_e(t){DQ=t}function Ww(){return DQ}const Kw=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},F_e=[];function Mt(t,e){const r=Ww(),n=Kw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===G0?void 0:G0].filter(i=>!!i)});t.common.issues.push(n)}class da{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return lr;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return da.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return lr;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const lr=Object.freeze({status:"aborted"}),Ap=t=>({status:"dirty",value:t}),Ea=t=>({status:"valid",value:t}),sk=t=>t.status==="aborted",nk=t=>t.status==="dirty",xm=t=>t.status==="valid",Kv=t=>typeof Promise<"u"&&t instanceof Promise;var Xt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Xt||(Xt={}));class $c{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mL=(t,e)=>{if(xm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new _o(t.common.issues);return this._error=r,this._error}}};function kr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class Rr{get description(){return this._def.description}_getType(e){return gd(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:gd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new da,ctx:{common:e.parent.common,data:e.data,parsedType:gd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Kv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gd(e)},i=this._parseSync({data:e,path:n.path,parent:n});return mL(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gd(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return xm(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>xm(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gd(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Kv(i)?i:Promise.resolve(i));return mL(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:bt.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Ql({schema:this,typeName:cr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ic.create(this,this._def)}nullable(){return Sh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ul.create(this)}promise(){return Q0.create(this,this._def)}or(e){return Xv.create([this,e],this._def)}and(e){return Jv.create(this,e,this._def)}transform(e){return new Ql({...kr(this._def),schema:this,typeName:cr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new sy({...kr(this._def),innerType:this,defaultValue:r,typeName:cr.ZodDefault})}brand(){return new aA({typeName:cr.ZodBranded,type:this,...kr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new ny({...kr(this._def),innerType:this,catchValue:r,typeName:cr.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return m1.create(this,e)}readonly(){return iy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const O_e=/^c[^\s-]{8,}$/i,L_e=/^[0-9a-z]+$/,R_e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,I_e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,D_e=/^[a-z0-9_-]{21}$/i,M_e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,B_e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,U_e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$_e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let c_;const q_e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,z_e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,V_e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,H_e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,W_e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,K_e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,MQ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",G_e=new RegExp(`^${MQ}$`);function BQ(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Y_e(t){return new RegExp(`^${BQ(t)}$`)}function UQ(t){let e=`${MQ}T${BQ(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Q_e(t,e){return!!((e==="v4"||!e)&&q_e.test(t)||(e==="v6"||!e)&&V_e.test(t))}function X_e(t,e){if(!M_e.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function J_e(t,e){return!!((e==="v4"||!e)&&z_e.test(t)||(e==="v6"||!e)&&H_e.test(t))}class Ll extends Rr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qt.string){const a=this._getOrReturnCtx(e);return Mt(a,{code:bt.invalid_type,expected:qt.string,received:a.parsedType}),lr}const n=new da;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Mt(i,{code:bt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Mt(i,{code:bt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")U_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"email",code:bt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")c_||(c_=new RegExp($_e,"u")),c_.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"emoji",code:bt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")I_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"uuid",code:bt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")D_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"nanoid",code:bt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")O_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"cuid",code:bt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")L_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"cuid2",code:bt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")R_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"ulid",code:bt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Mt(i,{validation:"url",code:bt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"regex",code:bt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?UQ(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?G_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Y_e(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?B_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"duration",code:bt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Q_e(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"ip",code:bt.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?X_e(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"jwt",code:bt.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?J_e(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"cidr",code:bt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?W_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"base64",code:bt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?K_e.test(e.data)||(i=this._getOrReturnCtx(e,i),Mt(i,{validation:"base64url",code:bt.invalid_string,message:a.message}),n.dirty()):Jr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:bt.invalid_string,...Xt.errToObj(n)})}_addCheck(e){return new Ll({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Xt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Xt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Xt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Xt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Xt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Xt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Xt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Xt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Xt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Xt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Xt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Xt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Xt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Xt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Xt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Xt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Xt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Xt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Xt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Xt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Xt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Xt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Xt.errToObj(r)})}nonempty(e){return this.min(1,Xt.errToObj(e))}trim(){return new Ll({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ll({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ll({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ll.create=t=>new Ll({checks:[],typeName:cr.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...kr(t)});function Z_e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class Nh extends Rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qt.number){const a=this._getOrReturnCtx(e);return Mt(a,{code:bt.invalid_type,expected:qt.number,received:a.parsedType}),lr}let n;const i=new da;for(const a of this._def.checks)a.kind==="int"?Jr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Mt(n,{code:bt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Mt(n,{code:bt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Mt(n,{code:bt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Z_e(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Mt(n,{code:bt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Mt(n,{code:bt.not_finite,message:a.message}),i.dirty()):Jr.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Xt.toString(r))}setLimit(e,r,n,i){return new Nh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Xt.toString(i)}]})}_addCheck(e){return new Nh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Xt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Xt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Xt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Xt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Xt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Jr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Nh.create=t=>new Nh({checks:[],typeName:cr.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...kr(t)});class jh extends Rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==qt.bigint)return this._getInvalidInput(e);let n;const i=new da;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Mt(n,{code:bt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Mt(n,{code:bt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Mt(n,{code:bt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Jr.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Mt(r,{code:bt.invalid_type,expected:qt.bigint,received:r.parsedType}),lr}gte(e,r){return this.setLimit("min",e,!0,Xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Xt.toString(r))}setLimit(e,r,n,i){return new jh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Xt.toString(i)}]})}_addCheck(e){return new jh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Xt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}jh.create=t=>new jh({checks:[],typeName:cr.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...kr(t)});class Gv extends Rr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qt.boolean){const n=this._getOrReturnCtx(e);return Mt(n,{code:bt.invalid_type,expected:qt.boolean,received:n.parsedType}),lr}return Ea(e.data)}}Gv.create=t=>new Gv({typeName:cr.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...kr(t)});class vm extends Rr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qt.date){const a=this._getOrReturnCtx(e);return Mt(a,{code:bt.invalid_type,expected:qt.date,received:a.parsedType}),lr}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Mt(a,{code:bt.invalid_date}),lr}const n=new da;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Mt(i,{code:bt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Jr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vm({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Xt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Xt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}vm.create=t=>new vm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:cr.ZodDate,...kr(t)});class Gw extends Rr{_parse(e){if(this._getType(e)!==qt.symbol){const n=this._getOrReturnCtx(e);return Mt(n,{code:bt.invalid_type,expected:qt.symbol,received:n.parsedType}),lr}return Ea(e.data)}}Gw.create=t=>new Gw({typeName:cr.ZodSymbol,...kr(t)});class Yv extends Rr{_parse(e){if(this._getType(e)!==qt.undefined){const n=this._getOrReturnCtx(e);return Mt(n,{code:bt.invalid_type,expected:qt.undefined,received:n.parsedType}),lr}return Ea(e.data)}}Yv.create=t=>new Yv({typeName:cr.ZodUndefined,...kr(t)});class Qv extends Rr{_parse(e){if(this._getType(e)!==qt.null){const n=this._getOrReturnCtx(e);return Mt(n,{code:bt.invalid_type,expected:qt.null,received:n.parsedType}),lr}return Ea(e.data)}}Qv.create=t=>new Qv({typeName:cr.ZodNull,...kr(t)});class Y0 extends Rr{constructor(){super(...arguments),this._any=!0}_parse(e){return Ea(e.data)}}Y0.create=t=>new Y0({typeName:cr.ZodAny,...kr(t)});class Qf extends Rr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ea(e.data)}}Qf.create=t=>new Qf({typeName:cr.ZodUnknown,...kr(t)});class Jd extends Rr{_parse(e){const r=this._getOrReturnCtx(e);return Mt(r,{code:bt.invalid_type,expected:qt.never,received:r.parsedType}),lr}}Jd.create=t=>new Jd({typeName:cr.ZodNever,...kr(t)});class Yw extends Rr{_parse(e){if(this._getType(e)!==qt.undefined){const n=this._getOrReturnCtx(e);return Mt(n,{code:bt.invalid_type,expected:qt.void,received:n.parsedType}),lr}return Ea(e.data)}}Yw.create=t=>new Yw({typeName:cr.ZodVoid,...kr(t)});class Ul extends Rr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==qt.array)return Mt(r,{code:bt.invalid_type,expected:qt.array,received:r.parsedType}),lr;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(Mt(r,{code:o?bt.too_big:bt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Mt(r,{code:bt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Mt(r,{code:bt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new $c(r,o,r.path,l)))).then(o=>da.mergeArray(n,o));const a=[...r.data].map((o,l)=>i.type._parseSync(new $c(r,o,r.path,l)));return da.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Ul({...this._def,minLength:{value:e,message:Xt.toString(r)}})}max(e,r){return new Ul({...this._def,maxLength:{value:e,message:Xt.toString(r)}})}length(e,r){return new Ul({...this._def,exactLength:{value:e,message:Xt.toString(r)}})}nonempty(e){return this.min(1,e)}}Ul.create=(t,e)=>new Ul({type:t,minLength:null,maxLength:null,exactLength:null,typeName:cr.ZodArray,...kr(e)});function up(t){if(t instanceof ln){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ic.create(up(n))}return new ln({...t._def,shape:()=>e})}else return t instanceof Ul?new Ul({...t._def,type:up(t.element)}):t instanceof Ic?Ic.create(up(t.unwrap())):t instanceof Sh?Sh.create(up(t.unwrap())):t instanceof qc?qc.create(t.items.map(e=>up(e))):t}class ln extends Rr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Jr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==qt.object){const d=this._getOrReturnCtx(e);return Mt(d,{code:bt.invalid_type,expected:qt.object,received:d.parsedType}),lr}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Jd&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=a[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new $c(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Jd){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(Mt(i,{code:bt.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new $c(i,h,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const h=await u.key,m=await u.value;d.push({key:h,value:m,alwaysSet:u.alwaysSet})}return d}).then(d=>da.mergeObjectSync(n,d)):da.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Xt.errToObj,new ln({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Xt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ln({...this._def,unknownKeys:"strip"})}passthrough(){return new ln({...this._def,unknownKeys:"passthrough"})}extend(e){return new ln({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ln({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:cr.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ln({...this._def,catchall:e})}pick(e){const r={};for(const n of Jr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ln({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Jr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new ln({...this._def,shape:()=>r})}deepPartial(){return up(this)}partial(e){const r={};for(const n of Jr.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new ln({...this._def,shape:()=>r})}required(e){const r={};for(const n of Jr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ic;)a=a._def.innerType;r[n]=a}return new ln({...this._def,shape:()=>r})}keyof(){return $Q(Jr.objectKeys(this.shape))}}ln.create=(t,e)=>new ln({shape:()=>t,unknownKeys:"strip",catchall:Jd.create(),typeName:cr.ZodObject,...kr(e)});ln.strictCreate=(t,e)=>new ln({shape:()=>t,unknownKeys:"strict",catchall:Jd.create(),typeName:cr.ZodObject,...kr(e)});ln.lazycreate=(t,e)=>new ln({shape:t,unknownKeys:"strip",catchall:Jd.create(),typeName:cr.ZodObject,...kr(e)});class Xv extends Rr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new _o(l.ctx.common.issues));return Mt(r,{code:bt.invalid_union,unionErrors:o}),lr}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new _o(c));return Mt(r,{code:bt.invalid_union,unionErrors:l}),lr}}get options(){return this._def.options}}Xv.create=(t,e)=>new Xv({options:t,typeName:cr.ZodUnion,...kr(e)});const hd=t=>t instanceof ey?hd(t.schema):t instanceof Ql?hd(t.innerType()):t instanceof ty?[t.value]:t instanceof _h?t.options:t instanceof ry?Jr.objectValues(t.enum):t instanceof sy?hd(t._def.innerType):t instanceof Yv?[void 0]:t instanceof Qv?[null]:t instanceof Ic?[void 0,...hd(t.unwrap())]:t instanceof Sh?[null,...hd(t.unwrap())]:t instanceof aA||t instanceof iy?hd(t.unwrap()):t instanceof ny?hd(t._def.innerType):[];class Pj extends Rr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.object)return Mt(r,{code:bt.invalid_type,expected:qt.object,received:r.parsedType}),lr;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Mt(r,{code:bt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),lr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const o=hd(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new Pj({typeName:cr.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...kr(n)})}}function ik(t,e){const r=gd(t),n=gd(e);if(t===e)return{valid:!0,data:t};if(r===qt.object&&n===qt.object){const i=Jr.objectKeys(e),a=Jr.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=ik(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===qt.array&&n===qt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=ik(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===qt.date&&n===qt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Jv extends Rr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(sk(a)||sk(o))return lr;const l=ik(a.value,o.value);return l.valid?((nk(a)||nk(o))&&r.dirty(),{status:r.value,value:l.data}):(Mt(n,{code:bt.invalid_intersection_types}),lr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Jv.create=(t,e,r)=>new Jv({left:t,right:e,typeName:cr.ZodIntersection,...kr(r)});class qc extends Rr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.array)return Mt(n,{code:bt.invalid_type,expected:qt.array,received:n.parsedType}),lr;if(n.data.length<this._def.items.length)return Mt(n,{code:bt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lr;!this._def.rest&&n.data.length>this._def.items.length&&(Mt(n,{code:bt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new $c(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>da.mergeArray(r,o)):da.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new qc({...this._def,rest:e})}}qc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qc({items:t,typeName:cr.ZodTuple,rest:null,...kr(e)})};class Zv extends Rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.object)return Mt(n,{code:bt.invalid_type,expected:qt.object,received:n.parsedType}),lr;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:a._parse(new $c(n,l,n.path,l)),value:o._parse(new $c(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?da.mergeObjectAsync(r,i):da.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Rr?new Zv({keyType:e,valueType:r,typeName:cr.ZodRecord,...kr(n)}):new Zv({keyType:Ll.create(),valueType:e,typeName:cr.ZodRecord,...kr(r)})}}class Qw extends Rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.map)return Mt(n,{code:bt.invalid_type,expected:qt.map,received:n.parsedType}),lr;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:i._parse(new $c(n,l,n.path,[d,"key"])),value:a._parse(new $c(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return lr;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return lr;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}Qw.create=(t,e,r)=>new Qw({valueType:e,keyType:t,typeName:cr.ZodMap,...kr(r)});class ym extends Rr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.set)return Mt(n,{code:bt.invalid_type,expected:qt.set,received:n.parsedType}),lr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Mt(n,{code:bt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Mt(n,{code:bt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return lr;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new $c(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new ym({...this._def,minSize:{value:e,message:Xt.toString(r)}})}max(e,r){return new ym({...this._def,maxSize:{value:e,message:Xt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ym.create=(t,e)=>new ym({valueType:t,minSize:null,maxSize:null,typeName:cr.ZodSet,...kr(e)});class Qp extends Rr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.function)return Mt(r,{code:bt.invalid_type,expected:qt.function,received:r.parsedType}),lr;function n(l,c){return Kw({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ww(),G0].filter(d=>!!d),issueData:{code:bt.invalid_arguments,argumentsError:c}})}function i(l,c){return Kw({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ww(),G0].filter(d=>!!d),issueData:{code:bt.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Q0){const l=this;return Ea(async function(...c){const d=new _o([]),u=await l._def.args.parseAsync(c,a).catch(f=>{throw d.addIssue(n(c,f)),d}),h=await Reflect.apply(o,this,u);return await l._def.returns._def.type.parseAsync(h,a).catch(f=>{throw d.addIssue(i(h,f)),d})})}else{const l=this;return Ea(function(...c){const d=l._def.args.safeParse(c,a);if(!d.success)throw new _o([n(c,d.error)]);const u=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(u,a);if(!h.success)throw new _o([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Qp({...this._def,args:qc.create(e).rest(Qf.create())})}returns(e){return new Qp({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Qp({args:e||qc.create([]).rest(Qf.create()),returns:r||Qf.create(),typeName:cr.ZodFunction,...kr(n)})}}class ey extends Rr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ey.create=(t,e)=>new ey({getter:t,typeName:cr.ZodLazy,...kr(e)});class ty extends Rr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Mt(r,{received:r.data,code:bt.invalid_literal,expected:this._def.value}),lr}return{status:"valid",value:e.data}}get value(){return this._def.value}}ty.create=(t,e)=>new ty({value:t,typeName:cr.ZodLiteral,...kr(e)});function $Q(t,e){return new _h({values:t,typeName:cr.ZodEnum,...kr(e)})}class _h extends Rr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Mt(r,{expected:Jr.joinValues(n),received:r.parsedType,code:bt.invalid_type}),lr}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Mt(r,{received:r.data,code:bt.invalid_enum_value,options:n}),lr}return Ea(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return _h.create(e,{...this._def,...r})}exclude(e,r=this._def){return _h.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}_h.create=$Q;class ry extends Rr{_parse(e){const r=Jr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==qt.string&&n.parsedType!==qt.number){const i=Jr.objectValues(r);return Mt(n,{expected:Jr.joinValues(i),received:n.parsedType,code:bt.invalid_type}),lr}if(this._cache||(this._cache=new Set(Jr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Jr.objectValues(r);return Mt(n,{received:n.data,code:bt.invalid_enum_value,options:i}),lr}return Ea(e.data)}get enum(){return this._def.values}}ry.create=(t,e)=>new ry({values:t,typeName:cr.ZodNativeEnum,...kr(e)});class Q0 extends Rr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.promise&&r.common.async===!1)return Mt(r,{code:bt.invalid_type,expected:qt.promise,received:r.parsedType}),lr;const n=r.parsedType===qt.promise?r.data:Promise.resolve(r.data);return Ea(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Q0.create=(t,e)=>new Q0({type:t,typeName:cr.ZodPromise,...kr(e)});class Ql extends Rr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===cr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Mt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return lr;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?lr:c.status==="dirty"||r.value==="dirty"?Ap(c.value):c});{if(r.value==="aborted")return lr;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?lr:l.status==="dirty"||r.value==="dirty"?Ap(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?lr:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?lr:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!xm(o))return lr;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>xm(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:r.value,value:l})):lr);Jr.assertNever(i)}}Ql.create=(t,e,r)=>new Ql({schema:t,typeName:cr.ZodEffects,effect:e,...kr(r)});Ql.createWithPreprocess=(t,e,r)=>new Ql({schema:e,effect:{type:"preprocess",transform:t},typeName:cr.ZodEffects,...kr(r)});class Ic extends Rr{_parse(e){return this._getType(e)===qt.undefined?Ea(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ic.create=(t,e)=>new Ic({innerType:t,typeName:cr.ZodOptional,...kr(e)});class Sh extends Rr{_parse(e){return this._getType(e)===qt.null?Ea(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Sh.create=(t,e)=>new Sh({innerType:t,typeName:cr.ZodNullable,...kr(e)});class sy extends Rr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===qt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}sy.create=(t,e)=>new sy({innerType:t,typeName:cr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...kr(e)});class ny extends Rr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Kv(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _o(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _o(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ny.create=(t,e)=>new ny({innerType:t,typeName:cr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...kr(e)});class Xw extends Rr{_parse(e){if(this._getType(e)!==qt.nan){const n=this._getOrReturnCtx(e);return Mt(n,{code:bt.invalid_type,expected:qt.nan,received:n.parsedType}),lr}return{status:"valid",value:e.data}}}Xw.create=t=>new Xw({typeName:cr.ZodNaN,...kr(t)});const eSe=Symbol("zod_brand");class aA extends Rr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class m1 extends Rr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?lr:a.status==="dirty"?(r.dirty(),Ap(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?lr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new m1({in:e,out:r,typeName:cr.ZodPipeline})}}class iy extends Rr{_parse(e){const r=this._def.innerType._parse(e),n=i=>(xm(i)&&(i.value=Object.freeze(i.value)),i);return Kv(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}iy.create=(t,e)=>new iy({innerType:t,typeName:cr.ZodReadonly,...kr(e)});function pL(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function oA(t,e={},r){return t?Y0.create().superRefine((n,i)=>{const a=t(n);if(a instanceof Promise)return a.then(o=>{if(!o){const l=pL(e,n),c=l.fatal??r??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=pL(e,n),l=o.fatal??r??!0;i.addIssue({code:"custom",...o,fatal:l})}}):Y0.create()}const tSe={object:ln.lazycreate};var cr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(cr||(cr={}));const rSe=(t,e={message:`Input not instance of ${t.name}`})=>oA(r=>r instanceof t,e),Md=Ll.create,lA=Nh.create,sSe=Xw.create,nSe=jh.create,p1=Gv.create,iSe=vm.create,aSe=Gw.create,oSe=Yv.create,qQ=Qv.create,Jw=Y0.create,lSe=Qf.create,cSe=Jd.create,dSe=Yw.create,zQ=Ul.create,VQ=ln.create,uSe=ln.strictCreate,cA=Xv.create,hSe=Pj.create,fSe=Jv.create,mSe=qc.create,HQ=Zv.create,pSe=Qw.create,gSe=ym.create,xSe=Qp.create,vSe=ey.create,ySe=ty.create,bSe=_h.create,wSe=ry.create,NSe=Q0.create,gL=Ql.create,jSe=Ic.create,_Se=Sh.create,SSe=Ql.createWithPreprocess,kSe=m1.create,CSe=()=>Md().optional(),ASe=()=>lA().optional(),ESe=()=>p1().optional(),TSe={string:t=>Ll.create({...t,coerce:!0}),number:t=>Nh.create({...t,coerce:!0}),boolean:t=>Gv.create({...t,coerce:!0}),bigint:t=>jh.create({...t,coerce:!0}),date:t=>vm.create({...t,coerce:!0})},PSe=lr,FSe=Object.freeze(Object.defineProperty({__proto__:null,BRAND:eSe,DIRTY:Ap,EMPTY_PATH:F_e,INVALID:lr,NEVER:PSe,OK:Ea,ParseStatus:da,Schema:Rr,ZodAny:Y0,ZodArray:Ul,ZodBigInt:jh,ZodBoolean:Gv,ZodBranded:aA,ZodCatch:ny,ZodDate:vm,ZodDefault:sy,ZodDiscriminatedUnion:Pj,ZodEffects:Ql,ZodEnum:_h,ZodError:_o,get ZodFirstPartyTypeKind(){return cr},ZodFunction:Qp,ZodIntersection:Jv,ZodIssueCode:bt,ZodLazy:ey,ZodLiteral:ty,ZodMap:Qw,ZodNaN:Xw,ZodNativeEnum:ry,ZodNever:Jd,ZodNull:Qv,ZodNullable:Sh,ZodNumber:Nh,ZodObject:ln,ZodOptional:Ic,ZodParsedType:qt,ZodPipeline:m1,ZodPromise:Q0,ZodReadonly:iy,ZodRecord:Zv,ZodSchema:Rr,ZodSet:ym,ZodString:Ll,ZodSymbol:Gw,ZodTransformer:Ql,ZodTuple:qc,ZodType:Rr,ZodUndefined:Yv,ZodUnion:Xv,ZodUnknown:Qf,ZodVoid:Yw,addIssueToContext:Mt,any:Jw,array:zQ,bigint:nSe,boolean:p1,coerce:TSe,custom:oA,date:iSe,datetimeRegex:UQ,defaultErrorMap:G0,discriminatedUnion:hSe,effect:gL,enum:bSe,function:xSe,getErrorMap:Ww,getParsedType:gd,instanceof:rSe,intersection:fSe,isAborted:sk,isAsync:Kv,isDirty:nk,isValid:xm,late:tSe,lazy:vSe,literal:ySe,makeIssue:Kw,map:pSe,nan:sSe,nativeEnum:wSe,never:cSe,null:qQ,nullable:_Se,number:lA,object:VQ,get objectUtil(){return rk},oboolean:ESe,onumber:ASe,optional:jSe,ostring:CSe,pipeline:kSe,preprocess:SSe,promise:NSe,quotelessJson:T_e,record:HQ,set:gSe,setErrorMap:P_e,strictObject:uSe,string:Md,symbol:aSe,transformer:gL,tuple:mSe,undefined:oSe,union:cA,unknown:lSe,get util(){return Jr},void:dSe},Symbol.toStringTag,{value:"Module"})),an={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Fn(t,e){return e.includes(t.columnType)}function OSe(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const LSe=cA([Md(),lA(),p1(),qQ()]),RSe=cA([LSe,HQ(Jw()),zQ(Jw())]),ISe=oA(t=>t instanceof Buffer);function WQ(t,e){const r=(e==null?void 0:e.zodInstance)??FSe,n=(e==null?void 0:e.coerce)??{};let i;return OSe(t)&&(i=t.enumValues.length?r.enum(t.enumValues):r.string()),i||(Fn(t,["PgGeometry","PgPointTuple"])?i=r.tuple([r.number(),r.number()]):Fn(t,["PgGeometryObject","PgPointObject"])?i=r.object({x:r.number(),y:r.number()}):Fn(t,["PgHalfVector","PgVector"])?(i=r.array(r.number()),i=t.dimensions?i.length(t.dimensions):i):Fn(t,["PgLine"])?i=r.tuple([r.number(),r.number(),r.number()]):Fn(t,["PgLineABC"])?i=r.object({a:r.number(),b:r.number(),c:r.number()}):Fn(t,["PgArray"])?(i=r.array(WQ(t.baseColumn,r)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=r.array(r.any()):t.dataType==="number"?i=DSe(t,r,n):t.dataType==="bigint"?i=MSe(t,r,n):t.dataType==="boolean"?i=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?i=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?i=BSe(t,r,n):t.dataType==="json"?i=RSe:t.dataType==="custom"?i=r.any():t.dataType==="buffer"&&(i=ISe)),i||(i=r.any()),i}function DSe(t,e,r){let n=t.getSQLType().includes("unsigned"),i,a,o=!1;Fn(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=n?0:an.INT8_MIN,a=n?an.INT8_UNSIGNED_MAX:an.INT8_MAX,o=!0):Fn(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=n?0:an.INT16_MIN,a=n?an.INT16_UNSIGNED_MAX:an.INT16_MAX,o=!0):Fn(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=n?0:an.INT24_MIN,a=n?an.INT24_UNSIGNED_MAX:an.INT24_MAX,o=Fn(t,["MySqlMediumInt","SingleStoreMediumInt"])):Fn(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=n?0:an.INT32_MIN,a=n?an.INT32_UNSIGNED_MAX:an.INT32_MAX,o=!0):Fn(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=n?0:an.INT48_MIN,a=n?an.INT48_UNSIGNED_MAX:an.INT48_MAX):Fn(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Fn(t,["MySqlSerial","SingleStoreSerial"]),i=n?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):Fn(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?e.coerce.number():e.number();return l=l.min(i).max(a),o?l.int():l}function MSe(t,e,r){const n=t.getSQLType().includes("unsigned"),i=n?0n:an.INT64_MIN,a=n?an.INT64_UNSIGNED_MAX:an.INT64_MAX;return(r===!0||r!=null&&r.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function BSe(t,e,r){if(Fn(t,["PgUUID"]))return e.string().uuid();let n,i,a=!1;Fn(t,["PgVarchar","SQLiteText"])?n=t.length:Fn(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??an.INT16_UNSIGNED_MAX:Fn(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=an.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=an.INT24_UNSIGNED_MAX:t.textType==="text"?n=an.INT16_UNSIGNED_MAX:n=an.INT8_UNSIGNED_MAX),Fn(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,a=!0),Fn(t,["PgBinaryVector"])&&(i=/^[01]+$/,n=t.dimensions);let o=r===!0||r!=null&&r.string?e.coerce.string():e.string();return o=i?o.regex(i):o,n&&a?o.length(n):n?o.max(n):o}function KQ(t){return aY(t)?Z4e(t):e_e(t)}function GQ(t,e,r,n){const i={};for(const[a,o]of Object.entries(t)){if(!Oi(o,K0)&&!Oi(o,di)&&!Oi(o,di.Aliased)&&typeof o=="object"){const h=aY(o)||J4e(o)?KQ(o):o;i[a]=GQ(h,e[a]??{},r,n);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Oi(o,K0)?o:void 0,d=c?WQ(c,n):Jw(),u=typeof l=="function"?l(d):d;r.never(c)||(i[a]=u,c&&(r.nullable(c)&&(i[a]=i[a].nullable()),r.optional(c)&&(i[a]=i[a].optional())))}return VQ(i)}const USe={never:t=>{var e,r;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((r=t==null?void 0:t.generatedIdentity)==null?void 0:r.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},Qr=(t,e)=>{const r=KQ(t);return GQ(r,{},USe)},xs=Kr("users",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),email:Qe("email").notNull().unique(),password:Qe("password").notNull(),firstName:Qe("first_name").notNull(),lastName:Qe("last_name").notNull(),phone:Qe("phone"),role:Qe("role").notNull(),isVerified:Sn("is_verified").default(!1),identityVerificationStatus:Qe("identity_verification_status").default("not_verified"),isBanned:Sn("is_banned").default(!1),bannedReason:Qe("banned_reason"),bannedAt:zt("banned_at"),findertokenBalance:is("findertoken_balance").default(0),createdAt:zt("created_at").defaultNow()}),To=Kr("finders",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull(),jobsCompleted:is("jobs_completed").default(0),totalEarned:Fd("total_earned",{precision:10,scale:2}).default("0.00"),availableBalance:Fd("available_balance",{precision:10,scale:2}).default("0.00"),averageRating:Fd("average_rating",{precision:3,scale:2}).default("0.00"),currentLevelId:jt("current_level_id").references(()=>XQ.id),bio:Qe("bio"),category:Qe("category"),categories:Qe("categories").array(),skills:Qe("skills").array(),hourlyRate:Fd("hourly_rate",{precision:8,scale:2}),availability:Qe("availability").default("full-time"),phone:Qe("phone"),isVerified:Sn("is_verified").default(!1),findertokenBalance:is("findertoken_balance").default(0),createdAt:zt("created_at").defaultNow()}),$Se=Kr("findertokens",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),finderId:jt("finder_id").references(()=>To.id).notNull(),balance:is("balance").default(0)}),Fj=Kr("finds",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),clientId:jt("client_id").references(()=>xs.id).notNull(),title:Qe("title").notNull(),description:Qe("description").notNull(),category:Qe("category").notNull(),budgetMin:Qe("budget_min"),budgetMax:Qe("budget_max"),timeframe:Qe("timeframe"),status:Qe("status").default("open"),findertokenCost:is("findertoken_cost").default(1),attachments:Qe("attachments").array(),flaggedWords:Qe("flagged_words").array(),reviewReason:Qe("review_reason"),isHighBudget:Sn("is_high_budget").default(!1),isBoosted:Sn("is_boosted").default(!1),boostAmount:is("boost_amount").default(0),boostExpiresAt:zt("boost_expires_at"),createdAt:zt("created_at").defaultNow()}),qSe=Kr("restricted_words",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),word:Qe("word").notNull().unique(),category:Qe("category").default("general"),severity:Qe("severity").default("flag"),addedBy:jt("added_by").references(()=>xs.id).notNull(),isActive:Sn("is_active").default(!0),createdAt:zt("created_at").defaultNow()}),dA=Kr("proposals",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),findId:jt("find_id").references(()=>Fj.id).notNull(),finderId:jt("finder_id").references(()=>To.id).notNull(),approach:Qe("approach").notNull(),price:Qe("price").notNull(),timeline:Qe("timeline").notNull(),notes:Qe("notes"),status:Qe("status").default("pending"),createdAt:zt("created_at").defaultNow()}),Oj=Kr("contracts",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),findId:jt("find_id").references(()=>Fj.id).notNull(),proposalId:jt("proposal_id").references(()=>dA.id).notNull(),clientId:jt("client_id").references(()=>xs.id).notNull(),finderId:jt("finder_id").references(()=>To.id).notNull(),amount:Fd("amount",{precision:10,scale:2}).notNull(),escrowStatus:Qe("escrow_status").default("held"),isCompleted:Sn("is_completed").default(!1),hasSubmission:Sn("has_submission").default(!1),createdAt:zt("created_at").defaultNow(),completedAt:zt("completed_at")}),zSe=Kr("reviews",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),contractId:jt("contract_id").references(()=>Oj.id).notNull(),clientId:jt("client_id").references(()=>xs.id).notNull(),finderId:jt("finder_id").references(()=>To.id).notNull(),rating:is("rating").notNull(),comment:Qe("comment"),createdAt:zt("created_at").defaultNow()}),VSe=Kr("transactions",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull(),finderId:jt("finder_id").references(()=>To.id),amount:is("amount").notNull(),type:Qe("type").notNull(),description:Qe("description"),reference:Qe("reference"),createdAt:zt("created_at").defaultNow()}),HSe=Kr("admin_settings",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),key:Qe("key").notNull().unique(),value:Qe("value").notNull(),updatedAt:zt("updated_at").defaultNow()}),WSe=Kr("token_packages",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),name:Qe("name").notNull(),description:Qe("description"),price:Fd("price",{precision:10,scale:2}).notNull(),tokenCount:is("token_count").notNull(),isActive:Sn("is_active").default(!0),createdAt:zt("created_at").defaultNow(),updatedAt:zt("updated_at").defaultNow()}),YQ=Kr("conversations",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),clientId:jt("client_id").references(()=>xs.id).notNull(),finderId:jt("finder_id").references(()=>To.id).notNull(),proposalId:jt("proposal_id").references(()=>dA.id).notNull(),lastMessageAt:zt("last_message_at").defaultNow(),createdAt:zt("created_at").defaultNow()}),QQ=Kr("messages",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),conversationId:jt("conversation_id").references(()=>YQ.id).notNull(),senderId:jt("sender_id").references(()=>xs.id).notNull(),content:Qe("content").notNull(),attachmentPaths:Qe("attachment_paths").array(),attachmentNames:Qe("attachment_names").array(),quotedMessageId:Qe("quoted_message_id").references(()=>QQ.id),isRead:Sn("is_read").default(!1).notNull(),createdAt:zt("created_at").defaultNow()}),KSe=Kr("categories",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),name:Qe("name").notNull().unique(),description:Qe("description"),isActive:Sn("is_active").default(!0),createdAt:zt("created_at").defaultNow()}),GSe=Kr("withdrawal_settings",{id:Qe("id").primaryKey().default(Cr`gen_random_uuid()`),finderId:jt("finder_id").references(()=>To.id).notNull(),paymentMethod:Qe("payment_method").notNull().default("bank_transfer"),minimumThreshold:is("minimum_threshold").notNull().default(50),bankDetails:Qe("bank_details"),paypalDetails:Qe("paypal_details"),createdAt:zt("created_at").defaultNow(),updatedAt:zt("updated_at").defaultNow()}),YSe=Kr("withdrawal_requests",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),requestId:jt("request_id").notNull().unique(),finderId:jt("finder_id").references(()=>To.id).notNull(),amount:Fd("amount",{precision:10,scale:2}).notNull(),status:Qe("status").default("pending"),paymentMethod:Qe("payment_method").notNull(),paymentDetails:Qe("payment_details").notNull(),adminNotes:Qe("admin_notes"),processedBy:jt("processed_by").references(()=>xs.id),requestedAt:zt("requested_at").defaultNow(),processedAt:zt("processed_at")}),QSe=Kr("blog_posts",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),title:Qe("title").notNull(),slug:Qe("slug").notNull().unique(),content:Qe("content").notNull(),excerpt:Qe("excerpt"),authorId:jt("author_id").references(()=>xs.id).notNull(),isPublished:Sn("is_published").default(!1),publishedAt:zt("published_at"),createdAt:zt("created_at").defaultNow(),updatedAt:zt("updated_at").defaultNow()}),XSe=Kr("order_submissions",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),contractId:jt("contract_id").references(()=>Oj.id).notNull(),finderId:jt("finder_id").references(()=>To.id).notNull(),submissionText:Qe("submission_text"),attachmentPaths:Qe("attachment_paths").array(),status:Qe("status").default("submitted"),clientFeedback:Qe("client_feedback"),submittedAt:zt("submitted_at").defaultNow(),reviewedAt:zt("reviewed_at"),autoReleaseDate:zt("auto_release_date")}),XQ=Kr("finder_levels",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),name:Qe("name").notNull().unique(),description:Qe("description"),minEarnedAmount:Fd("min_earned_amount",{precision:10,scale:2}).default("0"),minJobsCompleted:is("min_jobs_completed").default(0),minRating:Fd("min_rating",{precision:3,scale:2}).default("0"),minFiveStarCount:is("min_five_star_count").default(0),monthlyTokens:is("monthly_tokens").default(20),tokenBonusPerProposal:is("token_bonus_per_proposal").default(0),vipInvitationsPerMonth:is("vip_invitations_per_month").default(0),badgeIcon:Qe("badge_icon"),badgeEmoji:Qe("badge_emoji"),color:Qe("color"),order:is("order").notNull(),isActive:Sn("is_active").default(!0),createdAt:zt("created_at").defaultNow(),updatedAt:zt("updated_at").defaultNow()}),JSe=Kr("token_charges",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),finderId:jt("finder_id").references(()=>To.id).notNull(),amount:is("amount").notNull(),reason:Qe("reason").notNull(),chargedBy:jt("charged_by").references(()=>xs.id).notNull(),createdAt:zt("created_at").defaultNow()}),ZSe=Kr("monthly_token_distributions",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),finderId:jt("finder_id").references(()=>To.id).notNull(),month:is("month").notNull(),year:is("year").notNull(),tokensGranted:is("tokens_granted").default(20),distributedAt:zt("distributed_at").defaultNow()}),e3e=Kr("token_grants",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),finderId:jt("finder_id").references(()=>To.id).notNull(),amount:is("amount").notNull(),reason:Qe("reason").notNull(),grantedBy:jt("granted_by").references(()=>xs.id).notNull(),createdAt:zt("created_at").defaultNow()}),t3e=Kr("client_token_grants",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),clientId:jt("client_id").references(()=>xs.id).notNull(),amount:is("amount").notNull(),reason:Qe("reason").notNull(),grantedBy:jt("granted_by").references(()=>xs.id).notNull(),createdAt:zt("created_at").defaultNow()}),JQ=Kr("strikes",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull(),strikeLevel:is("strike_level").notNull(),strikeCount:is("strike_count").notNull().default(1),offense:Qe("offense").notNull(),offenseType:Qe("offense_type").notNull(),evidence:Qe("evidence"),issuedBy:jt("issued_by").references(()=>xs.id).notNull(),status:Qe("status").default("active"),appealReason:Qe("appeal_reason"),appealedAt:zt("appealed_at"),reviewedBy:jt("reviewed_by").references(()=>xs.id),reviewedAt:zt("reviewed_at"),expiresAt:zt("expires_at"),createdAt:zt("created_at").defaultNow()}),r3e=Kr("user_restrictions",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull(),restrictionType:Qe("restriction_type").notNull(),reason:Qe("reason").notNull(),startDate:zt("start_date").defaultNow(),endDate:zt("end_date"),isActive:Sn("is_active").default(!0),createdBy:jt("created_by").references(()=>xs.id).notNull(),createdAt:zt("created_at").defaultNow()}),s3e=Kr("disputes",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull(),strikeId:jt("strike_id").references(()=>JQ.id),contractId:jt("contract_id").references(()=>Oj.id),findId:jt("find_id").references(()=>Fj.id),type:Qe("type").notNull(),description:Qe("description").notNull(),evidence:Qe("evidence"),status:Qe("status").default("pending"),assignedTo:jt("assigned_to").references(()=>xs.id),resolution:Qe("resolution"),resolvedAt:zt("resolved_at"),submittedAt:zt("submitted_at").defaultNow()}),n3e=Kr("behavioral_training",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull(),moduleType:Qe("module_type").notNull(),status:Qe("status").default("assigned"),assignedDate:zt("assigned_date").defaultNow(),completedDate:zt("completed_date"),score:is("score")}),i3e=Kr("trusted_badges",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull(),badgeType:Qe("badge_type").notNull(),earnedDate:zt("earned_date").defaultNow(),isActive:Sn("is_active").default(!0),validUntil:zt("valid_until")});Qr(KSe);Qr(GSe).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(YSe);Qr(xs).omit({id:!0,createdAt:!0});Qr(To).omit({id:!0});Qr(Fj).omit({id:!0,createdAt:!0});Qr(dA).omit({id:!0,createdAt:!0});Qr(Oj).omit({id:!0,createdAt:!0,completedAt:!0});Qr(zSe).omit({id:!0,createdAt:!0});Qr($Se).omit({id:!0});Qr(VSe).omit({id:!0,createdAt:!0});Qr(HSe).omit({id:!0,updatedAt:!0});Qr(JSe).omit({id:!0,createdAt:!0});Qr(ZSe).omit({id:!0,distributedAt:!0});Qr(e3e).omit({id:!0,createdAt:!0});Qr(t3e).omit({id:!0,createdAt:!0});Qr(YQ).omit({id:!0,lastMessageAt:!0,createdAt:!0});Qr(XQ).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(QQ).omit({id:!0,createdAt:!0});const ZQ=Qr(QSe).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(WSe).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(XSe).omit({id:!0,submittedAt:!0,reviewedAt:!0,autoReleaseDate:!0});const eX=Kr("support_agents",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull().unique(),agentId:jt("agent_id").notNull().unique(),department:Qe("department").notNull(),permissions:Qe("permissions").array().notNull(),isActive:Sn("is_active").default(!0),maxTicketsPerDay:is("max_tickets_per_day").default(20),responseTimeTarget:is("response_time_target").default(24),specializations:Qe("specializations").array(),languages:Qe("languages").array().default(["en"]),assignedBy:jt("assigned_by").references(()=>xs.id).notNull(),suspendedAt:zt("suspended_at"),suspensionReason:Qe("suspension_reason"),createdAt:zt("created_at").defaultNow(),updatedAt:zt("updated_at").defaultNow()}),a3e=Kr("contact_settings",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),supportEmail:Qe("support_email").default("findermeisterinnovations@gmail.com"),supportPhone:Qe("support_phone").default("+234-7039391065"),officeAddress:Qe("office_address").default("18 Back of Road safety office, Moniya, Ibadan"),businessHours:Qe("business_hours").default("Mon-Fri, 9 AM - 6 PM WAT"),facebookUrl:Qe("facebook_url").default("https://facebook.com/findermeister"),twitterUrl:Qe("twitter_url").default("https://twitter.com/findermeister"),instagramUrl:Qe("instagram_url").default("https://instagram.com/findermeister"),tiktokUrl:Qe("tiktok_url").default("https://tiktok.com/@findermeisterinnovations"),linkedinUrl:Qe("linkedin_url").default("https://linkedin.com/company/findermeister"),whatsappNumber:Qe("whatsapp_number").default("+234-7039391065"),responseTimeLow:Qe("response_time_low").default("2-3 business days"),responseTimeMedium:Qe("response_time_medium").default("1-2 business days"),responseTimeHigh:Qe("response_time_high").default("4-8 hours"),responseTimeUrgent:Qe("response_time_urgent").default("1-2 hours"),updatedAt:zt("updated_at").defaultNow()}),o3e=Kr("faq_categories",{id:Qe("id").primaryKey().default(Cr`gen_random_uuid()`),name:Qe("name").notNull().unique(),description:Qe("description"),icon:Qe("icon").default("HelpCircle"),color:Qe("color").default("bg-blue-100 text-blue-800"),sortOrder:is("sort_order").default(0),isActive:Sn("is_active").notNull().default(!0),createdAt:zt("created_at").defaultNow(),updatedAt:zt("updated_at").defaultNow()}),l3e=Kr("user_verifications",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),userId:jt("user_id").references(()=>xs.id).notNull(),documentType:Qe("document_type").notNull(),documentFrontImage:Qe("document_front_image").notNull(),documentBackImage:Qe("document_back_image"),selfieImage:Qe("selfie_image").notNull(),status:Qe("status").default("pending"),rejectionReason:Qe("rejection_reason"),reviewedBy:jt("reviewed_by").references(()=>xs.id),submittedAt:zt("submitted_at").defaultNow(),reviewedAt:zt("reviewed_at"),updatedAt:zt("updated_at").defaultNow()}),tX=Kr("support_tickets",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),ticketNumber:jt("ticket_number").notNull().unique(),submitterName:Qe("submitter_name").notNull(),submitterEmail:Qe("submitter_email").notNull(),submitterId:jt("submitter_id").references(()=>xs.id),category:Qe("category").notNull(),priority:Qe("priority").notNull(),department:Qe("department").notNull(),subject:Qe("subject").notNull(),description:Qe("description").notNull(),status:Qe("status").default("open"),assignedTo:jt("assigned_to").references(()=>eX.id),assignedAt:zt("assigned_at"),responseTimeDeadline:zt("response_time_deadline"),firstResponseAt:zt("first_response_at"),resolvedAt:zt("resolved_at"),closedAt:zt("closed_at"),satisfactionRating:is("satisfaction_rating"),satisfactionFeedback:Qe("satisfaction_feedback"),createdAt:zt("created_at").defaultNow(),updatedAt:zt("updated_at").defaultNow()});Kr("support_ticket_messages",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),ticketId:jt("ticket_id").references(()=>tX.id).notNull(),senderId:jt("sender_id").references(()=>xs.id),senderType:Qe("sender_type").notNull(),senderName:Qe("sender_name").notNull(),senderEmail:Qe("sender_email"),content:Qe("content").notNull(),attachments:Qe("attachments").array(),isInternal:Sn("is_internal").default(!1),createdAt:zt("created_at").defaultNow()});const c3e=Kr("support_departments",{id:jt("id").primaryKey().default(Cr`gen_random_uuid()`),name:Qe("name").notNull().unique(),description:Qe("description"),color:Qe("color").default("#3B82F6"),isActive:Sn("is_active").default(!0),autoAssignments:Sn("is_active").default(!0),maxResponseTime:is("max_response_time").default(24),createdAt:zt("created_at").defaultNow()});Qr(JQ).omit({id:!0,createdAt:!0});Qr(r3e).omit({id:!0,createdAt:!0});Qr(s3e).omit({id:!0,submittedAt:!0});Qr(n3e).omit({id:!0,assignedDate:!0});Qr(i3e).omit({id:!0,earnedDate:!0});Qr(eX).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(tX).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(c3e).omit({id:!0,createdAt:!0});const d3e=Kr("faqs",{id:Qe("id").primaryKey().default(Cr`gen_random_uuid()`),question:Qe("question").notNull(),answer:Qe("answer").notNull(),category:Qe("category").notNull(),tags:Qe("tags").array().default([]),isActive:Sn("is_active").notNull().default(!0),sortOrder:is("sort_order").default(0),createdAt:zt("created_at").default(Cr`now()`),updatedAt:zt("updated_at").default(Cr`now()`)});Qr(d3e).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(o3e).omit({id:!0,createdAt:!0,updatedAt:!0});Qr(a3e).omit({id:!0,updatedAt:!0});Qr(l3e).omit({id:!0,submittedAt:!0,reviewedAt:!0,updatedAt:!0});Qr(qSe).omit({id:!0,createdAt:!0});function u3e(){this.__data__=[],this.size=0}var h3e=u3e;function f3e(t,e){return t===e||t!==t&&e!==e}var rX=f3e,m3e=rX;function p3e(t,e){for(var r=t.length;r--;)if(m3e(t[r][0],e))return r;return-1}var Lj=p3e,g3e=Lj,x3e=Array.prototype,v3e=x3e.splice;function y3e(t){var e=this.__data__,r=g3e(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():v3e.call(e,r,1),--this.size,!0}var b3e=y3e,w3e=Lj;function N3e(t){var e=this.__data__,r=w3e(e,t);return r<0?void 0:e[r][1]}var j3e=N3e,_3e=Lj;function S3e(t){return _3e(this.__data__,t)>-1}var k3e=S3e,C3e=Lj;function A3e(t,e){var r=this.__data__,n=C3e(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var E3e=A3e,T3e=h3e,P3e=b3e,F3e=j3e,O3e=k3e,L3e=E3e;function jg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}jg.prototype.clear=T3e;jg.prototype.delete=P3e;jg.prototype.get=F3e;jg.prototype.has=O3e;jg.prototype.set=L3e;var Rj=jg,R3e=Rj;function I3e(){this.__data__=new R3e,this.size=0}var D3e=I3e;function M3e(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var B3e=M3e;function U3e(t){return this.__data__.get(t)}var $3e=U3e;function q3e(t){return this.__data__.has(t)}var z3e=q3e,V3e=t1,H3e=e1,W3e="[object AsyncFunction]",K3e="[object Function]",G3e="[object GeneratorFunction]",Y3e="[object Proxy]";function Q3e(t){if(!H3e(t))return!1;var e=V3e(t);return e==K3e||e==G3e||e==W3e||e==Y3e}var sX=Q3e,X3e=Kc,J3e=X3e["__core-js_shared__"],Z3e=J3e,d_=Z3e,xL=function(){var t=/[^.]+$/.exec(d_&&d_.keys&&d_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function eke(t){return!!xL&&xL in t}var tke=eke,rke=Function.prototype,ske=rke.toString;function nke(t){if(t!=null){try{return ske.call(t)}catch{}try{return t+""}catch{}}return""}var nX=nke,ike=sX,ake=tke,oke=e1,lke=nX,cke=/[\\^$.*+?()[\]{}|]/g,dke=/^\[object .+?Constructor\]$/,uke=Function.prototype,hke=Object.prototype,fke=uke.toString,mke=hke.hasOwnProperty,pke=RegExp("^"+fke.call(mke).replace(cke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gke(t){if(!oke(t)||ake(t))return!1;var e=ike(t)?pke:dke;return e.test(lke(t))}var xke=gke;function vke(t,e){return t==null?void 0:t[e]}var yke=vke,bke=xke,wke=yke;function Nke(t,e){var r=wke(t,e);return bke(r)?r:void 0}var _g=Nke,jke=_g,_ke=Kc,Ske=jke(_ke,"Map"),uA=Ske,kke=_g,Cke=kke(Object,"create"),Ij=Cke,vL=Ij;function Ake(){this.__data__=vL?vL(null):{},this.size=0}var Eke=Ake;function Tke(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pke=Tke,Fke=Ij,Oke="__lodash_hash_undefined__",Lke=Object.prototype,Rke=Lke.hasOwnProperty;function Ike(t){var e=this.__data__;if(Fke){var r=e[t];return r===Oke?void 0:r}return Rke.call(e,t)?e[t]:void 0}var Dke=Ike,Mke=Ij,Bke=Object.prototype,Uke=Bke.hasOwnProperty;function $ke(t){var e=this.__data__;return Mke?e[t]!==void 0:Uke.call(e,t)}var qke=$ke,zke=Ij,Vke="__lodash_hash_undefined__";function Hke(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=zke&&e===void 0?Vke:e,this}var Wke=Hke,Kke=Eke,Gke=Pke,Yke=Dke,Qke=qke,Xke=Wke;function Sg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sg.prototype.clear=Kke;Sg.prototype.delete=Gke;Sg.prototype.get=Yke;Sg.prototype.has=Qke;Sg.prototype.set=Xke;var Jke=Sg,yL=Jke,Zke=Rj,e6e=uA;function t6e(){this.size=0,this.__data__={hash:new yL,map:new(e6e||Zke),string:new yL}}var r6e=t6e;function s6e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var n6e=s6e,i6e=n6e;function a6e(t,e){var r=t.__data__;return i6e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Dj=a6e,o6e=Dj;function l6e(t){var e=o6e(this,t).delete(t);return this.size-=e?1:0,e}var c6e=l6e,d6e=Dj;function u6e(t){return d6e(this,t).get(t)}var h6e=u6e,f6e=Dj;function m6e(t){return f6e(this,t).has(t)}var p6e=m6e,g6e=Dj;function x6e(t,e){var r=g6e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var v6e=x6e,y6e=r6e,b6e=c6e,w6e=h6e,N6e=p6e,j6e=v6e;function kg(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}kg.prototype.clear=y6e;kg.prototype.delete=b6e;kg.prototype.get=w6e;kg.prototype.has=N6e;kg.prototype.set=j6e;var iX=kg,_6e=Rj,S6e=uA,k6e=iX,C6e=200;function A6e(t,e){var r=this.__data__;if(r instanceof _6e){var n=r.__data__;if(!S6e||n.length<C6e-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new k6e(n)}return r.set(t,e),this.size=r.size,this}var E6e=A6e,T6e=Rj,P6e=D3e,F6e=B3e,O6e=$3e,L6e=z3e,R6e=E6e;function Cg(t){var e=this.__data__=new T6e(t);this.size=e.size}Cg.prototype.clear=P6e;Cg.prototype.delete=F6e;Cg.prototype.get=O6e;Cg.prototype.has=L6e;Cg.prototype.set=R6e;var I6e=Cg,D6e="__lodash_hash_undefined__";function M6e(t){return this.__data__.set(t,D6e),this}var B6e=M6e;function U6e(t){return this.__data__.has(t)}var $6e=U6e,q6e=iX,z6e=B6e,V6e=$6e;function Zw(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new q6e;++e<r;)this.add(t[e])}Zw.prototype.add=Zw.prototype.push=z6e;Zw.prototype.has=V6e;var H6e=Zw;function W6e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var K6e=W6e;function G6e(t,e){return t.has(e)}var Y6e=G6e,Q6e=H6e,X6e=K6e,J6e=Y6e,Z6e=1,eCe=2;function tCe(t,e,r,n,i,a){var o=r&Z6e,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var d=a.get(t),u=a.get(e);if(d&&u)return d==e&&u==t;var h=-1,m=!0,f=r&eCe?new Q6e:void 0;for(a.set(t,e),a.set(e,t);++h<l;){var g=t[h],p=e[h];if(n)var x=o?n(p,g,h,e,t,a):n(g,p,h,t,e,a);if(x!==void 0){if(x)continue;m=!1;break}if(f){if(!X6e(e,function(y,v){if(!J6e(f,v)&&(g===y||i(g,y,r,n,a)))return f.push(v)})){m=!1;break}}else if(!(g===p||i(g,p,r,n,a))){m=!1;break}}return a.delete(t),a.delete(e),m}var aX=tCe,rCe=Kc,sCe=rCe.Uint8Array,nCe=sCe;function iCe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var aCe=iCe;function oCe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var lCe=oCe,bL=dC,wL=nCe,cCe=rX,dCe=aX,uCe=aCe,hCe=lCe,fCe=1,mCe=2,pCe="[object Boolean]",gCe="[object Date]",xCe="[object Error]",vCe="[object Map]",yCe="[object Number]",bCe="[object RegExp]",wCe="[object Set]",NCe="[object String]",jCe="[object Symbol]",_Ce="[object ArrayBuffer]",SCe="[object DataView]",NL=bL?bL.prototype:void 0,u_=NL?NL.valueOf:void 0;function kCe(t,e,r,n,i,a,o){switch(r){case SCe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _Ce:return!(t.byteLength!=e.byteLength||!a(new wL(t),new wL(e)));case pCe:case gCe:case yCe:return cCe(+t,+e);case xCe:return t.name==e.name&&t.message==e.message;case bCe:case NCe:return t==e+"";case vCe:var l=uCe;case wCe:var c=n&fCe;if(l||(l=hCe),t.size!=e.size&&!c)return!1;var d=o.get(t);if(d)return d==e;n|=mCe,o.set(t,e);var u=dCe(l(t),l(e),n,i,a,o);return o.delete(t),u;case jCe:if(u_)return u_.call(t)==u_.call(e)}return!1}var CCe=kCe;function ACe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var ECe=ACe,TCe=Array.isArray,hA=TCe,PCe=ECe,FCe=hA;function OCe(t,e,r){var n=e(t);return FCe(t)?n:PCe(n,r(t))}var LCe=OCe;function RCe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var ICe=RCe;function DCe(){return[]}var MCe=DCe,BCe=ICe,UCe=MCe,$Ce=Object.prototype,qCe=$Ce.propertyIsEnumerable,jL=Object.getOwnPropertySymbols,zCe=jL?function(t){return t==null?[]:(t=Object(t),BCe(jL(t),function(e){return qCe.call(t,e)}))}:UCe,VCe=zCe;function HCe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var WCe=HCe,KCe=t1,GCe=r1,YCe="[object Arguments]";function QCe(t){return GCe(t)&&KCe(t)==YCe}var XCe=QCe,_L=XCe,JCe=r1,oX=Object.prototype,ZCe=oX.hasOwnProperty,eAe=oX.propertyIsEnumerable,tAe=_L(function(){return arguments}())?_L:function(t){return JCe(t)&&ZCe.call(t,"callee")&&!eAe.call(t,"callee")},rAe=tAe,eN={exports:{}};function sAe(){return!1}var nAe=sAe;eN.exports;(function(t,e){var r=Kc,n=nAe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(eN,eN.exports);var lX=eN.exports,iAe=9007199254740991,aAe=/^(?:0|[1-9]\d*)$/;function oAe(t,e){var r=typeof t;return e=e??iAe,!!e&&(r=="number"||r!="symbol"&&aAe.test(t))&&t>-1&&t%1==0&&t<e}var lAe=oAe,cAe=9007199254740991;function dAe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cAe}var cX=dAe,uAe=t1,hAe=cX,fAe=r1,mAe="[object Arguments]",pAe="[object Array]",gAe="[object Boolean]",xAe="[object Date]",vAe="[object Error]",yAe="[object Function]",bAe="[object Map]",wAe="[object Number]",NAe="[object Object]",jAe="[object RegExp]",_Ae="[object Set]",SAe="[object String]",kAe="[object WeakMap]",CAe="[object ArrayBuffer]",AAe="[object DataView]",EAe="[object Float32Array]",TAe="[object Float64Array]",PAe="[object Int8Array]",FAe="[object Int16Array]",OAe="[object Int32Array]",LAe="[object Uint8Array]",RAe="[object Uint8ClampedArray]",IAe="[object Uint16Array]",DAe="[object Uint32Array]",Ws={};Ws[EAe]=Ws[TAe]=Ws[PAe]=Ws[FAe]=Ws[OAe]=Ws[LAe]=Ws[RAe]=Ws[IAe]=Ws[DAe]=!0;Ws[mAe]=Ws[pAe]=Ws[CAe]=Ws[gAe]=Ws[AAe]=Ws[xAe]=Ws[vAe]=Ws[yAe]=Ws[bAe]=Ws[wAe]=Ws[NAe]=Ws[jAe]=Ws[_Ae]=Ws[SAe]=Ws[kAe]=!1;function MAe(t){return fAe(t)&&hAe(t.length)&&!!Ws[uAe(t)]}var BAe=MAe;function UAe(t){return function(e){return t(e)}}var $Ae=UAe,tN={exports:{}};tN.exports;(function(t,e){var r=fV,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(tN,tN.exports);var qAe=tN.exports,zAe=BAe,VAe=$Ae,SL=qAe,kL=SL&&SL.isTypedArray,HAe=kL?VAe(kL):zAe,dX=HAe,WAe=WCe,KAe=rAe,GAe=hA,YAe=lX,QAe=lAe,XAe=dX,JAe=Object.prototype,ZAe=JAe.hasOwnProperty;function eEe(t,e){var r=GAe(t),n=!r&&KAe(t),i=!r&&!n&&YAe(t),a=!r&&!n&&!i&&XAe(t),o=r||n||i||a,l=o?WAe(t.length,String):[],c=l.length;for(var d in t)(e||ZAe.call(t,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||QAe(d,c)))&&l.push(d);return l}var tEe=eEe,rEe=Object.prototype;function sEe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||rEe;return t===r}var nEe=sEe;function iEe(t,e){return function(r){return t(e(r))}}var aEe=iEe,oEe=aEe,lEe=oEe(Object.keys,Object),cEe=lEe,dEe=nEe,uEe=cEe,hEe=Object.prototype,fEe=hEe.hasOwnProperty;function mEe(t){if(!dEe(t))return uEe(t);var e=[];for(var r in Object(t))fEe.call(t,r)&&r!="constructor"&&e.push(r);return e}var pEe=mEe,gEe=sX,xEe=cX;function vEe(t){return t!=null&&xEe(t.length)&&!gEe(t)}var yEe=vEe,bEe=tEe,wEe=pEe,NEe=yEe;function jEe(t){return NEe(t)?bEe(t):wEe(t)}var _Ee=jEe,SEe=LCe,kEe=VCe,CEe=_Ee;function AEe(t){return SEe(t,CEe,kEe)}var EEe=AEe,CL=EEe,TEe=1,PEe=Object.prototype,FEe=PEe.hasOwnProperty;function OEe(t,e,r,n,i,a){var o=r&TEe,l=CL(t),c=l.length,d=CL(e),u=d.length;if(c!=u&&!o)return!1;for(var h=c;h--;){var m=l[h];if(!(o?m in e:FEe.call(e,m)))return!1}var f=a.get(t),g=a.get(e);if(f&&g)return f==e&&g==t;var p=!0;a.set(t,e),a.set(e,t);for(var x=o;++h<c;){m=l[h];var y=t[m],v=e[m];if(n)var b=o?n(v,y,m,e,t,a):n(y,v,m,t,e,a);if(!(b===void 0?y===v||i(y,v,r,n,a):b)){p=!1;break}x||(x=m=="constructor")}if(p&&!x){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return a.delete(t),a.delete(e),p}var LEe=OEe,REe=_g,IEe=Kc,DEe=REe(IEe,"DataView"),MEe=DEe,BEe=_g,UEe=Kc,$Ee=BEe(UEe,"Promise"),qEe=$Ee,zEe=_g,VEe=Kc,HEe=zEe(VEe,"Set"),WEe=HEe,KEe=_g,GEe=Kc,YEe=KEe(GEe,"WeakMap"),QEe=YEe,ak=MEe,ok=uA,lk=qEe,ck=WEe,dk=QEe,uX=t1,Ag=nX,AL="[object Map]",XEe="[object Object]",EL="[object Promise]",TL="[object Set]",PL="[object WeakMap]",FL="[object DataView]",JEe=Ag(ak),ZEe=Ag(ok),eTe=Ag(lk),tTe=Ag(ck),rTe=Ag(dk),of=uX;(ak&&of(new ak(new ArrayBuffer(1)))!=FL||ok&&of(new ok)!=AL||lk&&of(lk.resolve())!=EL||ck&&of(new ck)!=TL||dk&&of(new dk)!=PL)&&(of=function(t){var e=uX(t),r=e==XEe?t.constructor:void 0,n=r?Ag(r):"";if(n)switch(n){case JEe:return FL;case ZEe:return AL;case eTe:return EL;case tTe:return TL;case rTe:return PL}return e});var sTe=of,h_=I6e,nTe=aX,iTe=CCe,aTe=LEe,OL=sTe,LL=hA,RL=lX,oTe=dX,lTe=1,IL="[object Arguments]",DL="[object Array]",Kb="[object Object]",cTe=Object.prototype,ML=cTe.hasOwnProperty;function dTe(t,e,r,n,i,a){var o=LL(t),l=LL(e),c=o?DL:OL(t),d=l?DL:OL(e);c=c==IL?Kb:c,d=d==IL?Kb:d;var u=c==Kb,h=d==Kb,m=c==d;if(m&&RL(t)){if(!RL(e))return!1;o=!0,u=!1}if(m&&!u)return a||(a=new h_),o||oTe(t)?nTe(t,e,r,n,i,a):iTe(t,e,c,r,n,i,a);if(!(r&lTe)){var f=u&&ML.call(t,"__wrapped__"),g=h&&ML.call(e,"__wrapped__");if(f||g){var p=f?t.value():t,x=g?e.value():e;return a||(a=new h_),i(p,x,r,n,a)}}return m?(a||(a=new h_),aTe(t,e,r,n,i,a)):!1}var uTe=dTe,hTe=uTe,BL=r1;function hX(t,e,r,n,i){return t===e?!0:t==null||e==null||!BL(t)&&!BL(e)?t!==t&&e!==e:hTe(t,e,r,n,hX,i)}var fTe=hX,mTe=fTe;function pTe(t,e){return mTe(t,e)}var gTe=pTe,fX={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:xo,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),l=i(19),c=i(45),d=i(46),u=i(47),h=i(48),m=i(49),f=i(12),g=i(32),p=i(33),x=i(31),y=i(1),v={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:a.default,Format:o.default,Leaf:l.default,Embed:h.default,Scroll:c.default,Block:u.default,Inline:d.default,Text:m.default,Attributor:{Attribute:f.default,Class:g.default,Style:p.default,Store:x.default}};n.default=v},function(r,n,i){var a=this&&this.__extends||function(){var x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var b in v)v.hasOwnProperty(b)&&(y[b]=v[b])};return function(y,v){x(y,v);function b(){this.constructor=y}y.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(x){a(y,x);function y(v){var b=this;return v="[Parchment] "+v,b=x.call(this,v)||this,b.message=v,b.name=b.constructor.name,b}return y}(Error);n.ParchmentError=o;var l={},c={},d={},u={};n.DATA_KEY="__blot";var h;(function(x){x[x.TYPE=3]="TYPE",x[x.LEVEL=12]="LEVEL",x[x.ATTRIBUTE=13]="ATTRIBUTE",x[x.BLOT=14]="BLOT",x[x.INLINE=7]="INLINE",x[x.BLOCK=11]="BLOCK",x[x.BLOCK_BLOT=10]="BLOCK_BLOT",x[x.INLINE_BLOT=6]="INLINE_BLOT",x[x.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",x[x.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",x[x.ANY=15]="ANY"})(h=n.Scope||(n.Scope={}));function m(x,y){var v=g(x);if(v==null)throw new o("Unable to create "+x+" blot");var b=v,w=x instanceof Node||x.nodeType===Node.TEXT_NODE?x:b.create(y);return new b(w,y)}n.create=m;function f(x,y){return y===void 0&&(y=!1),x==null?null:x[n.DATA_KEY]!=null?x[n.DATA_KEY].blot:y?f(x.parentNode,y):null}n.find=f;function g(x,y){y===void 0&&(y=h.ANY);var v;if(typeof x=="string")v=u[x]||l[x];else if(x instanceof Text||x.nodeType===Node.TEXT_NODE)v=u.text;else if(typeof x=="number")x&h.LEVEL&h.BLOCK?v=u.block:x&h.LEVEL&h.INLINE&&(v=u.inline);else if(x instanceof HTMLElement){var b=(x.getAttribute("class")||"").split(/\s+/);for(var w in b)if(v=c[b[w]],v)break;v=v||d[x.tagName]}return v==null?null:y&h.LEVEL&v.scope&&y&h.TYPE&v.scope?v:null}n.query=g;function p(){for(var x=[],y=0;y<arguments.length;y++)x[y]=arguments[y];if(x.length>1)return x.map(function(w){return p(w)});var v=x[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new o("Invalid definition");if(v.blotName==="abstract")throw new o("Cannot register abstract class");if(u[v.blotName||v.attrName]=v,typeof v.keyName=="string")l[v.keyName]=v;else if(v.className!=null&&(c[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(w){return w.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var b=Array.isArray(v.tagName)?v.tagName:[v.tagName];b.forEach(function(w){(d[w]==null||v.className==null)&&(d[w]=v)})}return v}n.register=p},function(r,n,i){var a=i(51),o=i(11),l=i(3),c=i(20),d="\0",u=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};u.prototype.insert=function(h,m){var f={};return h.length===0?this:(f.insert=h,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(f.attributes=m),this.push(f))},u.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},u.prototype.retain=function(h,m){if(h<=0)return this;var f={retain:h};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(f.attributes=m),this.push(f)},u.prototype.push=function(h){var m=this.ops.length,f=this.ops[m-1];if(h=l(!0,{},h),typeof f=="object"){if(typeof h.delete=="number"&&typeof f.delete=="number")return this.ops[m-1]={delete:f.delete+h.delete},this;if(typeof f.delete=="number"&&h.insert!=null&&(m-=1,f=this.ops[m-1],typeof f!="object"))return this.ops.unshift(h),this;if(o(h.attributes,f.attributes)){if(typeof h.insert=="string"&&typeof f.insert=="string")return this.ops[m-1]={insert:f.insert+h.insert},typeof h.attributes=="object"&&(this.ops[m-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof f.retain=="number")return this.ops[m-1]={retain:f.retain+h.retain},typeof h.attributes=="object"&&(this.ops[m-1].attributes=h.attributes),this}}return m===this.ops.length?this.ops.push(h):this.ops.splice(m,0,h),this},u.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},u.prototype.filter=function(h){return this.ops.filter(h)},u.prototype.forEach=function(h){this.ops.forEach(h)},u.prototype.map=function(h){return this.ops.map(h)},u.prototype.partition=function(h){var m=[],f=[];return this.forEach(function(g){var p=h(g)?m:f;p.push(g)}),[m,f]},u.prototype.reduce=function(h,m){return this.ops.reduce(h,m)},u.prototype.changeLength=function(){return this.reduce(function(h,m){return m.insert?h+c.length(m):m.delete?h-m.delete:h},0)},u.prototype.length=function(){return this.reduce(function(h,m){return h+c.length(m)},0)},u.prototype.slice=function(h,m){h=h||0,typeof m!="number"&&(m=1/0);for(var f=[],g=c.iterator(this.ops),p=0;p<m&&g.hasNext();){var x;p<h?x=g.next(h-p):(x=g.next(m-p),f.push(x)),p+=c.length(x)}return new u(f)},u.prototype.compose=function(h){var m=c.iterator(this.ops),f=c.iterator(h.ops),g=[],p=f.peek();if(p!=null&&typeof p.retain=="number"&&p.attributes==null){for(var x=p.retain;m.peekType()==="insert"&&m.peekLength()<=x;)x-=m.peekLength(),g.push(m.next());p.retain-x>0&&f.next(p.retain-x)}for(var y=new u(g);m.hasNext()||f.hasNext();)if(f.peekType()==="insert")y.push(f.next());else if(m.peekType()==="delete")y.push(m.next());else{var v=Math.min(m.peekLength(),f.peekLength()),b=m.next(v),w=f.next(v);if(typeof w.retain=="number"){var _={};typeof b.retain=="number"?_.retain=v:_.insert=b.insert;var N=c.attributes.compose(b.attributes,w.attributes,typeof b.retain=="number");if(N&&(_.attributes=N),y.push(_),!f.hasNext()&&o(y.ops[y.ops.length-1],_)){var j=new u(m.rest());return y.concat(j).chop()}}else typeof w.delete=="number"&&typeof b.retain=="number"&&y.push(w)}return y.chop()},u.prototype.concat=function(h){var m=new u(this.ops.slice());return h.ops.length>0&&(m.push(h.ops[0]),m.ops=m.ops.concat(h.ops.slice(1))),m},u.prototype.diff=function(h,m){if(this.ops===h.ops)return new u;var f=[this,h].map(function(v){return v.map(function(b){if(b.insert!=null)return typeof b.insert=="string"?b.insert:d;var w=v===h?"on":"with";throw new Error("diff() called "+w+" non-document")}).join("")}),g=new u,p=a(f[0],f[1],m),x=c.iterator(this.ops),y=c.iterator(h.ops);return p.forEach(function(v){for(var b=v[1].length;b>0;){var w=0;switch(v[0]){case a.INSERT:w=Math.min(y.peekLength(),b),g.push(y.next(w));break;case a.DELETE:w=Math.min(b,x.peekLength()),x.next(w),g.delete(w);break;case a.EQUAL:w=Math.min(x.peekLength(),y.peekLength(),b);var _=x.next(w),N=y.next(w);o(_.insert,N.insert)?g.retain(w,c.attributes.diff(_.attributes,N.attributes)):g.push(N).delete(w);break}b-=w}}),g.chop()},u.prototype.eachLine=function(h,m){m=m||`
`;for(var f=c.iterator(this.ops),g=new u,p=0;f.hasNext();){if(f.peekType()!=="insert")return;var x=f.peek(),y=c.length(x)-f.peekLength(),v=typeof x.insert=="string"?x.insert.indexOf(m,y)-y:-1;if(v<0)g.push(f.next());else if(v>0)g.push(f.next(v));else{if(h(g,f.next(1).attributes||{},p)===!1)return;p+=1,g=new u}}g.length()>0&&h(g,{},p)},u.prototype.transform=function(h,m){if(m=!!m,typeof h=="number")return this.transformPosition(h,m);for(var f=c.iterator(this.ops),g=c.iterator(h.ops),p=new u;f.hasNext()||g.hasNext();)if(f.peekType()==="insert"&&(m||g.peekType()!=="insert"))p.retain(c.length(f.next()));else if(g.peekType()==="insert")p.push(g.next());else{var x=Math.min(f.peekLength(),g.peekLength()),y=f.next(x),v=g.next(x);if(y.delete)continue;v.delete?p.push(v):p.retain(x,c.attributes.transform(y.attributes,v.attributes,m))}return p.chop()},u.prototype.transformPosition=function(h,m){m=!!m;for(var f=c.iterator(this.ops),g=0;f.hasNext()&&g<=h;){var p=f.peekLength(),x=f.peekType();if(f.next(),x==="delete"){h-=Math.min(p,h-g);continue}else x==="insert"&&(g<h||!m)&&(h+=p);g+=p}return h},r.exports=u},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(f){return typeof Array.isArray=="function"?Array.isArray(f):a.call(f)==="[object Array]"},d=function(f){if(!f||a.call(f)!=="[object Object]")return!1;var g=i.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&i.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!g&&!p)return!1;var x;for(x in f);return typeof x>"u"||i.call(f,x)},u=function(f,g){o&&g.name==="__proto__"?o(f,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):f[g.name]=g.newValue},h=function(f,g){if(g==="__proto__")if(i.call(f,g)){if(l)return l(f,g).value}else return;return f[g]};r.exports=function m(){var f,g,p,x,y,v,b=arguments[0],w=1,_=arguments.length,N=!1;for(typeof b=="boolean"&&(N=b,b=arguments[1]||{},w=2),(b==null||typeof b!="object"&&typeof b!="function")&&(b={});w<_;++w)if(f=arguments[w],f!=null)for(g in f)p=h(b,g),x=h(f,g),b!==x&&(N&&x&&(d(x)||(y=c(x)))?(y?(y=!1,v=p&&c(p)?p:[]):v=p&&d(p)?p:{},u(b,{name:g,newValue:m(N,v,x)})):typeof x<"u"&&u(b,{name:g,newValue:x}));return b}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function C(T,L){for(var D=0;D<L.length;D++){var H=L[D];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(T,H.key,H)}}return function(T,L,D){return L&&C(T.prototype,L),D&&C(T,D),T}}(),o=function C(T,L,D){T===null&&(T=Function.prototype);var H=Object.getOwnPropertyDescriptor(T,L);if(H===void 0){var X=Object.getPrototypeOf(T);return X===null?void 0:C(X,L,D)}else{if("value"in H)return H.value;var ee=H.get;return ee===void 0?void 0:ee.call(D)}},l=i(3),c=b(l),d=i(2),u=b(d),h=i(0),m=b(h),f=i(16),g=b(f),p=i(6),x=b(p),y=i(7),v=b(y);function b(C){return C&&C.__esModule?C:{default:C}}function w(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function _(C,T){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:C}function N(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(C,T):C.__proto__=T)}var j=1,k=function(C){N(T,C);function T(){return w(this,T),_(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"attach",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"attach",this).call(this),this.attributes=new m.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(D,H){var X=m.default.query(D,m.default.Scope.BLOCK_ATTRIBUTE);X!=null&&this.attributes.attribute(X,H)}},{key:"formatAt",value:function(D,H,X,ee){this.format(X,ee)}},{key:"insertAt",value:function(D,H,X){if(typeof H=="string"&&H.endsWith(`
`)){var ee=m.default.create(E.blotName);this.parent.insertBefore(ee,D===0?this:this.next),ee.insertAt(0,H.slice(0,-1))}else o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,D,H,X)}}]),T}(m.default.Embed);k.scope=m.default.Scope.BLOCK_BLOT;var E=function(C){N(T,C);function T(L){w(this,T);var D=_(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,L));return D.cache={},D}return a(T,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(m.default.Leaf).reduce(function(D,H){return H.length()===0?D:D.insert(H.value(),A(H))},new u.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(D,H){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,D,H),this.cache={}}},{key:"formatAt",value:function(D,H,X,ee){H<=0||(m.default.query(X,m.default.Scope.BLOCK)?D+H===this.length()&&this.format(X,ee):o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,D,Math.min(H,this.length()-D-1),X,ee),this.cache={})}},{key:"insertAt",value:function(D,H,X){if(X!=null)return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,D,H,X);if(H.length!==0){var ee=H.split(`
`),Q=ee.shift();Q.length>0&&(D<this.length()-1||this.children.tail==null?o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,Math.min(D,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var G=this;ee.reduce(function(z,V){return G=G.split(z,!0),G.insertAt(0,V),V.length},D+Q.length)}}},{key:"insertBefore",value:function(D,H){var X=this.children.head;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,D,H),X instanceof g.default&&X.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"length",this).call(this)+j),this.cache.length}},{key:"moveChildren",value:function(D,H){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"moveChildren",this).call(this,D,H),this.cache={}}},{key:"optimize",value:function(D){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,D),this.cache={}}},{key:"path",value:function(D){return o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,D,!0)}},{key:"removeChild",value:function(D){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"removeChild",this).call(this,D),this.cache={}}},{key:"split",value:function(D){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H&&(D===0||D>=this.length()-j)){var X=this.clone();return D===0?(this.parent.insertBefore(X,this),this):(this.parent.insertBefore(X,this.next),X)}else{var ee=o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"split",this).call(this,D,H);return this.cache={},ee}}}]),T}(m.default.Block);E.blotName="block",E.tagName="P",E.defaultChild="break",E.allowedChildren=[x.default,m.default.Embed,v.default];function A(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return C==null||(typeof C.formats=="function"&&(T=(0,c.default)(T,C.formats())),C.parent==null||C.parent.blotName=="scroll"||C.parent.statics.scope!==C.statics.scope)?T:A(C.parent,T)}n.bubbleFormats=A,n.BlockEmbed=k,n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(z,V){var F=[],I=!0,B=!1,q=void 0;try{for(var U=z[Symbol.iterator](),W;!(I=(W=U.next()).done)&&(F.push(W.value),!(V&&F.length===V));I=!0);}catch(te){B=!0,q=te}finally{try{!I&&U.return&&U.return()}finally{if(B)throw q}}return F}return function(z,V){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return G(z,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(z,V){for(var F=0;F<V.length;F++){var I=V[F];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(z,I.key,I)}}return function(z,V,F){return V&&G(z.prototype,V),F&&G(z,F),z}}();i(50);var c=i(2),d=A(c),u=i(14),h=A(u),m=i(8),f=A(m),g=i(9),p=A(g),x=i(0),y=A(x),v=i(15),b=A(v),w=i(3),_=A(w),N=i(10),j=A(N),k=i(34),E=A(k);function A(G){return G&&G.__esModule?G:{default:G}}function C(G,z,V){return z in G?Object.defineProperty(G,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):G[z]=V,G}function T(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}var L=(0,j.default)("quill"),D=function(){l(G,null,[{key:"debug",value:function(V){V===!0&&(V="log"),j.default.level(V)}},{key:"find",value:function(V){return V.__quill||y.default.find(V)}},{key:"import",value:function(V){return this.imports[V]==null&&L.error("Cannot import "+V+". Are you sure it was registered?"),this.imports[V]}},{key:"register",value:function(V,F){var I=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof V!="string"){var q=V.attrName||V.blotName;typeof q=="string"?this.register("formats/"+q,V,F):Object.keys(V).forEach(function(U){I.register(U,V[U],F)})}else this.imports[V]!=null&&!B&&L.warn("Overwriting "+V+" with",F),this.imports[V]=F,(V.startsWith("blots/")||V.startsWith("formats/"))&&F.blotName!=="abstract"?y.default.register(F):V.startsWith("modules")&&typeof F.register=="function"&&F.register()}}]);function G(z){var V=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,G),this.options=H(z,F),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",z);this.options.debug&&G.debug(this.options.debug);var I=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new f.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new b.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(f.default.events.EDITOR_CHANGE,function(q){q===f.default.events.TEXT_CHANGE&&V.root.classList.toggle("ql-blank",V.editor.isBlank())}),this.emitter.on(f.default.events.SCROLL_UPDATE,function(q,U){var W=V.selection.lastRange,te=W&&W.length===0?W.index:void 0;X.call(V,function(){return V.editor.update(null,U,te)},q)});var B=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+I+"<p><br></p></div>");this.setContents(B),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return l(G,[{key:"addContainer",value:function(V){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof V=="string"){var I=V;V=document.createElement("div"),V.classList.add(I)}return this.container.insertBefore(V,F),V}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(V,F,I){var B=this,q=ee(V,F,I),U=o(q,4);return V=U[0],F=U[1],I=U[3],X.call(this,function(){return B.editor.deleteText(V,F)},I,V,-1*F)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(V),this.container.classList.toggle("ql-disabled",!V)}},{key:"focus",value:function(){var V=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=V,this.scrollIntoView()}},{key:"format",value:function(V,F){var I=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;return X.call(this,function(){var q=I.getSelection(!0),U=new d.default;if(q==null)return U;if(y.default.query(V,y.default.Scope.BLOCK))U=I.editor.formatLine(q.index,q.length,C({},V,F));else{if(q.length===0)return I.selection.format(V,F),U;U=I.editor.formatText(q.index,q.length,C({},V,F))}return I.setSelection(q,f.default.sources.SILENT),U},B)}},{key:"formatLine",value:function(V,F,I,B,q){var U=this,W=void 0,te=ee(V,F,I,B,q),re=o(te,4);return V=re[0],F=re[1],W=re[2],q=re[3],X.call(this,function(){return U.editor.formatLine(V,F,W)},q,V,0)}},{key:"formatText",value:function(V,F,I,B,q){var U=this,W=void 0,te=ee(V,F,I,B,q),re=o(te,4);return V=re[0],F=re[1],W=re[2],q=re[3],X.call(this,function(){return U.editor.formatText(V,F,W)},q,V,0)}},{key:"getBounds",value:function(V){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=void 0;typeof V=="number"?I=this.selection.getBounds(V,F):I=this.selection.getBounds(V.index,V.length);var B=this.container.getBoundingClientRect();return{bottom:I.bottom-B.top,height:I.height,left:I.left-B.left,right:I.right-B.left,top:I.top-B.top,width:I.width}}},{key:"getContents",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,I=ee(V,F),B=o(I,2);return V=B[0],F=B[1],this.editor.getContents(V,F)}},{key:"getFormat",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof V=="number"?this.editor.getFormat(V,F):this.editor.getFormat(V.index,V.length)}},{key:"getIndex",value:function(V){return V.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(V){return this.scroll.leaf(V)}},{key:"getLine",value:function(V){return this.scroll.line(V)}},{key:"getLines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof V!="number"?this.scroll.lines(V.index,V.length):this.scroll.lines(V,F)}},{key:"getModule",value:function(V){return this.theme.modules[V]}},{key:"getSelection",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return V&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,I=ee(V,F),B=o(I,2);return V=B[0],F=B[1],this.editor.getText(V,F)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(V,F,I){var B=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G.sources.API;return X.call(this,function(){return B.editor.insertEmbed(V,F,I)},q,V)}},{key:"insertText",value:function(V,F,I,B,q){var U=this,W=void 0,te=ee(V,0,I,B,q),re=o(te,4);return V=re[0],W=re[2],q=re[3],X.call(this,function(){return U.editor.insertText(V,F,W)},q,V,F.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(V,F,I){this.clipboard.dangerouslyPasteHTML(V,F,I)}},{key:"removeFormat",value:function(V,F,I){var B=this,q=ee(V,F,I),U=o(q,4);return V=U[0],F=U[1],I=U[3],X.call(this,function(){return B.editor.removeFormat(V,F)},I,V)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(V){var F=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return X.call(this,function(){V=new d.default(V);var B=F.getLength(),q=F.editor.deleteText(0,B),U=F.editor.applyDelta(V),W=U.ops[U.ops.length-1];W!=null&&typeof W.insert=="string"&&W.insert[W.insert.length-1]===`
`&&(F.editor.deleteText(F.getLength()-1,1),U.delete(1));var te=q.compose(U);return te},I)}},{key:"setSelection",value:function(V,F,I){if(V==null)this.selection.setRange(null,F||G.sources.API);else{var B=ee(V,F,I),q=o(B,4);V=q[0],F=q[1],I=q[3],this.selection.setRange(new v.Range(V,F),I),I!==f.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(V){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API,I=new d.default().insert(V);return this.setContents(I,F)}},{key:"update",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,F=this.scroll.update(V);return this.selection.update(V),F}},{key:"updateContents",value:function(V){var F=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.default.sources.API;return X.call(this,function(){return V=new d.default(V),F.editor.applyDelta(V,I)},I,!0)}}]),G}();D.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},D.events=f.default.events,D.sources=f.default.sources,D.version="1.3.7",D.imports={delta:d.default,parchment:y.default,"core/module":p.default,"core/theme":E.default};function H(G,z){if(z=(0,_.default)(!0,{container:G,modules:{clipboard:!0,keyboard:!0,history:!0}},z),!z.theme||z.theme===D.DEFAULTS.theme)z.theme=E.default;else if(z.theme=D.import("themes/"+z.theme),z.theme==null)throw new Error("Invalid theme "+z.theme+". Did you register it?");var V=(0,_.default)(!0,{},z.theme.DEFAULTS);[V,z].forEach(function(B){B.modules=B.modules||{},Object.keys(B.modules).forEach(function(q){B.modules[q]===!0&&(B.modules[q]={})})});var F=Object.keys(V.modules).concat(Object.keys(z.modules)),I=F.reduce(function(B,q){var U=D.import("modules/"+q);return U==null?L.error("Cannot load "+q+" module. Are you sure you registered it?"):B[q]=U.DEFAULTS||{},B},{});return z.modules!=null&&z.modules.toolbar&&z.modules.toolbar.constructor!==Object&&(z.modules.toolbar={container:z.modules.toolbar}),z=(0,_.default)(!0,{},D.DEFAULTS,{modules:I},V,z),["bounds","container","scrollingContainer"].forEach(function(B){typeof z[B]=="string"&&(z[B]=document.querySelector(z[B]))}),z.modules=Object.keys(z.modules).reduce(function(B,q){return z.modules[q]&&(B[q]=z.modules[q]),B},{}),z}function X(G,z,V,F){if(this.options.strict&&!this.isEnabled()&&z===f.default.sources.USER)return new d.default;var I=V==null?null:this.getSelection(),B=this.editor.delta,q=G();if(I!=null&&(V===!0&&(V=I.index),F==null?I=Q(I,q,z):F!==0&&(I=Q(I,V,F,z)),this.setSelection(I,f.default.sources.SILENT)),q.length()>0){var U,W=[f.default.events.TEXT_CHANGE,q,B,z];if((U=this.emitter).emit.apply(U,[f.default.events.EDITOR_CHANGE].concat(W)),z!==f.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,W)}}return q}function ee(G,z,V,F,I){var B={};return typeof G.index=="number"&&typeof G.length=="number"?typeof z!="number"?(I=F,F=V,V=z,z=G.length,G=G.index):(z=G.length,G=G.index):typeof z!="number"&&(I=F,F=V,V=z,z=0),(typeof V>"u"?"undefined":a(V))==="object"?(B=V,I=F):typeof V=="string"&&(F!=null?B[V]=F:I=V),I=I||f.default.sources.API,[G,z,B,I]}function Q(G,z,V,F){if(G==null)return null;var I=void 0,B=void 0;if(z instanceof d.default){var q=[G.index,G.index+G.length].map(function(re){return z.transformPosition(re,F!==f.default.sources.USER)}),U=o(q,2);I=U[0],B=U[1]}else{var W=[G.index,G.index+G.length].map(function(re){return re<z||re===z&&F===f.default.sources.USER?re:V>=0?re+V:Math.max(z,re+V)}),te=o(W,2);I=te[0],B=te[1]}return new v.Range(I,B-I)}n.expandConfig=H,n.overload=ee,n.default=D},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}}(),o=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:x(_,v,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=i(7),c=h(l),d=i(0),u=h(d);function h(x){return x&&x.__esModule?x:{default:x}}function m(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function f(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function g(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var p=function(x){g(y,x);function y(){return m(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"formatAt",value:function(b,w,_,N){if(y.compare(this.statics.blotName,_)<0&&u.default.query(_,u.default.Scope.BLOT)){var j=this.isolate(b,w);N&&j.wrap(_,N)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,b,w,_,N)}},{key:"optimize",value:function(b){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,b),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var w=this.parent.isolate(this.offset(),this.length());this.moveChildren(w),w.wrap(this)}}}],[{key:"compare",value:function(b,w){var _=y.order.indexOf(b),N=y.order.indexOf(w);return _>=0||N>=0?_-N:b===w?0:b<w?-1:1}}]),y}(u.default.Inline);p.allowedChildren=[p,u.default.Embed,c.default],p.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function d(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function u(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){u(f,m);function f(){return c(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default.Text);n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(b,w){for(var _=0;_<w.length;_++){var N=w[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(b,N.key,N)}}return function(b,w,_){return w&&v(b.prototype,w),_&&v(b,_),b}}(),o=function v(b,w,_){b===null&&(b=Function.prototype);var N=Object.getOwnPropertyDescriptor(b,w);if(N===void 0){var j=Object.getPrototypeOf(b);return j===null?void 0:v(j,w,_)}else{if("value"in N)return N.value;var k=N.get;return k===void 0?void 0:k.call(_)}},l=i(54),c=h(l),d=i(10),u=h(d);function h(v){return v&&v.__esModule?v:{default:v}}function m(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function g(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var p=(0,u.default)("quill:events"),x=["selectionchange","mousedown","mouseup","click"];x.forEach(function(v){document.addEventListener(v,function(){for(var b=arguments.length,w=Array(b),_=0;_<b;_++)w[_]=arguments[_];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var j;(j=N.__quill.emitter).handleDOM.apply(j,w)}})})});var y=function(v){g(b,v);function b(){m(this,b);var w=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return w.listeners={},w.on("error",p.error),w}return a(b,[{key:"emit",value:function(){p.log.apply(p,arguments),o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(_){for(var N=arguments.length,j=Array(N>1?N-1:0),k=1;k<N;k++)j[k-1]=arguments[k];(this.listeners[_.type]||[]).forEach(function(E){var A=E.node,C=E.handler;(_.target===A||A.contains(_.target))&&C.apply(void 0,[_].concat(j))})}},{key:"listenDOM",value:function(_,N,j){this.listeners[_]||(this.listeners[_]=[]),this.listeners[_].push({node:N,handler:j})}}]),b}(c.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,l),this.quill=c,this.options=d};o.DEFAULTS={},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function l(d){if(a.indexOf(d)<=a.indexOf(o)){for(var u,h=arguments.length,m=Array(h>1?h-1:0),f=1;f<h;f++)m[f-1]=arguments[f];(u=console)[d].apply(u,m)}}function c(d){return a.reduce(function(u,h){return u[h]=l.bind(console,h,d),u},{})}l.level=c.level=function(d){o=d},n.default=c},function(r,n,i){var a=Array.prototype.slice,o=i(52),l=i(53),c=r.exports=function(m,f,g){return g||(g={}),m===f?!0:m instanceof Date&&f instanceof Date?m.getTime()===f.getTime():!m||!f||typeof m!="object"&&typeof f!="object"?g.strict?m===f:m==f:h(m,f,g)};function d(m){return m==null}function u(m){return!(!m||typeof m!="object"||typeof m.length!="number"||typeof m.copy!="function"||typeof m.slice!="function"||m.length>0&&typeof m[0]!="number")}function h(m,f,g){var p,x;if(d(m)||d(f)||m.prototype!==f.prototype)return!1;if(l(m))return l(f)?(m=a.call(m),f=a.call(f),c(m,f,g)):!1;if(u(m)){if(!u(f)||m.length!==f.length)return!1;for(p=0;p<m.length;p++)if(m[p]!==f[p])return!1;return!0}try{var y=o(m),v=o(f)}catch{return!1}if(y.length!=v.length)return!1;for(y.sort(),v.sort(),p=y.length-1;p>=0;p--)if(y[p]!=v[p])return!1;for(p=y.length-1;p>=0;p--)if(x=y[p],!c(m[x],f[x],g))return!1;return typeof m==typeof f}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function l(c,d,u){u===void 0&&(u={}),this.attrName=c,this.keyName=d;var h=a.Scope.TYPE&a.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&a.Scope.LEVEL|h:this.scope=a.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return l.keys=function(c){return[].map.call(c.attributes,function(d){return d.name})},l.prototype.add=function(c,d){return this.canAdd(c,d)?(c.setAttribute(this.keyName,d),!0):!1},l.prototype.canAdd=function(c,d){var u=a.query(c,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},l.prototype.remove=function(c){c.removeAttribute(this.keyName)},l.prototype.value=function(c){var d=c.getAttribute(this.keyName);return this.canAdd(c,d)&&d?d:""},l}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function k(E,A){var C=[],T=!0,L=!1,D=void 0;try{for(var H=E[Symbol.iterator](),X;!(T=(X=H.next()).done)&&(C.push(X.value),!(A&&C.length===A));T=!0);}catch(ee){L=!0,D=ee}finally{try{!T&&H.return&&H.return()}finally{if(L)throw D}}return C}return function(E,A){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(E,A){for(var C=0;C<A.length;C++){var T=A[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,A,C){return A&&k(E.prototype,A),C&&k(E,C),E}}(),l=function k(E,A,C){E===null&&(E=Function.prototype);var T=Object.getOwnPropertyDescriptor(E,A);if(T===void 0){var L=Object.getPrototypeOf(E);return L===null?void 0:k(L,A,C)}else{if("value"in T)return T.value;var D=T.get;return D===void 0?void 0:D.call(C)}},c=i(2),d=v(c),u=i(0),h=v(u),m=i(4),f=v(m),g=i(6),p=v(g),x=i(7),y=v(x);function v(k){return k&&k.__esModule?k:{default:k}}function b(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function w(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function _(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var N=function(k){_(E,k);function E(){return b(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E}(p.default);N.blotName="code",N.tagName="CODE";var j=function(k){_(E,k);function E(){return b(this,E),w(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"delta",value:function(){var C=this,T=this.domNode.textContent;return T.endsWith(`
`)&&(T=T.slice(0,-1)),T.split(`
`).reduce(function(L,D){return L.insert(D).insert(`
`,C.formats())},new d.default)}},{key:"format",value:function(C,T){if(!(C===this.statics.blotName&&T)){var L=this.descendant(y.default,this.length()-1),D=a(L,1),H=D[0];H!=null&&H.deleteAt(H.length()-1,1),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,C,T)}}},{key:"formatAt",value:function(C,T,L,D){if(T!==0&&!(h.default.query(L,h.default.Scope.BLOCK)==null||L===this.statics.blotName&&D===this.statics.formats(this.domNode))){var H=this.newlineIndex(C);if(!(H<0||H>=C+T)){var X=this.newlineIndex(C,!0)+1,ee=H-X+1,Q=this.isolate(X,ee),G=Q.next;Q.format(L,D),G instanceof E&&G.formatAt(0,C-X+T-ee,L,D)}}}},{key:"insertAt",value:function(C,T,L){if(L==null){var D=this.descendant(y.default,C),H=a(D,2),X=H[0],ee=H[1];X.insertAt(ee,T)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?C:C+1}},{key:"newlineIndex",value:function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(T)return this.domNode.textContent.slice(0,C).lastIndexOf(`
`);var L=this.domNode.textContent.slice(C).indexOf(`
`);return L>-1?C+L:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,C);var T=this.next;T!=null&&T.prev===this&&T.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===T.statics.formats(T.domNode)&&(T.optimize(C),T.moveChildren(this),T.remove())}},{key:"replace",value:function(C){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(T){var L=h.default.find(T);L==null?T.parentNode.removeChild(T):L instanceof h.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(C){var T=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,C);return T.setAttribute("spellcheck",!1),T}},{key:"formats",value:function(){return!0}}]),E}(f.default);j.blotName="code-block",j.tagName="PRE",j.TAB="  ",n.Code=N,n.default=j},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},o=function(){function G(z,V){var F=[],I=!0,B=!1,q=void 0;try{for(var U=z[Symbol.iterator](),W;!(I=(W=U.next()).done)&&(F.push(W.value),!(V&&F.length===V));I=!0);}catch(te){B=!0,q=te}finally{try{!I&&U.return&&U.return()}finally{if(B)throw q}}return F}return function(z,V){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return G(z,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function G(z,V){for(var F=0;F<V.length;F++){var I=V[F];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(z,I.key,I)}}return function(z,V,F){return V&&G(z.prototype,V),F&&G(z,F),z}}(),c=i(2),d=T(c),u=i(20),h=T(u),m=i(0),f=T(m),g=i(13),p=T(g),x=i(24),y=T(x),v=i(4),b=T(v),w=i(16),_=T(w),N=i(21),j=T(N),k=i(11),E=T(k),A=i(3),C=T(A);function T(G){return G&&G.__esModule?G:{default:G}}function L(G,z,V){return z in G?Object.defineProperty(G,z,{value:V,enumerable:!0,configurable:!0,writable:!0}):G[z]=V,G}function D(G,z){if(!(G instanceof z))throw new TypeError("Cannot call a class as a function")}var H=/^[ -~]*$/,X=function(){function G(z){D(this,G),this.scroll=z,this.delta=this.getDelta()}return l(G,[{key:"applyDelta",value:function(V){var F=this,I=!1;this.scroll.update();var B=this.scroll.length();return this.scroll.batchStart(),V=Q(V),V.reduce(function(q,U){var W=U.retain||U.delete||U.insert.length||1,te=U.attributes||{};if(U.insert!=null){if(typeof U.insert=="string"){var re=U.insert;re.endsWith(`
`)&&I&&(I=!1,re=re.slice(0,-1)),q>=B&&!re.endsWith(`
`)&&(I=!0),F.scroll.insertAt(q,re);var le=F.scroll.line(q),ke=o(le,2),Pe=ke[0],He=ke[1],Ae=(0,C.default)({},(0,v.bubbleFormats)(Pe));if(Pe instanceof b.default){var fe=Pe.descendant(f.default.Leaf,He),_t=o(fe,1),Je=_t[0];Ae=(0,C.default)(Ae,(0,v.bubbleFormats)(Je))}te=h.default.attributes.diff(Ae,te)||{}}else if(a(U.insert)==="object"){var Oe=Object.keys(U.insert)[0];if(Oe==null)return q;F.scroll.insertAt(q,Oe,U.insert[Oe])}B+=W}return Object.keys(te).forEach(function(Ce){F.scroll.formatAt(q,W,Ce,te[Ce])}),q+W},0),V.reduce(function(q,U){return typeof U.delete=="number"?(F.scroll.deleteAt(q,U.delete),q):q+(U.retain||U.insert.length||1)},0),this.scroll.batchEnd(),this.update(V)}},{key:"deleteText",value:function(V,F){return this.scroll.deleteAt(V,F),this.update(new d.default().retain(V).delete(F))}},{key:"formatLine",value:function(V,F){var I=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(B).forEach(function(q){if(!(I.scroll.whitelist!=null&&!I.scroll.whitelist[q])){var U=I.scroll.lines(V,Math.max(F,1)),W=F;U.forEach(function(te){var re=te.length();if(!(te instanceof p.default))te.format(q,B[q]);else{var le=V-te.offset(I.scroll),ke=te.newlineIndex(le+W)-le+1;te.formatAt(le,ke,q,B[q])}W-=re})}}),this.scroll.optimize(),this.update(new d.default().retain(V).retain(F,(0,j.default)(B)))}},{key:"formatText",value:function(V,F){var I=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(B).forEach(function(q){I.scroll.formatAt(V,F,q,B[q])}),this.update(new d.default().retain(V).retain(F,(0,j.default)(B)))}},{key:"getContents",value:function(V,F){return this.delta.slice(V,V+F)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(V,F){return V.concat(F.delta())},new d.default)}},{key:"getFormat",value:function(V){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,I=[],B=[];F===0?this.scroll.path(V).forEach(function(U){var W=o(U,1),te=W[0];te instanceof b.default?I.push(te):te instanceof f.default.Leaf&&B.push(te)}):(I=this.scroll.lines(V,F),B=this.scroll.descendants(f.default.Leaf,V,F));var q=[I,B].map(function(U){if(U.length===0)return{};for(var W=(0,v.bubbleFormats)(U.shift());Object.keys(W).length>0;){var te=U.shift();if(te==null)return W;W=ee((0,v.bubbleFormats)(te),W)}return W});return C.default.apply(C.default,q)}},{key:"getText",value:function(V,F){return this.getContents(V,F).filter(function(I){return typeof I.insert=="string"}).map(function(I){return I.insert}).join("")}},{key:"insertEmbed",value:function(V,F,I){return this.scroll.insertAt(V,F,I),this.update(new d.default().retain(V).insert(L({},F,I)))}},{key:"insertText",value:function(V,F){var I=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F=F.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(V,F),Object.keys(B).forEach(function(q){I.scroll.formatAt(V,F.length,q,B[q])}),this.update(new d.default().retain(V).insert(F,(0,j.default)(B)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var V=this.scroll.children.head;return V.statics.blotName!==b.default.blotName||V.children.length>1?!1:V.children.head instanceof _.default}},{key:"removeFormat",value:function(V,F){var I=this.getText(V,F),B=this.scroll.line(V+F),q=o(B,2),U=q[0],W=q[1],te=0,re=new d.default;U!=null&&(U instanceof p.default?te=U.newlineIndex(W)-W+1:te=U.length()-W,re=U.delta().slice(W,W+te-1).insert(`
`));var le=this.getContents(V,F+te),ke=le.diff(new d.default().insert(I).concat(re)),Pe=new d.default().retain(V).concat(ke);return this.applyDelta(Pe)}},{key:"update",value:function(V){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,B=this.delta;if(F.length===1&&F[0].type==="characterData"&&F[0].target.data.match(H)&&f.default.find(F[0].target)){var q=f.default.find(F[0].target),U=(0,v.bubbleFormats)(q),W=q.offset(this.scroll),te=F[0].oldValue.replace(y.default.CONTENTS,""),re=new d.default().insert(te),le=new d.default().insert(q.value()),ke=new d.default().retain(W).concat(re.diff(le,I));V=ke.reduce(function(Pe,He){return He.insert?Pe.insert(He.insert,U):Pe.push(He)},new d.default),this.delta=B.compose(V)}else this.delta=this.getDelta(),(!V||!(0,E.default)(B.compose(V),this.delta))&&(V=B.diff(this.delta,I));return V}}]),G}();function ee(G,z){return Object.keys(z).reduce(function(V,F){return G[F]==null||(z[F]===G[F]?V[F]=z[F]:Array.isArray(z[F])?z[F].indexOf(G[F])<0&&(V[F]=z[F].concat([G[F]])):V[F]=[z[F],G[F]]),V},{})}function Q(G){return G.reduce(function(z,V){if(V.insert===1){var F=(0,j.default)(V.attributes);return delete F.image,z.insert({image:V.attributes.image},F)}if(V.attributes!=null&&(V.attributes.list===!0||V.attributes.bullet===!0)&&(V=(0,j.default)(V),V.attributes.list?V.attributes.list="ordered":(V.attributes.list="bullet",delete V.attributes.bullet)),typeof V.insert=="string"){var I=V.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return z.insert(I,V.attributes)}return z.push(V)},new d.default)}n.default=X},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function k(E,A){var C=[],T=!0,L=!1,D=void 0;try{for(var H=E[Symbol.iterator](),X;!(T=(X=H.next()).done)&&(C.push(X.value),!(A&&C.length===A));T=!0);}catch(ee){L=!0,D=ee}finally{try{!T&&H.return&&H.return()}finally{if(L)throw D}}return C}return function(E,A){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return k(E,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(E,A){for(var C=0;C<A.length;C++){var T=A[C];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(E,T.key,T)}}return function(E,A,C){return A&&k(E.prototype,A),C&&k(E,C),E}}(),l=i(0),c=y(l),d=i(21),u=y(d),h=i(11),m=y(h),f=i(8),g=y(f),p=i(10),x=y(p);function y(k){return k&&k.__esModule?k:{default:k}}function v(k){if(Array.isArray(k)){for(var E=0,A=Array(k.length);E<k.length;E++)A[E]=k[E];return A}else return Array.from(k)}function b(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}var w=(0,x.default)("quill:selection"),_=function k(E){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;b(this,k),this.index=E,this.length=A},N=function(){function k(E,A){var C=this;b(this,k),this.emitter=A,this.scroll=E,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new _(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){C.mouseDown||setTimeout(C.update.bind(C,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(T,L){T===g.default.events.TEXT_CHANGE&&L.length()>0&&C.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(C.hasFocus()){var T=C.getNativeRange();T!=null&&T.start.node!==C.cursor.textNode&&C.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{C.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(T,L){if(L.range){var D=L.range,H=D.startNode,X=D.startOffset,ee=D.endNode,Q=D.endOffset;C.setNativeRange(H,X,ee,Q)}}),this.update(g.default.sources.SILENT)}return o(k,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var C=A.cursor.restore();if(!C)return;setTimeout(function(){A.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,C){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var T=this.getNativeRange();if(!(T==null||!T.native.collapsed||c.default.query(A,c.default.Scope.BLOCK))){if(T.start.node!==this.cursor.textNode){var L=c.default.find(T.start.node,!1);if(L==null)return;if(L instanceof c.default.Leaf){var D=L.split(T.start.offset);L.parent.insertBefore(this.cursor,D)}else L.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(A,C),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=this.scroll.length();A=Math.min(A,T-1),C=Math.min(A+C,T-1)-A;var L=void 0,D=this.scroll.leaf(A),H=a(D,2),X=H[0],ee=H[1];if(X==null)return null;var Q=X.position(ee,!0),G=a(Q,2);L=G[0],ee=G[1];var z=document.createRange();if(C>0){z.setStart(L,ee);var V=this.scroll.leaf(A+C),F=a(V,2);if(X=F[0],ee=F[1],X==null)return null;var I=X.position(ee,!0),B=a(I,2);return L=B[0],ee=B[1],z.setEnd(L,ee),z.getBoundingClientRect()}else{var q="left",U=void 0;return L instanceof Text?(ee<L.data.length?(z.setStart(L,ee),z.setEnd(L,ee+1)):(z.setStart(L,ee-1),z.setEnd(L,ee),q="right"),U=z.getBoundingClientRect()):(U=X.domNode.getBoundingClientRect(),ee>0&&(q="right")),{bottom:U.top+U.height,height:U.height,left:U[q],right:U[q],top:U.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var C=A.getRangeAt(0);if(C==null)return null;var T=this.normalizeNative(C);return w.info("getNativeRange",T),T}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var C=this.normalizedToRange(A);return[C,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var C=this,T=[[A.start.node,A.start.offset]];A.native.collapsed||T.push([A.end.node,A.end.offset]);var L=T.map(function(X){var ee=a(X,2),Q=ee[0],G=ee[1],z=c.default.find(Q,!0),V=z.offset(C.scroll);return G===0?V:z instanceof c.default.Container?V+z.length():V+z.index(Q,G)}),D=Math.min(Math.max.apply(Math,v(L)),this.scroll.length()-1),H=Math.min.apply(Math,[D].concat(v(L)));return new _(H,D-H)}},{key:"normalizeNative",value:function(A){if(!j(this.root,A.startContainer)||!A.collapsed&&!j(this.root,A.endContainer))return null;var C={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[C.start,C.end].forEach(function(T){for(var L=T.node,D=T.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>D)L=L.childNodes[D],D=0;else if(L.childNodes.length===D)L=L.lastChild,D=L instanceof Text?L.data.length:L.childNodes.length+1;else break;T.node=L,T.offset=D}),C}},{key:"rangeToNative",value:function(A){var C=this,T=A.collapsed?[A.index]:[A.index,A.index+A.length],L=[],D=this.scroll.length();return T.forEach(function(H,X){H=Math.min(D-1,H);var ee=void 0,Q=C.scroll.leaf(H),G=a(Q,2),z=G[0],V=G[1],F=z.position(V,X!==0),I=a(F,2);ee=I[0],V=I[1],L.push(ee,V)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(A){var C=this.lastRange;if(C!=null){var T=this.getBounds(C.index,C.length);if(T!=null){var L=this.scroll.length()-1,D=this.scroll.line(Math.min(C.index,L)),H=a(D,1),X=H[0],ee=X;if(C.length>0){var Q=this.scroll.line(Math.min(C.index+C.length,L)),G=a(Q,1);ee=G[0]}if(!(X==null||ee==null)){var z=A.getBoundingClientRect();T.top<z.top?A.scrollTop-=z.top-T.top:T.bottom>z.bottom&&(A.scrollTop+=T.bottom-z.bottom)}}}}},{key:"setNativeRange",value:function(A,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C,D=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(w.info("setNativeRange",A,C,T,L),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||T.parentNode==null))){var H=document.getSelection();if(H!=null)if(A!=null){this.hasFocus()||this.root.focus();var X=(this.getNativeRange()||{}).native;if(X==null||D||A!==X.startContainer||C!==X.startOffset||T!==X.endContainer||L!==X.endOffset){A.tagName=="BR"&&(C=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),T.tagName=="BR"&&(L=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode);var ee=document.createRange();ee.setStart(A,C),ee.setEnd(T,L),H.removeAllRanges(),H.addRange(ee)}}else H.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof C=="string"&&(T=C,C=!1),w.info("setRange",A),A!=null){var L=this.rangeToNative(A);this.setNativeRange.apply(this,v(L).concat([C]))}else this.setNativeRange(null);this.update(T)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,C=this.lastRange,T=this.getRange(),L=a(T,2),D=L[0],H=L[1];if(this.lastRange=D,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,m.default)(C,this.lastRange)){var X;!this.composing&&H!=null&&H.native.collapsed&&H.start.node!==this.cursor.textNode&&this.cursor.restore();var ee=[g.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(C),A];if((X=this.emitter).emit.apply(X,[g.default.events.EDITOR_CHANGE].concat(ee)),A!==g.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,ee)}}}}]),k}();function j(k,E){try{E.parentNode}catch{return!1}return E instanceof Text&&(E=E.parentNode),k.contains(E)}n.Range=_,n.default=N},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(p,x){for(var y=0;y<x.length;y++){var v=x[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,x,y){return x&&g(p.prototype,x),y&&g(p,y),p}}(),o=function g(p,x,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,x);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:g(b,x,y)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(y)}},l=i(0),c=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function m(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var f=function(g){m(p,g);function p(){return u(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"insertInto",value:function(y,v){y.children.length===0?o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertInto",this).call(this,y,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),p}(c.default.Embed);f.blotName="break",f.tagName="BR",n.default=f},function(r,n,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)f.hasOwnProperty(g)&&(m[g]=f[g])};return function(m,f){h(m,f);function g(){this.constructor=m}m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),l=i(30),c=i(1),d=function(h){a(m,h);function m(f){var g=h.call(this,f)||this;return g.build(),g}return m.prototype.appendChild=function(f){this.insertBefore(f)},m.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(f){f.attach()})},m.prototype.build=function(){var f=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var p=u(g);f.insertBefore(p,f.children.head||void 0)}catch(x){if(x instanceof c.ParchmentError)return;throw x}})},m.prototype.deleteAt=function(f,g){if(f===0&&g===this.length())return this.remove();this.children.forEachAt(f,g,function(p,x,y){p.deleteAt(x,y)})},m.prototype.descendant=function(f,g){var p=this.children.find(g),x=p[0],y=p[1];return f.blotName==null&&f(x)||f.blotName!=null&&x instanceof f?[x,y]:x instanceof m?x.descendant(f,y):[null,-1]},m.prototype.descendants=function(f,g,p){g===void 0&&(g=0),p===void 0&&(p=Number.MAX_VALUE);var x=[],y=p;return this.children.forEachAt(g,p,function(v,b,w){(f.blotName==null&&f(v)||f.blotName!=null&&v instanceof f)&&x.push(v),v instanceof m&&(x=x.concat(v.descendants(f,b,y))),y-=w}),x},m.prototype.detach=function(){this.children.forEach(function(f){f.detach()}),h.prototype.detach.call(this)},m.prototype.formatAt=function(f,g,p,x){this.children.forEachAt(f,g,function(y,v,b){y.formatAt(v,b,p,x)})},m.prototype.insertAt=function(f,g,p){var x=this.children.find(f),y=x[0],v=x[1];if(y)y.insertAt(v,g,p);else{var b=p==null?c.create("text",g):c.create(g,p);this.appendChild(b)}},m.prototype.insertBefore=function(f,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(p){return f instanceof p}))throw new c.ParchmentError("Cannot insert "+f.statics.blotName+" into "+this.statics.blotName);f.insertInto(this,g)},m.prototype.length=function(){return this.children.reduce(function(f,g){return f+g.length()},0)},m.prototype.moveChildren=function(f,g){this.children.forEach(function(p){f.insertBefore(p,g)})},m.prototype.optimize=function(f){if(h.prototype.optimize.call(this,f),this.children.length===0)if(this.statics.defaultChild!=null){var g=c.create(this.statics.defaultChild);this.appendChild(g),g.optimize(f)}else this.remove()},m.prototype.path=function(f,g){g===void 0&&(g=!1);var p=this.children.find(f,g),x=p[0],y=p[1],v=[[this,f]];return x instanceof m?v.concat(x.path(y,g)):(x!=null&&v.push([x,y]),v)},m.prototype.removeChild=function(f){this.children.remove(f)},m.prototype.replace=function(f){f instanceof m&&f.moveChildren(this),h.prototype.replace.call(this,f)},m.prototype.split=function(f,g){if(g===void 0&&(g=!1),!g){if(f===0)return this;if(f===this.length())return this.next}var p=this.clone();return this.parent.insertBefore(p,this.next),this.children.forEachAt(f,this.length(),function(x,y,v){x=x.split(y,g),p.appendChild(x)}),p},m.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},m.prototype.update=function(f,g){var p=this,x=[],y=[];f.forEach(function(v){v.target===p.domNode&&v.type==="childList"&&(x.push.apply(x,v.addedNodes),y.push.apply(y,v.removedNodes))}),y.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var b=c.find(v);b!=null&&(b.domNode.parentNode==null||b.domNode.parentNode===p.domNode)&&b.detach()}}),x.filter(function(v){return v.parentNode==p.domNode}).sort(function(v,b){return v===b?0:v.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var b=null;v.nextSibling!=null&&(b=c.find(v.nextSibling));var w=u(v);(w.next!=b||w.next==null)&&(w.parent!=null&&w.parent.removeChild(p),p.insertBefore(w,b||void 0))})},m}(l.default);function u(h){var m=c.find(h);if(m==null)try{m=c.create(h)}catch{m=c.create(c.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(g){m.domNode.appendChild(g)}),h.parentNode&&h.parentNode.replaceChild(m.domNode,h),m.attach()}return m}n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)f.hasOwnProperty(g)&&(m[g]=f[g])};return function(m,f){h(m,f);function g(){this.constructor=m}m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),l=i(31),c=i(17),d=i(1),u=function(h){a(m,h);function m(f){var g=h.call(this,f)||this;return g.attributes=new l.default(g.domNode),g}return m.formats=function(f){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return f.tagName.toLowerCase()},m.prototype.format=function(f,g){var p=d.query(f);p instanceof o.default?this.attributes.attribute(p,g):g&&p!=null&&(f!==this.statics.blotName||this.formats()[f]!==g)&&this.replaceWith(f,g)},m.prototype.formats=function(){var f=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(f[this.statics.blotName]=g),f},m.prototype.replaceWith=function(f,g){var p=h.prototype.replaceWith.call(this,f,g);return this.attributes.copy(p),p},m.prototype.update=function(f,g){var p=this;h.prototype.update.call(this,f,g),f.some(function(x){return x.target===p.domNode&&x.type==="attributes"})&&this.attributes.build()},m.prototype.wrap=function(f,g){var p=h.prototype.wrap.call(this,f,g);return p instanceof m&&p.statics.scope===this.statics.scope&&this.attributes.move(p),p},m}(c.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var m in h)h.hasOwnProperty(m)&&(u[m]=h[m])};return function(u,h){d(u,h);function m(){this.constructor=u}u.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),l=i(1),c=function(d){a(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.value=function(h){return!0},u.prototype.index=function(h,m){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(m,1):-1},u.prototype.position=function(h,m){var f=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(f+=1),[this.parent.domNode,f]},u.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},u.scope=l.Scope.INLINE_BLOT,u}(o.default);n.default=c},function(r,n,i){var a=i(11),o=i(3),l={attributes:{compose:function(d,u,h){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var m=o(!0,{},u);h||(m=Object.keys(m).reduce(function(g,p){return m[p]!=null&&(g[p]=m[p]),g},{}));for(var f in d)d[f]!==void 0&&u[f]===void 0&&(m[f]=d[f]);return Object.keys(m).length>0?m:void 0},diff:function(d,u){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var h=Object.keys(d).concat(Object.keys(u)).reduce(function(m,f){return a(d[f],u[f])||(m[f]=u[f]===void 0?null:u[f]),m},{});return Object.keys(h).length>0?h:void 0},transform:function(d,u,h){if(typeof d!="object")return u;if(typeof u=="object"){if(!h)return u;var m=Object.keys(u).reduce(function(f,g){return d[g]===void 0&&(f[g]=u[g]),f},{});return Object.keys(m).length>0?m:void 0}}},iterator:function(d){return new c(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function c(d){this.ops=d,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(d){d||(d=1/0);var u=this.ops[this.index];if(u){var h=this.offset,m=l.length(u);if(d>=m-h?(d=m-h,this.index+=1,this.offset=0):this.offset+=d,typeof u.delete=="number")return{delete:d};var f={};return u.attributes&&(f.attributes=u.attributes),typeof u.retain=="number"?f.retain=d:typeof u.insert=="string"?f.insert=u.insert.substr(h,d):f.insert=u.insert,f}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?l.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,u=this.index,h=this.next(),m=this.ops.slice(this.index);return this.offset=d,this.index=u,[h].concat(m)}else return[]},r.exports=l},function(r,n){var i=function(){function a(p,x){return x!=null&&p instanceof x}var o;try{o=Map}catch{o=function(){}}var l;try{l=Set}catch{l=function(){}}var c;try{c=Promise}catch{c=function(){}}function d(p,x,y,v,b){typeof x=="object"&&(y=x.depth,v=x.prototype,b=x.includeNonEnumerable,x=x.circular);var w=[],_=[],N=typeof Buffer<"u";typeof x>"u"&&(x=!0),typeof y>"u"&&(y=1/0);function j(k,E){if(k===null)return null;if(E===0)return k;var A,C;if(typeof k!="object")return k;if(a(k,o))A=new o;else if(a(k,l))A=new l;else if(a(k,c))A=new c(function(z,V){k.then(function(F){z(j(F,E-1))},function(F){V(j(F,E-1))})});else if(d.__isArray(k))A=[];else if(d.__isRegExp(k))A=new RegExp(k.source,g(k)),k.lastIndex&&(A.lastIndex=k.lastIndex);else if(d.__isDate(k))A=new Date(k.getTime());else{if(N&&Buffer.isBuffer(k))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(k.length):A=new Buffer(k.length),k.copy(A),A;a(k,Error)?A=Object.create(k):typeof v>"u"?(C=Object.getPrototypeOf(k),A=Object.create(C)):(A=Object.create(v),C=v)}if(x){var T=w.indexOf(k);if(T!=-1)return _[T];w.push(k),_.push(A)}a(k,o)&&k.forEach(function(z,V){var F=j(V,E-1),I=j(z,E-1);A.set(F,I)}),a(k,l)&&k.forEach(function(z){var V=j(z,E-1);A.add(V)});for(var L in k){var D;C&&(D=Object.getOwnPropertyDescriptor(C,L)),!(D&&D.set==null)&&(A[L]=j(k[L],E-1))}if(Object.getOwnPropertySymbols)for(var H=Object.getOwnPropertySymbols(k),L=0;L<H.length;L++){var X=H[L],ee=Object.getOwnPropertyDescriptor(k,X);ee&&!ee.enumerable&&!b||(A[X]=j(k[X],E-1),ee.enumerable||Object.defineProperty(A,X,{enumerable:!1}))}if(b)for(var Q=Object.getOwnPropertyNames(k),L=0;L<Q.length;L++){var G=Q[L],ee=Object.getOwnPropertyDescriptor(k,G);ee&&ee.enumerable||(A[G]=j(k[G],E-1),Object.defineProperty(A,G,{enumerable:!1}))}return A}return j(p,y)}d.clonePrototype=function(x){if(x===null)return null;var y=function(){};return y.prototype=x,new y};function u(p){return Object.prototype.toString.call(p)}d.__objToStr=u;function h(p){return typeof p=="object"&&u(p)==="[object Date]"}d.__isDate=h;function m(p){return typeof p=="object"&&u(p)==="[object Array]"}d.__isArray=m;function f(p){return typeof p=="object"&&u(p)==="[object RegExp]"}d.__isRegExp=f;function g(p){var x="";return p.global&&(x+="g"),p.ignoreCase&&(x+="i"),p.multiline&&(x+="m"),x}return d.__getRegExpFlags=g,d}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(C,T){var L=[],D=!0,H=!1,X=void 0;try{for(var ee=C[Symbol.iterator](),Q;!(D=(Q=ee.next()).done)&&(L.push(Q.value),!(T&&L.length===T));D=!0);}catch(G){H=!0,X=G}finally{try{!D&&ee.return&&ee.return()}finally{if(H)throw X}}return L}return function(C,T){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return A(C,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function A(C,T){for(var L=0;L<T.length;L++){var D=T[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,T,L){return T&&A(C.prototype,T),L&&A(C,L),C}}(),l=function A(C,T,L){C===null&&(C=Function.prototype);var D=Object.getOwnPropertyDescriptor(C,T);if(D===void 0){var H=Object.getPrototypeOf(C);return H===null?void 0:A(H,T,L)}else{if("value"in D)return D.value;var X=D.get;return X===void 0?void 0:X.call(L)}},c=i(0),d=w(c),u=i(8),h=w(u),m=i(4),f=w(m),g=i(16),p=w(g),x=i(13),y=w(x),v=i(25),b=w(v);function w(A){return A&&A.__esModule?A:{default:A}}function _(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function N(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function j(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}function k(A){return A instanceof f.default||A instanceof m.BlockEmbed}var E=function(A){j(C,A);function C(T,L){_(this,C);var D=N(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,T));return D.emitter=L.emitter,Array.isArray(L.whitelist)&&(D.whitelist=L.whitelist.reduce(function(H,X){return H[X]=!0,H},{})),D.domNode.addEventListener("DOMNodeInserted",function(){}),D.optimize(),D.enable(),D}return o(C,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,D){var H=this.line(L),X=a(H,2),ee=X[0],Q=X[1],G=this.line(L+D),z=a(G,1),V=z[0];if(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,L,D),V!=null&&ee!==V&&Q>0){if(ee instanceof m.BlockEmbed||V instanceof m.BlockEmbed){this.optimize();return}if(ee instanceof y.default){var F=ee.newlineIndex(ee.length(),!0);if(F>-1&&(ee=ee.split(F+1),ee===V)){this.optimize();return}}else if(V instanceof y.default){var I=V.newlineIndex(0);I>-1&&V.split(I+1)}var B=V.children.head instanceof p.default?null:V.children.head;ee.moveChildren(V,B),ee.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,D,H,X){this.whitelist!=null&&!this.whitelist[H]||(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,L,D,H,X),this.optimize())}},{key:"insertAt",value:function(L,D,H){if(!(H!=null&&this.whitelist!=null&&!this.whitelist[D])){if(L>=this.length())if(H==null||d.default.query(D,d.default.Scope.BLOCK)==null){var X=d.default.create(this.statics.defaultChild);this.appendChild(X),H==null&&D.endsWith(`
`)&&(D=D.slice(0,-1)),X.insertAt(0,D,H)}else{var ee=d.default.create(D,H);this.appendChild(ee)}else l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,L,D,H);this.optimize()}}},{key:"insertBefore",value:function(L,D){if(L.statics.scope===d.default.Scope.INLINE_BLOT){var H=d.default.create(this.statics.defaultChild);H.appendChild(L),L=H}l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,L,D)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(k,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,H=function X(ee,Q,G){var z=[],V=G;return ee.children.forEachAt(Q,G,function(F,I,B){k(F)?z.push(F):F instanceof d.default.Container&&(z=z.concat(X(F,I,V))),V-=B}),z};return H(this,L,D)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,L,D),L.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,L,D))}},{key:"path",value:function(L){return l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var D=h.default.sources.USER;typeof L=="string"&&(D=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,D,L),l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,D,L)}}}]),C}(d.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[f.default,m.BlockEmbed,b.default],n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(W,te){var re=[],le=!0,ke=!1,Pe=void 0;try{for(var He=W[Symbol.iterator](),Ae;!(le=(Ae=He.next()).done)&&(re.push(Ae.value),!(te&&re.length===te));le=!0);}catch(fe){ke=!0,Pe=fe}finally{try{!le&&He.return&&He.return()}finally{if(ke)throw Pe}}return re}return function(W,te){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return U(W,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function U(W,te){for(var re=0;re<te.length;re++){var le=te[re];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(W,le.key,le)}}return function(W,te,re){return te&&U(W.prototype,te),re&&U(W,re),W}}(),c=i(21),d=A(c),u=i(11),h=A(u),m=i(3),f=A(m),g=i(2),p=A(g),x=i(20),y=A(x),v=i(0),b=A(v),w=i(5),_=A(w),N=i(10),j=A(N),k=i(9),E=A(k);function A(U){return U&&U.__esModule?U:{default:U}}function C(U,W,te){return W in U?Object.defineProperty(U,W,{value:te,enumerable:!0,configurable:!0,writable:!0}):U[W]=te,U}function T(U,W){if(!(U instanceof W))throw new TypeError("Cannot call a class as a function")}function L(U,W){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W&&(typeof W=="object"||typeof W=="function")?W:U}function D(U,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);U.prototype=Object.create(W&&W.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(U,W):U.__proto__=W)}var H=(0,j.default)("quill:keyboard"),X=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",ee=function(U){D(W,U),l(W,null,[{key:"match",value:function(re,le){return le=q(le),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ke){return!!le[ke]!==re[ke]&&le[ke]!==null})?!1:le.key===(re.which||re.keyCode)}}]);function W(te,re){T(this,W);var le=L(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,te,re));return le.bindings={},Object.keys(le.options.bindings).forEach(function(ke){ke==="list autofill"&&te.scroll.whitelist!=null&&!te.scroll.whitelist.list||le.options.bindings[ke]&&le.addBinding(le.options.bindings[ke])}),le.addBinding({key:W.keys.ENTER,shiftKey:null},F),le.addBinding({key:W.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(le.addBinding({key:W.keys.BACKSPACE},{collapsed:!0},G),le.addBinding({key:W.keys.DELETE},{collapsed:!0},z)):(le.addBinding({key:W.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},G),le.addBinding({key:W.keys.DELETE},{collapsed:!0,suffix:/^.?$/},z)),le.addBinding({key:W.keys.BACKSPACE},{collapsed:!1},V),le.addBinding({key:W.keys.DELETE},{collapsed:!1},V),le.addBinding({key:W.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},G),le.listen(),le}return l(W,[{key:"addBinding",value:function(re){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Pe=q(re);if(Pe==null||Pe.key==null)return H.warn("Attempted to add invalid keyboard binding",Pe);typeof le=="function"&&(le={handler:le}),typeof ke=="function"&&(ke={handler:ke}),Pe=(0,f.default)(Pe,le,ke),this.bindings[Pe.key]=this.bindings[Pe.key]||[],this.bindings[Pe.key].push(Pe)}},{key:"listen",value:function(){var re=this;this.quill.root.addEventListener("keydown",function(le){if(!le.defaultPrevented){var ke=le.which||le.keyCode,Pe=(re.bindings[ke]||[]).filter(function(Rt){return W.match(le,Rt)});if(Pe.length!==0){var He=re.quill.getSelection();if(!(He==null||!re.quill.hasFocus())){var Ae=re.quill.getLine(He.index),fe=o(Ae,2),_t=fe[0],Je=fe[1],Oe=re.quill.getLeaf(He.index),Ce=o(Oe,2),oe=Ce[0],me=Ce[1],Ne=He.length===0?[oe,me]:re.quill.getLeaf(He.index+He.length),Be=o(Ne,2),qe=Be[0],De=Be[1],ct=oe instanceof b.default.Text?oe.value().slice(0,me):"",Ut=qe instanceof b.default.Text?qe.value().slice(De):"",xt={collapsed:He.length===0,empty:He.length===0&&_t.length()<=1,format:re.quill.getFormat(He),offset:Je,prefix:ct,suffix:Ut},$t=Pe.some(function(Rt){if(Rt.collapsed!=null&&Rt.collapsed!==xt.collapsed||Rt.empty!=null&&Rt.empty!==xt.empty||Rt.offset!=null&&Rt.offset!==xt.offset)return!1;if(Array.isArray(Rt.format)){if(Rt.format.every(function(It){return xt.format[It]==null}))return!1}else if(a(Rt.format)==="object"&&!Object.keys(Rt.format).every(function(It){return Rt.format[It]===!0?xt.format[It]!=null:Rt.format[It]===!1?xt.format[It]==null:(0,h.default)(Rt.format[It],xt.format[It])}))return!1;return Rt.prefix!=null&&!Rt.prefix.test(xt.prefix)||Rt.suffix!=null&&!Rt.suffix.test(xt.suffix)?!1:Rt.handler.call(re,He,xt)!==!0});$t&&le.preventDefault()}}}})}}]),W}(E.default);ee.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},ee.DEFAULTS={bindings:{bold:B("bold"),italic:B("italic"),underline:B("underline"),indent:{key:ee.keys.TAB,format:["blockquote","indent","list"],handler:function(W,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","+1",_.default.sources.USER)}},outdent:{key:ee.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(W,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","-1",_.default.sources.USER)}},"outdent backspace":{key:ee.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(W,te){te.format.indent!=null?this.quill.format("indent","-1",_.default.sources.USER):te.format.list!=null&&this.quill.format("list",!1,_.default.sources.USER)}},"indent code-block":I(!0),"outdent code-block":I(!1),"remove tab":{key:ee.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(W){this.quill.deleteText(W.index-1,1,_.default.sources.USER)}},tab:{key:ee.keys.TAB,handler:function(W){this.quill.history.cutoff();var te=new p.default().retain(W.index).delete(W.length).insert("	");this.quill.updateContents(te,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index+1,_.default.sources.SILENT)}},"list empty enter":{key:ee.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(W,te){this.quill.format("list",!1,_.default.sources.USER),te.format.indent&&this.quill.format("indent",!1,_.default.sources.USER)}},"checklist enter":{key:ee.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(W){var te=this.quill.getLine(W.index),re=o(te,2),le=re[0],ke=re[1],Pe=(0,f.default)({},le.formats(),{list:"checked"}),He=new p.default().retain(W.index).insert(`
`,Pe).retain(le.length()-ke-1).retain(1,{list:"unchecked"});this.quill.updateContents(He,_.default.sources.USER),this.quill.setSelection(W.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:ee.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(W,te){var re=this.quill.getLine(W.index),le=o(re,2),ke=le[0],Pe=le[1],He=new p.default().retain(W.index).insert(`
`,te.format).retain(ke.length()-Pe-1).retain(1,{header:null});this.quill.updateContents(He,_.default.sources.USER),this.quill.setSelection(W.index+1,_.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(W,te){var re=te.prefix.length,le=this.quill.getLine(W.index),ke=o(le,2),Pe=ke[0],He=ke[1];if(He>re)return!0;var Ae=void 0;switch(te.prefix.trim()){case"[]":case"[ ]":Ae="unchecked";break;case"[x]":Ae="checked";break;case"-":case"*":Ae="bullet";break;default:Ae="ordered"}this.quill.insertText(W.index," ",_.default.sources.USER),this.quill.history.cutoff();var fe=new p.default().retain(W.index-He).delete(re+1).retain(Pe.length()-2-He).retain(1,{list:Ae});this.quill.updateContents(fe,_.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(W.index-re,_.default.sources.SILENT)}},"code exit":{key:ee.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(W){var te=this.quill.getLine(W.index),re=o(te,2),le=re[0],ke=re[1],Pe=new p.default().retain(W.index+le.length()-ke-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Pe,_.default.sources.USER)}},"embed left":Q(ee.keys.LEFT,!1),"embed left shift":Q(ee.keys.LEFT,!0),"embed right":Q(ee.keys.RIGHT,!1),"embed right shift":Q(ee.keys.RIGHT,!0)}};function Q(U,W){var te,re=U===ee.keys.LEFT?"prefix":"suffix";return te={key:U,shiftKey:W,altKey:null},C(te,re,/^$/),C(te,"handler",function(ke){var Pe=ke.index;U===ee.keys.RIGHT&&(Pe+=ke.length+1);var He=this.quill.getLeaf(Pe),Ae=o(He,1),fe=Ae[0];return fe instanceof b.default.Embed?(U===ee.keys.LEFT?W?this.quill.setSelection(ke.index-1,ke.length+1,_.default.sources.USER):this.quill.setSelection(ke.index-1,_.default.sources.USER):W?this.quill.setSelection(ke.index,ke.length+1,_.default.sources.USER):this.quill.setSelection(ke.index+ke.length+1,_.default.sources.USER),!1):!0}),te}function G(U,W){if(!(U.index===0||this.quill.getLength()<=1)){var te=this.quill.getLine(U.index),re=o(te,1),le=re[0],ke={};if(W.offset===0){var Pe=this.quill.getLine(U.index-1),He=o(Pe,1),Ae=He[0];if(Ae!=null&&Ae.length()>1){var fe=le.formats(),_t=this.quill.getFormat(U.index-1,1);ke=y.default.attributes.diff(fe,_t)||{}}}var Je=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(W.prefix)?2:1;this.quill.deleteText(U.index-Je,Je,_.default.sources.USER),Object.keys(ke).length>0&&this.quill.formatLine(U.index-Je,Je,ke,_.default.sources.USER),this.quill.focus()}}function z(U,W){var te=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(W.suffix)?2:1;if(!(U.index>=this.quill.getLength()-te)){var re={},le=0,ke=this.quill.getLine(U.index),Pe=o(ke,1),He=Pe[0];if(W.offset>=He.length()-1){var Ae=this.quill.getLine(U.index+1),fe=o(Ae,1),_t=fe[0];if(_t){var Je=He.formats(),Oe=this.quill.getFormat(U.index,1);re=y.default.attributes.diff(Je,Oe)||{},le=_t.length()}}this.quill.deleteText(U.index,te,_.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(U.index+le-1,te,re,_.default.sources.USER)}}function V(U){var W=this.quill.getLines(U),te={};if(W.length>1){var re=W[0].formats(),le=W[W.length-1].formats();te=y.default.attributes.diff(le,re)||{}}this.quill.deleteText(U,_.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(U.index,1,te,_.default.sources.USER),this.quill.setSelection(U.index,_.default.sources.SILENT),this.quill.focus()}function F(U,W){var te=this;U.length>0&&this.quill.scroll.deleteAt(U.index,U.length);var re=Object.keys(W.format).reduce(function(le,ke){return b.default.query(ke,b.default.Scope.BLOCK)&&!Array.isArray(W.format[ke])&&(le[ke]=W.format[ke]),le},{});this.quill.insertText(U.index,`
`,re,_.default.sources.USER),this.quill.setSelection(U.index+1,_.default.sources.SILENT),this.quill.focus(),Object.keys(W.format).forEach(function(le){re[le]==null&&(Array.isArray(W.format[le])||le!=="link"&&te.quill.format(le,W.format[le],_.default.sources.USER))})}function I(U){return{key:ee.keys.TAB,shiftKey:!U,format:{"code-block":!0},handler:function(te){var re=b.default.query("code-block"),le=te.index,ke=te.length,Pe=this.quill.scroll.descendant(re,le),He=o(Pe,2),Ae=He[0],fe=He[1];if(Ae!=null){var _t=this.quill.getIndex(Ae),Je=Ae.newlineIndex(fe,!0)+1,Oe=Ae.newlineIndex(_t+fe+ke),Ce=Ae.domNode.textContent.slice(Je,Oe).split(`
`);fe=0,Ce.forEach(function(oe,me){U?(Ae.insertAt(Je+fe,re.TAB),fe+=re.TAB.length,me===0?le+=re.TAB.length:ke+=re.TAB.length):oe.startsWith(re.TAB)&&(Ae.deleteAt(Je+fe,re.TAB.length),fe-=re.TAB.length,me===0?le-=re.TAB.length:ke-=re.TAB.length),fe+=oe.length+1}),this.quill.update(_.default.sources.USER),this.quill.setSelection(le,ke,_.default.sources.SILENT)}}}}function B(U){return{key:U[0].toUpperCase(),shortKey:!0,handler:function(te,re){this.quill.format(U,!re.format[U],_.default.sources.USER)}}}function q(U){if(typeof U=="string"||typeof U=="number")return q({key:U});if((typeof U>"u"?"undefined":a(U))==="object"&&(U=(0,d.default)(U,!1)),typeof U.key=="string")if(ee.keys[U.key.toUpperCase()]!=null)U.key=ee.keys[U.key.toUpperCase()];else if(U.key.length===1)U.key=U.key.toUpperCase().charCodeAt(0);else return null;return U.shortKey&&(U[X]=U.shortKey,delete U.shortKey),U}n.default=ee,n.SHORTKEY=X},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(v,b){var w=[],_=!0,N=!1,j=void 0;try{for(var k=v[Symbol.iterator](),E;!(_=(E=k.next()).done)&&(w.push(E.value),!(b&&w.length===b));_=!0);}catch(A){N=!0,j=A}finally{try{!_&&k.return&&k.return()}finally{if(N)throw j}}return w}return function(v,b){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return y(v,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(v,b,w){v===null&&(v=Function.prototype);var _=Object.getOwnPropertyDescriptor(v,b);if(_===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:y(N,b,w)}else{if("value"in _)return _.value;var j=_.get;return j===void 0?void 0:j.call(w)}},l=function(){function y(v,b){for(var w=0;w<b.length;w++){var _=b[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),c=i(0),d=m(c),u=i(7),h=m(u);function m(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function g(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function p(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var x=function(y){p(v,y),l(v,null,[{key:"value",value:function(){}}]);function v(b,w){f(this,v);var _=g(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return _.selection=w,_.textNode=document.createTextNode(v.CONTENTS),_.domNode.appendChild(_.textNode),_._length=0,_}return l(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(w,_){if(this._length!==0)return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,w,_);for(var N=this,j=0;N!=null&&N.statics.scope!==d.default.Scope.BLOCK_BLOT;)j+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=v.CONTENTS.length,N.optimize(),N.formatAt(j,v.CONTENTS.length,w,_),this._length=0)}},{key:"index",value:function(w,_){return w===this.textNode?0:o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,w,_)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var w=this.textNode,_=this.selection.getNativeRange(),N=void 0,j=void 0,k=void 0;if(_!=null&&_.start.node===w&&_.end.node===w){var E=[w,_.start.offset,_.end.offset];N=E[0],j=E[1],k=E[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var A=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof h.default?(N=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=v.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),j!=null){var C=[j,k].map(function(L){return Math.max(0,Math.min(N.data.length,L-1))}),T=a(C,2);return j=T[0],k=T[1],{startNode:N,startOffset:j,endNode:N,endOffset:k}}}}},{key:"update",value:function(w,_){var N=this;if(w.some(function(k){return k.type==="characterData"&&k.target===N.textNode})){var j=this.restore();j&&(_.range=j)}}},{key:"value",value:function(){return""}}]),v}(d.default.Embed);x.blotName="cursor",x.className="ql-cursor",x.tagName="span",x.CONTENTS="\uFEFF",n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=d(a),l=i(4),c=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function m(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var f=function(g){m(p,g);function p(){return u(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Container);f.allowedChildren=[c.default,l.BlockEmbed,f],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}}(),o=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:x(_,v,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=i(0),c=d(l);function d(x){return x&&x.__esModule?x:{default:x}}function u(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function h(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function m(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var f=function(x){m(y,x);function y(){return u(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(b){var w=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,b);return w.startsWith("rgb(")?(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+w.split(",").map(function(_){return("00"+parseInt(_).toString(16)).slice(-2)}).join("")):w}}]),y}(c.default.Attributor.Style),g=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),p=new f("color","color",{scope:c.default.Scope.INLINE});n.ColorAttributor=f,n.ColorClass=g,n.ColorStyle=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function p(x,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,y,v){return y&&p(x.prototype,y),v&&p(x,v),x}}(),o=function p(x,y,v){x===null&&(x=Function.prototype);var b=Object.getOwnPropertyDescriptor(x,y);if(b===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:p(w,y,v)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(v)}},l=i(6),c=d(l);function d(p){return p&&p.__esModule?p:{default:p}}function u(p,x){if(!(p instanceof x))throw new TypeError("Cannot call a class as a function")}function h(p,x){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:p}function m(p,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);p.prototype=Object.create(x&&x.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(p,x):p.__proto__=x)}var f=function(p){m(x,p);function x(){return u(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"format",value:function(v,b){if(v!==this.statics.blotName||!b)return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,v,b);b=this.constructor.sanitize(b),this.domNode.setAttribute("href",b)}}],[{key:"create",value:function(v){var b=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,v);return v=this.sanitize(v),b.setAttribute("href",v),b.setAttribute("rel","noopener noreferrer"),b.setAttribute("target","_blank"),b}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return g(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),x}(c.default);f.blotName="link",f.tagName="A",f.SANITIZED_URL="about:blank",f.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(p,x){var y=document.createElement("a");y.href=p;var v=y.href.slice(0,y.href.indexOf(":"));return x.indexOf(v)>-1}n.default=f,n.sanitize=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o=function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}}(),l=i(23),c=h(l),d=i(107),u=h(d);function h(x){return x&&x.__esModule?x:{default:x}}function m(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}var f=0;function g(x,y){x.setAttribute(y,x.getAttribute(y)!=="true")}var p=function(){function x(y){var v=this;m(this,x),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(b){switch(b.keyCode){case c.default.keys.ENTER:v.togglePicker();break;case c.default.keys.ESCAPE:v.escape(),b.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(x,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var b=this,w=document.createElement("span");return w.tabIndex="0",w.setAttribute("role","button"),w.classList.add("ql-picker-item"),v.hasAttribute("value")&&w.setAttribute("data-value",v.getAttribute("value")),v.textContent&&w.setAttribute("data-label",v.textContent),w.addEventListener("click",function(){b.selectItem(w,!0)}),w.addEventListener("keydown",function(_){switch(_.keyCode){case c.default.keys.ENTER:b.selectItem(w,!0),_.preventDefault();break;case c.default.keys.ESCAPE:b.escape(),_.preventDefault();break}}),w}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=u.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,b=document.createElement("span");b.classList.add("ql-picker-options"),b.setAttribute("aria-hidden","true"),b.tabIndex="-1",b.id="ql-picker-options-"+f,f+=1,this.label.setAttribute("aria-controls",b.id),this.options=b,[].slice.call(this.select.options).forEach(function(w){var _=v.buildItem(w);b.appendChild(_),w.selected===!0&&v.selectItem(_)}),this.container.appendChild(b)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(b){v.container.setAttribute(b.name,b.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=this.container.querySelector(".ql-selected");if(v!==w&&(w!=null&&w.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),b))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var _=document.createEvent("Event");_.initEvent("change",!0,!0),this.select.dispatchEvent(_)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var b=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(b)}else this.selectItem(null);var w=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",w)}}]),x}();n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=H(a),l=i(5),c=H(l),d=i(4),u=H(d),h=i(16),m=H(h),f=i(25),g=H(f),p=i(24),x=H(p),y=i(35),v=H(y),b=i(6),w=H(b),_=i(22),N=H(_),j=i(7),k=H(j),E=i(55),A=H(E),C=i(42),T=H(C),L=i(23),D=H(L);function H(X){return X&&X.__esModule?X:{default:X}}c.default.register({"blots/block":u.default,"blots/block/embed":d.BlockEmbed,"blots/break":m.default,"blots/container":g.default,"blots/cursor":x.default,"blots/embed":v.default,"blots/inline":w.default,"blots/scroll":N.default,"blots/text":k.default,"modules/clipboard":A.default,"modules/history":T.default,"modules/keyboard":D.default}),o.default.register(u.default,m.default,x.default,w.default,N.default,k.default),n.default=c.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function l(c){this.domNode=c,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(l.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),l.create=function(c){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?d=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?d=document.createElement(c):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},l.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},l.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return a.create(c)},l.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},l.prototype.deleteAt=function(c,d){var u=this.isolate(c,d);u.remove()},l.prototype.formatAt=function(c,d,u,h){var m=this.isolate(c,d);if(a.query(u,a.Scope.BLOT)!=null&&h)m.wrap(u,h);else if(a.query(u,a.Scope.ATTRIBUTE)!=null){var f=a.create(this.statics.scope);m.wrap(f),f.format(u,h)}},l.prototype.insertAt=function(c,d,u){var h=u==null?a.create("text",d):a.create(d,u),m=this.split(c);this.parent.insertBefore(h,m)},l.prototype.insertInto=function(c,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var u=null;c.children.insertBefore(this,d),d!=null&&(u=d.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=u)&&c.domNode.insertBefore(this.domNode,u),this.parent=c,this.attach()},l.prototype.isolate=function(c,d){var u=this.split(c);return u.split(d),u},l.prototype.length=function(){return 1},l.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},l.prototype.optimize=function(c){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},l.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},l.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},l.prototype.replaceWith=function(c,d){var u=typeof c=="string"?a.create(c,d):c;return u.replace(this),u},l.prototype.split=function(c,d){return c===0?this:this.next},l.prototype.update=function(c,d){},l.prototype.wrap=function(c,d){var u=typeof c=="string"?a.create(c,d):c;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},l.blotName="abstract",l}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),l=i(33),c=i(1),d=function(){function u(h){this.attributes={},this.domNode=h,this.build()}return u.prototype.attribute=function(h,m){m?h.add(this.domNode,m)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},u.prototype.build=function(){var h=this;this.attributes={};var m=a.default.keys(this.domNode),f=o.default.keys(this.domNode),g=l.default.keys(this.domNode);m.concat(f).concat(g).forEach(function(p){var x=c.query(p,c.Scope.ATTRIBUTE);x instanceof a.default&&(h.attributes[x.attrName]=x)})},u.prototype.copy=function(h){var m=this;Object.keys(this.attributes).forEach(function(f){var g=m.attributes[f].value(m.domNode);h.format(f,g)})},u.prototype.move=function(h){var m=this;this.copy(h),Object.keys(this.attributes).forEach(function(f){m.attributes[f].remove(m.domNode)}),this.attributes={}},u.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(m,f){return m[f]=h.attributes[f].value(h.domNode),m},{})},u}();n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var m in h)h.hasOwnProperty(m)&&(u[m]=h[m])};return function(u,h){d(u,h);function m(){this.constructor=u}u.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function l(d,u){var h=d.getAttribute("class")||"";return h.split(/\s+/).filter(function(m){return m.indexOf(u+"-")===0})}var c=function(d){a(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(m){return m.split("-").slice(0,-1).join("-")})},u.prototype.add=function(h,m){return this.canAdd(h,m)?(this.remove(h),h.classList.add(this.keyName+"-"+m),!0):!1},u.prototype.remove=function(h){var m=l(h,this.keyName);m.forEach(function(f){h.classList.remove(f)}),h.classList.length===0&&h.removeAttribute("class")},u.prototype.value=function(h){var m=l(h,this.keyName)[0]||"",f=m.slice(this.keyName.length+1);return this.canAdd(h,f)?f:""},u}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var m in h)h.hasOwnProperty(m)&&(u[m]=h[m])};return function(u,h){d(u,h);function m(){this.constructor=u}u.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function l(d){var u=d.split("-"),h=u.slice(1).map(function(m){return m[0].toUpperCase()+m.slice(1)}).join("");return u[0]+h}var c=function(d){a(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(m){var f=m.split(":");return f[0].trim()})},u.prototype.add=function(h,m){return this.canAdd(h,m)?(h.style[l(this.keyName)]=m,!0):!1},u.prototype.remove=function(h){h.style[l(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},u.prototype.value=function(h){var m=h.style[l(this.keyName)];return this.canAdd(h,m)?m:""},u}(o.default);n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function c(d,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,h){return u&&c(d.prototype,u),h&&c(d,h),d}}();function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(d,u){o(this,c),this.quill=d,this.options=u,this.modules={}}return a(c,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(h){u.modules[h]==null&&u.addModule(h)})}},{key:"addModule",value:function(u){var h=this.quill.constructor.import("modules/"+u);return this.modules[u]=new h(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),c}();l.DEFAULTS={modules:{}},l.themes={default:l},n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var _=b[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),o=function y(v,b,w){v===null&&(v=Function.prototype);var _=Object.getOwnPropertyDescriptor(v,b);if(_===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:y(N,b,w)}else{if("value"in _)return _.value;var j=_.get;return j===void 0?void 0:j.call(w)}},l=i(0),c=h(l),d=i(7),u=h(d);function h(y){return y&&y.__esModule?y:{default:y}}function m(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function g(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p="\uFEFF",x=function(y){g(v,y);function v(b){m(this,v);var w=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return w.contentNode=document.createElement("span"),w.contentNode.setAttribute("contenteditable",!1),[].slice.call(w.domNode.childNodes).forEach(function(_){w.contentNode.appendChild(_)}),w.leftGuard=document.createTextNode(p),w.rightGuard=document.createTextNode(p),w.domNode.appendChild(w.leftGuard),w.domNode.appendChild(w.contentNode),w.domNode.appendChild(w.rightGuard),w}return a(v,[{key:"index",value:function(w,_){return w===this.leftGuard?0:w===this.rightGuard?1:o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,w,_)}},{key:"restore",value:function(w){var _=void 0,N=void 0,j=w.data.split(p).join("");if(w===this.leftGuard)if(this.prev instanceof u.default){var k=this.prev.length();this.prev.insertAt(k,j),_={startNode:this.prev.domNode,startOffset:k+j.length}}else N=document.createTextNode(j),this.parent.insertBefore(c.default.create(N),this),_={startNode:N,startOffset:j.length};else w===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,j),_={startNode:this.next.domNode,startOffset:j.length}):(N=document.createTextNode(j),this.parent.insertBefore(c.default.create(N),this.next),_={startNode:N,startOffset:j.length}));return w.data=p,_}},{key:"update",value:function(w,_){var N=this;w.forEach(function(j){if(j.type==="characterData"&&(j.target===N.leftGuard||j.target===N.rightGuard)){var k=N.restore(j.target);k&&(_.range=k)}})}}]),v}(c.default.Embed);n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new o.default.Attributor.Attribute("align","align",c),u=new o.default.Attributor.Class("align","ql-align",c),h=new o.default.Attributor.Style("align","text-align",c);n.AlignAttribute=d,n.AlignClass=u,n.AlignStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=c(a),l=i(26);function c(h){return h&&h.__esModule?h:{default:h}}var d=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),u=new l.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=d,n.BackgroundStyle=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}var c={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},d=new o.default.Attributor.Attribute("direction","dir",c),u=new o.default.Attributor.Class("direction","ql-direction",c),h=new o.default.Attributor.Style("direction","direction",c);n.DirectionAttribute=d,n.DirectionClass=u,n.DirectionStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function y(v,b){for(var w=0;w<b.length;w++){var _=b[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(v,_.key,_)}}return function(v,b,w){return b&&y(v.prototype,b),w&&y(v,w),v}}(),o=function y(v,b,w){v===null&&(v=Function.prototype);var _=Object.getOwnPropertyDescriptor(v,b);if(_===void 0){var N=Object.getPrototypeOf(v);return N===null?void 0:y(N,b,w)}else{if("value"in _)return _.value;var j=_.get;return j===void 0?void 0:j.call(w)}},l=i(0),c=d(l);function d(y){return y&&y.__esModule?y:{default:y}}function u(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function h(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function m(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var f={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new c.default.Attributor.Class("font","ql-font",f),p=function(y){m(v,y);function v(){return u(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"value",value:function(w){return o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),v}(c.default.Attributor.Style),x=new p("font","font-family",f);n.FontStyle=x,n.FontClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=l(a);function l(u){return u&&u.__esModule?u:{default:u}}var c=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=c,n.SizeStyle=d},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function b(w,_){for(var N=0;N<_.length;N++){var j=_[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,_,N){return _&&b(w.prototype,_),N&&b(w,N),w}}(),o=i(0),l=m(o),c=i(5),d=m(c),u=i(9),h=m(u);function m(b){return b&&b.__esModule?b:{default:b}}function f(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function g(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function p(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var x=function(b){p(w,b);function w(_,N){f(this,w);var j=g(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,_,N));return j.lastRecorded=0,j.ignoreChange=!1,j.clear(),j.quill.on(d.default.events.EDITOR_CHANGE,function(k,E,A,C){k!==d.default.events.TEXT_CHANGE||j.ignoreChange||(!j.options.userOnly||C===d.default.sources.USER?j.record(E,A):j.transform(E))}),j.quill.keyboard.addBinding({key:"Z",shortKey:!0},j.undo.bind(j)),j.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},j.redo.bind(j)),/Win/i.test(navigator.platform)&&j.quill.keyboard.addBinding({key:"Y",shortKey:!0},j.redo.bind(j)),j}return a(w,[{key:"change",value:function(N,j){if(this.stack[N].length!==0){var k=this.stack[N].pop();this.stack[j].push(k),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(k[N],d.default.sources.USER),this.ignoreChange=!1;var E=v(k[N]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,j){if(N.ops.length!==0){this.stack.redo=[];var k=this.quill.getContents().diff(j),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var A=this.stack.undo.pop();k=k.compose(A.undo),N=A.redo.compose(N)}else this.lastRecorded=E;this.stack.undo.push({redo:N,undo:k}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(j){j.undo=N.transform(j.undo,!0),j.redo=N.transform(j.redo,!0)}),this.stack.redo.forEach(function(j){j.undo=N.transform(j.undo,!0),j.redo=N.transform(j.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),w}(h.default);x.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(b){var w=b.ops[b.ops.length-1];return w==null?!1:w.insert!=null?typeof w.insert=="string"&&w.insert.endsWith(`
`):w.attributes!=null?Object.keys(w.attributes).some(function(_){return l.default.query(_,l.default.Scope.BLOCK)!=null}):!1}function v(b){var w=b.reduce(function(N,j){return N+=j.delete||0,N},0),_=b.length()-w;return y(b)&&(_-=1),_}n.default=x,n.getLastChangeIndex=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function F(I,B){for(var q=0;q<B.length;q++){var U=B[q];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(I,U.key,U)}}return function(I,B,q){return B&&F(I.prototype,B),q&&F(I,q),I}}(),o=function F(I,B,q){I===null&&(I=Function.prototype);var U=Object.getOwnPropertyDescriptor(I,B);if(U===void 0){var W=Object.getPrototypeOf(I);return W===null?void 0:F(W,B,q)}else{if("value"in U)return U.value;var te=U.get;return te===void 0?void 0:te.call(q)}},l=i(3),c=E(l),d=i(2),u=E(d),h=i(8),m=E(h),f=i(23),g=E(f),p=i(34),x=E(p),y=i(59),v=E(y),b=i(60),w=E(b),_=i(28),N=E(_),j=i(61),k=E(j);function E(F){return F&&F.__esModule?F:{default:F}}function A(F,I){if(!(F instanceof I))throw new TypeError("Cannot call a class as a function")}function C(F,I){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:F}function T(F,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);F.prototype=Object.create(I&&I.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(F,I):F.__proto__=I)}var L=[!1,"center","right","justify"],D=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],H=[!1,"serif","monospace"],X=["1","2","3",!1],ee=["small",!1,"large","huge"],Q=function(F){T(I,F);function I(B,q){A(this,I);var U=C(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,B,q)),W=function te(re){if(!document.body.contains(B.root))return document.body.removeEventListener("click",te);U.tooltip!=null&&!U.tooltip.root.contains(re.target)&&document.activeElement!==U.tooltip.textbox&&!U.quill.hasFocus()&&U.tooltip.hide(),U.pickers!=null&&U.pickers.forEach(function(le){le.container.contains(re.target)||le.close()})};return B.emitter.listenDOM("click",document.body,W),U}return a(I,[{key:"addModule",value:function(q){var U=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"addModule",this).call(this,q);return q==="toolbar"&&this.extendToolbar(U),U}},{key:"buildButtons",value:function(q,U){q.forEach(function(W){var te=W.getAttribute("class")||"";te.split(/\s+/).forEach(function(re){if(re.startsWith("ql-")&&(re=re.slice(3),U[re]!=null))if(re==="direction")W.innerHTML=U[re][""]+U[re].rtl;else if(typeof U[re]=="string")W.innerHTML=U[re];else{var le=W.value||"";le!=null&&U[re][le]&&(W.innerHTML=U[re][le])}})})}},{key:"buildPickers",value:function(q,U){var W=this;this.pickers=q.map(function(re){if(re.classList.contains("ql-align"))return re.querySelector("option")==null&&V(re,L),new w.default(re,U.align);if(re.classList.contains("ql-background")||re.classList.contains("ql-color")){var le=re.classList.contains("ql-background")?"background":"color";return re.querySelector("option")==null&&V(re,D,le==="background"?"#ffffff":"#000000"),new v.default(re,U[le])}else return re.querySelector("option")==null&&(re.classList.contains("ql-font")?V(re,H):re.classList.contains("ql-header")?V(re,X):re.classList.contains("ql-size")&&V(re,ee)),new N.default(re)});var te=function(){W.pickers.forEach(function(le){le.update()})};this.quill.on(m.default.events.EDITOR_CHANGE,te)}}]),I}(x.default);Q.DEFAULTS=(0,c.default)(!0,{},x.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var I=this,B=this.container.querySelector("input.ql-image[type=file]");B==null&&(B=document.createElement("input"),B.setAttribute("type","file"),B.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),B.classList.add("ql-image"),B.addEventListener("change",function(){if(B.files!=null&&B.files[0]!=null){var q=new FileReader;q.onload=function(U){var W=I.quill.getSelection(!0);I.quill.updateContents(new u.default().retain(W.index).delete(W.length).insert({image:U.target.result}),m.default.sources.USER),I.quill.setSelection(W.index+1,m.default.sources.SILENT),B.value=""},q.readAsDataURL(B.files[0])}}),this.container.appendChild(B)),B.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var G=function(F){T(I,F);function I(B,q){A(this,I);var U=C(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,B,q));return U.textbox=U.root.querySelector('input[type="text"]'),U.listen(),U}return a(I,[{key:"listen",value:function(){var q=this;this.textbox.addEventListener("keydown",function(U){g.default.match(U,"enter")?(q.save(),U.preventDefault()):g.default.match(U,"escape")&&(q.cancel(),U.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),U!=null?this.textbox.value=U:q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+q)||""),this.root.setAttribute("data-mode",q)}},{key:"restoreFocus",value:function(){var q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=q}},{key:"save",value:function(){var q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var U=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,m.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,m.default.sources.USER)),this.quill.root.scrollTop=U;break}case"video":q=z(q);case"formula":{if(!q)break;var W=this.quill.getSelection(!0);if(W!=null){var te=W.index+W.length;this.quill.insertEmbed(te,this.root.getAttribute("data-mode"),q,m.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(te+1," ",m.default.sources.USER),this.quill.setSelection(te+2,m.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),I}(k.default);function z(F){var I=F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||F.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return I?(I[1]||"https")+"://www.youtube.com/embed/"+I[2]+"?showinfo=0":(I=F.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(I[1]||"https")+"://player.vimeo.com/video/"+I[2]+"/":F}function V(F,I){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;I.forEach(function(q){var U=document.createElement("option");q===B?U.setAttribute("selected","selected"):U.setAttribute("value",q),F.appendChild(U)})}n.BaseTooltip=G,n.default=Q},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];this.insertBefore(l[0],null),l.length>1&&this.append.apply(this,l.slice(1))},o.prototype.contains=function(l){for(var c,d=this.iterator();c=d();)if(c===l)return!0;return!1},o.prototype.insertBefore=function(l,c){l&&(l.next=c,c!=null?(l.prev=c.prev,c.prev!=null&&(c.prev.next=l),c.prev=l,c===this.head&&(this.head=l)):this.tail!=null?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},o.prototype.offset=function(l){for(var c=0,d=this.head;d!=null;){if(d===l)return c;c+=d.length(),d=d.next}return-1},o.prototype.remove=function(l){this.contains(l)&&(l.prev!=null&&(l.prev.next=l.next),l.next!=null&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},o.prototype.iterator=function(l){return l===void 0&&(l=this.head),function(){var c=l;return l!=null&&(l=l.next),c}},o.prototype.find=function(l,c){c===void 0&&(c=!1);for(var d,u=this.iterator();d=u();){var h=d.length();if(l<h||c&&l===h&&(d.next==null||d.next.length()!==0))return[d,l];l-=h}return[null,0]},o.prototype.forEach=function(l){for(var c,d=this.iterator();c=d();)l(c)},o.prototype.forEachAt=function(l,c,d){if(!(c<=0))for(var u=this.find(l),h=u[0],m=u[1],f,g=l-m,p=this.iterator(h);(f=p())&&g<l+c;){var x=f.length();l>g?d(f,l-g,Math.min(c,g+x-l)):d(f,0,Math.min(x,l+c-g)),g+=x}},o.prototype.map=function(l){return this.reduce(function(c,d){return c.push(l(d)),c},[])},o.prototype.reduce=function(l,c){for(var d,u=this.iterator();d=u();)c=l(c,d);return c},o}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var g in f)f.hasOwnProperty(g)&&(m[g]=f[g])};return function(m,f){h(m,f);function g(){this.constructor=m}m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),l=i(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,u=function(h){a(m,h);function m(f){var g=h.call(this,f)||this;return g.scroll=g,g.observer=new MutationObserver(function(p){g.update(p)}),g.observer.observe(g.domNode,c),g.attach(),g}return m.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},m.prototype.deleteAt=function(f,g){this.update(),f===0&&g===this.length()?this.children.forEach(function(p){p.remove()}):h.prototype.deleteAt.call(this,f,g)},m.prototype.formatAt=function(f,g,p,x){this.update(),h.prototype.formatAt.call(this,f,g,p,x)},m.prototype.insertAt=function(f,g,p){this.update(),h.prototype.insertAt.call(this,f,g,p)},m.prototype.optimize=function(f,g){var p=this;f===void 0&&(f=[]),g===void 0&&(g={}),h.prototype.optimize.call(this,g);for(var x=[].slice.call(this.observer.takeRecords());x.length>0;)f.push(x.pop());for(var y=function(_,N){N===void 0&&(N=!0),!(_==null||_===p)&&_.domNode.parentNode!=null&&(_.domNode[l.DATA_KEY].mutations==null&&(_.domNode[l.DATA_KEY].mutations=[]),N&&y(_.parent))},v=function(_){_.domNode[l.DATA_KEY]==null||_.domNode[l.DATA_KEY].mutations==null||(_ instanceof o.default&&_.children.forEach(v),_.optimize(g))},b=f,w=0;b.length>0;w+=1){if(w>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(b.forEach(function(_){var N=l.find(_.target,!0);N!=null&&(N.domNode===_.target&&(_.type==="childList"?(y(l.find(_.previousSibling,!1)),[].forEach.call(_.addedNodes,function(j){var k=l.find(j,!1);y(k,!1),k instanceof o.default&&k.children.forEach(function(E){y(E,!1)})})):_.type==="attributes"&&y(N.prev)),y(N))}),this.children.forEach(v),b=[].slice.call(this.observer.takeRecords()),x=b.slice();x.length>0;)f.push(x.pop())}},m.prototype.update=function(f,g){var p=this;g===void 0&&(g={}),f=f||this.observer.takeRecords(),f.map(function(x){var y=l.find(x.target,!0);return y==null?null:y.domNode[l.DATA_KEY].mutations==null?(y.domNode[l.DATA_KEY].mutations=[x],y):(y.domNode[l.DATA_KEY].mutations.push(x),null)}).forEach(function(x){x==null||x===p||x.domNode[l.DATA_KEY]==null||x.update(x.domNode[l.DATA_KEY].mutations||[],g)}),this.domNode[l.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[l.DATA_KEY].mutations,g),this.optimize(f,g)},m.blotName="scroll",m.defaultChild="block",m.scope=l.Scope.BLOCK_BLOT,m.tagName="DIV",m}(o.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var f in m)m.hasOwnProperty(f)&&(h[f]=m[f])};return function(h,m){u(h,m);function f(){this.constructor=h}h.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),l=i(1);function c(u,h){if(Object.keys(u).length!==Object.keys(h).length)return!1;for(var m in u)if(u[m]!==h[m])return!1;return!0}var d=function(u){a(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(m){if(m.tagName!==h.tagName)return u.formats.call(this,m)},h.prototype.format=function(m,f){var g=this;m===this.statics.blotName&&!f?(this.children.forEach(function(p){p instanceof o.default||(p=p.wrap(h.blotName,!0)),g.attributes.copy(p)}),this.unwrap()):u.prototype.format.call(this,m,f)},h.prototype.formatAt=function(m,f,g,p){if(this.formats()[g]!=null||l.query(g,l.Scope.ATTRIBUTE)){var x=this.isolate(m,f);x.format(g,p)}else u.prototype.formatAt.call(this,m,f,g,p)},h.prototype.optimize=function(m){u.prototype.optimize.call(this,m);var f=this.formats();if(Object.keys(f).length===0)return this.unwrap();var g=this.next;g instanceof h&&g.prev===this&&c(f,g.formats())&&(g.moveChildren(this),g.remove())},h.blotName="inline",h.scope=l.Scope.INLINE_BLOT,h.tagName="SPAN",h}(o.default);n.default=d},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var m in h)h.hasOwnProperty(m)&&(u[m]=h[m])};return function(u,h){d(u,h);function m(){this.constructor=u}u.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),l=i(1),c=function(d){a(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.formats=function(h){var m=l.query(u.blotName).tagName;if(h.tagName!==m)return d.formats.call(this,h)},u.prototype.format=function(h,m){l.query(h,l.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!m?this.replaceWith(u.blotName):d.prototype.format.call(this,h,m))},u.prototype.formatAt=function(h,m,f,g){l.query(f,l.Scope.BLOCK)!=null?this.format(f,g):d.prototype.formatAt.call(this,h,m,f,g)},u.prototype.insertAt=function(h,m,f){if(f==null||l.query(m,l.Scope.INLINE)!=null)d.prototype.insertAt.call(this,h,m,f);else{var g=this.split(h),p=l.create(m,f);g.parent.insertBefore(p,g)}},u.prototype.update=function(h,m){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,h,m)},u.blotName="block",u.scope=l.Scope.BLOCK_BLOT,u.tagName="P",u}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var h in u)u.hasOwnProperty(h)&&(d[h]=u[h])};return function(d,u){c(d,u);function h(){this.constructor=d}d.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),l=function(c){a(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(u){},d.prototype.format=function(u,h){c.prototype.formatAt.call(this,0,this.length(),u,h)},d.prototype.formatAt=function(u,h,m,f){u===0&&h===this.length()?this.format(m,f):c.prototype.formatAt.call(this,u,h,m,f)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var m in h)h.hasOwnProperty(m)&&(u[m]=h[m])};return function(u,h){d(u,h);function m(){this.constructor=u}u.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),l=i(1),c=function(d){a(u,d);function u(h){var m=d.call(this,h)||this;return m.text=m.statics.value(m.domNode),m}return u.create=function(h){return document.createTextNode(h)},u.value=function(h){var m=h.data;return m.normalize&&(m=m.normalize()),m},u.prototype.deleteAt=function(h,m){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+m)},u.prototype.index=function(h,m){return this.domNode===h?m:-1},u.prototype.insertAt=function(h,m,f){f==null?(this.text=this.text.slice(0,h)+m+this.text.slice(h),this.domNode.data=this.text):d.prototype.insertAt.call(this,h,m,f)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(h){d.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(h,m){return[this.domNode,h]},u.prototype.split=function(h,m){if(m===void 0&&(m=!1),!m){if(h===0)return this;if(h===this.length())return this.next}var f=l.create(this.domNode.splitText(h));return this.parent.insertBefore(f,this.next),this.text=this.statics.value(this.domNode),f},u.prototype.update=function(h,m){var f=this;h.some(function(g){return g.type==="characterData"&&g.target===f.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=l.Scope.INLINE_BLOT,u}(o.default);n.default=c},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(l,c){return arguments.length>1&&!this.contains(l)==!c?c:o.call(this,l)}}String.prototype.startsWith||(String.prototype.startsWith=function(l,c){return c=c||0,this.substr(c,l.length)===l}),String.prototype.endsWith||(String.prototype.endsWith=function(l,c){var d=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>d.length)&&(c=d.length),c-=l.length;var u=d.indexOf(l,c);return u!==-1&&u===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),u=d.length>>>0,h=arguments[1],m,f=0;f<u;f++)if(m=d[f],c.call(h,m,f,d))return m}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,o=0;function l(w,_,N){if(w==_)return w?[[o,w]]:[];(N<0||w.length<N)&&(N=null);var j=h(w,_),k=w.substring(0,j);w=w.substring(j),_=_.substring(j),j=m(w,_);var E=w.substring(w.length-j);w=w.substring(0,w.length-j),_=_.substring(0,_.length-j);var A=c(w,_);return k&&A.unshift([o,k]),E&&A.push([o,E]),g(A),N!=null&&(A=y(A,N)),A=v(A),A}function c(w,_){var N;if(!w)return[[a,_]];if(!_)return[[i,w]];var j=w.length>_.length?w:_,k=w.length>_.length?_:w,E=j.indexOf(k);if(E!=-1)return N=[[a,j.substring(0,E)],[o,k],[a,j.substring(E+k.length)]],w.length>_.length&&(N[0][0]=N[2][0]=i),N;if(k.length==1)return[[i,w],[a,_]];var A=f(w,_);if(A){var C=A[0],T=A[1],L=A[2],D=A[3],H=A[4],X=l(C,L),ee=l(T,D);return X.concat([[o,H]],ee)}return d(w,_)}function d(w,_){for(var N=w.length,j=_.length,k=Math.ceil((N+j)/2),E=k,A=2*k,C=new Array(A),T=new Array(A),L=0;L<A;L++)C[L]=-1,T[L]=-1;C[E+1]=0,T[E+1]=0;for(var D=N-j,H=D%2!=0,X=0,ee=0,Q=0,G=0,z=0;z<k;z++){for(var V=-z+X;V<=z-ee;V+=2){var F=E+V,I;V==-z||V!=z&&C[F-1]<C[F+1]?I=C[F+1]:I=C[F-1]+1;for(var B=I-V;I<N&&B<j&&w.charAt(I)==_.charAt(B);)I++,B++;if(C[F]=I,I>N)ee+=2;else if(B>j)X+=2;else if(H){var q=E+D-V;if(q>=0&&q<A&&T[q]!=-1){var U=N-T[q];if(I>=U)return u(w,_,I,B)}}}for(var W=-z+Q;W<=z-G;W+=2){var q=E+W,U;W==-z||W!=z&&T[q-1]<T[q+1]?U=T[q+1]:U=T[q-1]+1;for(var te=U-W;U<N&&te<j&&w.charAt(N-U-1)==_.charAt(j-te-1);)U++,te++;if(T[q]=U,U>N)G+=2;else if(te>j)Q+=2;else if(!H){var F=E+D-W;if(F>=0&&F<A&&C[F]!=-1){var I=C[F],B=E+I-F;if(U=N-U,I>=U)return u(w,_,I,B)}}}}return[[i,w],[a,_]]}function u(w,_,N,j){var k=w.substring(0,N),E=_.substring(0,j),A=w.substring(N),C=_.substring(j),T=l(k,E),L=l(A,C);return T.concat(L)}function h(w,_){if(!w||!_||w.charAt(0)!=_.charAt(0))return 0;for(var N=0,j=Math.min(w.length,_.length),k=j,E=0;N<k;)w.substring(E,k)==_.substring(E,k)?(N=k,E=N):j=k,k=Math.floor((j-N)/2+N);return k}function m(w,_){if(!w||!_||w.charAt(w.length-1)!=_.charAt(_.length-1))return 0;for(var N=0,j=Math.min(w.length,_.length),k=j,E=0;N<k;)w.substring(w.length-k,w.length-E)==_.substring(_.length-k,_.length-E)?(N=k,E=N):j=k,k=Math.floor((j-N)/2+N);return k}function f(w,_){var N=w.length>_.length?w:_,j=w.length>_.length?_:w;if(N.length<4||j.length*2<N.length)return null;function k(ee,Q,G){for(var z=ee.substring(G,G+Math.floor(ee.length/4)),V=-1,F="",I,B,q,U;(V=Q.indexOf(z,V+1))!=-1;){var W=h(ee.substring(G),Q.substring(V)),te=m(ee.substring(0,G),Q.substring(0,V));F.length<te+W&&(F=Q.substring(V-te,V)+Q.substring(V,V+W),I=ee.substring(0,G-te),B=ee.substring(G+W),q=Q.substring(0,V-te),U=Q.substring(V+W))}return F.length*2>=ee.length?[I,B,q,U,F]:null}var E=k(N,j,Math.ceil(N.length/4)),A=k(N,j,Math.ceil(N.length/2)),C;if(!E&&!A)return null;A?E?C=E[4].length>A[4].length?E:A:C=A:C=E;var T,L,D,H;w.length>_.length?(T=C[0],L=C[1],D=C[2],H=C[3]):(D=C[0],H=C[1],T=C[2],L=C[3]);var X=C[4];return[T,L,D,H,X]}function g(w){w.push([o,""]);for(var _=0,N=0,j=0,k="",E="",A;_<w.length;)switch(w[_][0]){case a:j++,E+=w[_][1],_++;break;case i:N++,k+=w[_][1],_++;break;case o:N+j>1?(N!==0&&j!==0&&(A=h(E,k),A!==0&&(_-N-j>0&&w[_-N-j-1][0]==o?w[_-N-j-1][1]+=E.substring(0,A):(w.splice(0,0,[o,E.substring(0,A)]),_++),E=E.substring(A),k=k.substring(A)),A=m(E,k),A!==0&&(w[_][1]=E.substring(E.length-A)+w[_][1],E=E.substring(0,E.length-A),k=k.substring(0,k.length-A))),N===0?w.splice(_-j,N+j,[a,E]):j===0?w.splice(_-N,N+j,[i,k]):w.splice(_-N-j,N+j,[i,k],[a,E]),_=_-N-j+(N?1:0)+(j?1:0)+1):_!==0&&w[_-1][0]==o?(w[_-1][1]+=w[_][1],w.splice(_,1)):_++,j=0,N=0,k="",E="";break}w[w.length-1][1]===""&&w.pop();var C=!1;for(_=1;_<w.length-1;)w[_-1][0]==o&&w[_+1][0]==o&&(w[_][1].substring(w[_][1].length-w[_-1][1].length)==w[_-1][1]?(w[_][1]=w[_-1][1]+w[_][1].substring(0,w[_][1].length-w[_-1][1].length),w[_+1][1]=w[_-1][1]+w[_+1][1],w.splice(_-1,1),C=!0):w[_][1].substring(0,w[_+1][1].length)==w[_+1][1]&&(w[_-1][1]+=w[_+1][1],w[_][1]=w[_][1].substring(w[_+1][1].length)+w[_+1][1],w.splice(_+1,1),C=!0)),_++;C&&g(w)}var p=l;p.INSERT=a,p.DELETE=i,p.EQUAL=o,r.exports=p;function x(w,_){if(_===0)return[o,w];for(var N=0,j=0;j<w.length;j++){var k=w[j];if(k[0]===i||k[0]===o){var E=N+k[1].length;if(_===E)return[j+1,w];if(_<E){w=w.slice();var A=_-N,C=[k[0],k[1].slice(0,A)],T=[k[0],k[1].slice(A)];return w.splice(j,1,C,T),[j+1,w]}else N=E}}throw new Error("cursor_pos is out of bounds!")}function y(w,_){var N=x(w,_),j=N[1],k=N[0],E=j[k],A=j[k+1];if(E==null)return w;if(E[0]!==o)return w;if(A!=null&&E[1]+A[1]===A[1]+E[1])return j.splice(k,2,A,E),b(j,k,2);if(A!=null&&A[1].indexOf(E[1])===0){j.splice(k,2,[A[0],E[1]],[0,E[1]]);var C=A[1].slice(E[1].length);return C.length>0&&j.splice(k+2,0,[A[0],C]),b(j,k,3)}else return w}function v(w){for(var _=!1,N=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},j=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},k=2;k<w.length;k+=1)w[k-2][0]===o&&j(w[k-2][1])&&w[k-1][0]===i&&N(w[k-1][1])&&w[k][0]===a&&N(w[k][1])&&(_=!0,w[k-1][1]=w[k-2][1].slice(-1)+w[k-1][1],w[k][1]=w[k-2][1].slice(-1)+w[k][1],w[k-2][1]=w[k-2][1].slice(0,-1));if(!_)return w;for(var E=[],k=0;k<w.length;k+=1)w[k][1].length>0&&E.push(w[k]);return E}function b(w,_,N){for(var j=_+N-1;j>=0&&j>=_-1;j--)if(j+1<w.length){var k=w[j],E=w[j+1];k[0]===E[1]&&w.splice(j,2,[k[0],k[1]+E[1]])}return w}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var l in a)o.push(l);return o}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:o,n.supported=a;function a(l){return Object.prototype.toString.call(l)=="[object Arguments]"}n.unsupported=o;function o(l){return l&&typeof l=="object"&&typeof l.length=="number"&&Object.prototype.hasOwnProperty.call(l,"callee")&&!Object.prototype.propertyIsEnumerable.call(l,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function l(d,u,h){this.fn=d,this.context=u,this.once=h||!1}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],h,m;if(this._eventsCount===0)return u;for(m in h=this._events)i.call(h,m)&&u.push(a?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},c.prototype.listeners=function(u,h){var m=a?a+u:u,f=this._events[m];if(h)return!!f;if(!f)return[];if(f.fn)return[f.fn];for(var g=0,p=f.length,x=new Array(p);g<p;g++)x[g]=f[g].fn;return x},c.prototype.emit=function(u,h,m,f,g,p){var x=a?a+u:u;if(!this._events[x])return!1;var y=this._events[x],v=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,h),!0;case 3:return y.fn.call(y.context,h,m),!0;case 4:return y.fn.call(y.context,h,m,f),!0;case 5:return y.fn.call(y.context,h,m,f,g),!0;case 6:return y.fn.call(y.context,h,m,f,g,p),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var _=y.length,N;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,h);break;case 3:y[w].fn.call(y[w].context,h,m);break;case 4:y[w].fn.call(y[w].context,h,m,f);break;default:if(!b)for(N=1,b=new Array(v-1);N<v;N++)b[N-1]=arguments[N];y[w].fn.apply(y[w].context,b)}}return!0},c.prototype.on=function(u,h,m){var f=new l(h,m||this),g=a?a+u:u;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],f]:this._events[g].push(f):(this._events[g]=f,this._eventsCount++),this},c.prototype.once=function(u,h,m){var f=new l(h,m||this,!0),g=a?a+u:u;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],f]:this._events[g].push(f):(this._events[g]=f,this._eventsCount++),this},c.prototype.removeListener=function(u,h,m,f){var g=a?a+u:u;if(!this._events[g])return this;if(!h)return--this._eventsCount===0?this._events=new o:delete this._events[g],this;var p=this._events[g];if(p.fn)p.fn===h&&(!f||p.once)&&(!m||p.context===m)&&(--this._eventsCount===0?this._events=new o:delete this._events[g]);else{for(var x=0,y=[],v=p.length;x<v;x++)(p[x].fn!==h||f&&!p[x].once||m&&p[x].context!==m)&&y.push(p[x]);y.length?this._events[g]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[g]}return this},c.prototype.removeAllListeners=function(u){var h;return u?(h=a?a+u:u,this._events[h]&&(--this._eventsCount===0?this._events=new o:delete this._events[h])):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=a,c.EventEmitter=c,typeof r<"u"&&(r.exports=c)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Oe){return typeof Oe}:function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},o=function(){function Oe(Ce,oe){var me=[],Ne=!0,Be=!1,qe=void 0;try{for(var De=Ce[Symbol.iterator](),ct;!(Ne=(ct=De.next()).done)&&(me.push(ct.value),!(oe&&me.length===oe));Ne=!0);}catch(Ut){Be=!0,qe=Ut}finally{try{!Ne&&De.return&&De.return()}finally{if(Be)throw qe}}return me}return function(Ce,oe){if(Array.isArray(Ce))return Ce;if(Symbol.iterator in Object(Ce))return Oe(Ce,oe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function Oe(Ce,oe){for(var me=0;me<oe.length;me++){var Ne=oe[me];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Ce,Ne.key,Ne)}}return function(Ce,oe,me){return oe&&Oe(Ce.prototype,oe),me&&Oe(Ce,me),Ce}}(),c=i(3),d=T(c),u=i(2),h=T(u),m=i(0),f=T(m),g=i(5),p=T(g),x=i(10),y=T(x),v=i(9),b=T(v),w=i(36),_=i(37),N=i(13),j=T(N),k=i(26),E=i(38),A=i(39),C=i(40);function T(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}function L(Oe,Ce,oe){return Ce in Oe?Object.defineProperty(Oe,Ce,{value:oe,enumerable:!0,configurable:!0,writable:!0}):Oe[Ce]=oe,Oe}function D(Oe,Ce){if(!(Oe instanceof Ce))throw new TypeError("Cannot call a class as a function")}function H(Oe,Ce){if(!Oe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ce&&(typeof Ce=="object"||typeof Ce=="function")?Ce:Oe}function X(Oe,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ce);Oe.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:Oe,enumerable:!1,writable:!0,configurable:!0}}),Ce&&(Object.setPrototypeOf?Object.setPrototypeOf(Oe,Ce):Oe.__proto__=Ce)}var ee=(0,y.default)("quill:clipboard"),Q="__ql-matcher",G=[[Node.TEXT_NODE,Je],[Node.TEXT_NODE,Ae],["br",ke],[Node.ELEMENT_NODE,Ae],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,_t],["li",He],["b",te.bind(te,"bold")],["i",te.bind(te,"italic")],["style",Pe]],z=[w.AlignAttribute,E.DirectionAttribute].reduce(function(Oe,Ce){return Oe[Ce.keyName]=Ce,Oe},{}),V=[w.AlignStyle,_.BackgroundStyle,k.ColorStyle,E.DirectionStyle,A.FontStyle,C.SizeStyle].reduce(function(Oe,Ce){return Oe[Ce.keyName]=Ce,Oe},{}),F=function(Oe){X(Ce,Oe);function Ce(oe,me){D(this,Ce);var Ne=H(this,(Ce.__proto__||Object.getPrototypeOf(Ce)).call(this,oe,me));return Ne.quill.root.addEventListener("paste",Ne.onPaste.bind(Ne)),Ne.container=Ne.quill.addContainer("ql-clipboard"),Ne.container.setAttribute("contenteditable",!0),Ne.container.setAttribute("tabindex",-1),Ne.matchers=[],G.concat(Ne.options.matchers).forEach(function(Be){var qe=o(Be,2),De=qe[0],ct=qe[1];!me.matchVisual&&ct===fe||Ne.addMatcher(De,ct)}),Ne}return l(Ce,[{key:"addMatcher",value:function(me,Ne){this.matchers.push([me,Ne])}},{key:"convert",value:function(me){if(typeof me=="string")return this.container.innerHTML=me.replace(/\>\r?\n +\</g,"><"),this.convert();var Ne=this.quill.getFormat(this.quill.selection.savedRange.index);if(Ne[j.default.blotName]){var Be=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Be,L({},j.default.blotName,Ne[j.default.blotName]))}var qe=this.prepareMatching(),De=o(qe,2),ct=De[0],Ut=De[1],xt=W(this.container,ct,Ut);return q(xt,`
`)&&xt.ops[xt.ops.length-1].attributes==null&&(xt=xt.compose(new h.default().retain(xt.length()-1).delete(1))),ee.log("convert",this.container.innerHTML,xt),this.container.innerHTML="",xt}},{key:"dangerouslyPasteHTML",value:function(me,Ne){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;if(typeof me=="string")this.quill.setContents(this.convert(me),Ne),this.quill.setSelection(0,p.default.sources.SILENT);else{var qe=this.convert(Ne);this.quill.updateContents(new h.default().retain(me).concat(qe),Be),this.quill.setSelection(me+qe.length(),p.default.sources.SILENT)}}},{key:"onPaste",value:function(me){var Ne=this;if(!(me.defaultPrevented||!this.quill.isEnabled())){var Be=this.quill.getSelection(),qe=new h.default().retain(Be.index),De=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(p.default.sources.SILENT),setTimeout(function(){qe=qe.concat(Ne.convert()).delete(Be.length),Ne.quill.updateContents(qe,p.default.sources.USER),Ne.quill.setSelection(qe.length()-Be.length,p.default.sources.SILENT),Ne.quill.scrollingContainer.scrollTop=De,Ne.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var me=this,Ne=[],Be=[];return this.matchers.forEach(function(qe){var De=o(qe,2),ct=De[0],Ut=De[1];switch(ct){case Node.TEXT_NODE:Be.push(Ut);break;case Node.ELEMENT_NODE:Ne.push(Ut);break;default:[].forEach.call(me.container.querySelectorAll(ct),function(xt){xt[Q]=xt[Q]||[],xt[Q].push(Ut)});break}}),[Ne,Be]}}]),Ce}(b.default);F.DEFAULTS={matchers:[],matchVisual:!0};function I(Oe,Ce,oe){return(typeof Ce>"u"?"undefined":a(Ce))==="object"?Object.keys(Ce).reduce(function(me,Ne){return I(me,Ne,Ce[Ne])},Oe):Oe.reduce(function(me,Ne){return Ne.attributes&&Ne.attributes[Ce]?me.push(Ne):me.insert(Ne.insert,(0,d.default)({},L({},Ce,oe),Ne.attributes))},new h.default)}function B(Oe){if(Oe.nodeType!==Node.ELEMENT_NODE)return{};var Ce="__ql-computed-style";return Oe[Ce]||(Oe[Ce]=window.getComputedStyle(Oe))}function q(Oe,Ce){for(var oe="",me=Oe.ops.length-1;me>=0&&oe.length<Ce.length;--me){var Ne=Oe.ops[me];if(typeof Ne.insert!="string")break;oe=Ne.insert+oe}return oe.slice(-1*Ce.length)===Ce}function U(Oe){if(Oe.childNodes.length===0)return!1;var Ce=B(Oe);return["block","list-item"].indexOf(Ce.display)>-1}function W(Oe,Ce,oe){return Oe.nodeType===Oe.TEXT_NODE?oe.reduce(function(me,Ne){return Ne(Oe,me)},new h.default):Oe.nodeType===Oe.ELEMENT_NODE?[].reduce.call(Oe.childNodes||[],function(me,Ne){var Be=W(Ne,Ce,oe);return Ne.nodeType===Oe.ELEMENT_NODE&&(Be=Ce.reduce(function(qe,De){return De(Ne,qe)},Be),Be=(Ne[Q]||[]).reduce(function(qe,De){return De(Ne,qe)},Be)),me.concat(Be)},new h.default):new h.default}function te(Oe,Ce,oe){return I(oe,Oe,!0)}function re(Oe,Ce){var oe=f.default.Attributor.Attribute.keys(Oe),me=f.default.Attributor.Class.keys(Oe),Ne=f.default.Attributor.Style.keys(Oe),Be={};return oe.concat(me).concat(Ne).forEach(function(qe){var De=f.default.query(qe,f.default.Scope.ATTRIBUTE);De!=null&&(Be[De.attrName]=De.value(Oe),Be[De.attrName])||(De=z[qe],De!=null&&(De.attrName===qe||De.keyName===qe)&&(Be[De.attrName]=De.value(Oe)||void 0),De=V[qe],De!=null&&(De.attrName===qe||De.keyName===qe)&&(De=V[qe],Be[De.attrName]=De.value(Oe)||void 0))}),Object.keys(Be).length>0&&(Ce=I(Ce,Be)),Ce}function le(Oe,Ce){var oe=f.default.query(Oe);if(oe==null)return Ce;if(oe.prototype instanceof f.default.Embed){var me={},Ne=oe.value(Oe);Ne!=null&&(me[oe.blotName]=Ne,Ce=new h.default().insert(me,oe.formats(Oe)))}else typeof oe.formats=="function"&&(Ce=I(Ce,oe.blotName,oe.formats(Oe)));return Ce}function ke(Oe,Ce){return q(Ce,`
`)||Ce.insert(`
`),Ce}function Pe(){return new h.default}function He(Oe,Ce){var oe=f.default.query(Oe);if(oe==null||oe.blotName!=="list-item"||!q(Ce,`
`))return Ce;for(var me=-1,Ne=Oe.parentNode;!Ne.classList.contains("ql-clipboard");)(f.default.query(Ne)||{}).blotName==="list"&&(me+=1),Ne=Ne.parentNode;return me<=0?Ce:Ce.compose(new h.default().retain(Ce.length()-1).retain(1,{indent:me}))}function Ae(Oe,Ce){return q(Ce,`
`)||(U(Oe)||Ce.length()>0&&Oe.nextSibling&&U(Oe.nextSibling))&&Ce.insert(`
`),Ce}function fe(Oe,Ce){if(U(Oe)&&Oe.nextElementSibling!=null&&!q(Ce,`

`)){var oe=Oe.offsetHeight+parseFloat(B(Oe).marginTop)+parseFloat(B(Oe).marginBottom);Oe.nextElementSibling.offsetTop>Oe.offsetTop+oe*1.5&&Ce.insert(`
`)}return Ce}function _t(Oe,Ce){var oe={},me=Oe.style||{};return me.fontStyle&&B(Oe).fontStyle==="italic"&&(oe.italic=!0),me.fontWeight&&(B(Oe).fontWeight.startsWith("bold")||parseInt(B(Oe).fontWeight)>=700)&&(oe.bold=!0),Object.keys(oe).length>0&&(Ce=I(Ce,oe)),parseFloat(me.textIndent||0)>0&&(Ce=new h.default().insert("	").concat(Ce)),Ce}function Je(Oe,Ce){var oe=Oe.data;if(Oe.parentNode.tagName==="O:P")return Ce.insert(oe.trim());if(oe.trim().length===0&&Oe.parentNode.classList.contains("ql-clipboard"))return Ce;if(!B(Oe.parentNode).whiteSpace.startsWith("pre")){var me=function(Be,qe){return qe=qe.replace(/[^\u00a0]/g,""),qe.length<1&&Be?" ":qe};oe=oe.replace(/\r\n/g," ").replace(/\n/g," "),oe=oe.replace(/\s\s+/g,me.bind(me,!0)),(Oe.previousSibling==null&&U(Oe.parentNode)||Oe.previousSibling!=null&&U(Oe.previousSibling))&&(oe=oe.replace(/^\s+/,me.bind(me,!1))),(Oe.nextSibling==null&&U(Oe.parentNode)||Oe.nextSibling!=null&&U(Oe.nextSibling))&&(oe=oe.replace(/\s+$/,me.bind(me,!1)))}return Ce.insert(oe)}n.default=F,n.matchAttributor=re,n.matchBlot=le,n.matchNewline=Ae,n.matchSpacing=fe,n.matchText=Je},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(p,x){for(var y=0;y<x.length;y++){var v=x[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,x,y){return x&&g(p.prototype,x),y&&g(p,y),p}}(),o=function g(p,x,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,x);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:g(b,x,y)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(y)}},l=i(6),c=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function m(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var f=function(g){m(p,g);function p(){return u(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,[{key:"optimize",value:function(y){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),p}(c.default);f.blotName="bold",f.tagName=["STRONG","B"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function C(T,L){var D=[],H=!0,X=!1,ee=void 0;try{for(var Q=T[Symbol.iterator](),G;!(H=(G=Q.next()).done)&&(D.push(G.value),!(L&&D.length===L));H=!0);}catch(z){X=!0,ee=z}finally{try{!H&&Q.return&&Q.return()}finally{if(X)throw ee}}return D}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return C(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(T,L){for(var D=0;D<L.length;D++){var H=L[D];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(T,H.key,H)}}return function(T,L,D){return L&&C(T.prototype,L),D&&C(T,D),T}}(),l=i(2),c=y(l),d=i(0),u=y(d),h=i(5),m=y(h),f=i(10),g=y(f),p=i(9),x=y(p);function y(C){return C&&C.__esModule?C:{default:C}}function v(C,T,L){return T in C?Object.defineProperty(C,T,{value:L,enumerable:!0,configurable:!0,writable:!0}):C[T]=L,C}function b(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function w(C,T){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:C}function _(C,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);C.prototype=Object.create(T&&T.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(C,T):C.__proto__=T)}var N=(0,g.default)("quill:toolbar"),j=function(C){_(T,C);function T(L,D){b(this,T);var H=w(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,L,D));if(Array.isArray(H.options.container)){var X=document.createElement("div");E(X,H.options.container),L.container.parentNode.insertBefore(X,L.container),H.container=X}else typeof H.options.container=="string"?H.container=document.querySelector(H.options.container):H.container=H.options.container;if(!(H.container instanceof HTMLElement)){var ee;return ee=N.error("Container required for toolbar",H.options),w(H,ee)}return H.container.classList.add("ql-toolbar"),H.controls=[],H.handlers={},Object.keys(H.options.handlers).forEach(function(Q){H.addHandler(Q,H.options.handlers[Q])}),[].forEach.call(H.container.querySelectorAll("button, select"),function(Q){H.attach(Q)}),H.quill.on(m.default.events.EDITOR_CHANGE,function(Q,G){Q===m.default.events.SELECTION_CHANGE&&H.update(G)}),H.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){var Q=H.quill.selection.getRange(),G=a(Q,1),z=G[0];H.update(z)}),H}return o(T,[{key:"addHandler",value:function(D,H){this.handlers[D]=H}},{key:"attach",value:function(D){var H=this,X=[].find.call(D.classList,function(Q){return Q.indexOf("ql-")===0});if(X){if(X=X.slice(3),D.tagName==="BUTTON"&&D.setAttribute("type","button"),this.handlers[X]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[X]==null){N.warn("ignoring attaching to disabled format",X,D);return}if(u.default.query(X)==null){N.warn("ignoring attaching to nonexistent format",X,D);return}}var ee=D.tagName==="SELECT"?"change":"click";D.addEventListener(ee,function(Q){var G=void 0;if(D.tagName==="SELECT"){if(D.selectedIndex<0)return;var z=D.options[D.selectedIndex];z.hasAttribute("selected")?G=!1:G=z.value||!1}else D.classList.contains("ql-active")?G=!1:G=D.value||!D.hasAttribute("value"),Q.preventDefault();H.quill.focus();var V=H.quill.selection.getRange(),F=a(V,1),I=F[0];if(H.handlers[X]!=null)H.handlers[X].call(H,G);else if(u.default.query(X).prototype instanceof u.default.Embed){if(G=prompt("Enter "+X),!G)return;H.quill.updateContents(new c.default().retain(I.index).delete(I.length).insert(v({},X,G)),m.default.sources.USER)}else H.quill.format(X,G,m.default.sources.USER);H.update(I)}),this.controls.push([X,D])}}},{key:"update",value:function(D){var H=D==null?{}:this.quill.getFormat(D);this.controls.forEach(function(X){var ee=a(X,2),Q=ee[0],G=ee[1];if(G.tagName==="SELECT"){var z=void 0;if(D==null)z=null;else if(H[Q]==null)z=G.querySelector("option[selected]");else if(!Array.isArray(H[Q])){var V=H[Q];typeof V=="string"&&(V=V.replace(/\"/g,'\\"')),z=G.querySelector('option[value="'+V+'"]')}z==null?(G.value="",G.selectedIndex=-1):z.selected=!0}else if(D==null)G.classList.remove("ql-active");else if(G.hasAttribute("value")){var F=H[Q]===G.getAttribute("value")||H[Q]!=null&&H[Q].toString()===G.getAttribute("value")||H[Q]==null&&!G.getAttribute("value");G.classList.toggle("ql-active",F)}else G.classList.toggle("ql-active",H[Q]!=null)})}}]),T}(x.default);j.DEFAULTS={};function k(C,T,L){var D=document.createElement("button");D.setAttribute("type","button"),D.classList.add("ql-"+T),L!=null&&(D.value=L),C.appendChild(D)}function E(C,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(L){var D=document.createElement("span");D.classList.add("ql-formats"),L.forEach(function(H){if(typeof H=="string")k(D,H);else{var X=Object.keys(H)[0],ee=H[X];Array.isArray(ee)?A(D,X,ee):k(D,X,ee)}}),C.appendChild(D)})}function A(C,T,L){var D=document.createElement("select");D.classList.add("ql-"+T),L.forEach(function(H){var X=document.createElement("option");H!==!1?X.setAttribute("value",H):X.setAttribute("selected","selected"),D.appendChild(X)}),C.appendChild(D)}j.DEFAULTS={container:null,handlers:{clean:function(){var T=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var D=this.quill.getFormat();Object.keys(D).forEach(function(H){u.default.query(H,u.default.Scope.INLINE)!=null&&T.quill.format(H,!1)})}else this.quill.removeFormat(L,m.default.sources.USER)},direction:function(T){var L=this.quill.getFormat().align;T==="rtl"&&L==null?this.quill.format("align","right",m.default.sources.USER):!T&&L==="right"&&this.quill.format("align",!1,m.default.sources.USER),this.quill.format("direction",T,m.default.sources.USER)},indent:function(T){var L=this.quill.getSelection(),D=this.quill.getFormat(L),H=parseInt(D.indent||0);if(T==="+1"||T==="-1"){var X=T==="+1"?1:-1;D.direction==="rtl"&&(X*=-1),this.quill.format("indent",H+X,m.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,m.default.sources.USER)},list:function(T){var L=this.quill.getSelection(),D=this.quill.getFormat(L);T==="check"?D.list==="checked"||D.list==="unchecked"?this.quill.format("list",!1,m.default.sources.USER):this.quill.format("list","unchecked",m.default.sources.USER):this.quill.format("list",T,m.default.sources.USER)}}},n.default=j,n.addControls=E},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(p,x){for(var y=0;y<x.length;y++){var v=x[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,x,y){return x&&g(p.prototype,x),y&&g(p,y),p}}(),o=function g(p,x,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,x);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:g(b,x,y)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(y)}},l=i(28),c=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function m(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var f=function(g){m(p,g);function p(x,y){u(this,p);var v=h(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,x));return v.label.innerHTML=y,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(b){b.classList.add("ql-primary")}),v}return a(p,[{key:"buildItem",value:function(y){var v=o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"buildItem",this).call(this,y);return v.style.backgroundColor=y.getAttribute("value")||"",v}},{key:"selectItem",value:function(y,v){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"selectItem",this).call(this,y,v);var b=this.label.querySelector(".ql-color-label"),w=y&&y.getAttribute("data-value")||"";b&&(b.tagName==="line"?b.style.stroke=w:b.style.fill=w)}}]),p}(c.default);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(p,x){for(var y=0;y<x.length;y++){var v=x[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,x,y){return x&&g(p.prototype,x),y&&g(p,y),p}}(),o=function g(p,x,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,x);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:g(b,x,y)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(y)}},l=i(28),c=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function m(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var f=function(g){m(p,g);function p(x,y){u(this,p);var v=h(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,x));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(b){b.innerHTML=y[b.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return a(p,[{key:"selectItem",value:function(y,v){o(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"selectItem",this).call(this,y,v),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),p}(c.default);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function c(d,u){for(var h=0;h<u.length;h++){var m=u[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}return function(d,u,h){return u&&c(d.prototype,u),h&&c(d,h),d}}();function o(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var l=function(){function c(d,u){var h=this;o(this,c),this.quill=d,this.boundsContainer=u||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return a(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var h=u.left+u.width/2-this.root.offsetWidth/2,m=u.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=m+"px",this.root.classList.remove("ql-flip");var f=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),p=0;if(g.right>f.right&&(p=f.right-g.right,this.root.style.left=h+p+"px"),g.left<f.left&&(p=f.left-g.left,this.root.style.left=h+p+"px"),g.bottom>f.bottom){var x=g.bottom-g.top,y=u.bottom-u.top+x;this.root.style.top=m-y+"px",this.root.classList.add("ql-flip")}return p}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(C,T){var L=[],D=!0,H=!1,X=void 0;try{for(var ee=C[Symbol.iterator](),Q;!(D=(Q=ee.next()).done)&&(L.push(Q.value),!(T&&L.length===T));D=!0);}catch(G){H=!0,X=G}finally{try{!D&&ee.return&&ee.return()}finally{if(H)throw X}}return L}return function(C,T){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return A(C,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function A(C,T,L){C===null&&(C=Function.prototype);var D=Object.getOwnPropertyDescriptor(C,T);if(D===void 0){var H=Object.getPrototypeOf(C);return H===null?void 0:A(H,T,L)}else{if("value"in D)return D.value;var X=D.get;return X===void 0?void 0:X.call(L)}},l=function(){function A(C,T){for(var L=0;L<T.length;L++){var D=T[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(C,D.key,D)}}return function(C,T,L){return T&&A(C.prototype,T),L&&A(C,L),C}}(),c=i(3),d=b(c),u=i(8),h=b(u),m=i(43),f=b(m),g=i(27),p=b(g),x=i(15),y=i(41),v=b(y);function b(A){return A&&A.__esModule?A:{default:A}}function w(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function _(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function N(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var j=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],k=function(A){N(C,A);function C(T,L){w(this,C),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=j);var D=_(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,T,L));return D.quill.container.classList.add("ql-snow"),D}return l(C,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),v.default),this.tooltip=new E(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(D,H){L.handlers.link.call(L,!H.format.link)})}}]),C}(f.default);k.DEFAULTS=(0,d.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var T=this.quill.getSelection();if(T==null||T.length==0)return;var L=this.quill.getText(T);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var D=this.quill.theme.tooltip;D.edit("link",L)}else this.quill.format("link",!1)}}}}});var E=function(A){N(C,A);function C(T,L){w(this,C);var D=_(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,T,L));return D.preview=D.root.querySelector("a.ql-preview"),D}return l(C,[{key:"listen",value:function(){var L=this;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(D){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),D.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(D){if(L.linkRange!=null){var H=L.linkRange;L.restoreFocus(),L.quill.formatText(H,"link",!1,h.default.sources.USER),delete L.linkRange}D.preventDefault(),L.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(D,H,X){if(D!=null){if(D.length===0&&X===h.default.sources.USER){var ee=L.quill.scroll.descendant(p.default,D.index),Q=a(ee,2),G=Q[0],z=Q[1];if(G!=null){L.linkRange=new x.Range(D.index-z,G.length());var V=p.default.formats(G.domNode);L.preview.textContent=V,L.preview.setAttribute("href",V),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),C}(m.BaseTooltip);E.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=k},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=Ne(a),l=i(36),c=i(38),d=i(64),u=i(65),h=Ne(u),m=i(66),f=Ne(m),g=i(67),p=Ne(g),x=i(37),y=i(26),v=i(39),b=i(40),w=i(56),_=Ne(w),N=i(68),j=Ne(N),k=i(27),E=Ne(k),A=i(69),C=Ne(A),T=i(70),L=Ne(T),D=i(71),H=Ne(D),X=i(72),ee=Ne(X),Q=i(73),G=Ne(Q),z=i(13),V=Ne(z),F=i(74),I=Ne(F),B=i(75),q=Ne(B),U=i(57),W=Ne(U),te=i(41),re=Ne(te),le=i(28),ke=Ne(le),Pe=i(59),He=Ne(Pe),Ae=i(60),fe=Ne(Ae),_t=i(61),Je=Ne(_t),Oe=i(108),Ce=Ne(Oe),oe=i(62),me=Ne(oe);function Ne(Be){return Be&&Be.__esModule?Be:{default:Be}}o.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":l.AlignClass,"attributors/class/background":x.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":b.SizeClass,"attributors/style/align":l.AlignStyle,"attributors/style/background":x.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":b.SizeStyle},!0),o.default.register({"formats/align":l.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":d.IndentClass,"formats/background":x.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":v.FontClass,"formats/size":b.SizeClass,"formats/blockquote":h.default,"formats/code-block":V.default,"formats/header":f.default,"formats/list":p.default,"formats/bold":_.default,"formats/code":z.Code,"formats/italic":j.default,"formats/link":E.default,"formats/script":C.default,"formats/strike":L.default,"formats/underline":H.default,"formats/image":ee.default,"formats/video":G.default,"formats/list/item":g.ListItem,"modules/formula":I.default,"modules/syntax":q.default,"modules/toolbar":W.default,"themes/bubble":Ce.default,"themes/snow":me.default,"ui/icons":re.default,"ui/picker":ke.default,"ui/icon-picker":fe.default,"ui/color-picker":He.default,"ui/tooltip":Je.default},!0),n.default=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function p(x,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(x,b.key,b)}}return function(x,y,v){return y&&p(x.prototype,y),v&&p(x,v),x}}(),o=function p(x,y,v){x===null&&(x=Function.prototype);var b=Object.getOwnPropertyDescriptor(x,y);if(b===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:p(w,y,v)}else{if("value"in b)return b.value;var _=b.get;return _===void 0?void 0:_.call(v)}},l=i(0),c=d(l);function d(p){return p&&p.__esModule?p:{default:p}}function u(p,x){if(!(p instanceof x))throw new TypeError("Cannot call a class as a function")}function h(p,x){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:p}function m(p,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);p.prototype=Object.create(x&&x.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(p,x):p.__proto__=x)}var f=function(p){m(x,p);function x(){return u(this,x),h(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"add",value:function(v,b){if(b==="+1"||b==="-1"){var w=this.value(v)||0;b=b==="+1"?w+1:w-1}return b===0?(this.remove(v),!0):o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"add",this).call(this,v,b)}},{key:"canAdd",value:function(v,b){return o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,v,b)||o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"canAdd",this).call(this,v,parseInt(b))}},{key:"value",value:function(v){return parseInt(o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,v))||void 0}}]),x}(c.default.Attributor.Class),g=new f("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function d(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function u(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){u(f,m);function f(){return c(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="blockquote",h.tagName="blockquote",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function f(g,p){for(var x=0;x<p.length;x++){var y=p[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,x){return p&&f(g.prototype,p),x&&f(g,x),g}}(),o=i(4),l=c(o);function c(f){return f&&f.__esModule?f:{default:f}}function d(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function u(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:f}function h(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}var m=function(f){h(g,f);function g(){return d(this,g),u(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,null,[{key:"formats",value:function(x){return this.tagName.indexOf(x.tagName)+1}}]),g}(l.default);m.blotName="header",m.tagName=["H1","H2","H3","H4","H5","H6"],n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function w(_,N){for(var j=0;j<N.length;j++){var k=N[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,N,j){return N&&w(_.prototype,N),j&&w(_,j),_}}(),o=function w(_,N,j){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,N);if(k===void 0){var E=Object.getPrototypeOf(_);return E===null?void 0:w(E,N,j)}else{if("value"in k)return k.value;var A=k.get;return A===void 0?void 0:A.call(j)}},l=i(0),c=f(l),d=i(4),u=f(d),h=i(25),m=f(h);function f(w){return w&&w.__esModule?w:{default:w}}function g(w,_,N){return _ in w?Object.defineProperty(w,_,{value:N,enumerable:!0,configurable:!0,writable:!0}):w[_]=N,w}function p(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function x(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function y(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var v=function(w){y(_,w);function _(){return p(this,_),x(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(j,k){j===b.blotName&&!k?this.replaceWith(c.default.create(this.statics.scope)):o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,j,k)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(j,k){return this.parent.isolate(this.offset(this.parent),this.length()),j===this.parent.statics.blotName?(this.parent.replaceWith(j,k),this):(this.parent.unwrap(),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,j,k))}}],[{key:"formats",value:function(j){return j.tagName===this.tagName?void 0:o(_.__proto__||Object.getPrototypeOf(_),"formats",this).call(this,j)}}]),_}(u.default);v.blotName="list-item",v.tagName="LI";var b=function(w){y(_,w),a(_,null,[{key:"create",value:function(j){var k=j==="ordered"?"OL":"UL",E=o(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,k);return(j==="checked"||j==="unchecked")&&E.setAttribute("data-checked",j==="checked"),E}},{key:"formats",value:function(j){if(j.tagName==="OL")return"ordered";if(j.tagName==="UL")return j.hasAttribute("data-checked")?j.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function _(N){p(this,_);var j=x(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,N)),k=function(A){if(A.target.parentNode===N){var C=j.statics.formats(N),T=c.default.find(A.target);C==="checked"?T.format("list","unchecked"):C==="unchecked"&&T.format("list","checked")}};return N.addEventListener("touchstart",k),N.addEventListener("mousedown",k),j}return a(_,[{key:"format",value:function(j,k){this.children.length>0&&this.children.tail.format(j,k)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(j,k){if(j instanceof v)o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertBefore",this).call(this,j,k);else{var E=k==null?this.length():k.offset(this),A=this.split(E);A.parent.insertBefore(j,A)}}},{key:"optimize",value:function(j){o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,j);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&k.domNode.tagName===this.domNode.tagName&&k.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(k.moveChildren(this),k.remove())}},{key:"replace",value:function(j){if(j.statics.blotName!==this.statics.blotName){var k=c.default.create(this.statics.defaultChild);j.moveChildren(k),this.appendChild(k)}o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replace",this).call(this,j)}}]),_}(m.default);b.blotName="list",b.scope=c.default.Scope.BLOCK_BLOT,b.tagName=["OL","UL"],b.defaultChild="list-item",b.allowedChildren=[v],n.ListItem=v,n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function d(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function u(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){u(f,m);function f(){return c(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="italic",h.tagName=["EM","I"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(p,x){for(var y=0;y<x.length;y++){var v=x[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,x,y){return x&&g(p.prototype,x),y&&g(p,y),p}}(),o=function g(p,x,y){p===null&&(p=Function.prototype);var v=Object.getOwnPropertyDescriptor(p,x);if(v===void 0){var b=Object.getPrototypeOf(p);return b===null?void 0:g(b,x,y)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(y)}},l=i(6),c=d(l);function d(g){return g&&g.__esModule?g:{default:g}}function u(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function m(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var f=function(g){m(p,g);function p(){return u(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return a(p,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),p}(c.default);f.blotName="script",f.tagName=["SUB","SUP"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function d(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function u(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){u(f,m);function f(){return c(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="strike",h.tagName="S",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=l(a);function l(m){return m&&m.__esModule?m:{default:m}}function c(m,f){if(!(m instanceof f))throw new TypeError("Cannot call a class as a function")}function d(m,f){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:m}function u(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);m.prototype=Object.create(f&&f.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(m,f):m.__proto__=f)}var h=function(m){u(f,m);function f(){return c(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return f}(o.default);h.blotName="underline",h.tagName="U",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}}(),o=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:x(_,v,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=i(0),c=u(l),d=i(27);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function f(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var g=["alt","height","width"],p=function(x){f(y,x);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(b,w){g.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return typeof b=="string"&&w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return g.reduce(function(w,_){return b.hasAttribute(_)&&(w[_]=b.getAttribute(_)),w},{})}},{key:"match",value:function(b){return/\.(jpe?g|gif|png)$/.test(b)||/^data:image\/.+;base64/.test(b)}},{key:"sanitize",value:function(b){return(0,d.sanitize)(b,["http","https","data"])?b:"//:0"}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(c.default.Embed);p.blotName="image",p.tagName="IMG",n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(y,v){for(var b=0;b<v.length;b++){var w=v[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(y,w.key,w)}}return function(y,v,b){return v&&x(y.prototype,v),b&&x(y,b),y}}(),o=function x(y,v,b){y===null&&(y=Function.prototype);var w=Object.getOwnPropertyDescriptor(y,v);if(w===void 0){var _=Object.getPrototypeOf(y);return _===null?void 0:x(_,v,b)}else{if("value"in w)return w.value;var N=w.get;return N===void 0?void 0:N.call(b)}},l=i(4),c=i(27),d=u(c);function u(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(!(x instanceof y))throw new TypeError("Cannot call a class as a function")}function m(x,y){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:x}function f(x,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);x.prototype=Object.create(y&&y.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(x,y):x.__proto__=y)}var g=["height","width"],p=function(x){f(y,x);function y(){return h(this,y),m(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(b,w){g.indexOf(b)>-1?w?this.domNode.setAttribute(b,w):this.domNode.removeAttribute(b):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,b,w)}}],[{key:"create",value:function(b){var w=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,b);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(b)),w}},{key:"formats",value:function(b){return g.reduce(function(w,_){return b.hasAttribute(_)&&(w[_]=b.getAttribute(_)),w},{})}},{key:"sanitize",value:function(b){return d.default.sanitize(b)}},{key:"value",value:function(b){return b.getAttribute("src")}}]),y}(l.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function b(w,_){for(var N=0;N<_.length;N++){var j=_[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,_,N){return _&&b(w.prototype,_),N&&b(w,N),w}}(),o=function b(w,_,N){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,_);if(j===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:b(k,_,N)}else{if("value"in j)return j.value;var E=j.get;return E===void 0?void 0:E.call(N)}},l=i(35),c=f(l),d=i(5),u=f(d),h=i(9),m=f(h);function f(b){return b&&b.__esModule?b:{default:b}}function g(b,w){if(!(b instanceof w))throw new TypeError("Cannot call a class as a function")}function p(b,w){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:b}function x(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(b,w):b.__proto__=w)}var y=function(b){x(w,b);function w(){return g(this,w),p(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"create",value:function(N){var j=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,j,{throwOnError:!1,errorColor:"#f00"}),j.setAttribute("data-value",N)),j}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),w}(c.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var v=function(b){x(w,b),a(w,null,[{key:"register",value:function(){u.default.register(y,!0)}}]);function w(){g(this,w);var _=p(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return _}return w}(m.default);n.FormulaBlot=y,n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function N(j,k){for(var E=0;E<k.length;E++){var A=k[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(j,A.key,A)}}return function(j,k,E){return k&&N(j.prototype,k),E&&N(j,E),j}}(),o=function N(j,k,E){j===null&&(j=Function.prototype);var A=Object.getOwnPropertyDescriptor(j,k);if(A===void 0){var C=Object.getPrototypeOf(j);return C===null?void 0:N(C,k,E)}else{if("value"in A)return A.value;var T=A.get;return T===void 0?void 0:T.call(E)}},l=i(0),c=p(l),d=i(5),u=p(d),h=i(9),m=p(h),f=i(13),g=p(f);function p(N){return N&&N.__esModule?N:{default:N}}function x(N,j){if(!(N instanceof j))throw new TypeError("Cannot call a class as a function")}function y(N,j){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:N}function v(N,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);N.prototype=Object.create(j&&j.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(N,j):N.__proto__=j)}var b=function(N){v(j,N);function j(){return x(this,j),y(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"replaceWith",value:function(E){this.domNode.textContent=this.domNode.textContent,this.attach(),o(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,E)}},{key:"highlight",value:function(E){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=E(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),j}(g.default);b.className="ql-syntax";var w=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),_=function(N){v(j,N),a(j,null,[{key:"register",value:function(){u.default.register(w,!0),u.default.register(b,!0)}}]);function j(k,E){x(this,j);var A=y(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,k,E));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var C=null;return A.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(C),C=setTimeout(function(){A.highlight(),C=null},A.options.interval)}),A.highlight(),A}return a(j,[{key:"highlight",value:function(){var E=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(b).forEach(function(C){C.highlight(E.options.highlight)}),this.quill.update(u.default.sources.SILENT),A!=null&&this.quill.setSelection(A,u.default.sources.SILENT)}}}]),j}(m.default);_.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var j=window.hljs.highlightAuto(N);return j.value}}(),interval:1e3},n.CodeBlock=b,n.CodeToken=w,n.default=_},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function j(k,E,A){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,E);if(C===void 0){var T=Object.getPrototypeOf(k);return T===null?void 0:j(T,E,A)}else{if("value"in C)return C.value;var L=C.get;return L===void 0?void 0:L.call(A)}},o=function(){function j(k,E){for(var A=0;A<E.length;A++){var C=E[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,E,A){return E&&j(k.prototype,E),A&&j(k,A),k}}(),l=i(3),c=x(l),d=i(8),u=x(d),h=i(43),m=x(h),f=i(15),g=i(41),p=x(g);function x(j){return j&&j.__esModule?j:{default:j}}function y(j,k){if(!(j instanceof k))throw new TypeError("Cannot call a class as a function")}function v(j,k){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:j}function b(j,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],_=function(j){b(k,j);function k(E,A){y(this,k),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=w);var C=v(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,A));return C.quill.container.classList.add("ql-bubble"),C}return o(k,[{key:"extendToolbar",value:function(A){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),p.default)}}]),k}(m.default);_.DEFAULTS=(0,c.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){k?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(j){b(k,j);function k(E,A){y(this,k);var C=v(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,A));return C.quill.on(u.default.events.EDITOR_CHANGE,function(T,L,D,H){if(T===u.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&H===u.default.sources.USER){C.show(),C.root.style.left="0px",C.root.style.width="",C.root.style.width=C.root.offsetWidth+"px";var X=C.quill.getLines(L.index,L.length);if(X.length===1)C.position(C.quill.getBounds(L));else{var ee=X[X.length-1],Q=C.quill.getIndex(ee),G=Math.min(ee.length()-1,L.index+L.length-Q),z=C.quill.getBounds(new f.Range(Q,G));C.position(z)}}else document.activeElement!==C.textbox&&C.quill.hasFocus()&&C.hide()}),C}return o(k,[{key:"listen",value:function(){var A=this;a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var C=A.quill.getSelection();C!=null&&A.position(A.quill.getBounds(C))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var C=a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"position",this).call(this,A),T=this.root.querySelector(".ql-tooltip-arrow");if(T.style.marginLeft="",C===0)return C;T.style.marginLeft=-1*C-T.offsetWidth/2+"px"}}]),k}(h.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=N,n.default=_},function(r,n,i){r.exports=i(63)}]).default})})(fX);var xTe=fX.exports,vTe=xo&&xo.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rN=xo&&xo.__assign||function(){return rN=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},rN.apply(this,arguments)},yTe=xo&&xo.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,i++)n[i]=a[o];return n},Mj=xo&&xo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},dc=Mj(O),bTe=Mj(Th),bx=Mj(gTe),UL=Mj(xTe),wTe=function(t){vTe(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,o,l,c){var d,u,h,m;a==="text-change"?(u=(d=n).onEditorChangeText)===null||u===void 0||u.call(d,n.editor.root.innerHTML,o,c,n.unprivilegedEditor):a==="selection-change"&&((m=(h=n).onEditorChangeSelection)===null||m===void 0||m.call(h,o,c,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return e.prototype.validateProps=function(r){var n;if(dc.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(dc.default.Children.count(r.children)){var i=dc.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),l=(a=r.value,a??"");this.isEqualValue(l,o)||this.setEditorContents(this.editor,l)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),yTe(this.cleanProps,this.dirtyProps).some(function(c){return!bx.default(r[c],i.props[c])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!bx.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var l=this.regenerationSnapshot,a=l.delta,c=l.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(a),$L(function(){return i.setEditorSelection(d,c)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new UL.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?bx.default(r.ops,n.ops):bx.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),$L(function(){return i.setEditorSelection(r,a)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=bTe.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,o=this.state.generation,l={key:o,ref:function(c){r.editingArea=c}};return dc.default.Children.count(i)?dc.default.cloneElement(dc.default.Children.only(i),l):a?dc.default.createElement("pre",rN({},l)):dc.default.createElement("div",rN({},l))},e.prototype.render=function(){var r;return dc.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,a){var o,l;if(this.editor){var c=this.isDelta(this.value)?a.getContents():a.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=c,(l=(o=this.props).onChange)===null||l===void 0||l.call(o,r,n,i,a))}},e.prototype.onEditorChangeSelection=function(r,n,i){var a,o,l,c,d,u;if(this.editor){var h=this.getEditorSelection(),m=!h&&r,f=h&&!r;bx.default(r,h)||(this.selection=r,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,r,n,i),m?(c=(l=this.props).onFocus)===null||c===void 0||c.call(l,r,n,i):f&&((u=(d=this.props).onBlur)===null||u===void 0||u.call(d,h,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=UL.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(dc.default.Component);function $L(t){Promise.resolve().then(t)}var NTe=wTe;const mX=zc(NTe),jTe=ZQ.extend({title:Md().min(1,"Title is required"),content:Md().min(1,"Content is required"),excerpt:Md().optional(),isPublished:p1().default(!1)}).omit({slug:!0,authorId:!0});function _Te(){const[,t]=sn(),{toast:e}=ar(),r=vr(),n=WG({resolver:GG(jTe),defaultValues:{title:"",content:"",excerpt:"",isPublished:!1}}),i=Ft({mutationFn:c=>{const d=c.title.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").trim();return St("/api/admin/blog-posts",{method:"POST",body:JSON.stringify({...c,slug:d})})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/blog-posts"]}),e({title:"Success",description:"Blog post created successfully"}),t("/admin/blog-posts")},onError:()=>{e({title:"Error",description:"Failed to create blog post",variant:"destructive"})}}),a=c=>{i.mutate(c)},o={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"],["blockquote","code-block"]]},l=["header","bold","italic","underline","strike","list","bullet","script","indent","direction","color","background","font","align","link","image","video","blockquote","code-block"];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"blog-posts"}),s.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-6 sm:mb-8",children:[s.jsx(Re,{href:"/admin/blog-posts",children:s.jsxs(ie,{variant:"outline",size:"sm",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Posts"]})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Create New Blog Post"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Write and publish engaging content"})]})]}),s.jsx(YG,{...n,children:s.jsxs("form",{onSubmit:n.handleSubmit(a),className:"space-y-6 sm:space-y-8",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Post Details"})}),s.jsxs(Se,{className:"space-y-4 sm:space-y-6",children:[s.jsx(Ju,{control:n.control,name:"title",render:({field:c})=>s.jsxs(Td,{children:[s.jsx(Gf,{children:"Title"}),s.jsx(Pd,{children:s.jsx(at,{placeholder:"Enter post title...",...c,className:"text-lg"})}),s.jsx(Yf,{})]})}),n.watch("title")&&s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"URL Preview:"})," /blog/",n.watch("title").toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").trim()]}),s.jsx(Ju,{control:n.control,name:"excerpt",render:({field:c})=>s.jsxs(Td,{children:[s.jsx(Gf,{children:"Excerpt (Optional)"}),s.jsx(Pd,{children:s.jsx(Ms,{placeholder:"Brief description of the post...",...c,rows:3})}),s.jsx(Yf,{})]})}),s.jsx(Ju,{control:n.control,name:"isPublished",render:({field:c})=>s.jsxs(Td,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Gf,{className:"text-base",children:"Publish immediately"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Make this post visible to readers"})]}),s.jsx(Pd,{children:s.jsx(Gd,{checked:c.value,onCheckedChange:c.onChange})})]})})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Content"})}),s.jsx(Se,{children:s.jsx(Ju,{control:n.control,name:"content",render:({field:c})=>s.jsxs(Td,{children:[s.jsx(Pd,{children:s.jsx("div",{className:"min-h-[400px] bg-white",children:s.jsx(mX,{theme:"snow",value:c.value,onChange:c.onChange,modules:o,formats:l,placeholder:"Start writing your blog post...",style:{height:"350px"}})})}),s.jsx(Yf,{})]})})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[s.jsx(Re,{href:"/admin/blog-posts",children:s.jsx(ie,{type:"button",variant:"outline",className:"w-full sm:w-auto",children:"Cancel"})}),s.jsx(ie,{type:"submit",className:"bg-finder-red hover:bg-finder-red-dark w-full sm:w-auto",disabled:i.isPending,children:i.isPending?s.jsx(s.Fragment,{children:"Creating..."}):s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"Create Post"]})})]})]})})]})]})}const STe=ZQ.extend({title:Md().min(1,"Title is required"),content:Md().min(1,"Content is required"),excerpt:Md().optional(),isPublished:p1().default(!1)}).omit({authorId:!0});function kTe(){const t=Vc(),e=t==null?void 0:t.id,[,r]=sn(),{toast:n}=ar(),i=vr(),{data:a,isLoading:o}=pt({queryKey:[`/api/admin/blog-posts/${e}`],enabled:!!e}),l=WG({resolver:GG(STe),defaultValues:{title:"",slug:"",content:"",excerpt:"",isPublished:!1}});mr.useEffect(()=>{a&&l.reset({title:a.title,slug:a.slug,content:a.content,excerpt:a.excerpt||"",isPublished:a.isPublished})},[a,l]);const c=Ft({mutationFn:m=>{const f=m.title.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/--+/g,"-").trim();return St(`/api/admin/blog-posts/${e}`,{method:"PUT",body:JSON.stringify({...m,slug:f})})},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/admin/blog-posts"]}),i.invalidateQueries({queryKey:[`/api/admin/blog-posts/${e}`]}),n({title:"Success",description:"Blog post updated successfully"}),r("/admin/blog-posts")},onError:()=>{n({title:"Error",description:"Failed to update blog post",variant:"destructive"})}}),d=m=>{c.mutate(m)},u={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"],["blockquote","code-block"]]},h=["header","bold","italic","underline","strike","list","bullet","script","indent","direction","color","background","font","align","link","image","video","blockquote","code-block"];return o?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"blog-posts"}),s.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6",children:s.jsx("div",{className:"text-center",children:"Loading..."})})]}):a?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"blog-posts"}),s.jsxs("div",{className:"max-w-4xl mx-auto py-4 sm:py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4 mb-6 sm:mb-8",children:[s.jsx(Re,{href:"/admin/blog-posts",children:s.jsxs(ie,{variant:"outline",size:"sm",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Posts"]})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Edit Blog Post"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Update your blog content"})]})]}),s.jsx(YG,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-6 sm:space-y-8",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Post Details"})}),s.jsxs(Se,{className:"space-y-4 sm:space-y-6",children:[s.jsx(Ju,{control:l.control,name:"title",render:({field:m})=>s.jsxs(Td,{children:[s.jsx(Gf,{children:"Post Title"}),s.jsx(Pd,{children:s.jsx(at,{placeholder:"Enter a compelling title...",...m,className:"text-base sm:text-lg"})}),s.jsx(Yf,{})]})}),s.jsx(Ju,{control:l.control,name:"excerpt",render:({field:m})=>s.jsxs(Td,{children:[s.jsx(Gf,{children:"Excerpt (Optional)"}),s.jsx(Pd,{children:s.jsx(Ms,{placeholder:"Brief description or summary...",className:"resize-none",rows:3,...m})}),s.jsx(Yf,{})]})}),s.jsx(Ju,{control:l.control,name:"isPublished",render:({field:m})=>s.jsxs(Td,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Gf,{className:"text-base",children:"Publish Status"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:m.value?"This post will be publicly visible":"This post will remain as draft"})]}),s.jsx(Pd,{children:s.jsx(Gd,{checked:m.value,onCheckedChange:m.onChange})})]})})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Content"})}),s.jsx(Se,{children:s.jsx(Ju,{control:l.control,name:"content",render:({field:m})=>s.jsxs(Td,{children:[s.jsx(Pd,{children:s.jsx("div",{className:"min-h-[400px]",children:s.jsx(mX,{theme:"snow",value:m.value,onChange:m.onChange,modules:u,formats:h,className:"bg-white",style:{height:"350px"}})})}),s.jsx(Yf,{})]})})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[s.jsxs(ie,{type:"submit",disabled:c.isPending,className:"bg-finder-red hover:bg-finder-red-dark text-white flex-1 sm:flex-none",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),c.isPending?"Updating...":"Update Post"]}),s.jsx(Re,{href:"/admin/blog-posts",children:s.jsx(ie,{type:"button",variant:"outline",className:"w-full sm:w-auto",children:"Cancel"})})]})]})})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"blog-posts"}),s.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6",children:s.jsx("div",{className:"text-center",children:"Blog post not found"})})]})}const CTe={User:qr,Navigation:Lse,Search:Ds,Award:Sa,Crown:ew};function ATe(){const[t,e]=O.useState(!1),[r,n]=O.useState(null),[i,a]=O.useState({name:"",description:"",minEarnedAmount:"",minJobsCompleted:0,minReviewPercentage:0,icon:"User",iconUrl:"",color:"#3B82F6",order:1,isActive:!0}),{toast:o}=ar(),l=vr(),{data:c=[],isLoading:d}=pt({queryKey:["admin","finder-levels"],queryFn:()=>St("/api/admin/finder-levels")}),u=Ft({mutationFn:_=>St("/api/admin/finder-levels",{method:"POST",body:JSON.stringify(_)}),onSuccess:()=>{l.invalidateQueries({queryKey:["admin","finder-levels"]}),y(),e(!1),o({title:"Success",description:"Finder level created successfully"})},onError:_=>{o({variant:"destructive",title:"Error",description:_.message})}}),h=Ft({mutationFn:({id:_,data:N})=>St(`/api/admin/finder-levels/${_}`,{method:"PUT",body:JSON.stringify(N)}),onSuccess:()=>{l.invalidateQueries({queryKey:["admin","finder-levels"]}),y(),n(null),o({title:"Success",description:"Finder level updated successfully"})},onError:_=>{o({variant:"destructive",title:"Error",description:_.message})}}),m=Ft({mutationFn:_=>St(`/api/admin/finder-levels/${_}`,{method:"DELETE"}),onSuccess:()=>{l.invalidateQueries({queryKey:["admin","finder-levels"]}),o({title:"Success",description:"Finder level deleted successfully"})},onError:_=>{o({variant:"destructive",title:"Error",description:_.message})}}),f=async _=>{await u.mutateAsync(_)},g=async(_,N)=>{await h.mutateAsync({id:_,data:N})},p=async _=>{await m.mutateAsync(_)},x=async()=>{try{await St("/api/admin/finder-levels/seed",{method:"POST"}),l.invalidateQueries({queryKey:["admin","finder-levels"]}),o({title:"Success",description:"Default finder levels seeded successfully"})}catch(_){o({variant:"destructive",title:"Error",description:_.message||"Failed to seed default levels"})}},y=()=>{a({name:"",description:"",minEarnedAmount:"",minJobsCompleted:0,minReviewPercentage:0,icon:"User",iconUrl:"",color:"#3B82F6",order:1,isActive:!0})},v=_=>{a({name:_.name,description:_.description,minEarnedAmount:_.minEarnedAmount,minJobsCompleted:_.minJobsCompleted,minReviewPercentage:_.minReviewPercentage,icon:_.icon,iconUrl:_.iconUrl||"",color:_.color,order:_.order,isActive:_.isActive}),n(_)},b=async _=>{_.preventDefault();const N={...i,minEarnedAmount:i.minEarnedAmount||"0",minJobsCompleted:i.minJobsCompleted||0,minReviewPercentage:i.minReviewPercentage||0};r?await g(r.id,N):await f(N)},w=_=>{confirm("Are you sure you want to delete this finder level?")&&p(_)};return d?s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(Sr,{currentPage:"finder-levels"}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading finder levels..."})]})})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"finder-levels"}),s.jsx("div",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Sa,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Finder Levels"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Manage performance tiers"})]})]}),!t&&!r&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ie,{onClick:x,variant:"outline",className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Seed Defaults"]}),s.jsxs(ie,{onClick:()=>e(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add Level"]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx(_e,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sa,{className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),s.jsx("p",{className:"text-lg font-semibold",children:c.length})]})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Active"}),s.jsx("p",{className:"text-lg font-semibold",children:c.filter(_=>_.isActive).length})]})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ew,{className:"w-4 h-4 text-purple-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Max Tier"}),s.jsx("p",{className:"text-lg font-semibold",children:c.length>0?Math.max(...c.map(_=>_.order)):0})]})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Avg Score"}),s.jsxs("p",{className:"text-lg font-semibold",children:[c.length>0?Math.round(c.reduce((_,N)=>_+N.minReviewPercentage,0)/c.length):0,"%"]})]})]})})})]}),(t||r)&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-semibold",children:r?"Edit Finder Level":"Create New Level"}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>{e(!1),n(null),y()},children:s.jsx(ko,{className:"w-4 h-4"})})]})}),s.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"name",children:"Level Name"}),s.jsx(at,{id:"name",value:i.name,onChange:_=>a(N=>({...N,name:_.target.value})),placeholder:"e.g., Novice, Expert",required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"order",children:"Order"}),s.jsx(at,{id:"order",type:"number",value:i.order,onChange:_=>a(N=>({...N,order:parseInt(_.target.value)||1})),min:"1",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"description",children:"Description"}),s.jsx(Ms,{id:"description",value:i.description,onChange:_=>a(N=>({...N,description:_.target.value})),placeholder:"Describe this level...",rows:3,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"minEarnedAmount",children:"Min Earned ()"}),s.jsx(at,{id:"minEarnedAmount",type:"number",value:i.minEarnedAmount,onChange:_=>a(N=>({...N,minEarnedAmount:_.target.value})),placeholder:"0",min:"0",step:"0.01"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"minJobsCompleted",children:"Min Jobs"}),s.jsx(at,{id:"minJobsCompleted",type:"number",value:i.minJobsCompleted,onChange:_=>a(N=>({...N,minJobsCompleted:parseInt(_.target.value)||0})),placeholder:"0",min:"0"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"minReviewPercentage",children:"Min Review (%)"}),s.jsx(at,{id:"minReviewPercentage",type:"number",value:i.minReviewPercentage,onChange:_=>a(N=>({...N,minReviewPercentage:parseFloat(_.target.value)||0})),placeholder:"0",min:"0",max:"100",step:"0.01"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"icon",children:"Icon"}),s.jsxs("select",{id:"icon",value:i.icon,onChange:_=>a(N=>({...N,icon:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"User",children:" User"}),s.jsx("option",{value:"Navigation",children:" Navigation"}),s.jsx("option",{value:"Search",children:" Search"}),s.jsx("option",{value:"Award",children:" Award"}),s.jsx("option",{value:"Crown",children:" Crown"})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"color",children:"Color"}),s.jsx(at,{id:"color",type:"color",value:i.color,onChange:_=>a(N=>({...N,color:_.target.value})),className:"h-10"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{id:"isActive",type:"checkbox",checked:i.isActive,onChange:_=>a(N=>({...N,isActive:_.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx(Te,{htmlFor:"isActive",children:"Active Level"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(ie,{type:"submit",disabled:!1,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:r?"Update":"Create"}),s.jsx(ie,{type:"button",variant:"outline",onClick:()=>{e(!1),n(null),y()},children:"Cancel"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(_=>{const N=CTe[_.icon]||qr;return s.jsxs(_e,{className:"hover:shadow-md transition-shadow",children:[s.jsx(Ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:_.color+"20",color:_.color},children:s.jsx(N,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx(Xe,{className:"text-lg",children:_.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsxs(Ye,{variant:_.isActive?"default":"secondary",className:"text-xs",children:["Tier ",_.order]}),_.isActive&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-xs text-green-600",children:"Active"})]})]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>v(_),className:"p-2",children:s.jsx(Vl,{className:"w-3 h-3"})}),s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>w(_.id),className:"p-2 text-red-600 hover:text-red-700",children:s.jsx(Ph,{className:"w-3 h-3"})})]})]})}),s.jsxs(Se,{className:"pt-0",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:_.description}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Min Earned"}),s.jsxs("span",{className:"text-sm font-medium",children:["",parseFloat(_.minEarnedAmount).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Min Jobs"}),s.jsx("span",{className:"text-sm font-medium",children:_.minJobsCompleted})]}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[s.jsx("span",{className:"text-xs text-gray-500",children:"Min Review"}),s.jsxs("span",{className:"text-sm font-medium",children:[_.minReviewPercentage,"%"]})]})]})]})]},_.id)})}),c.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Sa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No finder levels yet"}),s.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first finder level or seed default levels to get started."}),s.jsxs("div",{className:"flex gap-4 justify-center",children:[s.jsxs(ie,{onClick:()=>e(!0),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Create First Level"]}),s.jsxs(ie,{onClick:x,variant:"outline",children:[s.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Seed Default Levels"]})]})]})]})]})}function ETe(){const{toast:t}=ar(),e=vr(),[r,n]=O.useState(""),[i,a]=O.useState(""),[o,l]=O.useState(""),[c,d]=O.useState(""),[u,h]=O.useState(""),[m,f]=O.useState(!1),{data:g={}}=pt({queryKey:["/api/admin/strike-stats"]}),{data:p=[]}=pt({queryKey:["/api/admin/disputes"]}),{data:x=[]}=pt({queryKey:["/api/offenses",i],enabled:!!i}),{data:y=[]}=pt({queryKey:["/api/admin/users"],select:j=>(j==null?void 0:j.filter(k=>k.role!=="admin"))||[]}),v=Ft({mutationFn:async j=>await St("/api/admin/strikes",{method:"POST",body:JSON.stringify(j)}),onSuccess:()=>{t({title:"Strike Issued",description:"The strike has been successfully issued to the user."}),e.invalidateQueries({queryKey:["/api/admin/strike-stats"]}),e.invalidateQueries({queryKey:["/api/admin/disputes"]}),f(!1),n(""),a(""),l(""),d(""),h("")},onError:j=>{t({title:"Error",description:j.message,variant:"destructive"})}}),b=Ft({mutationFn:async({disputeId:j,updates:k})=>await St(`/api/admin/disputes/${j}`,{method:"PATCH",body:JSON.stringify(k)}),onSuccess:()=>{t({title:"Dispute Updated",description:"The dispute status has been updated."}),e.invalidateQueries({queryKey:["/api/admin/disputes"]})},onError:j=>{t({title:"Error",description:j.message,variant:"destructive"})}}),w=()=>{if(!r||!o||!c||!i){t({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}v.mutate({userId:r,offenseType:o,evidence:c,userRole:i,contextId:u||void 0})},_=(j,k,E)=>{b.mutate({disputeId:j,updates:{status:k,resolution:E,reviewedAt:new Date}})},N=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800";case"investigating":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:[s.jsx(Sr,{currentPage:"strikes"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 sm:py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Strike System"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-500 dark:text-gray-400 font-medium",children:"Community protection and behavior management"})]}),s.jsxs(qi,{open:m,onOpenChange:f,children:[s.jsx(gh,{asChild:!0,children:s.jsxs(ie,{size:"sm",className:"w-full sm:w-auto",children:[s.jsx(Wr,{className:"h-4 w-4 mr-2"}),"Issue Strike"]})}),s.jsxs(Ni,{children:[s.jsxs(ji,{children:[s.jsx(_i,{children:"Issue Strike to User"}),s.jsx(Xy,{children:"Issue a strike to a user for policy violations or inappropriate behavior."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"user",children:"User"}),s.jsxs(Br,{value:r,onValueChange:n,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Select a user"})}),s.jsx(Dr,{children:y==null?void 0:y.map(j=>s.jsxs(dt,{value:j.id,children:[j.firstName," ",j.lastName," (",j.email,")"]},j.id))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"role",children:"User Role"}),s.jsxs(Br,{value:i,onValueChange:a,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Select user role"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"client",children:"Client"}),s.jsx(dt,{value:"finder",children:"Finder"})]})]})]}),i&&s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"offense",children:"Offense Type"}),s.jsxs(Br,{value:o,onValueChange:l,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Select offense type"})}),s.jsx(Dr,{children:x==null?void 0:x.map(j=>s.jsx(dt,{value:j.offense,children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"flex-1",children:j.offense}),s.jsx(F3,{level:j.strikeLevel,variant:"compact",className:"ml-2"})]})},j.offense))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"evidence",children:"Evidence"}),s.jsx(Ms,{value:c,onChange:j=>d(j.target.value),placeholder:"Provide detailed evidence and reasoning for the strike..."})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"context",children:"Context ID (Optional)"}),s.jsx(at,{value:u,onChange:j=>h(j.target.value),placeholder:"Contract ID, Find ID, or Proposal ID for context"})]})]}),s.jsx(lj,{children:s.jsx(ie,{onClick:w,disabled:v.isPending,children:v.isPending?"Issuing...":"Issue Strike"})})]})]})]}),s.jsxs(_e,{className:"bg-white/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 dark:bg-gray-800/80 mb-6",children:[s.jsx(Ze,{className:"pb-3",children:s.jsxs(Xe,{className:"text-base sm:text-lg flex items-center gap-2",children:[s.jsx($r,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Severity Indicators"]})}),s.jsx(Se,{children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-4",children:[1,2,3,4].map(j=>s.jsx(F3,{level:j,variant:"detailed",className:"border-2 text-xs sm:text-sm"},j))})})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 sm:gap-4 mb-6",children:[s.jsxs(_e,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Xe,{className:"text-xs sm:text-sm font-medium",children:"Total Users"}),s.jsx(dn,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),s.jsx(Se,{className:"pt-1",children:s.jsx("div",{className:"text-lg sm:text-2xl font-bold",children:(g==null?void 0:g.totalUsers)||0})})]}),s.jsxs(_e,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Xe,{className:"text-xs sm:text-sm font-medium",children:"With Strikes"}),s.jsx(Wr,{className:"h-3 w-3 sm:h-4 sm:w-4 text-orange-600"})]}),s.jsx(Se,{className:"pt-1",children:s.jsx("div",{className:"text-lg sm:text-2xl font-bold",children:(g==null?void 0:g.usersWithActiveStrikes)||0})})]}),s.jsxs(_e,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Xe,{className:"text-xs sm:text-sm font-medium",children:"Recent"}),s.jsx(ai,{className:"h-3 w-3 sm:h-4 sm:w-4 text-red-600"})]}),s.jsxs(Se,{className:"pt-1",children:[s.jsx("div",{className:"text-lg sm:text-2xl font-bold",children:(g==null?void 0:g.recentStrikes)||0}),s.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"Last 30 days"})]})]}),s.jsxs(_e,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Xe,{className:"text-xs sm:text-sm font-medium",children:"Disputes"}),s.jsx(as,{className:"h-3 w-3 sm:h-4 sm:w-4 text-blue-600"})]}),s.jsx(Se,{className:"pt-1",children:s.jsx("div",{className:"text-lg sm:text-2xl font-bold",children:(g==null?void 0:g.disputesInReview)||0})})]}),s.jsxs(_e,{className:"col-span-2 sm:col-span-1",children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Xe,{className:"text-xs sm:text-sm font-medium",children:"Protection"}),s.jsx($r,{className:"h-3 w-3 sm:h-4 sm:w-4 text-green-600"})]}),s.jsx(Se,{className:"pt-1",children:s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-green-600",children:"Active"})})]})]}),s.jsxs(_e,{children:[s.jsxs(Ze,{children:[s.jsx(Xe,{children:"Strike Count Distribution"}),s.jsx(Ka,{children:"Breakdown of users by their total strike points"})]}),s.jsxs(Se,{children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["1-2","3-5","6-9","10+"].map(j=>{var A;const k=((A=g==null?void 0:g.strikeCountBreakdown)==null?void 0:A[j])||0,E={"1-2":{icon:"",name:"Low Risk",color:"blue"},"3-5":{icon:"",name:"Medium Risk",color:"yellow"},"6-9":{icon:"",name:"High Risk",color:"orange"},"10+":{icon:"",name:"Banned",color:"red"}}[j];return s.jsxs("div",{className:"text-center p-4 rounded-lg bg-gray-50 dark:bg-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx("span",{className:"text-2xl",children:E.icon}),s.jsx("div",{className:"text-3xl font-bold",children:k})]}),s.jsxs("div",{className:`px-2 py-1 rounded text-xs font-medium mb-2 ${E.color==="blue"?"bg-blue-100 text-blue-800":E.color==="yellow"?"bg-yellow-100 text-yellow-800":E.color==="orange"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:[j," points"]}),s.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:E.name}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:k===1?"user":"users"})]},j)})}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total Strike Distribution"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[Object.values((g==null?void 0:g.strikeCountBreakdown)||{}).reduce((j,k)=>j+k,0)," users affected"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:["1-2","3-5","6-9","10+"].map(j=>{var T;const k=((T=g==null?void 0:g.strikeCountBreakdown)==null?void 0:T[j])||0,E=Object.values((g==null?void 0:g.strikeCountBreakdown)||{}).reduce((L,D)=>L+D,0),A=E>0?k/E*100:0,C={"1-2":"bg-yellow-500","3-5":"bg-orange-500","6-9":"bg-red-500","10+":"bg-gray-900"};return s.jsx("div",{className:`h-full ${C[j]} inline-block`,style:{width:`${A}%`},title:`${j} points: ${k} users (${A.toFixed(1)}%)`},j)})})]})]})]}),s.jsxs(_e,{children:[s.jsxs(Ze,{children:[s.jsx(Xe,{children:"Pending Disputes"}),s.jsx(Ka,{children:"User appeals and complaints requiring review"})]}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[p==null?void 0:p.filter(j=>j.status==="pending"||j.status==="investigating").map(j=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ye,{className:N(j.status),children:j.status.charAt(0).toUpperCase()+j.status.slice(1)}),s.jsx("span",{className:"text-sm text-gray-600",children:new Date(j.submittedAt).toLocaleDateString()})]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>_(j.id,"investigating"),disabled:b.isPending,children:"Investigate"}),s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>_(j.id,"resolved","Dispute resolved after review"),disabled:b.isPending,children:"Resolve"}),s.jsx(ie,{size:"sm",variant:"outline",onClick:()=>_(j.id,"rejected","Dispute rejected after review"),disabled:b.isPending,children:"Reject"})]})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Type:"})," ",j.type.replace("_"," ").toUpperCase()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Description:"})," ",j.description]}),j.evidence&&s.jsxs("p",{children:[s.jsx("strong",{children:"Evidence:"})," ",j.evidence]})]})]},j.id)),(!p||p.filter(j=>j.status==="pending"||j.status==="investigating").length===0)&&s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No pending disputes to review"})]})})]})]})]})}function TTe(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(""),[a,o]=O.useState("general"),[l,c]=O.useState("flag"),[d,u]=O.useState(""),{data:h=[],isLoading:m}=pt({queryKey:["/api/admin/restricted-words"],enabled:!!t&&t.role==="admin"}),f=Ft({mutationFn:async _=>(console.log("Adding restricted word:",_),await St("/api/admin/restricted-words",{method:"POST",body:JSON.stringify(_)})),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/restricted-words"]}),i(""),o("general"),c("flag"),e({title:"Success",description:"Restricted word added successfully"})},onError:_=>{e({title:"Error",description:_.message,variant:"destructive"})}}),g=Ft({mutationFn:async _=>await St(`/api/admin/restricted-words/${_}`,{method:"DELETE"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/restricted-words"]}),e({title:"Success",description:"Restricted word removed successfully"})},onError:_=>{e({title:"Error",description:_.message,variant:"destructive"})}}),p=()=>{if(!n.trim()){e({title:"Error",description:"Please enter a word to restrict",variant:"destructive"});return}f.mutate({word:n.trim(),category:a,severity:l})},x=_=>{g.mutate(_)},y=h.filter(_=>_.word.toLowerCase().includes(d.toLowerCase())||_.category.toLowerCase().includes(d.toLowerCase())),v=_=>{switch(_){case"block":return"bg-red-100 text-red-800 border-red-200";case"review":return"bg-orange-100 text-orange-800 border-orange-200";case"flag":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},b=_=>{switch(_){case"block":return s.jsx(BT,{className:"w-3 h-3"});case"review":return s.jsx(ms,{className:"w-3 h-3"});case"flag":return s.jsx(Wr,{className:"w-3 h-3"});default:return s.jsx($r,{className:"w-3 h-3"})}};if(m)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"restricted-words"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading restricted words..."})]})})]});const w={total:h.length,flagWords:h.filter(_=>_.severity==="flag").length,reviewWords:h.filter(_=>_.severity==="review").length,blockWords:h.filter(_=>_.severity==="block").length};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20 dark:from-gray-900 dark:via-blue-900/10 dark:to-indigo-900/10",children:[s.jsx(Sr,{currentPage:"restricted-words"}),s.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600 to-orange-600 rounded-2xl blur opacity-60"}),s.jsx("div",{className:"relative p-4 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl",children:s.jsx($r,{className:"w-7 h-7 text-white"})})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Restricted Words"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Manage content filtering and moderation"})]})]}),s.jsxs("div",{className:"relative max-w-md w-full",children:[s.jsx(Ds,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx(at,{placeholder:"Search restricted words...",value:d,onChange:_=>u(_.target.value),className:"pl-12 h-12 bg-white/80 dark:bg-gray-800/80 border-gray-200/50 dark:border-gray-700/50 rounded-xl"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($r,{className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total Words"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:w.total})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wr,{className:"w-4 h-4 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Flag Words"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:w.flagWords})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ms,{className:"w-4 h-4 text-orange-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Review Words"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:w.reviewWords})]})]})}),s.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm p-4 rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(BT,{className:"w-4 h-4 text-red-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Block Words"}),s.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:w.blockWords})]})]})})]})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs(_e,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-0 shadow-lg mb-8",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-5 h-5"}),"Add Restricted Word"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"word",children:"Word"}),s.jsx(at,{id:"word",placeholder:"Enter word to restrict",value:n,onChange:_=>i(_.target.value),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"category",children:"Category"}),s.jsxs(Br,{value:a,onValueChange:o,children:[s.jsx(Ir,{className:"mt-1",children:s.jsx(Ur,{})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"general",children:"General"}),s.jsx(dt,{value:"profanity",children:"Profanity"}),s.jsx(dt,{value:"spam",children:"Spam"}),s.jsx(dt,{value:"inappropriate",children:"Inappropriate"}),s.jsx(dt,{value:"illegal",children:"Illegal Content"})]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"severity",children:"Action"}),s.jsxs(Br,{value:l,onValueChange:c,children:[s.jsx(Ir,{className:"mt-1",children:s.jsx(Ur,{})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"flag",children:"Flag for Review"}),s.jsx(dt,{value:"review",children:"Auto Review"}),s.jsx(dt,{value:"block",children:"Block Content"})]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(ie,{onClick:p,disabled:f.isPending,className:"w-full bg-blue-600 hover:bg-blue-700",children:f.isPending?"Adding...":"Add Word"})})]})})]}),s.jsxs(_e,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-0 shadow-lg",children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Restricted Words Directory"})}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-3",children:y.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($r,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:d?"No matching words found":"No restricted words"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:d?"Try adjusting your search terms":"Start by adding words to restrict"})]}):y.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50/50 dark:bg-gray-700/50 rounded-lg border border-gray-200/50 dark:border-gray-600/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"font-mono text-lg font-semibold text-gray-900 dark:text-white bg-white dark:bg-gray-800 px-3 py-1 rounded border",children:_.word}),s.jsx(Ye,{className:`px-3 py-1 rounded-full text-xs font-medium ${v(_.severity)}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[b(_.severity),_.severity]})}),s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:_.category})]}),s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>x(_.id),disabled:g.isPending,className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:s.jsx(Ph,{className:"w-4 h-4"})})]},_.id))})})]})]})]})}var pX="AlertDialog",[PTe]=Fa(pX,[N$]),tu=N$(),gX=t=>{const{__scopeAlertDialog:e,...r}=t,n=tu(e);return s.jsx(V6,{...n,...r,modal:!0})};gX.displayName=pX;var FTe="AlertDialogTrigger",xX=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=tu(r);return s.jsx(H6,{...i,...n,ref:e})});xX.displayName=FTe;var OTe="AlertDialogPortal",vX=t=>{const{__scopeAlertDialog:e,...r}=t,n=tu(e);return s.jsx(W6,{...n,...r})};vX.displayName=OTe;var LTe="AlertDialogOverlay",yX=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=tu(r);return s.jsx(Vy,{...i,...n,ref:e})});yX.displayName=LTe;var Xp="AlertDialogContent",[RTe,ITe]=PTe(Xp),DTe=HB("AlertDialogContent"),bX=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=tu(r),o=O.useRef(null),l=zr(e,o),c=O.useRef(null);return s.jsx(hoe,{contentName:Xp,titleName:wX,docsSlug:"alert-dialog",children:s.jsx(RTe,{scope:r,cancelRef:c,children:s.jsxs(Hy,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Pt(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(DTe,{children:n}),s.jsx(BTe,{contentRef:o})]})})})});bX.displayName=Xp;var wX="AlertDialogTitle",NX=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=tu(r);return s.jsx(Wy,{...i,...n,ref:e})});NX.displayName=wX;var jX="AlertDialogDescription",_X=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=tu(r);return s.jsx(Ky,{...i,...n,ref:e})});_X.displayName=jX;var MTe="AlertDialogAction",SX=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=tu(r);return s.jsx(rj,{...i,...n,ref:e})});SX.displayName=MTe;var kX="AlertDialogCancel",CX=O.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=ITe(kX,r),a=tu(r),o=zr(e,i);return s.jsx(rj,{...a,...n,ref:o})});CX.displayName=kX;var BTe=({contentRef:t})=>{const e=`\`${Xp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xp}\` by passing a \`${jX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return O.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},UTe=gX,$Te=xX,qTe=vX,AX=yX,EX=bX,TX=SX,PX=CX,FX=NX,OX=_X;const ay=UTe,uk=$Te,zTe=qTe,LX=O.forwardRef(({className:t,...e},r)=>s.jsx(AX,{className:Ot("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));LX.displayName=AX.displayName;const X0=O.forwardRef(({className:t,...e},r)=>s.jsxs(zTe,{children:[s.jsx(LX,{}),s.jsx(EX,{ref:r,className:Ot("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));X0.displayName=EX.displayName;const J0=({className:t,...e})=>s.jsx("div",{className:Ot("flex flex-col space-y-2 text-center sm:text-left",t),...e});J0.displayName="AlertDialogHeader";const Z0=({className:t,...e})=>s.jsx("div",{className:Ot("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Z0.displayName="AlertDialogFooter";const eg=O.forwardRef(({className:t,...e},r)=>s.jsx(FX,{ref:r,className:Ot("text-lg font-semibold",t),...e}));eg.displayName=FX.displayName;const tg=O.forwardRef(({className:t,...e},r)=>s.jsx(OX,{ref:r,className:Ot("text-sm text-muted-foreground",t),...e}));tg.displayName=OX.displayName;const rg=O.forwardRef(({className:t,...e},r)=>s.jsx(TX,{ref:r,className:Ot(M6(),t),...e}));rg.displayName=TX.displayName;const sg=O.forwardRef(({className:t,...e},r)=>s.jsx(PX,{ref:r,className:Ot(M6({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));sg.displayName=PX.displayName;const Gb=[{value:"general",label:"General Support",color:"bg-blue-100 text-blue-800"},{value:"technical",label:"Technical Support",color:"bg-purple-100 text-purple-800"},{value:"billing",label:"Billing & Payments",color:"bg-green-100 text-green-800"},{value:"disputes",label:"Disputes & Moderation",color:"bg-orange-100 text-orange-800"},{value:"verification",label:"Account Verification",color:"bg-indigo-100 text-indigo-800"}],qL=[{value:"view_tickets",label:"View Tickets"},{value:"respond_tickets",label:"Respond to Tickets"},{value:"assign_tickets",label:"Assign Tickets"},{value:"close_tickets",label:"Close Tickets"},{value:"view_user_data",label:"View User Data"},{value:"escalate_tickets",label:"Escalate Tickets"},{value:"internal_notes",label:"Add Internal Notes"},{value:"bulk_operations",label:"Bulk Operations"}],VTe=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"pt",label:"Portuguese"},{value:"ar",label:"Arabic"},{value:"ha",label:"Hausa"},{value:"yo",label:"Yoruba"},{value:"ig",label:"Igbo"}];function HTe(){const{toast:t}=ar(),e=vr(),[r,n]=O.useState(!1),[i,a]=O.useState(!1),[o,l]=O.useState(null),[c,d]=O.useState({email:"",firstName:"",lastName:"",department:"",permissions:[],maxTicketsPerDay:20,responseTimeTarget:24,specializations:[],languages:["en"]}),{data:u,isLoading:h}=pt({queryKey:["support-agents"],queryFn:()=>St("/api/admin/support-agents")}),{data:m}=pt({queryKey:["users"],queryFn:()=>St("/api/admin/users")}),f=Ft({mutationFn:N=>St("/api/admin/support-agents",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{e.invalidateQueries({queryKey:["support-agents"]}),n(!1),d({email:"",firstName:"",lastName:"",department:"",permissions:[],maxTicketsPerDay:20,responseTimeTarget:24,specializations:[],languages:["en"]}),t({title:"Success",description:"Support agent created successfully"})},onError:N=>{t({title:"Error",description:N.message||"Failed to create support agent",variant:"destructive"})}}),g=Ft({mutationFn:({id:N,data:j})=>St(`/api/admin/support-agents/${N}`,{method:"PUT",body:JSON.stringify(j)}),onSuccess:()=>{e.invalidateQueries({queryKey:["support-agents"]}),a(!1),l(null),t({title:"Success",description:"Support agent updated successfully"})},onError:N=>{t({title:"Error",description:N.message||"Failed to update support agent",variant:"destructive"})}}),p=Ft({mutationFn:({id:N,reason:j})=>St(`/api/admin/support-agents/${N}/suspend`,{method:"POST",body:JSON.stringify({reason:j})}),onSuccess:()=>{e.invalidateQueries({queryKey:["support-agents"]}),t({title:"Success",description:"Support agent suspended successfully"})},onError:N=>{t({title:"Error",description:N.message||"Failed to suspend support agent",variant:"destructive"})}}),x=Ft({mutationFn:N=>St(`/api/admin/support-agents/${N}/reactivate`,{method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["support-agents"]}),t({title:"Success",description:"Support agent reactivated successfully"})},onError:N=>{t({title:"Error",description:N.message||"Failed to reactivate support agent",variant:"destructive"})}}),y=Ft({mutationFn:N=>St(`/api/admin/support-agents/${N}`,{method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["support-agents"]}),t({title:"Success",description:"Support agent deleted successfully"})},onError:N=>{t({title:"Error",description:N.message||"Failed to delete support agent",variant:"destructive"})}}),v=()=>{if(!c.email||!c.firstName||!c.lastName||!c.department||c.permissions.length===0){t({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}f.mutate(c)},b=()=>{o&&g.mutate({id:o.id,data:o})},w=N=>{const j=prompt("Please provide a reason for suspension:");j&&p.mutate({id:N.id,reason:j})},_=N=>{const j=Gb.find(k=>k.value===N);return j?s.jsx(Ye,{className:j.color,children:j.label}):s.jsx(Ye,{variant:"outline",children:N})};return m!=null&&m.filter(N=>!(u!=null&&u.some(j=>j.userId===N.id))),h?s.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading support agents..."}):s.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[s.jsx(Sr,{}),s.jsxs("main",{className:"flex-1 flex flex-col gap-6 p-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Support Agents"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Manage customer support team members and their permissions"}),s.jsx("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Note:"})," Support agents have limited privileges for handling customer tickets only. They do not have access to admin functions like user management, system settings, or financial data."]})})]}),s.jsxs(qi,{open:r,onOpenChange:n,children:[s.jsx(gh,{asChild:!0,children:s.jsxs(ie,{className:"mt-4 sm:mt-0 bg-finder-red hover:bg-finder-red/90 w-full sm:w-auto",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add Agent"]})}),s.jsxs(Ni,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(ji,{children:s.jsx(_i,{children:"Create Support Agent"})}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"email",children:"Email Address"}),s.jsx(at,{type:"email",value:c.email,onChange:N=>d({...c,email:N.target.value}),placeholder:"Enter email address",className:"h-8"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"firstName",children:"First Name"}),s.jsx(at,{type:"text",value:c.firstName,onChange:N=>d({...c,firstName:N.target.value}),placeholder:"First name",className:"h-8"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"lastName",children:"Last Name"}),s.jsx(at,{type:"text",value:c.lastName,onChange:N=>d({...c,lastName:N.target.value}),placeholder:"last name",className:"h-8"})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"department",children:"Department"}),s.jsxs(Br,{value:c.department,onValueChange:N=>d({...c,department:N}),children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Select department"})}),s.jsx(Dr,{children:Gb.map(N=>s.jsx(dt,{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{children:"Permissions"}),s.jsx("div",{className:"grid grid-cols-1 gap-1 mt-2 max-h-32 overflow-y-auto border rounded p-2",children:qL.map(N=>s.jsxs("label",{className:"flex items-center space-x-2 text-xs",children:[s.jsx("input",{type:"checkbox",checked:c.permissions.includes(N.value),onChange:j=>{j.target.checked?d({...c,permissions:[...c.permissions,N.value]}):d({...c,permissions:c.permissions.filter(k=>k!==N.value)})},className:"rounded"}),s.jsx("span",{children:N.label})]},N.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"maxTicketsPerDay",className:"text-sm",children:"Max Tickets Per Day"}),s.jsx(at,{type:"number",value:c.maxTicketsPerDay,onChange:N=>d({...c,maxTicketsPerDay:parseInt(N.target.value)}),min:1,max:100,className:"h-8"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"responseTimeTarget",className:"text-sm",children:"Response Time Target (hours)"}),s.jsx(at,{type:"number",value:c.responseTimeTarget,onChange:N=>d({...c,responseTimeTarget:parseInt(N.target.value)}),min:1,max:168,className:"h-8"})]})]}),s.jsxs("div",{children:[s.jsx(Te,{children:"Languages"}),s.jsx("div",{className:"grid grid-cols-2 gap-1 mt-2 max-h-24 overflow-y-auto border rounded p-2",children:VTe.map(N=>s.jsxs("label",{className:"flex items-center space-x-2 text-xs",children:[s.jsx("input",{type:"checkbox",checked:c.languages.includes(N.value),onChange:j=>{j.target.checked?d({...c,languages:[...c.languages,N.value]}):d({...c,languages:c.languages.filter(k=>k!==N.value)})},className:"rounded"}),s.jsx("span",{children:N.label})]},N.value))})]}),s.jsxs("div",{className:"flex flex-col space-y-2 pt-4 border-t",children:[s.jsx(ie,{onClick:v,disabled:f.isPending,className:"w-full bg-finder-red hover:bg-finder-red/90",children:f.isPending?"Creating...":"Create Agent"}),s.jsx(ie,{variant:"outline",onClick:()=>n(!1),className:"w-full",children:"Cancel"})]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(dn,{className:"w-8 h-8 text-blue-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.length)||0}),s.jsx("p",{className:"text-gray-600",children:"Total Agents"})]})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(br,{className:"w-8 h-8 text-green-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.filter(N=>N.isActive).length)||0}),s.jsx("p",{className:"text-gray-600",children:"Active Agents"})]})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(LS,{className:"w-8 h-8 text-red-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.filter(N=>!N.isActive).length)||0}),s.jsx("p",{className:"text-gray-600",children:"Suspended"})]})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(zN,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-2xl font-bold",children:Gb.length}),s.jsx("p",{className:"text-gray-600",children:"Departments"})]})]})})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Support Agents"})}),s.jsx(Se,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[800px]",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4",children:"Agent"}),s.jsx("th",{className:"text-left p-4",children:"Department"}),s.jsx("th",{className:"text-left p-4",children:"Status"}),s.jsx("th",{className:"text-left p-4",children:"Permissions"}),s.jsx("th",{className:"text-left p-4",children:"Capacity"}),s.jsx("th",{className:"text-left p-4",children:"Languages"}),s.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),s.jsx("tbody",{children:u==null?void 0:u.map(N=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[N.user.firstName," ",N.user.lastName]}),s.jsx("div",{className:"text-sm text-gray-600",children:N.user.email}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",N.agentId]})]})}),s.jsx("td",{className:"p-4 whitespace-nowrap",children:_(N.department)}),s.jsxs("td",{className:"p-4 whitespace-nowrap",children:[N.isActive?s.jsxs(Ye,{className:"bg-green-100 text-green-800",children:[s.jsx(br,{className:"w-3 h-3 mr-1"}),"Active"]}):s.jsxs(Ye,{className:"bg-red-100 text-red-800",children:[s.jsx(Wr,{className:"w-3 h-3 mr-1"}),"Suspended"]}),N.suspendedAt&&s.jsx("div",{className:"text-xs text-red-600 mt-1",children:N.suspensionReason})]}),s.jsx("td",{className:"p-4 max-w-xs",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.permissions.slice(0,2).map(j=>s.jsx(Ye,{variant:"outline",className:"text-xs",children:j.replace("_"," ")},j)),N.permissions.length>2&&s.jsxs(Ye,{variant:"outline",className:"text-xs",children:["+",N.permissions.length-2," more"]})]})}),s.jsx("td",{className:"p-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[N.maxTicketsPerDay," tickets/day"]}),s.jsxs("div",{className:"text-gray-600",children:[s.jsx(hr,{className:"w-3 h-3 inline mr-1"}),N.responseTimeTarget,"h target"]})]})}),s.jsx("td",{className:"p-4 max-w-xs",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[N.languages.slice(0,2).map(j=>s.jsx(Ye,{variant:"outline",className:"text-xs",children:j.toUpperCase()},j)),N.languages.length>2&&s.jsxs(Ye,{variant:"outline",className:"text-xs",children:["+",N.languages.length-2," more"]})]})}),s.jsx("td",{className:"p-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>{l(N),a(!0)},children:s.jsx(Vl,{className:"w-3 h-3"})}),N.isActive?s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>w(N),children:s.jsx(LS,{className:"w-3 h-3"})}):s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>x.mutate(N.id),children:s.jsx(_U,{className:"w-3 h-3"})}),s.jsxs(ay,{children:[s.jsx(uk,{asChild:!0,children:s.jsx(ie,{variant:"outline",size:"sm",className:"text-red-600",children:s.jsx(Ph,{className:"w-3 h-3"})})}),s.jsxs(X0,{children:[s.jsxs(J0,{children:[s.jsx(eg,{children:"Delete Support Agent"}),s.jsx(tg,{children:"Are you sure you want to delete this support agent? This action cannot be undone."})]}),s.jsxs(Z0,{children:[s.jsx(sg,{children:"Cancel"}),s.jsx(rg,{onClick:()=>y.mutate(N.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})})]},N.id))})]})})})]}),s.jsx(qi,{open:i,onOpenChange:a,children:s.jsxs(Ni,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx(ji,{children:s.jsx(_i,{children:"Edit Support Agent"})}),o&&s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsxs("div",{children:[s.jsx(Te,{children:"Agent Information"}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded",children:[s.jsxs("div",{className:"font-medium",children:[o.user.firstName," ",o.user.lastName]}),s.jsx("div",{className:"text-sm text-gray-600",children:o.user.email}),s.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",o.agentId]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"department",children:"Department"}),s.jsxs(Br,{value:o.department,onValueChange:N=>l({...o,department:N}),children:[s.jsx(Ir,{children:s.jsx(Ur,{})}),s.jsx(Dr,{children:Gb.map(N=>s.jsx(dt,{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{children:"Permissions"}),s.jsx("div",{className:"grid grid-cols-1 gap-1 mt-2 max-h-32 overflow-y-auto border rounded p-2",children:qL.map(N=>s.jsxs("label",{className:"flex items-center space-x-2 text-xs",children:[s.jsx("input",{type:"checkbox",checked:o.permissions.includes(N.value),onChange:j=>{j.target.checked?l({...o,permissions:[...o.permissions,N.value]}):l({...o,permissions:o.permissions.filter(k=>k!==N.value)})},className:"rounded"}),s.jsx("span",{children:N.label})]},N.value))})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"maxTicketsPerDay",className:"text-sm",children:"Max Tickets Per Day"}),s.jsx(at,{type:"number",value:o.maxTicketsPerDay,onChange:N=>l({...o,maxTicketsPerDay:parseInt(N.target.value)}),min:1,max:100,className:"h-8"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"responseTimeTarget",className:"text-sm",children:"Response Time Target (hours)"}),s.jsx(at,{type:"number",value:o.responseTimeTarget,onChange:N=>l({...o,responseTimeTarget:parseInt(N.target.value)}),min:1,max:168,className:"h-8"})]})]}),s.jsxs("div",{className:"flex flex-col space-y-2 pt-4 border-t",children:[s.jsx(ie,{onClick:b,disabled:g.isPending,className:"w-full bg-finder-red hover:bg-finder-red/90",children:g.isPending?"Updating...":"Update Agent"}),s.jsx(ie,{variant:"outline",onClick:()=>a(!1),className:"w-full",children:"Cancel"})]})]})]})})]})]})}function WTe(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(""),[a,o]=O.useState("all"),[l,c]=O.useState(!1),[d,u]=O.useState(!1),[h,m]=O.useState(null),{data:f=[],isLoading:g}=pt({queryKey:["/api/admin/faqs"],enabled:!!t&&t.role==="admin"}),{data:p=[],isLoading:x}=pt({queryKey:["/api/admin/faq-categories"],enabled:!!t&&t.role==="admin"}),y=Ft({mutationFn:async N=>St("/api/admin/faqs",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/faqs"]}),e({title:"FAQ created successfully"}),c(!1)},onError:N=>{e({title:"Error creating FAQ",description:N.message,variant:"destructive"})}}),v=Ft({mutationFn:async({id:N,...j})=>St(`/api/admin/faqs/${N}`,{method:"PUT",body:JSON.stringify(j)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/faqs"]}),e({title:"FAQ updated successfully"}),u(!1),m(null)},onError:N=>{e({title:"Error updating FAQ",description:N.message,variant:"destructive"})}}),b=Ft({mutationFn:async N=>St(`/api/admin/faqs/${N}`,{method:"DELETE"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/faqs"]}),e({title:"FAQ deleted successfully"})},onError:N=>{e({title:"Error deleting FAQ",description:N.message,variant:"destructive"})}}),w=f.filter(N=>{var E;const j=N.question.toLowerCase().includes(n.toLowerCase())||N.answer.toLowerCase().includes(n.toLowerCase())||((E=N.tags)==null?void 0:E.some(A=>A.toLowerCase().includes(n.toLowerCase()))),k=a==="all"||N.category===a;return j&&k}),_=({faq:N,onSubmit:j,isEditing:k=!1})=>{var T;const[E,A]=O.useState({question:(N==null?void 0:N.question)||"",answer:(N==null?void 0:N.answer)||"",category:(N==null?void 0:N.category)||"",tags:((T=N==null?void 0:N.tags)==null?void 0:T.join(", "))||"",isActive:(N==null?void 0:N.isActive)??!0,sortOrder:(N==null?void 0:N.sortOrder)||0}),C=L=>{L.preventDefault();const D=E.tags.split(",").map(H=>H.trim()).filter(Boolean);j({...E,tags:D,...k&&{id:N==null?void 0:N.id}})};return s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"question",children:"Question"}),s.jsx(at,{id:"question",value:E.question,onChange:L=>A(D=>({...D,question:L.target.value})),placeholder:"Enter FAQ question",required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"answer",children:"Answer"}),s.jsx(Ms,{id:"answer",value:E.answer,onChange:L=>A(D=>({...D,answer:L.target.value})),placeholder:"Enter FAQ answer",rows:4,required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"category",children:"Category"}),s.jsxs(Br,{value:E.category,onValueChange:L=>A(D=>({...D,category:L})),children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Select category"})}),s.jsx(Dr,{children:p.filter(L=>L.isActive).map(L=>s.jsx(dt,{value:L.name,children:L.name},L.id))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"tags",children:"Tags (comma separated)"}),s.jsx(at,{id:"tags",value:E.tags,onChange:L=>A(D=>({...D,tags:L.target.value})),placeholder:"e.g., registration, payment, tokens"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(at,{id:"sortOrder",type:"number",value:E.sortOrder,onChange:L=>A(D=>({...D,sortOrder:parseInt(L.target.value)||0})),placeholder:"0"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gd,{id:"isActive",checked:E.isActive,onCheckedChange:L=>A(D=>({...D,isActive:L}))}),s.jsx(Te,{htmlFor:"isActive",children:"Active"})]}),s.jsxs(ie,{type:"submit",className:"w-full",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),k?"Update FAQ":"Create FAQ"]})]})};return g||x?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"faqs"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading FAQs..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"faqs"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center space-x-4 mb-4",children:s.jsxs(ie,{variant:"outline",onClick:()=>window.history.back(),children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[s.jsx(Go,{className:"mr-3 h-8 w-8 text-blue-600"}),"FAQ Management"]}),s.jsx("p",{className:"text-gray-600",children:"Manage frequently asked questions for the help center"})]}),s.jsxs(qi,{open:l,onOpenChange:c,children:[s.jsx(gh,{asChild:!0,children:s.jsxs(ie,{children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add FAQ"]})}),s.jsxs(Ni,{className:"max-w-2xl",children:[s.jsx(ji,{children:s.jsx(_i,{children:"Create New FAQ"})}),s.jsx(_,{onSubmit:N=>y.mutate(N)})]})]})]})]}),s.jsx(_e,{className:"mb-6",children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(at,{placeholder:"Search FAQs...",value:n,onChange:N=>i(N.target.value),className:"pl-10"})]})}),s.jsxs(Br,{value:a,onValueChange:o,children:[s.jsx(Ir,{className:"w-full sm:w-48",children:s.jsx(Ur,{placeholder:"Filter by category"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"all",children:"All Categories"}),p.filter(N=>N.isActive).map(N=>s.jsx(dt,{value:N.name,children:N.name},N.id))]})]})]})})}),s.jsx("div",{className:"space-y-4",children:w.length===0?s.jsx(_e,{children:s.jsxs(Se,{className:"py-12 text-center",children:[s.jsx(Go,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No FAQs found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:n||a!=="all"?"Try adjusting your search or filter criteria.":"Get started by creating your first FAQ."}),!n&&a==="all"&&s.jsxs(ie,{onClick:()=>c(!0),children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Create First FAQ"]})]})}):w.map(N=>{var j;return s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xe,{className:"text-lg",children:N.question}),!N.isActive&&s.jsx(Ld,{className:"w-4 h-4 text-gray-400"}),N.isActive&&s.jsx(ms,{className:"w-4 h-4 text-green-500"})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ye,{variant:"secondary",children:N.category}),(j=N.tags)==null?void 0:j.map(k=>s.jsxs(Ye,{variant:"outline",className:"text-xs",children:[s.jsx(Hd,{className:"w-3 h-3 mr-1"}),k]},k))]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>{m(N),u(!0)},children:s.jsx(Vl,{className:"w-4 h-4"})}),s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this FAQ?")&&b.mutate(N.id)},className:"text-red-600 hover:text-red-700",children:s.jsx(Ph,{className:"w-4 h-4"})})]})]})}),s.jsxs(Se,{children:[s.jsx("p",{className:"text-gray-700 leading-relaxed",children:N.answer}),s.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Created: ",N.createdAt?new Date(N.createdAt).toLocaleDateString():"N/A",N.updatedAt&&N.updatedAt!==N.createdAt&&s.jsxs("span",{className:"ml-4",children:["Updated: ",new Date(N.updatedAt).toLocaleDateString()]})]})]})]},N.id)})}),s.jsx(qi,{open:d,onOpenChange:u,children:s.jsxs(Ni,{className:"max-w-2xl",children:[s.jsx(ji,{children:s.jsx(_i,{children:"Edit FAQ"})}),h&&s.jsx(_,{faq:h,onSubmit:N=>v.mutate(N),isEditing:!0})]})})]})]})}function KTe(){const t=Vc(),e=t==null?void 0:t.slug,{data:r,isLoading:n,error:i}=pt({queryKey:[`/api/blog/${e}`],enabled:!!e});return n?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-8"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded"})]})]})})}):i||!r?s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Post Not Found"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"The blog post you're looking for doesn't exist or has been removed."}),s.jsx(Re,{href:"/",children:s.jsxs(ie,{variant:"outline",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Go Back Home"]})})]})})}):s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6",children:[s.jsx("div",{className:"mb-8",children:s.jsx(Re,{href:"/",children:s.jsxs(ie,{variant:"outline",size:"sm",className:"mb-6",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})}),s.jsx(_e,{className:"overflow-hidden",children:s.jsxs(Se,{className:"p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-4",children:[s.jsx(Ye,{variant:"default",className:"bg-finder-red w-fit",children:"Blog Post"}),r.publishedAt&&s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:new Date(r.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),s.jsx("span",{className:"sm:hidden",children:new Date(r.publishedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-4 leading-tight",children:r.title}),r.excerpt&&s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 leading-relaxed mb-6",children:r.excerpt})]}),s.jsx("div",{className:"prose prose-sm sm:prose-lg max-w-none",children:s.jsx("div",{className:"text-gray-800 leading-relaxed break-words",dangerouslySetInnerHTML:{__html:r.content}})})]})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx(Re,{href:"/",children:s.jsxs(ie,{variant:"outline",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})})]})})}function GTe(){var c,d;const{user:t}=tr(),[e,r]=O.useState(""),[n,i]=O.useState(null),{data:a=[],isLoading:o}=pt({queryKey:["/api/messages/conversations"],enabled:!!t}),l=a.filter(u=>{var x,y,v,b;if(!e.trim())return!0;const h=(t==null?void 0:t.role)==="client"?(x=u.finder)==null?void 0:x.user:u.client,m=h?`${h.firstName} ${h.lastName}`:"",f=((v=(y=u.proposal)==null?void 0:y.request)==null?void 0:v.title)||"",g=((b=u.lastMessage)==null?void 0:b.content)||"",p=e.toLowerCase().trim();return m.toLowerCase().includes(p)||f.toLowerCase().includes(p)||g.toLowerCase().includes(p)});return t?o?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{currentPage:"messages"}),s.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[s.jsxs("div",{className:"w-1/3 bg-white border-r border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded-lg w-48 animate-pulse mb-4"}),s.jsx("div",{className:"h-10 bg-gray-200 rounded-lg w-full animate-pulse"})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:[...Array(5)].map((u,h)=>s.jsxs("div",{className:"p-4 flex items-center space-x-3 animate-pulse",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]})]},h))})]}),s.jsx("div",{className:"flex-1 bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4 animate-pulse"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mx-auto animate-pulse"})]})})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{currentPage:"messages"}),s.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[s.jsxs("div",{className:"w-1/3 bg-white border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Message & System"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(Hn,{className:"w-8 h-8",children:s.jsxs(Wn,{className:"bg-orange-500 text-white text-sm font-semibold",children:[(c=t.firstName)==null?void 0:c.charAt(0),(d=t.lastName)==null?void 0:d.charAt(0)]})})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(at,{type:"text",placeholder:"Search Conversations",value:e,onChange:u=>r(u.target.value),className:"pl-10 pr-4 py-2.5 w-full border-gray-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:l.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Mi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No conversations"}),s.jsx("p",{className:"text-gray-600",children:"Start a conversation to see it here."})]}):s.jsx("div",{children:l.map(u=>{var y,v,b;const h=(t==null?void 0:t.role)==="client"?(y=u.finder)==null?void 0:y.user:u.client,m=h?`${h.firstName} ${h.lastName}`:"Unknown User",f=h?`${h.firstName.charAt(0)}${h.lastName.charAt(0)}`.toUpperCase():"U",g=(v=u.lastMessage)!=null&&v.createdAt?Ri(new Date(u.lastMessage.createdAt),"HH:mm"):Ri(new Date(u.lastMessageAt),"HH:mm"),p=u.unreadCount>0,x=n===u.id;return s.jsx("div",{onClick:()=>i(u.id),className:`
                        p-4 cursor-pointer border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150
                        ${x?"bg-blue-50 border-r-4 border-r-blue-500":""}
                      `,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Hn,{className:"w-12 h-12",children:s.jsx(Wn,{className:"bg-gray-500 text-white font-semibold",children:f})}),s.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${Math.random()>.5?"bg-green-500":"bg-gray-400"}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:`font-medium text-sm truncate ${p?"text-gray-900":"text-gray-800"}`,children:m}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:g})]}),s.jsx("p",{className:`text-sm truncate ${p?"font-medium text-gray-900":"text-gray-600"}`,children:((b=u.lastMessage)==null?void 0:b.content)||"No messages yet"})]}),p&&s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"})]})},u.id)})})})]}),s.jsx("div",{className:"flex-1 bg-gray-50 flex flex-col",children:n?s.jsx(YTe,{conversationId:n}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Mi,{className:"w-10 h-10 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a conversation"}),s.jsx("p",{className:"text-gray-600",children:"Choose a conversation from the left to start messaging."})]})})})]})]}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs(_e,{className:"w-96 p-8 text-center",children:[s.jsx(Mi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sign in Required"}),s.jsx("p",{className:"text-gray-600",children:"Please log in to view your messages."})]})})}function YTe({conversationId:t}){var b,w,_,N,j;const{user:e}=tr(),[r,n]=O.useState(""),[i,a]=O.useState(null),[o,l]=O.useState(!1),c=vr(),d=["","","","","","","","","","","","","","","",""],u={Faces:["","","","","","","","","","","","","","","",""],Gestures:["","","","","","","","","","","","","","","",""],Hearts:["","","","","","","","","","","","","","","",""],Objects:["","","","","","","","","","","","","","","",""]},{data:h}=pt({queryKey:["/api/messages/conversations",t],enabled:!!t&&!!e,select:k=>({...k,finder:k.finder?{...k.finder,user:k.finder.user||k.finder}:null,client:k.client||null})}),{data:m=[]}=pt({queryKey:["/api/messages/conversations",t,"messages"],enabled:!!t&&!!e,refetchInterval:3e3}),f=(e==null?void 0:e.role)==="client"?((b=h==null?void 0:h.finder)==null?void 0:b.user)||(h==null?void 0:h.finder):h==null?void 0:h.client,g=f?`${f.firstName||"Unknown"} ${f.lastName||"User"}`:h!=null&&h.finder?`${h.finder.firstName||"Unknown"} ${h.finder.lastName||"User"}`:h!=null&&h.client?`${h.client.firstName||"Unknown"} ${h.client.lastName||"User"}`:"Unknown User";console.log("Conversation data:",h),console.log("Other user:",f),console.log("Participant name:",g);const p=Ft({mutationFn:async({content:k,quotedMessageId:E})=>{const A=localStorage.getItem("findermeister_token"),C=await fetch(`/api/messages/conversations/${t}/messages`,{method:"POST",headers:{"Content-Type":"application/json",...A?{Authorization:`Bearer ${A}`}:{}},body:JSON.stringify({content:k.trim(),quotedMessageId:E})});if(!C.ok)throw new Error(`Failed to send message: ${C.statusText}`);return C.json()},onSuccess:()=>{n(""),a(null),c.invalidateQueries({queryKey:["/api/messages/conversations",t,"messages"]})},onError:k=>{console.error("Error sending message:",k)}}),x=()=>{const k=r.trim();k&&p.mutate({content:k,quotedMessageId:i==null?void 0:i.id})},y=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),x())},v=k=>{a(k)};return O.useEffect(()=>{const k=E=>{const A=E.target;o&&!A.closest(".emoji-picker-container")&&l(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[o]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Hn,{className:"w-10 h-10",children:s.jsx(Wn,{className:"bg-gray-500 text-white font-semibold",children:f?`${f.firstName.charAt(0)}${f.lastName.charAt(0)}`:"CA"})}),s.jsx("div",{children:s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:g})})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(Hn,{className:"w-8 h-8",children:s.jsxs(Wn,{className:"bg-orange-500 text-white text-sm font-semibold",children:[(w=e.firstName)==null?void 0:w.charAt(0),(_=e.lastName)==null?void 0:_.charAt(0)]})})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:m.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Mi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Start the conversation..."})]})}):m.map((k,E)=>{const A=k.senderId===e.id,C=Ri(new Date(k.createdAt),"HH:mm");return s.jsxs("div",{className:"flex items-start space-x-3",children:[!A&&s.jsx(Hn,{className:"w-10 h-10 flex-shrink-0",children:s.jsx(Wn,{className:"bg-gray-500 text-white font-semibold",children:f?`${f.firstName.charAt(0)}${f.lastName.charAt(0)}`:"U"})}),s.jsxs("div",{className:`flex-1 ${A?"flex justify-end":""}`,children:[s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${A?"bg-blue-500 text-white rounded-br-md":"bg-white border border-gray-200 rounded-bl-md"}`,onDoubleClick:()=>v(k),children:[s.jsx("p",{className:"text-sm leading-relaxed",children:k.content}),E===m.length-1&&!A&&s.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-lg",children:""})]})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 px-1",children:C})]})]},k.id)})}),s.jsxs("div",{className:"bg-white border-t border-gray-200",children:[i&&s.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(NU,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Replying to ",(N=i.sender)==null?void 0:N.firstName," ",(j=i.sender)==null?void 0:j.lastName]})]}),s.jsx("p",{className:"text-sm text-gray-600 bg-white p-2 rounded border-l-4 border-blue-500",children:i.content})]}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>a(null),className:"ml-2",children:s.jsx(ko,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Hn,{className:"w-10 h-10",children:s.jsx(Wn,{className:"bg-gray-400 text-white",children:s.jsx(qr,{className:"w-5 h-5"})})}),s.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[s.jsx(at,{value:r,onChange:k=>n(k.target.value),onKeyPress:y,placeholder:i?"Type a reply...":"Type a message...",className:"flex-1 border-gray-200 rounded-full px-4 py-2 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),s.jsxs("div",{className:"relative flex items-center space-x-1 emoji-picker-container",children:[s.jsx(ie,{size:"sm",variant:"ghost",className:"p-2 rounded-full hover:bg-gray-100",onClick:()=>n(k=>k+""),children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx(ie,{size:"sm",variant:"ghost",className:"p-2 rounded-full hover:bg-gray-100",onClick:()=>l(!o),children:s.jsx("span",{className:"text-lg",children:""})}),o&&s.jsxs("div",{className:"absolute bottom-12 right-0 w-80 bg-white rounded-lg shadow-lg border border-gray-200 p-4 z-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Emojis"}),s.jsx(ie,{size:"sm",variant:"ghost",onClick:()=>l(!1),className:"p-1 h-6 w-6",children:s.jsx(ko,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-2",children:"Popular"}),s.jsx("div",{className:"grid grid-cols-8 gap-1",children:d.map((k,E)=>s.jsx("button",{onClick:()=>{n(A=>A+k),l(!1)},className:"p-2 hover:bg-gray-100 rounded text-lg flex items-center justify-center",children:k},E))})]}),s.jsx("div",{className:"max-h-48 overflow-y-auto",children:Object.entries(u).map(([k,E])=>s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-2",children:k}),s.jsx("div",{className:"grid grid-cols-8 gap-1",children:E.map((A,C)=>s.jsx("button",{onClick:()=>{n(T=>T+A),l(!1)},className:"p-2 hover:bg-gray-100 rounded text-lg flex items-center justify-center",children:A},C))})]},k))})]})]}),s.jsx(ie,{onClick:x,disabled:p.isPending||!r.trim(),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 rounded-full",children:p.isPending?s.jsx(Ps,{className:"w-4 h-4 animate-spin"}):"Send"})]})]})})]})]})}function QTe(){var z,V,F,I,B,q,U;const t=Vc(),[,e]=sn(),{user:r}=tr(),{t:n}=Wc(),i=vr(),a=t.conversationId,{toast:o}=ar(),[l,c]=O.useState(""),[d,u]=O.useState(null),[h,m]=O.useState(""),[f,g]=O.useState([]),[p,x]=O.useState([]),[y,v]=O.useState(!1),b=O.useRef(null),{data:w=[],isLoading:_}=pt({queryKey:["/api/messages/conversations"],enabled:!!r}),{data:N}=pt({queryKey:["/api/messages/conversations",a],enabled:!!a&&!!r}),{data:j=[],isLoading:k}=pt({queryKey:["/api/messages/conversations",a,"messages"],enabled:!!a&&!!r,refetchInterval:3e3,staleTime:1e3,refetchOnWindowFocus:!0}),E=Ft({mutationFn:async({content:W,quotedMessageId:te,attachmentPaths:re,attachmentNames:le})=>await St(`/api/messages/conversations/${a}/messages`,{method:"POST",body:JSON.stringify({content:W.trim(),quotedMessageId:te,attachmentPaths:re,attachmentNames:le})}),onSuccess:()=>{c(""),u(null),g([]),x([]),i.invalidateQueries({queryKey:["/api/messages/conversations",a,"messages"]}),o({title:"Message sent!",description:"Your message has been delivered successfully."})},onError:()=>{o({variant:"destructive",title:"Failed to send message",description:"Please try again later."})}}),A=()=>{const W=l.trim();!W&&f.length===0||E.mutate({content:W,quotedMessageId:d==null?void 0:d.id,attachmentPaths:f,attachmentNames:p})},C=W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),A())};O.useEffect(()=>{var W;(W=b.current)==null||W.scrollIntoView({behavior:"smooth"})},[j]);const T=W=>{u(W)},L=()=>{u(null)},D=async()=>({method:"PUT",url:(await St("/api/objects/upload",{method:"POST"})).uploadURL}),H=async W=>{if(v(!1),W.successful&&W.successful.length>0){const te=W.successful[0],re=te.name,le=te.uploadURL;try{const ke=await St("/api/objects/acl",{method:"PUT",body:JSON.stringify({objectURL:le,visibility:"private"})});g(Pe=>[...Pe,ke.objectPath]),x(Pe=>[...Pe,re]),o({title:"File uploaded successfully",description:`${re} has been attached to your message.`})}catch(ke){console.error("Failed to set file ACL:",ke),o({variant:"destructive",title:"Upload failed",description:"Failed to process the uploaded file."})}}},X=W=>{g(te=>te.filter((re,le)=>le!==W)),x(te=>te.filter((re,le)=>le!==W))},ee=w.filter(W=>{var He,Ae,fe,_t;if(!h.trim())return!0;const te=(r==null?void 0:r.role)==="client"?(He=W.finder)==null?void 0:He.user:W.client,re=te?`${te.firstName} ${te.lastName}`:"",le=((fe=(Ae=W.proposal)==null?void 0:Ae.request)==null?void 0:fe.title)||"",ke=((_t=W.lastMessage)==null?void 0:_t.content)||"",Pe=h.toLowerCase().trim();return re.toLowerCase().includes(Pe)||le.toLowerCase().includes(Pe)||ke.toLowerCase().includes(Pe)});if(!r)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs(_e,{className:"w-96 p-8 text-center",children:[s.jsx(qr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sign in Required"}),s.jsx("p",{className:"text-gray-600",children:"Please log in to view messages."})]})});const Q=(r==null?void 0:r.role)==="client"?(z=N==null?void 0:N.finder)==null?void 0:z.user:N==null?void 0:N.client,G=Q?`${Q.firstName} ${Q.lastName}`:"Client A";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[(r==null?void 0:r.role)==="client"?s.jsx(ds,{currentPage:"messages"}):s.jsx(ps,{currentPage:"messages"}),s.jsxs("div",{className:"flex h-[calc(100vh-80px)]",children:[s.jsxs("div",{className:"w-1/3 bg-white border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Message & System"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ie,{size:"sm",variant:"ghost",className:"p-2",children:s.jsx(FT,{className:"w-4 h-4 text-gray-500"})}),w.filter(W=>W.unreadCount>0).length>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-medium",children:w.filter(W=>W.unreadCount>0).length})})]}),s.jsx(Hn,{className:"w-8 h-8",children:s.jsxs(Wn,{className:"bg-orange-500 text-white text-sm font-semibold",children:[(V=r.firstName)==null?void 0:V.charAt(0),(F=r.lastName)==null?void 0:F.charAt(0)]})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(at,{type:"text",placeholder:"Search Conversations",value:h,onChange:W=>m(W.target.value),className:"pl-10 pr-4 py-2.5 w-full border-gray-200 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:_?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Ps,{className:"w-8 h-8 text-gray-400 mx-auto mb-4 animate-spin"}),s.jsx("p",{className:"text-gray-600",children:"Loading conversations..."})]}):ee.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Mi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No conversations"}),s.jsx("p",{className:"text-gray-600",children:"Start a conversation to see it here."})]}):s.jsx("div",{children:ee.map(W=>{var Ae,fe,_t;const te=(r==null?void 0:r.role)==="client"?(Ae=W.finder)==null?void 0:Ae.user:W.client,re=te?`${te.firstName} ${te.lastName}`:"Unknown User",le=te?`${te.firstName.charAt(0)}${te.lastName.charAt(0)}`.toUpperCase():"U",ke=(fe=W.lastMessage)!=null&&fe.createdAt?Ri(new Date(W.lastMessage.createdAt),"HH:mm"):Ri(new Date(W.lastMessageAt),"HH:mm"),Pe=W.unreadCount>0,He=a===W.id;return s.jsx("div",{onClick:()=>e(`/messages/${W.id}`),className:`
                        p-4 cursor-pointer border-b border-gray-100 hover:bg-gray-50 transition-colors duration-150
                        ${He?"bg-blue-50 border-r-4 border-r-blue-500":""}
                      `,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Hn,{className:"w-12 h-12",children:s.jsx(Wn,{className:"bg-gray-500 text-white font-semibold",children:le})}),s.jsx("div",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${Math.random()>.5?"bg-green-500":"bg-gray-400"}`})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:`font-medium text-sm truncate ${Pe?"text-gray-900":"text-gray-800"}`,children:re}),s.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-2",children:ke})]}),s.jsx("p",{className:`text-sm truncate ${Pe?"font-medium text-gray-900":"text-gray-600"}`,children:((_t=W.lastMessage)==null?void 0:_t.content)||"No messages yet"})]}),Pe&&s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full flex-shrink-0"})]})},W.id)})})})]}),s.jsxs("div",{className:"flex-1 bg-white flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Hn,{className:"w-10 h-10",children:s.jsx(Wn,{className:"bg-gray-500 text-white font-semibold",children:Q?`${Q.firstName.charAt(0)}${Q.lastName.charAt(0)}`:"CA"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:G})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ie,{size:"sm",variant:"ghost",className:"p-2",children:s.jsx(_v,{className:"w-4 h-4 text-gray-500"})}),s.jsxs("div",{className:"relative",children:[s.jsx(ie,{size:"sm",variant:"ghost",className:"p-2",children:s.jsx(FT,{className:"w-4 h-4 text-gray-500"})}),s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-medium",children:"3"})})]}),s.jsx(Hn,{className:"w-8 h-8",children:s.jsxs(Wn,{className:"bg-orange-500 text-white text-sm font-semibold",children:[(I=r.firstName)==null?void 0:I.charAt(0),(B=r.lastName)==null?void 0:B.charAt(0)]})})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-50",children:[k?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Ps,{className:"w-8 h-8 animate-spin text-gray-400"})}):j.length===0?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Mi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No messages yet. Start the conversation!"})]})}):j.map((W,te)=>{var ke,Pe,He,Ae,fe;const re=W.senderId===r.id,le=Ri(new Date(W.createdAt),"HH:mm");return s.jsxs("div",{className:"flex items-start space-x-3",children:[!re&&s.jsx(Hn,{className:"w-10 h-10 flex-shrink-0",children:s.jsx(Wn,{className:"bg-gray-500 text-white font-semibold",children:Q?`${Q.firstName.charAt(0)}${Q.lastName.charAt(0)}`:"U"})}),s.jsxs("div",{className:`flex-1 ${re?"flex justify-end":""}`,children:[s.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl cursor-pointer group relative ${re?"bg-blue-500 text-white rounded-br-md":"bg-white border border-gray-200 rounded-bl-md"}`,onClick:()=>T(W),children:[s.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(NU,{className:"w-4 h-4 text-gray-400"})}),W.quotedMessageId&&s.jsxs("div",{className:`mb-2 p-2 rounded-lg border-l-4 ${re?"bg-blue-600 border-blue-300":"bg-gray-50 border-gray-300"}`,children:[s.jsxs("p",{className:`text-xs ${re?"text-blue-100":"text-gray-600"}`,children:[(Pe=(ke=W.quotedMessage)==null?void 0:ke.sender)==null?void 0:Pe.firstName," ",(Ae=(He=W.quotedMessage)==null?void 0:He.sender)==null?void 0:Ae.lastName]}),s.jsx("p",{className:`text-sm truncate ${re?"text-blue-50":"text-gray-700"}`,children:((fe=W.quotedMessage)==null?void 0:fe.content)||"Message not found"})]}),s.jsx("p",{className:"text-sm leading-relaxed",children:W.content}),W.attachmentPaths&&W.attachmentPaths.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:W.attachmentPaths.map((_t,Je)=>{var Oe;return s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-100 rounded",children:[s.jsx(RT,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-700 truncate",children:((Oe=W.attachmentNames)==null?void 0:Oe[Je])||`Attachment ${Je+1}`}),s.jsx("a",{href:_t,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-600",children:s.jsx(B0,{className:"w-4 h-4"})})]},Je)})}),te===j.length-1&&!re&&s.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-lg",children:""})]})]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1 px-1",children:le})]})]},W.id)}),s.jsx("div",{ref:b})]}),s.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[d&&s.jsxs("div",{className:"flex items-center justify-between p-2 mb-2 border rounded-lg bg-gray-100",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-gray-600",children:["Replying to ",(q=d.sender)==null?void 0:q.firstName," ",(U=d.sender)==null?void 0:U.lastName]}),s.jsx("p",{className:"text-sm text-gray-800 truncate max-w-md",children:d.content})]}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:L,children:s.jsx(ko,{className:"w-4 h-4 text-gray-500"})})]}),f.length>0&&s.jsxs("div",{className:"mb-3 p-3 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:["Attachments (",f.length,")"]}),s.jsx("div",{className:"space-y-2",children:p.map((W,te)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(RT,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-700 truncate max-w-xs",children:W})]}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>X(te),className:"h-6 w-6 p-0",children:s.jsx(ko,{className:"w-3 h-3"})})]},te))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Hn,{className:"w-10 h-10",children:s.jsx(Wn,{className:"bg-gray-400 text-white",children:s.jsx(qr,{className:"w-5 h-5"})})}),s.jsxs("div",{className:"flex-1 flex items-center space-x-3",children:[s.jsx(at,{value:l,onChange:W=>c(W.target.value),onKeyPress:C,placeholder:"Type a message...",className:"flex-1 border-gray-200 rounded-full px-4 py-3 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",disabled:E.isPending}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bC,{maxNumberOfFiles:5,maxFileSize:31457280,onGetUploadParameters:D,onComplete:H,buttonClassName:"p-2 rounded-full hover:bg-gray-100 flex items-center justify-center",disabled:y,children:y?s.jsx(Ps,{className:"w-4 h-4 animate-spin"}):s.jsx(MT,{className:"w-4 h-4 text-gray-500"})}),s.jsx(ie,{size:"sm",variant:"ghost",className:"p-2 rounded-full hover:bg-gray-100",children:s.jsx("span",{className:"text-lg",children:""})})]}),s.jsx(ie,{onClick:A,disabled:E.isPending||!l.trim()&&f.length===0,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-full min-w-[80px]",children:E.isPending?s.jsx(Ps,{className:"w-4 h-4 animate-spin"}):"Send"})]})]}),(f.length>0||y)&&s.jsx("div",{className:"ml-14 mr-24",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded-lg",children:[s.jsx(MT,{className:"w-4 h-4"}),s.jsx("span",{children:y?"Uploading file...":`${f.length} file${f.length!==1?"s":""} attached`})]})})]})]})]})]})]})}const XTe=[{name:"Novice",minJobs:0,minRating:0,order:1},{name:"Pathfinder",minJobs:2,minRating:4,order:2},{name:"Seeker",minJobs:10,minRating:4.2,order:3},{name:"Meister",minJobs:25,minRating:4.5,order:4},{name:"GrandMeister",minJobs:50,minRating:4.8,order:5}];function hk({completedJobs:t,averageRating:e=0,className:r}){const n=(l,c)=>{const d=[...XTe].sort((h,m)=>m.order-h.order);for(const h of d){const m=l>=h.minJobs,f=c>=h.minRating;if(m&&f){const g=KS.find(p=>p.name===h.name);if(g)return{level:g.name,emoji:g.badge_emoji,color:g.color}}}const u=KS.find(h=>h.name==="Novice");return{level:(u==null?void 0:u.name)||"Novice",emoji:(u==null?void 0:u.badge_emoji)||"",color:(u==null?void 0:u.color)||"#10b981"}},{level:i,emoji:a,color:o}=n(t,e);return s.jsxs(Ye,{className:`font-semibold px-3 py-1.5 ${r} flex items-center gap-2 border-0`,style:{backgroundColor:o,color:"white"},children:[s.jsx("span",{className:"text-sm",children:a}),s.jsx("span",{children:i})]})}function zL(){var d,u,h,m,f,g;const[t,e]=M0("/finder-profile/:userId"),r=e==null?void 0:e.userId,n=`/api/admin/finder-profile/${r}`,{data:i,isLoading:a,error:o}=pt({queryKey:[n],enabled:!!r});if(a)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading profile..."})]})});if(!i)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600",children:"Finder not found"}),s.jsx(Re,{href:"/admin/users",children:s.jsx(ie,{className:"mt-4",children:"Back to Users"})})]})});const l=`${((d=i.user)==null?void 0:d.firstName)||"Unknown"} ${((u=i.user)==null?void 0:u.lastName)||"User"}`.trim(),c=p=>Array.from({length:5},(x,y)=>s.jsx(ui,{className:`w-6 h-6 ${y<p?"text-finder-red fill-current":"text-gray-300"}`},y));return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{currentPage:"users"}),s.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6",children:[s.jsx("div",{className:"max-w-md mx-auto mb-8",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"bg-finder-red px-8 py-6 text-center",children:s.jsx("h1",{className:"text-white text-2xl font-bold",children:"FinderMeister"})}),s.jsxs("div",{className:"px-8 py-8 text-center bg-white",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx(qr,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute -bottom-2 -right-2",children:s.jsx(hk,{completedJobs:i.jobsCompleted||0,className:"text-sm px-3 py-1"})})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:l}),s.jsx("div",{className:"flex justify-center mb-4",children:c(Math.round(parseFloat(i.averageRating||"5.0")))}),s.jsxs("p",{className:"text-lg text-gray-600 mb-4 font-medium",children:[i.jobsCompleted||0," Completed Finds"]}),s.jsxs("div",{className:"space-y-2 mb-8",children:[i.bio&&s.jsxs("p",{className:"text-gray-700 italic",children:['"',i.bio,'"']}),!i.bio&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-700 italic",children:'"Extremely reliable and efficient"'}),s.jsx("p",{className:"text-gray-700 italic",children:'"Went above and beyond to help me out!"'})]})]}),s.jsx(Ye,{className:"w-full bg-blue-600 text-white font-bold py-2 text-lg",children:"Admin View"})]})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-5 h-5"}),"Profile Details"]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("p",{className:"text-gray-900",children:((h=i.user)==null?void 0:h.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),s.jsx("p",{className:"text-gray-900",children:((m=i.user)==null?void 0:m.phone)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Verified Status"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(P3,{status:(f=i.user)==null?void 0:f.identityVerificationStatus,className:"font-semibold"})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Availability"}),s.jsx("p",{className:"text-gray-900 capitalize",children:i.availability||"Not specified"})]})]}),i.skills&&i.skills.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Skills"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.skills.map((p,x)=>s.jsx(Ye,{variant:"secondary",className:"text-xs",children:p},x))})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Sa,{className:"w-5 h-5"}),"Performance Stats"]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-finder-red",children:i.jobsCompleted||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Jobs Completed"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",i.totalEarned||0]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[parseFloat(i.averageRating||"5.0").toFixed(1),"/5"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),s.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["$",i.hourlyRate||0]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Hourly Rate"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Member Since"}),s.jsx("p",{className:"text-gray-900",children:(g=i.user)!=null&&g.createdAt?new Date(i.user.createdAt).toLocaleDateString():"N/A"})]})]})]})]})]})]})}function JTe({className:t}){const{user:e}=tr();ar();const{data:r,isLoading:n,error:i}=pt({queryKey:["/api/finder/profile"],enabled:!!e,refetchInterval:3e4}),{data:a}=pt({queryKey:["/api/user/profile"],enabled:!!e,refetchInterval:3e4});if(n)return s.jsx(_e,{className:t,children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-finder-red"}),s.jsx("span",{className:"text-gray-600",children:"Loading verification status..."})]})})});if(i)return s.jsx(_e,{className:t,children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ia,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-red-600",children:"Unable to load verification status"})]})})});const o=(r==null?void 0:r.isVerified)||!1,l=(a==null?void 0:a.identityVerificationStatus)||"not_verified",d=o&&l==="verified"?{status:"verified",label:"Verified",description:"Your finder profile is fully verified",icon:br,badgeVariant:"default",badgeClass:"bg-green-100 text-green-800 border-green-200",iconClass:"text-green-600",showAction:!1,actionText:"",actionVariant:"default"}:l==="pending"?{status:"pending",label:"Verification Pending",description:"Your verification documents are being reviewed",icon:hr,badgeVariant:"secondary",badgeClass:"bg-yellow-100 text-yellow-800 border-yellow-200",iconClass:"text-yellow-600",showAction:!1,actionText:"",actionVariant:"default"}:l==="rejected"?{status:"rejected",label:"Verification Rejected",description:"Your verification was rejected. Please resubmit your documents.",icon:fs,badgeVariant:"destructive",badgeClass:"bg-red-100 text-red-800 border-red-200",iconClass:"text-red-600",showAction:!0,actionText:"Resubmit Documents",actionVariant:"destructive"}:{status:"not_verified",label:"Not Verified",description:"Complete your verification to build trust with clients",icon:$r,badgeVariant:"outline",badgeClass:"bg-gray-100 text-gray-800 border-gray-200",iconClass:"text-gray-600",showAction:!0,actionText:"Start Verification",actionVariant:"default"},u=d.icon,h=()=>{(d.status==="not_verified"||d.status==="rejected")&&(window.location.href="/finder/verification")};return s.jsx(_e,{className:t,children:s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(u,{className:`h-8 w-8 ${d.iconClass}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verification Status"}),s.jsx(Ye,{variant:d.badgeVariant,className:d.badgeClass,children:d.label})]}),s.jsx("p",{className:"text-sm text-gray-600",children:d.description}),d.status==="verified"&&s.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-sm text-green-700",children:[s.jsx(br,{className:"h-4 w-4"}),s.jsx("span",{children:"Clients can trust your verified profile"})]}),d.status==="rejected"&&(a==null?void 0:a.rejectionReason)&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsxs("p",{className:"text-sm text-red-800",children:[s.jsx("strong",{children:"Reason:"})," ",a.rejectionReason]})})]})]}),d.showAction&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(ie,{variant:d.actionVariant,size:"sm",onClick:h,className:"flex items-center space-x-2",children:[s.jsx(as,{className:"h-4 w-4"}),s.jsx("span",{children:d.actionText})]})})]}),d.status==="pending"&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between mb-1",children:[s.jsx("span",{children:"Verification Progress"}),s.jsx("span",{children:"Under Review"})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-500 h-2 rounded-full animate-pulse",style:{width:"75%"}})})]})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"We typically review documents within 24-48 hours"})]}),d.status==="not_verified"&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Benefits of Verification:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(br,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:"Increased client trust and confidence"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(br,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:"Higher proposal acceptance rates"})]}),s.jsxs("li",{className:"flex items-center space-x-2",children:[s.jsx(br,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{children:"Access to premium job opportunities"})]})]})]})]})})}function ZTe(){var b,w,_,N;const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState({bio:"",category:"",categories:[],skills:"",availability:"full-time"}),{data:a,isLoading:o}=pt({queryKey:["/api/finder/profile"],enabled:!!t,refetchInterval:3e4}),{data:l,refetch:c}=pt({queryKey:["/api/verification/status"],enabled:!!t,refetchInterval:15e3}),{data:d=[],isLoading:u}=pt({queryKey:["/api/categories"]});O.useEffect(()=>{a&&i({bio:a.bio||"",category:a.category||"",categories:Array.isArray(a.categories)?a.categories:a.category?[a.category]:[],skills:Array.isArray(a.skills)?a.skills.join(", "):"",availability:a.availability||"full-time"})},[a]);const h=Ft({mutationFn:async j=>await St("/api/finder/profile",{method:"PATCH",body:JSON.stringify(j)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/finder/profile"]}),r.invalidateQueries({queryKey:["/api/verification/status"]}),e({title:"Success",description:"Your profile has been updated successfully."})},onError:j=>{var k,E;if(console.error("Profile update error:",j),(k=j.message)!=null&&k.includes("No authentication token")||(E=j.message)!=null&&E.includes("Access token required")){e({title:"Authentication Error",description:"Please log in again to continue.",variant:"destructive"}),window.location.href="/login";return}e({title:"Error",description:j.message||"Failed to update profile. Please try again.",variant:"destructive"})}}),m=()=>{if(!n.categories||n.categories.length===0){e({title:"Validation Error",description:"Please select at least one specialty category.",variant:"destructive"});return}const j={bio:n.bio||"",categories:n.categories||[],skills:typeof n.skills=="string"?n.skills.split(",").map(k=>k.trim()).filter(Boolean):n.skills||[],availability:n.availability||"full-time"};h.mutate(j)},f=async()=>{try{await c(),e({title:"Status Updated",description:"Verification status refreshed successfully."})}catch{e({title:"Refresh Failed",description:"Failed to refresh verification status.",variant:"destructive"})}},{data:g=[]}=pt({queryKey:["/api/admin/finder-levels"],enabled:!!t}),x=(()=>{if(!a||g.length===0)return null;const j=a.jobsCompleted||0,k=parseFloat(a.averageRating||"0"),E=g.filter(T=>T.isActive).sort((T,L)=>T.order-L.order);if(E.length===0)return null;let A=E[0],C=E[1]||null;for(let T=E.length-1;T>=0;T--){const L=E[T],D=j>=(L.minJobsCompleted||0),H=L.minRating?parseFloat(L.minRating):L.minReviewPercentage?L.minReviewPercentage/20:0,X=k>=H;if(D&&X){A=L,C=E[T+1]||null;break}}return{currentLevel:A,nextLevel:C}})(),y=j=>Array.from({length:5},(k,E)=>s.jsx(ui,{className:`w-6 h-6 ${E<j?"text-finder-red fill-current":"text-gray-300"}`},E));if(o)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{currentPage:"profile"}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading profile..."})]})})]});const v=a!=null&&a.user?`${a.user.firstName} ${a.user.lastName}`.trim():"Not available";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{currentPage:"profile"}),s.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6",children:[s.jsx("div",{className:"mb-8",children:s.jsx(JTe,{})}),s.jsx("div",{className:"mb-8",children:s.jsx(CH,{})}),x&&s.jsxs(_e,{className:"mb-8",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Sa,{className:"w-5 h-5 text-finder-red"}),"Finder Level Progress"]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Current Level"}),s.jsx("div",{className:"mt-2",children:s.jsx(hk,{completedJobs:(a==null?void 0:a.jobsCompleted)||0,averageRating:parseFloat((a==null?void 0:a.averageRating)||"0"),className:"text-base"})})]}),x.nextLevel&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Next Level"}),s.jsx("div",{className:"mt-2 flex items-center gap-2",children:s.jsx("span",{className:"text-lg font-semibold",style:{color:x.nextLevel.color},children:x.nextLevel.name})})]})]}),x.nextLevel&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["Jobs: ",(a==null?void 0:a.jobsCompleted)||0," / ",x.nextLevel.minJobsCompleted]}),s.jsxs("span",{children:["Rating: ",parseFloat((a==null?void 0:a.averageRating)||"0").toFixed(1)," / ",x.nextLevel.minRating?parseFloat(x.nextLevel.minRating).toFixed(1):x.nextLevel.minReviewPercentage?(x.nextLevel.minReviewPercentage/20).toFixed(1):"5.0"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-finder-red transition-all",style:{width:`${Math.min(100,((a==null?void 0:a.jobsCompleted)||0)/(x.nextLevel.minJobsCompleted||1)*100)}%`}})}),s.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-finder-red transition-all",style:{width:`${Math.min(100,parseFloat((a==null?void 0:a.averageRating)||"0")/(x.nextLevel.minRating?parseFloat(x.nextLevel.minRating):x.nextLevel.minReviewPercentage?x.nextLevel.minReviewPercentage/20:5)*100)}%`}})})]})]}),!x.nextLevel&&s.jsx("div",{className:"text-center py-2",children:s.jsx("p",{className:"text-sm text-gray-600",children:" You've reached the highest level!"})}),s.jsx("div",{className:"pt-2 border-t",children:s.jsx("p",{className:"text-xs text-gray-500",children:x.currentLevel.description})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Monthly Tokens"}),s.jsx("p",{className:"text-lg font-bold text-finder-red",children:x.currentLevel.monthlyTokens})]}),x.currentLevel.tokenBonusPerProposal>0&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"Bonus per Proposal"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["+",x.currentLevel.tokenBonusPerProposal]})]}),x.currentLevel.vipInvitationsPerMonth>0&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg col-span-2",children:[s.jsx("p",{className:"text-xs text-gray-600",children:"VIP Invitations"}),s.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[x.currentLevel.vipInvitationsPerMonth===999?"Unlimited":x.currentLevel.vipInvitationsPerMonth," / month"]})]})]})]})]}),a&&s.jsx("div",{className:"max-w-md mx-auto mb-8",children:s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[s.jsx("div",{className:"bg-finder-red px-8 py-6 text-center",children:s.jsx("h1",{className:"text-white text-2xl font-bold",children:"FinderMeister"})}),s.jsxs("div",{className:"px-8 py-8 text-center bg-white",children:[s.jsxs("div",{className:"relative inline-block mb-6",children:[s.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx(qr,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute -bottom-2 -right-2",children:s.jsx(hk,{completedJobs:a.jobsCompleted||0,className:"text-sm px-3 py-1"})})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:v}),s.jsx("div",{className:"flex justify-center mb-4",children:y(Math.round(parseFloat(a.averageRating||"5.0")))}),s.jsxs("p",{className:"text-lg text-gray-600 mb-4 font-medium",children:[a.jobsCompleted||0," Completed Finds"]}),s.jsxs("div",{className:"space-y-2 mb-8",children:[a.bio&&s.jsxs("p",{className:"text-gray-700 italic",children:['"',a.bio,'"']}),!a.bio&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-700 italic",children:'"Extremely reliable and efficient"'}),s.jsx("p",{className:"text-gray-700 italic",children:'"Went above and beyond to help me out!"'})]})]}),s.jsx(ie,{className:"w-full bg-finder-red hover:bg-finder-red-dark text-white py-4 text-lg rounded-xl",children:"Edit Profile"})]})]})}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Sa,{className:"w-5 h-5"}),"Profile Settings"]})}),s.jsxs(Se,{className:"space-y-6",children:[a&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-finder-red",children:a.jobsCompleted||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Jobs Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",a.totalEarned||0]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Earnings"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[parseFloat(a.averageRating||"5.0").toFixed(1),"/5"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[s.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${((b=l==null?void 0:l.verification)==null?void 0:b.status)==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:((w=l==null?void 0:l.verification)==null?void 0:w.status)==="verified"?"Verified":"Unverified"}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:f,className:"p-1 h-6 w-6",title:"Refresh verification status",children:s.jsx(hh,{className:"h-3 w-3"})})]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Verification Status"})]})]}),l&&s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${((_=l.verification)==null?void 0:_.status)==="verified"?"bg-green-500":"bg-red-500"}`}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Verification Status"}),s.jsx("div",{className:"text-lg font-bold",children:((N=l.verification)==null?void 0:N.status)==="verified"?"Verified":"Unverified"})]})]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:f,className:"flex items-center gap-2",children:[s.jsx(hh,{className:"h-3 w-3"}),"Refresh"]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"name",className:"text-sm font-medium",children:"Full Name"}),s.jsx(at,{id:"name",value:v,disabled:!0,className:"mt-1 bg-gray-100"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Contact admin to change your name"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"categories",children:"Categories"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Select all categories that match your skills and expertise:"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-48 overflow-y-auto p-3 border rounded-md bg-white/80",children:u?s.jsx("div",{className:"col-span-full text-center py-4 text-gray-500",children:"Loading categories..."}):d.length>0?d.filter(j=>j.isActive).map(j=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[s.jsx("input",{type:"checkbox",checked:n.categories.includes(j.name),onChange:k=>{const E=k.target.checked;i(A=>({...A,categories:E?[...A.categories,j.name]:A.categories.filter(C=>C!==j.name)}))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:j.name})]},j.id)):s.jsx("div",{className:"col-span-full text-center py-4 text-gray-500",children:"No categories available"})}),n.categories.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.categories.map(j=>s.jsxs(Ye,{variant:"secondary",className:"text-xs",children:[j,s.jsx("button",{type:"button",onClick:()=>{i(k=>({...k,categories:k.categories.filter(E=>E!==j)}))},className:"ml-1 text-gray-500 hover:text-gray-700",children:""})]},j))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"availability",className:"text-sm font-medium",children:"Availability"}),s.jsxs(Br,{value:n.availability,onValueChange:j=>i(k=>({...k,availability:j})),children:[s.jsx(Ir,{className:"mt-1",children:s.jsx(Ur,{})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"full-time",children:"Full-time"}),s.jsx(dt,{value:"part-time",children:"Part-time"}),s.jsx(dt,{value:"weekends",children:"Weekends Only"}),s.jsx(dt,{value:"evenings",children:"Evenings Only"})]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"bio",className:"text-sm font-medium",children:"Bio"}),s.jsx(Ms,{id:"bio",value:n.bio,onChange:j=>i(k=>({...k,bio:j.target.value})),placeholder:"Tell us about your experience and expertise",className:"mt-1",rows:4})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"skills",className:"text-sm font-medium",children:"Skills (comma-separated)"}),s.jsx(at,{id:"skills",value:n.skills,onChange:j=>i(k=>({...k,skills:j.target.value})),placeholder:"e.g., Research, Web Development, Content Writing",className:"mt-1"})]}),s.jsx("div",{className:"pt-4 flex justify-center",children:s.jsx(ie,{onClick:m,disabled:h.isPending,className:"bg-finder-red hover:bg-finder-red-dark text-white px-8 py-2",size:"default",children:h.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"Update Profile"]})})})]})]})]})]})]})}function fA({isOpen:t,onClose:e,packageId:r,packageName:n,packagePrice:i,tokenCount:a,onPaymentSuccess:o}){const[l,c]=O.useState(""),[d,u]=O.useState(""),[h,m]=O.useState("form"),[f,g]=O.useState(""),[p,x]=O.useState(""),y=Ft({mutationFn:async N=>await St(`/api/tokens/verify/${N}`),onSuccess:N=>{N.status==="success"?(m("success"),o(),setTimeout(()=>{e(),b()},2e3)):m("failed")},onError:()=>{m("failed")}}),v=Ft({mutationFn:async({packageId:N})=>(console.log("Initializing token purchase with backend:",N),await St("/api/tokens/purchase",{method:"POST",body:JSON.stringify({packageId:N})})),onSuccess:N=>{console.log("Backend payment initialization successful:",N),m("processing"),x(N.reference),N.authorization_url?(e(),window.location.href=N.authorization_url):m("failed")},onError:N=>{console.error("Payment initialization failed:",N),m("failed")}}),b=()=>{c(""),u(""),m("form"),g(""),x("")},w=N=>{N.preventDefault(),d.trim()&&v.mutate({packageId:r,phone:l,customerName:d})},_=N=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(N);return s.jsx(qi,{open:t,onOpenChange:e,children:s.jsxs(Ni,{className:"max-w-md",children:[s.jsxs(ji,{children:[s.jsxs(_i,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-5 h-5 text-orange-600"}),"Pay with Flutterwave"]}),s.jsxs(Xy,{children:[n," - ",a," FinderTokens for ",_(i)]})]}),s.jsxs("div",{className:"space-y-4",children:[h==="form"&&s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"customerName",children:"Full Name *"}),s.jsx(at,{id:"customerName",type:"text",placeholder:"Enter your full name",value:d,onChange:N=>u(N.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"phone",children:"Phone Number (Optional)"}),s.jsx(at,{id:"phone",type:"tel",placeholder:"e.g., +2348012345678",value:l,onChange:N=>c(N.target.value)})]}),s.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:s.jsxs("p",{className:"text-sm text-orange-700",children:[s.jsx("strong",{children:"Payment Summary:"}),s.jsx("br",{}),"Package: ",n,s.jsx("br",{}),"Tokens: ",a," FinderTokens",s.jsx("br",{}),"Amount: ",_(i)]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ie,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancel"}),s.jsx(ie,{type:"submit",disabled:!d.trim()||v.isPending,className:"flex-1 bg-orange-600 hover:bg-orange-700 text-white",children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:["Pay with Flutterwave",s.jsx(Nn,{className:"w-4 h-4 ml-2"})]})})]})]}),h==="processing"&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Nn,{className:"w-8 h-8 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Complete Payment"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"The Flutterwave payment modal should appear. Complete your payment and we'll automatically verify it."}),s.jsx("p",{className:"text-xs text-gray-500",children:"If the payment modal doesn't appear, please disable your popup blocker and try again."})]})]}),h==="verifying"&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Ps,{className:"w-8 h-8 text-blue-600 animate-spin"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Verifying Payment"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Please wait while we confirm your payment..."})]})]}),h==="success"&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(br,{className:"w-8 h-8 text-green-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"Payment Successful!"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[a," FinderTokens have been added to your account."]})]})]}),h==="failed"&&s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(ia,{className:"w-8 h-8 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Payment Failed"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"There was an issue processing your payment. Please try again."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{onClick:()=>{m("verifying"),y.mutate(p)},variant:"outline",className:"w-full",disabled:!p||y.isPending,children:y.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Payment"}),s.jsx(ie,{onClick:()=>{b()},className:"w-full bg-orange-600 hover:bg-orange-700 text-white",children:"Try Again"})]})]})]})]})]})})}const ePe=t=>{const e=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(e).replace(/NGN/g,"")};function tPe(){const{user:t}=tr(),{toast:e}=ar(),[r,n]=O.useState(null),{data:i=[],isLoading:a}=pt({queryKey:["/api/finder/transactions"],enabled:!!t}),{data:o}=pt({queryKey:["/api/finder/profile"],enabled:!!t}),{data:l=[],isLoading:c}=pt({queryKey:["/api/tokens/packages"],enabled:!!t}),d=(o==null?void 0:o.findertokenBalance)||0,u=v=>{switch(v){case"findertoken_purchase":return s.jsx(rn,{className:"w-4 h-4 text-green-600"});case"proposal":return s.jsx(rw,{className:"w-4 h-4 text-finder-red"});case"refund":return s.jsx(rn,{className:"w-4 h-4 text-blue-600"});default:return s.jsx(hr,{className:"w-4 h-4 text-gray-600"})}},h=v=>{switch(v){case"findertoken_purchase":return"text-green-600";case"proposal":return"text-finder-red";case"refund":return"text-blue-600";default:return"text-gray-600"}},m=v=>v==="findertoken_purchase"||v==="refund"?"+":"",[f,g]=O.useState("paystack"),[p,x]=O.useState({isOpen:!1,packageId:"",packageName:"",packagePrice:0,tokenCount:0}),y=(v,b)=>{if(!t){e({title:"Authentication required",description:"Please log in to purchase tokens",variant:"destructive"});return}x({isOpen:!0,packageId:v.id,packageName:v.name,packagePrice:typeof v.price=="string"?parseFloat(v.price):v.price,tokenCount:v.tokenCount}),g(b)};return a||c?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading findertoken balance..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Findertoken Balance"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Manage your proposal findertokens and view transaction history"})]}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Balance"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d}),s.jsx("p",{className:"text-sm text-gray-500",children:"Proposal Findertokens"})]}),s.jsx("div",{className:"p-3 bg-finder-red/20 rounded-full",children:s.jsx(kv,{className:"w-6 h-6 text-finder-red"})})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Findertokens Used"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.filter(v=>v.type==="proposal").reduce((v,b)=>v+Math.abs(b.amount),0)}),s.jsx("p",{className:"text-sm text-gray-500",children:"For Proposals"})]}),s.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:s.jsx(ai,{className:"w-6 h-6 text-yellow-600"})})]})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Purchased"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.filter(v=>v.type==="findertoken_purchase").reduce((v,b)=>v+b.amount,0)}),s.jsx("p",{className:"text-sm text-gray-500",children:"Lifetime"})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:s.jsx(Sa,{className:"w-6 h-6 text-green-600"})})]})})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-5 h-5"}),"Purchase Findertokens"]})}),s.jsxs(Se,{className:"space-y-4",children:[l.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fh,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No packages available"}),s.jsx("p",{className:"text-gray-600",children:"Check back later for token packages"})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:l.map((v,b)=>s.jsxs(_e,{className:`border-2 hover:border-finder-red/30 cursor-pointer transition-colors ${v.popular?"border-finder-red/30 bg-finder-red/10 relative":""}`,"data-testid":`card-package-${v.id}`,children:[v.popular&&s.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2",children:s.jsx(Ye,{className:"bg-finder-red text-xs",children:"Most Popular"})}),s.jsxs(Se,{className:"p-3 sm:p-4 text-center",children:[s.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1","data-testid":`text-tokens-${v.id}`,children:[v.tokenCount," Findertokens"]}),s.jsx("div",{className:"text-base sm:text-lg font-semibold text-finder-red mb-2","data-testid":`text-price-${v.id}`,children:ePe(v.price)}),s.jsx("div",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:v.description||`Submit ${v.tokenCount} proposals`}),s.jsx(ie,{size:"sm",className:"w-full bg-finder-red hover:bg-finder-red-dark text-white py-2 px-3 text-sm",onClick:()=>y(v,"flutterwave"),disabled:r===v.id,"data-testid":`button-purchase-${v.id}`,children:r===v.id?"Processing...":"Purchase Tokens"})]})]},v.id))}),s.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-4 rounded-lg",children:[s.jsx("strong",{children:"Note:"})," Each proposal submission costs findertokens as set by platform administrators. Findertokens are non-refundable once used for proposals, but unused findertokens never expire."]})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"w-5 h-5"}),"Findertoken History"]})}),s.jsx(Se,{children:i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(kv,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No transactions yet"}),s.jsx("p",{className:"text-gray-600",children:"Your token purchases and usage will appear here"})]}):s.jsx("div",{className:"space-y-4",children:i.map(v=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[u(v.type),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:v.description}),s.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(v.createdAt||"").toLocaleDateString()," at"," ",new Date(v.createdAt||"").toLocaleTimeString()]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`text-lg font-semibold ${h(v.type)}`,children:[m(v.type),Math.abs(v.amount)," findertokens"]}),s.jsx(Ye,{variant:v.type==="findertoken_purchase"?"default":v.type==="proposal"?"destructive":"secondary",children:v.type.replace("findertoken_","")})]})]},v.id))})})]})]})]}),f==="flutterwave"&&s.jsx(fA,{isOpen:p.isOpen,onClose:()=>x({...p,isOpen:!1}),packageId:p.packageId,packageName:p.packageName,packagePrice:p.packagePrice,tokenCount:p.tokenCount,onPaymentSuccess:()=>{e({title:"Payment successful!",description:`${p.tokenCount} FinderTokens have been added to your account.`}),x({...p,isOpen:!1}),window.location.reload()}})]})}function rPe(){const{user:t}=tr(),{toast:e}=ar(),[,r]=sn(),[n,i]=O.useState(10),[a,o]=O.useState(!1),[l,c]=O.useState(null),[d,u]=O.useState({isOpen:!1,packageId:"",packageName:"",packagePrice:0,tokenCount:0});O.useEffect(()=>{const b=new URLSearchParams(window.location.search),w=b.get("payment"),_=b.get("reference");w==="success"&&_&&r(`/finder/payment-success?payment=success&reference=${_}`)},[r]);const{data:h,isLoading:m}=pt({queryKey:["/api/tokens/packages"],enabled:!!t}),{data:f}=pt({queryKey:["/api/finder/profile"],enabled:!!t}),g=async b=>{c(b),u({isOpen:!0,packageId:b.id,packageName:b.name,packagePrice:parseFloat(b.price),tokenCount:b.tokenCount})},p=async()=>{if(n<=0)return;const w=n*20,_={id:"custom",name:`${n} FinderTokens`,price:w.toString(),tokenCount:n};await g(_)},x=()=>{e({title:"Purchase Successful!",description:"Tokens have been added to your account."})},y=b=>{const w=parseInt(b.target.value)||0;i(Math.max(1,Math.min(1e3,w)))},v=[10,25,50,100];return m?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-500 mx-auto"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading token packages..."})]})})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center space-x-4 mb-4",children:s.jsxs(ie,{variant:"outline",onClick:()=>window.history.back(),children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back"]})}),s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Purchase Findertokens"}),s.jsx("p",{className:"text-muted-foreground",children:"Buy findertokens to submit proposals and grow your finder business"})]}),s.jsx(_e,{className:"mb-8",children:s.jsx(Se,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Current Balance"}),s.jsx("p",{className:"text-muted-foreground",children:"Available findertokens for proposals"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{className:"w-6 h-6 text-orange-500"}),s.jsx("span",{className:"text-3xl font-bold text-orange-600",children:(f==null?void 0:f.findertokenBalance)||0})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"findertokens"})]})]})})}),h&&h.length>0&&s.jsxs(_e,{className:"mb-8",children:[s.jsxs(Ze,{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(fh,{className:"w-6 h-6 text-yellow-500"}),s.jsx(Xe,{className:"text-2xl",children:"FinderToken Packages"})]}),s.jsx(Ka,{children:"Choose from our available token packages"})]}),s.jsxs(Se,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:h.map(b=>s.jsxs(_e,{className:`border-2 border-muted hover:border-blue-200 transition-colors ${b.popular?"border-orange-200 bg-orange-50/50 relative":""}`,children:[b.popular&&s.jsx(Ye,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 bg-orange-500",children:"Most Popular"}),s.jsx(Ze,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Xe,{className:"text-lg",children:b.name}),s.jsx(ui,{className:"w-5 h-5 text-blue-500"})]})}),s.jsx(Se,{children:s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:b.tokenCount}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"FinderTokens"}),s.jsxs("div",{className:"text-2xl font-bold",children:["",parseFloat(b.price).toLocaleString()]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["",(parseFloat(b.price)/b.tokenCount).toFixed(2)," per token"]}),s.jsx("div",{children:s.jsxs(ie,{onClick:()=>g(b),className:"w-full bg-orange-600 hover:bg-orange-700 text-white",size:"lg","data-testid":`purchase-${b.id}`,children:[s.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Purchase with Flutterwave"]})})]})})]},b.id))}),s.jsx(_e,{className:"bg-blue-50/50 border-blue-200",children:s.jsxs(Se,{className:"p-4",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:" Monthly Benefits"}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[s.jsxs("p",{children:[" Each verified Finder receives ",s.jsx("strong",{children:"20 free FinderTokens"})," monthly"]}),s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Beta Launch Bonus:"})," First 50 verified Finders receive 70 FinderTokens + fast-track promotion opportunities"]})]})]})})]})]}),s.jsxs(_e,{className:"mb-8",children:[s.jsxs(Ze,{children:[s.jsx(Xe,{children:"Custom Amount Purchase"}),s.jsx(Ka,{children:"Purchase any amount of tokens at 20 per token"})]}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"tokenAmount",children:"Number of Tokens"}),s.jsx(at,{id:"tokenAmount",type:"number",min:"1",max:"1000",value:n,onChange:y,className:"text-lg",placeholder:"Enter token amount"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum: 1 token  Maximum: 1,000 tokens"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Quick Select"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map(b=>s.jsx(ie,{variant:n===b?"default":"outline",size:"sm",onClick:()=>i(b),className:"w-full",children:b},b))})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tokens:"}),s.jsx("span",{children:n})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Price per token:"}),s.jsx("span",{children:"20.00"})]}),s.jsx("div",{className:"border-t border-muted pt-2",children:s.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[s.jsx("span",{children:"Total Price:"}),s.jsxs("span",{className:"text-red-600",children:["",(n*20).toLocaleString()]})]})})]}),s.jsx(ie,{className:"w-full text-lg py-6",onClick:p,disabled:a||n<=0,size:"lg",children:a?"Processing Payment...":s.jsxs(s.Fragment,{children:[s.jsx(Nn,{className:"w-5 h-5 mr-2"}),"Purchase ",n," Tokens for ",(n*20).toLocaleString()]})})]})]}),s.jsxs(_e,{className:"mb-6",children:[s.jsxs(Ze,{children:[s.jsx(Xe,{children:"FinderToken Usage Overview"}),s.jsx(Ka,{children:"How FinderTokens power engagement on FinderMeister"})]}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"For Finders:"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Every Find application requires 10 FinderTokens"}),s.jsx("li",{children:" Boost your proposal visibility with premium features"}),s.jsx("li",{children:" Access exclusive high-value find opportunities"})]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"For Clients:"}),s.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[s.jsx("li",{children:" Posting high-budget finds (100,000+) requires tokens"}),s.jsx("li",{children:" Optional: Boost find visibility (50 FinderTokens)"}),s.jsx("li",{children:" Get more serious, quality proposals"})]})]})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Why FinderTokens?"}),s.jsx("p",{className:"text-sm text-yellow-800",children:"FinderTokens ensure fairness, limit spam, and promote quality participation in the FinderMeister ecosystem. Clients gain more visibility and serious proposals, while Finders increase their chances of winning finds with strategic token use."})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"How the Process Works"})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-sm font-bold shrink-0",children:"1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Purchase Tokens"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Buy FinderTokens using secure Flutterwave payment integration"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-sm font-bold shrink-0",children:"2"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Submit Proposals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use 10 tokens per proposal to apply for finds that match your expertise"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center text-sm font-bold shrink-0",children:"3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Win Contracts & Earn"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get selected by clients, complete the work, and earn the full contract amount"})]})]})]})]})]})}),s.jsx(fA,{isOpen:d.isOpen,onClose:()=>u(b=>({...b,isOpen:!1})),packageId:d.packageId,packageName:d.packageName,packagePrice:d.packagePrice,tokenCount:d.tokenCount,onPaymentSuccess:x})]})}function sPe(){var g;const{user:t}=tr(),[,e]=sn(),[r,n]=O.useState("pending"),[i,a]=O.useState(null),o=vr(),l=new URLSearchParams(window.location.search),c=l.get("reference")||l.get("tx_ref"),d=l.get("payment"),u=l.get("status"),h=l.get("transaction_id");O.useEffect(()=>{const p=async()=>{if(!c){console.error("Payment verification: No reference found"),n("failed");return}console.log("Payment verification: Starting verification for reference:",c),console.log("Payment verification: URL params:",{reference:c,paymentParam:d,status:u,transactionId:h});try{let x=`/api/payments/verify/${c}`;c.startsWith("OPAY_")?x=`/api/payments/opay/verify/${c}`:c.startsWith("FLW_")&&(x=`/api/payments/flutterwave/verify/${c}`),console.log("Payment verification: Calling endpoint:",x);const y=await St(x);console.log("Payment verification: Backend response:",y),y.status==="success"?(n("success"),a(y.data),o.invalidateQueries({queryKey:["/api/finder/profile"]}),o.invalidateQueries({queryKey:["/api/finder/transactions"]}),console.log("Payment verification: Success! Tokens should be credited."),setTimeout(()=>{var b,w;const v=((w=(b=y.data)==null?void 0:b.metadata)==null?void 0:w.tokens)||"N/A";e(`/finder/thank-you?reference=${c}&tokens=${v}`)},2e3)):(console.error("Payment verification: Backend returned failed status:",y),n("failed"))}catch(x){console.error("Payment verification error:",x),n("failed")}};c&&(d==="success"||u==="completed")?(console.log("Payment verification: Conditions met, starting verification..."),p()):(console.error("Payment verification: Conditions not met:",{reference:c,paymentParam:d,status:u}),n("failed"))},[c,d,u,o]);const m=()=>{e("/finder/dashboard")},f=()=>{e("/finder/token-purchase")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs(_e,{className:"text-center",children:[s.jsxs(Ze,{children:[r==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mx-auto w-16 h-16 flex items-center justify-center bg-blue-100 rounded-full mb-4",children:s.jsx(Ps,{className:"w-8 h-8 text-blue-600 animate-spin"})}),s.jsx(Xe,{children:"Verifying Payment"}),s.jsx(Ka,{children:"Please wait while we confirm your payment..."})]}),r==="success"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mx-auto w-16 h-16 flex items-center justify-center bg-green-100 rounded-full mb-4",children:s.jsx(br,{className:"w-8 h-8 text-green-600"})}),s.jsx(Xe,{className:"text-green-600",children:"Payment Successful!"}),s.jsx(Ka,{children:"Your FinderTokens have been added to your account"})]}),r==="failed"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mx-auto w-16 h-16 flex items-center justify-center bg-red-100 rounded-full mb-4",children:s.jsx(fs,{className:"w-8 h-8 text-red-600"})}),s.jsx(Xe,{className:"text-red-600",children:"Payment Failed"}),s.jsx(Ka,{children:"We couldn't verify your payment. Please try again."})]})]}),s.jsxs(Se,{className:"space-y-4",children:[r==="success"&&i&&s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-700",children:[s.jsx(aa,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-semibold",children:[((g=i.metadata)==null?void 0:g.tokens)||"N/A"," FinderTokens Added"]})]}),s.jsxs("div",{className:"text-sm text-green-600 mt-2 space-y-1",children:[s.jsxs("p",{children:["Transaction Reference: ",c]}),h&&s.jsxs("p",{children:["Transaction ID: ",h]})]})]}),r==="success"&&s.jsx(ie,{onClick:m,className:"w-full",children:"Continue to Dashboard"}),r==="failed"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{onClick:f,className:"w-full",variant:"outline",children:"Try Again"}),s.jsx(ie,{onClick:m,variant:"secondary",className:"w-full",children:"Go to Dashboard"})]}),r==="pending"&&s.jsx("p",{className:"text-sm text-gray-500",children:"This may take a few seconds..."})]})]})})})]})}function nPe(){const{user:t}=tr(),[,e]=sn(),[r,n]=O.useState(null),i=new URLSearchParams(window.location.search),a=i.get("reference"),o=i.get("tokens");return O.useEffect(()=>{n({reference:a,tokens:o})},[a,o]),!t||t.role!=="finder"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(_e,{className:"w-full max-w-md",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx(br,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to view this page."}),s.jsx(ie,{onClick:()=>e("/login"),children:"Sign In"})]})})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("main",{className:"max-w-2xl mx-auto px-4 py-12",children:s.jsxs(_e,{className:"shadow-xl border-0 bg-white",children:[s.jsxs(Ze,{className:"text-center pb-2",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(br,{className:"w-12 h-12 text-green-600"})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center animate-bounce",children:s.jsx(ui,{className:"w-4 h-4 text-yellow-700"})})]})}),s.jsx(Xe,{className:"text-3xl font-bold text-gray-900 mb-2",children:"Thank You!"}),s.jsx(Ka,{className:"text-lg text-gray-600",children:"Your FinderTokens purchase has been completed successfully"})]}),s.jsxs(Se,{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Sv,{className:"w-8 h-8 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-green-800 text-lg mb-2",children:"FinderTokens Added Successfully!"}),s.jsx("p",{className:"text-green-700 mb-3",children:"Your new FinderTokens have been added to your account and are ready to use for bidding on exciting job opportunities."}),(r==null?void 0:r.tokens)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{className:"w-5 h-5 text-green-600"}),s.jsxs("span",{className:"font-medium text-green-800 text-lg",children:[r.tokens," FinderTokens Added"]})]})]})]})}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[s.jsxs("h3",{className:"font-semibold text-blue-800 text-lg mb-3 flex items-center",children:[s.jsx(uh,{className:"w-5 h-5 mr-2"}),"What's Next?"]}),s.jsxs("div",{className:"space-y-3 text-blue-700",children:[s.jsx("p",{children:" Browse available job requests in the marketplace"}),s.jsx("p",{children:" Use your tokens to submit competitive proposals"}),s.jsx("p",{children:" Each proposal costs 1 FinderToken"}),s.jsx("p",{children:" Win jobs and start earning immediately"}),s.jsx("p",{children:" Build your reputation with successful completions"})]})]}),s.jsxs("div",{className:"flex flex-col space-y-3 pt-4",children:[s.jsx(ie,{onClick:()=>e("/finder/marketplace"),className:"bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg","data-testid":"button-marketplace",children:"Browse Job Marketplace"}),s.jsx(ie,{onClick:()=>e("/finder/tokens"),variant:"outline",className:"py-3 text-lg","data-testid":"button-view-tokens",children:"View Token Balance"}),s.jsx(ie,{variant:"outline",onClick:()=>e("/finder/dashboard"),className:"py-3 text-lg","data-testid":"button-dashboard",children:"Back to Dashboard"})]}),(r==null?void 0:r.reference)&&s.jsx("div",{className:"text-center pt-4 border-t border-gray-200",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Transaction Reference: ",s.jsx("span",{className:"font-mono",children:r.reference})]})}),s.jsx("div",{className:"text-center pt-2",children:s.jsx("p",{className:"text-gray-600 italic",children:"Thank you for choosing FinderMeister, one successful find at a time."})})]})]})})]})}const VL=t=>{const e=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(e).replace(/NGN/g,"")};function iPe(){const{user:t}=tr(),{toast:e}=ar(),[r,n]=O.useState(null),[i,a]=O.useState({isOpen:!1,packageId:"",packageName:"",packagePrice:0,tokenCount:0}),{data:o=[],isLoading:l,refetch:c}=pt({queryKey:["/api/client/transactions"],enabled:!!t}),{data:d,refetch:u}=pt({queryKey:["/api/client/balance"],enabled:!!t}),{data:h=[],isLoading:m}=pt({queryKey:["/api/tokens/packages"],enabled:!!t}),f=(d==null?void 0:d.balance)||0,g=b=>{switch(b){case"findertoken_purchase":return s.jsx(rn,{className:"w-4 h-4 text-green-600"});case"find_posting":return s.jsx(rw,{className:"w-4 h-4 text-finder-red"});case"refund":return s.jsx(rn,{className:"w-4 h-4 text-blue-600"});default:return s.jsx(hr,{className:"w-4 h-4 text-gray-600"})}},p=b=>{switch(b){case"findertoken_purchase":return"text-green-600";case"find_posting":return"text-finder-red";case"refund":return"text-blue-600";default:return"text-gray-600"}},x=b=>b==="findertoken_purchase"||b==="refund"?"+":"-",y=async b=>{const w=h.find(_=>_.id===b);if(!w){e({title:"Error",description:"Package not found",variant:"destructive"});return}a({isOpen:!0,packageId:w.id,packageName:w.name,packagePrice:parseFloat(w.price),tokenCount:w.tokenCount})},v=()=>{e({title:"Payment Successful!",description:"Tokens have been added to your account"}),u(),c()};return l||m?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:"tokens"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading token information..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(ds,{currentPage:"tokens"}),s.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(kv,{className:"h-8 w-8 text-finder-red"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Findertoken Balance"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(_e,{className:"bg-gradient-to-r from-finder-red to-red-600 text-white",children:[s.jsx(Ze,{className:"pb-2",children:s.jsxs(Xe,{className:"text-lg font-medium flex items-center gap-2",children:[s.jsx(kv,{className:"w-5 h-5"}),"Current Balance"]})}),s.jsxs(Se,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[f," Tokens"]}),s.jsx("p",{className:"text-red-100 text-sm",children:"Available for posting finds"})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsxs(Xe,{className:"text-lg font-medium flex items-center gap-2 text-gray-700",children:[s.jsx(ai,{className:"w-5 h-5"}),"Total Purchased"]})}),s.jsxs(Se,{children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[o.filter(b=>b.type==="findertoken_purchase").reduce((b,w)=>b+w.amount,0)," Tokens"]}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Lifetime purchases"})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{className:"pb-2",children:s.jsxs(Xe,{className:"text-lg font-medium flex items-center gap-2 text-gray-700",children:[s.jsx(Dl,{className:"w-5 h-5"}),"Total Spent"]})}),s.jsxs(Se,{children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[o.filter(b=>b.type==="find_posting").reduce((b,w)=>b+Math.abs(w.amount),0)," Tokens"]}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Used for posting finds"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-5 h-5"}),"Purchase Findertokens"]})}),s.jsx(Se,{className:"space-y-4",children:h.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No token packages available"}):s.jsx("div",{className:"grid gap-3",children:h.filter(b=>b.isActive).map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors","data-testid":`token-package-${b.id}`,children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold",children:b.name}),b.name.toLowerCase().includes("popular")&&s.jsxs(Ye,{variant:"default",className:"bg-finder-red",children:[s.jsx(ui,{className:"w-3 h-3 mr-1"}),"Popular"]})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fh,{className:"w-4 h-4 text-yellow-500"}),b.tokenCount," Tokens"]}),s.jsx("span",{className:"font-medium text-finder-red",children:VL(b.price)})]})]}),s.jsx("div",{children:s.jsxs(ie,{onClick:()=>y(b.id),className:"w-full bg-orange-600 hover:bg-orange-700 text-white",size:"lg","data-testid":`purchase-button-${b.id}`,children:[s.jsx(Nn,{className:"w-4 h-4 mr-2"}),"Purchase with Flutterwave"]})})]},b.id))})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"w-5 h-5"}),"Transaction History"]})}),s.jsx(Se,{children:o.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"No transactions yet"}):s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.slice(0,10).map(b=>{var w;return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg","data-testid":`transaction-${b.id}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(b.type),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-sm",children:[b.type==="findertoken_purchase"&&"Token Purchase",b.type==="find_posting"&&"Find Posted",b.type==="refund"&&"Refund"]}),s.jsx("p",{className:"text-xs text-gray-500",children:b.createdAt?new Date(b.createdAt).toLocaleDateString():"N/A"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-medium ${p(b.type)}`,children:[x(b.type),b.amount," tokens"]}),((w=b.metadata)==null?void 0:w.price)&&s.jsx("p",{className:"text-xs text-gray-500",children:VL(b.metadata.price)})]})]},b.id)})})})]})]})]}),s.jsx(fA,{isOpen:i.isOpen,onClose:()=>a(b=>({...b,isOpen:!1})),packageId:i.packageId,packageName:i.packageName,packagePrice:i.packagePrice,tokenCount:i.tokenCount,onPaymentSuccess:v})]})}function aPe(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState({bankName:"",accountNumber:"",accountHolder:"",routingNumber:""}),{data:a,isLoading:o}=pt({queryKey:["/api/finder/withdrawal-settings"],enabled:!!t}),{data:l=[],isLoading:c}=pt({queryKey:["/api/finder/withdrawals"],enabled:!!t}),{data:d}=pt({queryKey:["/api/finder/profile"],enabled:!!t}),{data:u}=pt({queryKey:["/api/finder/pending-earnings"],enabled:!!t});O.useEffect(()=>{a&&a.bankDetails&&i({bankName:a.bankDetails.bankName||"",accountNumber:a.bankDetails.accountNumber||"",accountHolder:a.bankDetails.accountHolder||"",routingNumber:a.bankDetails.routingNumber||""})},[a]);const h=Ft({mutationFn:async x=>{if(console.log("Updating withdrawal settings with data:",x),!x.bankDetails||typeof x.bankDetails!="object")throw new Error("Invalid bank details format");if(!x.bankDetails.bankName||!x.bankDetails.accountNumber||!x.bankDetails.accountHolder)throw new Error("Missing required bank details");return St("/api/finder/withdrawal-settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/finder/withdrawal-settings"]}),e({title:"Settings updated",description:"Your withdrawal settings have been successfully updated."})},onError:x=>{console.error("Update settings error:",x);const y=(x==null?void 0:x.message)||(x==null?void 0:x.toString())||"Failed to update withdrawal settings";e({title:"Error",description:y.includes("function")?"A technical error occurred. Please refresh the page and try again.":y,variant:"destructive"})}}),m=Ft({mutationFn:x=>St("/api/finder/withdraw",{method:"POST",body:JSON.stringify({amount:x.amount,paymentMethod:"Bank Transfer",paymentDetails:x.paymentDetails})}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/finder/withdrawals"]}),e({title:"Withdrawal requested",description:"Your withdrawal request has been submitted for review."})},onError:x=>{e({title:"Error",description:x.message||"Failed to request withdrawal",variant:"destructive"})}}),f=()=>{try{if(!n.bankName||!n.accountNumber||!n.accountHolder){e({title:"Validation Error",description:"Please fill in all required bank details (Bank Name, Account Number, and Account Holder Name).",variant:"destructive"});return}const x=String(n.bankName).trim(),y=String(n.accountNumber).trim(),v=String(n.accountHolder).trim(),b=String(n.routingNumber||"").trim();if(!x||!y||!v){e({title:"Validation Error",description:"All required fields must have valid values.",variant:"destructive"});return}const w={paymentMethod:"bank_transfer",minimumThreshold:50,bankDetails:{bankName:x,accountNumber:y,accountHolder:v,routingNumber:b}};console.log("Submitting withdrawal settings:",w),h.mutate(w)}catch(x){console.error("Error preparing withdrawal settings:",x),e({title:"Error",description:"Failed to prepare withdrawal settings. Please try again.",variant:"destructive"})}},g=()=>{const x=Math.max(0,parseFloat((d==null?void 0:d.availableBalance)||"0")),y=50;if(x<y){e({title:"Insufficient balance",description:`Minimum withdrawal amount is ${y}. Available: ${x.toFixed(2)}`,variant:"destructive"});return}const b=x*.05,w=x-b;if(w<=0){e({title:"Insufficient balance",description:`Available balance after fees would be ${w.toFixed(2)}`,variant:"destructive"});return}const _={accountName:n.accountHolder,accountNumber:n.accountNumber,bankName:n.bankName,routingNumber:n.routingNumber};m.mutate({amount:w.toFixed(2),paymentDetails:_})},p=x=>{switch(x){case"approved":return"bg-green-100 text-green-700";case"processing":return"bg-yellow-100 text-yellow-700";case"rejected":return"bg-finder-red/20 text-finder-red-dark";default:return"bg-gray-100 text-gray-700"}};return o||c?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading withdrawal settings..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Withdrawal Settings"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Manage your bank account and withdrawal preferences"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsx("div",{className:"flex flex-col sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Available Balance"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",Math.max(0,parseFloat((d==null?void 0:d.availableBalance)||"0")).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})})}),s.jsx(_e,{children:s.jsx(Se,{className:"p-6",children:s.jsx("div",{className:"flex flex-col sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"w-5 h-5 text-gray-600"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Pending Balance"})]}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:["",((u==null?void 0:u.netAmount)||0).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[(u==null?void 0:u.contractCount)||0," contract",((u==null?void 0:u.contractCount)||0)!==1?"s":""," awaiting release"]})]})})})})]}),s.jsxs("div",{className:"mt-6 grid gap-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-5 h-5"}),"Bank Account Settings"]})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"bankName",children:"Bank Name"}),s.jsx(at,{id:"bankName",value:n.bankName,onChange:x=>i(y=>({...y,bankName:x.target.value})),placeholder:"Enter bank name",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"accountHolder",children:"Account Holder Name"}),s.jsx(at,{id:"accountHolder",value:n.accountHolder,onChange:x=>i(y=>({...y,accountHolder:x.target.value})),placeholder:"Enter account holder name",className:"mt-1"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"accountNumber",children:"Account Number"}),s.jsx(at,{id:"accountNumber",value:n.accountNumber,onChange:x=>i(y=>({...y,accountNumber:x.target.value})),placeholder:"Enter account number",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"routingNumber",children:"Routing Number"}),s.jsx(at,{id:"routingNumber",value:n.routingNumber,onChange:x=>i(y=>({...y,routingNumber:x.target.value})),placeholder:"Enter routing number",className:"mt-1"})]})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(ie,{onClick:f,disabled:h.isPending,className:"bg-finder-red hover:bg-finder-red-dark w-full sm:w-auto",children:h.isPending?"Updating...":"Update Settings"})})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-green-600",children:""}),"Request Withdrawal"]})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ia,{className:"w-5 h-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Withdrawal Information"}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" Minimum withdrawal amount: 50.00"}),s.jsx("li",{children:" 5% processing fee will be deducted"}),s.jsx("li",{children:" Powered by Flutterwave for secure bank transfers"}),s.jsx("li",{children:" Withdrawals are processed within minutes to 24 hours"}),s.jsx("li",{children:" Ensure your bank details are correct before requesting"}),s.jsx("li",{children:" You'll receive instant notifications on transfer status"})]})]})]})}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-green-700",children:"Available for Withdrawal"}),s.jsxs("p",{className:"text-2xl font-bold text-green-800",children:["",Math.max(0,parseFloat((d==null?void 0:d.availableBalance)||"0")).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsx(Nn,{className:"w-8 h-8 text-green-600"})]})}),s.jsxs("div",{className:"space-y-4",children:[!n.bankName||!n.accountNumber||!n.accountHolder?s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ia,{className:"w-5 h-5 text-yellow-600"}),s.jsx("p",{className:"text-sm text-yellow-800",children:"Please complete your bank account settings above before requesting a withdrawal."})]})}):s.jsx(ie,{onClick:g,disabled:m.isPending||Math.max(0,parseFloat((d==null?void 0:d.availableBalance)||"0"))<50,className:"w-full bg-finder-red hover:bg-finder-red-dark text-white py-3",size:"lg",children:m.isPending?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-bold",children:""}),"Request Withdrawal of Full Balance"]})}),Math.max(0,parseFloat((d==null?void 0:d.availableBalance)||"0"))<50&&s.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Minimum withdrawal amount is 50.00"})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(hr,{className:"w-5 h-5"}),"Withdrawal History"]})}),s.jsx(Se,{children:l.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ia,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No withdrawal history"}),s.jsx("p",{className:"text-gray-600",children:"Your withdrawal requests will appear here once you make them."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(fj,{children:[s.jsx(mj,{children:s.jsxs(um,{children:[s.jsx(Zs,{children:"Request ID"}),s.jsx(Zs,{children:"Amount"}),s.jsx(Zs,{children:"Payment Method"}),s.jsx(Zs,{children:"Status"}),s.jsx(Zs,{children:"Requested At"}),s.jsx(Zs,{children:"Processed At"}),s.jsx(Zs,{children:"Notes"})]})}),s.jsx(pj,{children:l.slice(0,10).map(x=>s.jsxs(um,{children:[s.jsx(en,{children:s.jsx(Ye,{variant:"outline",className:"font-mono",children:x.requestId||"N/A"})}),s.jsxs(en,{children:["",parseFloat(x.amount).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx(en,{children:x.paymentMethod}),s.jsx(en,{children:s.jsx(Ye,{className:p(x.status),children:x.status})}),s.jsx(en,{children:x.requestedAt?new Date(x.requestedAt).toLocaleDateString():"Unknown"}),s.jsx(en,{children:x.processedAt?new Date(x.processedAt).toLocaleDateString():"N/A"}),s.jsx(en,{children:x.adminNotes||"N/A"})]},x.id))})]}),l.length>10&&s.jsx("div",{className:"text-center pt-4",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Showing last 10 of ",l.length," transactions"]})})]})})]})]})]})]})}function oPe(){const{user:t}=tr(),{toast:e}=ar(),{t:r}=Wc(),[n,i]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,o]=O.useState({twoFactorEnabled:!1,emailNotifications:!0,loginAlerts:!0,passwordRequirements:!0}),{data:l,isLoading:c}=pt({queryKey:["security-settings"],queryFn:()=>St("GET","/api/finder/security-settings"),onSuccess:h=>{o(h)},onError:h=>{console.error("Error fetching security settings:",h),e({title:"Error",description:"Failed to load security settings",variant:"destructive"})}}),d=Ft({mutationFn:async h=>{const m=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("findermeister_token")}`},body:JSON.stringify({currentPassword:h.currentPassword,newPassword:h.newPassword})});if(!m.ok){const f=await m.json();throw new Error(f.message||"Failed to change password")}return m.json()},onSuccess:()=>{i({currentPassword:"",newPassword:"",confirmPassword:""}),e({title:"Password changed",description:"Your password has been successfully updated."})},onError:h=>{e({title:"Error",description:h.message||"Failed to change password",variant:"destructive"})}});Ft({mutationFn:h=>St("PUT","/api/finder/security-settings"),onSuccess:()=>{e({title:"Settings updated",description:"Your security settings have been updated."})},onError:h=>{e({title:"Error",description:h.message||"Failed to update security settings",variant:"destructive"})}});const u=()=>{if(n.newPassword!==n.confirmPassword){e({title:"Password mismatch",description:"New password and confirmation do not match.",variant:"destructive"});return}if(n.newPassword.length<8){e({title:"Password too short",description:"Password must be at least 8 characters long.",variant:"destructive"});return}d.mutate(n)};return c?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading security settings..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 px-4 sm:px-6",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Security Settings"}),s.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Manage your account security preferences"})]}),s.jsx("div",{className:"grid gap-6",children:s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Pse,{className:"w-5 h-5"}),"Change Password"]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"currentPassword",children:"Current Password"}),s.jsx(at,{id:"currentPassword",type:"password",value:n.currentPassword,onChange:h=>i(m=>({...m,currentPassword:h.target.value})),className:"mt-1",placeholder:"Current password"})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"newPassword",children:"New Password"}),s.jsx(at,{id:"newPassword",type:"password",value:n.newPassword,onChange:h=>i(m=>({...m,newPassword:h.target.value})),className:"mt-1",placeholder:"New password"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(at,{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:h=>i(m=>({...m,confirmPassword:h.target.value})),className:"mt-1",placeholder:"Confirm password"})]})]}),s.jsx(ie,{onClick:u,disabled:!n.currentPassword||!n.newPassword||!n.confirmPassword||d.isPending,className:"bg-finder-red hover:bg-finder-red-dark",children:"Update Password"})]})]})})]})]})}const f_=t=>{const e=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(e).replace(/NGN/g,"")};function lPe(){const{user:t}=tr(),{data:e=[],isLoading:r}=pt({queryKey:["/api/finder/contracts"],enabled:!!t}),{data:n}=pt({queryKey:["/api/admin/settings"],enabled:e.length>0});console.log("Finder Contracts Data:",e);const i=l=>{const c=parseFloat(l);if(!n)return{grossAmount:c,platformFeePercentage:5,platformFeeAmount:c*.05,netEarnings:c*.95,availableBalance:c*.95};const d=parseFloat(n.finderEarningsChargePercentage||"5"),u=c*(d/100),h=c-u;return{grossAmount:c,platformFeePercentage:d,platformFeeAmount:u,netEarnings:h,availableBalance:h}};if(r)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{currentPage:"contracts"}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading your contracts..."})]})})]});const a=l=>l.isCompleted?s.jsx(Ye,{variant:"default",className:"bg-green-100 text-green-800",children:"Completed"}):l.escrowStatus==="pending"?s.jsx(Ye,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:"Hired, Awaiting Funding"}):l.hasSubmission?s.jsx(Ye,{variant:"default",className:"bg-blue-100 text-blue-800",children:"Under Review"}):s.jsx(Ye,{variant:"default",className:"bg-orange-100 text-orange-800",children:"In Progress"}),o=l=>{switch(l){case"held":return s.jsx(Ye,{variant:"secondary",className:"bg-gray-100 text-gray-800",children:"Escrowed"});case"released":return s.jsx(Ye,{variant:"default",className:"bg-green-100 text-green-800",children:"Released"});case"disputed":return s.jsx(Ye,{variant:"destructive",children:"Disputed"});default:return s.jsx(Ye,{variant:"secondary",children:l})}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{currentPage:"contracts"}),s.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Active Contracts"}),s.jsx("p",{className:"text-gray-600",children:"View and manage your ongoing work contracts and submissions."})]}),e.length===0?s.jsx(_e,{children:s.jsxs(Se,{className:"py-12 text-center",children:[s.jsx(as,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No active contracts"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have any active contracts at the moment. Start by browsing available opportunities and submitting proposals."}),s.jsx(Re,{href:"/finder/browse-finds",children:s.jsx(ie,{children:"Browse Available Finds"})})]})}):s.jsx("div",{className:"space-y-6",children:e.map(l=>{var c,d;return s.jsx(Re,{href:`/finder/contracts/${l.id}`,children:s.jsxs(_e,{className:"border hover:shadow-md transition-shadow cursor-pointer",children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(Xe,{className:"text-xl text-gray-900 mb-2 flex items-center",children:[((c=l.request)==null?void 0:c.title)||"Contract Details",!l.hasSubmission&&!l.isCompleted&&s.jsx(ia,{className:"w-5 h-5 text-orange-500 ml-2",title:"Awaiting submission"})]}),s.jsx("p",{className:"text-gray-600 line-clamp-2",children:((d=l.request)==null?void 0:d.description)||"No description available"})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[a(l),o(l.escrowStatus)]})]})}),s.jsx(Se,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsxs("div",{className:"flex items-center text-blue-600 text-sm",children:[s.jsx("span",{className:"font-medium",children:f_(l.amount)}),s.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(contract value)"})]}),n&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center text-orange-600 text-xs",children:[s.jsxs("span",{children:["Platform Fee (",i(l.amount).platformFeePercentage,"%): "]}),s.jsxs("span",{className:"font-medium ml-1",children:["-",f_(i(l.amount).platformFeeAmount)]})]}),s.jsxs("div",{className:"flex items-center text-green-600 text-sm font-semibold",children:[s.jsx(TS,{className:"w-3 h-3 mr-1"}),s.jsx("span",{children:f_(i(l.amount).availableBalance)}),s.jsx("span",{className:"ml-1 text-xs text-gray-500",children:l.isCompleted?"(credited to balance)":"(will be credited)"})]})]})]}),s.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),"Started ",new Date(l.createdAt).toLocaleDateString()]}),l.isCompleted&&l.completedAt&&s.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[s.jsx(br,{className:"w-4 h-4 mr-1"}),"Completed ",new Date(l.completedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[l.escrowStatus==="pending"?s.jsxs(Ye,{variant:"outline",className:"text-yellow-600 border-yellow-200",children:[s.jsx(hr,{className:"w-3 h-3 mr-1"}),"Awaiting Funding"]}):l.hasSubmission?s.jsxs(Ye,{variant:"outline",className:"text-blue-600 border-blue-200",children:[s.jsx(Fc,{className:"w-3 h-3 mr-1"}),"Submitted"]}):s.jsxs(Ye,{variant:"outline",className:"text-orange-600 border-orange-200",children:[s.jsx(Fc,{className:"w-3 h-3 mr-1"}),"Submit Work"]}),s.jsx(_v,{className:"w-4 h-4 text-gray-400"})]})]})})]})},l.id)})})]})]})}const rp=t=>{const e=typeof t=="string"?parseFloat(t):t;try{return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(e).replace(/NGN/g,"")}catch{return`${e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}`}};function cPe(){var f,g,p,x,y;const{user:t}=tr(),{t:e}=Wc(),[r,n]=M0("/finder/contracts/:contractId"),i=n==null?void 0:n.contractId,[a,o]=O.useState(!1),{data:l,isLoading:c}=pt({queryKey:[`/api/finder/contracts/${i}`],enabled:!!t&&!!i}),{data:d}=pt({queryKey:["/api/admin/settings"],enabled:!!l}),u=v=>{const b=parseFloat(v);if(!d)return{grossAmount:b,platformFeePercentage:5,platformFeeAmount:b*.05,netEarnings:b*.95,availableBalance:b*.95};const w=parseFloat(d.finderEarningsChargePercentage||"5"),_=b*(w/100),N=b-_;return{grossAmount:b,platformFeePercentage:w,platformFeeAmount:_,netEarnings:N,availableBalance:N}};if(c)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading contract details..."})]})})]});if(!l)return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"max-w-4xl mx-auto py-8 px-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:e("contract.contract_not_found")}),s.jsx("p",{className:"text-gray-600 mb-6",children:e("contract.contract_not_found_desc")}),s.jsx(Re,{href:"/finder/contracts",children:s.jsx(ie,{children:e("navigation.contracts")})})]})})]});const h=v=>v.isCompleted?s.jsx(Ye,{className:"bg-green-100 text-green-800",children:e("contract.completed")}):v.escrowStatus==="pending"?s.jsx(Ye,{className:"bg-yellow-100 text-yellow-800",children:"Hired, Awaiting Funding"}):v.hasSubmission?s.jsx(Ye,{className:"bg-yellow-100 text-yellow-800",children:e("contract.under_review")}):s.jsx(Ye,{className:"bg-blue-100 text-blue-800",children:e("contract.in_progress")}),m=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Re,{href:"/finder/contracts",children:s.jsxs(ie,{variant:"outline",className:"mb-4",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),e("common.back")," ",e("navigation.contracts")]})}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:((f=l.request)==null?void 0:f.title)||e("contract.contract_details")}),s.jsxs("p",{className:"text-gray-600",children:[e("contract.contract_id"),": ",l.id]})]}),h(l)]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(im,{className:"w-5 h-5 mr-2"}),e("contract.contract_overview")]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Contract Value"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:rp(l.amount)})]}),d&&s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg space-y-2",children:[s.jsxs("h4",{className:"font-semibold text-orange-800 flex items-center",children:[s.jsx(TS,{className:"w-4 h-4 mr-2"}),"Earnings Calculation"]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"flex items-center text-orange-600",children:[s.jsx(rw,{className:"w-3 h-3 mr-1"}),"Platform Fee (",u(l.amount).platformFeePercentage,"%):"]}),s.jsxs("span",{className:"font-semibold text-orange-600",children:["-",rp(u(l.amount).platformFeeAmount)]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-orange-200",children:[s.jsxs("span",{className:"flex items-center font-semibold text-green-700",children:[s.jsx(ai,{className:"w-4 h-4 mr-1"}),"Your Earnings:"]}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:rp(u(l.amount).availableBalance)})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:l.isCompleted?" This amount has been credited to your available balance":"This amount will be credited to your available balance upon completion"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_n,{className:"w-5 h-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:e("contract.started")}),s.jsx("p",{className:"font-medium",children:m(l.createdAt)})]})]}),l.completedAt&&s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(br,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:e("contract.completed")}),s.jsx("p",{className:"font-medium",children:m(l.completedAt)}),((g=l.orderSubmission)==null?void 0:g.autoReleaseDate)&&s.jsxs("p",{className:"text-xs text-gray-500",children:["Funds release: ",m(l.orderSubmission.autoReleaseDate)]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Escrow Status:"}),s.jsx(Ye,{className:l.escrowStatus==="held"?"bg-yellow-100 text-yellow-800":l.escrowStatus==="released"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:l.escrowStatus})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),s.jsx(Ye,{className:l.isCompleted?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",children:l.isCompleted?"Completed":"In Progress"})]})]})]})]}),s.jsx(Rc,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Project Description"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:((p=l.request)==null?void 0:p.description)||"No description available."})]})]})]}),l.escrowStatus==="pending"&&s.jsx(_e,{className:"border-yellow-200 bg-yellow-50",children:s.jsx(Se,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Wr,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-yellow-900",children:"Contract Awaiting Funding"}),s.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"You have been hired for this project! However, work cannot begin until the client funds the contract escrow. You will be notified once the contract is funded and ready to start."})]})]})})}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(as,{className:"w-5 h-5 mr-2"}),"Work Submission"]})}),s.jsx(Se,{children:l.escrowStatus==="pending"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-yellow-600",children:[s.jsx(hr,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Awaiting Contract Funding"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Work submission is disabled until the client funds the contract escrow."})]})]}),s.jsxs("div",{className:"pt-4",children:[s.jsxs(ie,{disabled:!0,className:"bg-gray-300 text-gray-500 cursor-not-allowed",children:[s.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Submit Work (Disabled)"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Work submission will be enabled once contract is funded"})]})]}):l.isCompleted?s.jsxs("div",{className:"flex items-center space-x-3 text-green-600",children:[s.jsx(br,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Work Completed"}),s.jsx("p",{className:"text-sm text-gray-600",children:"This contract has been successfully completed."})]})]}):l.hasSubmission?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-yellow-600",children:[s.jsx(hr,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Under Review"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Your work has been submitted and is being reviewed by the client."})]})]}),s.jsx("div",{className:"pt-4",children:s.jsx(Re,{href:`/orders/submit/${l.id}`,children:s.jsxs(ie,{variant:"outline",children:[s.jsx(as,{className:"w-4 h-4 mr-2"}),"View Submission Details"]})})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-blue-600",children:[s.jsx(Fc,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Ready for Submission"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Complete your work and submit it for client review."})]})]}),s.jsx("div",{className:"pt-4",children:s.jsx(Re,{href:`/orders/submit/${l.id}`,children:s.jsxs(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white",children:[s.jsx(Fc,{className:"w-4 h-4 mr-2"}),"Submit Work"]})})})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-green-600",children:""}),"Payment Information"]})}),s.jsx(Se,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Contract Value:"}),s.jsx("span",{className:"text-xl font-bold text-blue-600",children:rp(l.amount)})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx(Rc,{}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg space-y-2",children:[s.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[s.jsx(TS,{className:"w-4 h-4 mr-2"}),"Earnings Calculation"]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("span",{className:"flex items-center text-orange-600",children:[s.jsx(rw,{className:"w-3 h-3 mr-1"}),"Platform Fee (",u(l.amount).platformFeePercentage,"%):"]}),s.jsxs("span",{className:"font-medium text-orange-600",children:["-",rp(u(l.amount).platformFeeAmount)]})]}),s.jsxs("div",{className:"flex justify-between items-center text-lg border-t pt-2",children:[s.jsxs("span",{className:"flex items-center font-semibold text-green-700",children:[s.jsx(rn,{className:"w-4 h-4 mr-1"}),"Your Earnings:"]}),s.jsx("span",{className:"text-xl font-bold text-green-600",children:rp(u(l.amount).availableBalance)})]}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:l.isCompleted?" This amount has been credited to your available balance":"This amount will be credited to your available balance upon completion"})]})]}),s.jsx(Rc,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Escrow Status:"}),s.jsx(Ye,{className:l.escrowStatus==="held"?"bg-yellow-100 text-yellow-800":l.escrowStatus==="released"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:l.escrowStatus})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600",children:"Status:"}),s.jsx(Ye,{className:l.isCompleted?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800",children:l.isCompleted?"Completed":"In Progress"})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Escrow Status"})}),s.jsx(Se,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${l.escrowStatus==="held"||l.escrowStatus==="in_progress"?"bg-yellow-500":l.escrowStatus==="completed"?"bg-blue-500":l.escrowStatus==="released"?"bg-green-500":"bg-gray-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium capitalize",children:((x=l.escrowStatus)==null?void 0:x.replace("_"," "))||"Unknown"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[l.escrowStatus==="held"&&"Payment is securely held in escrow",l.escrowStatus==="in_progress"&&"Work is in progress, payment held in escrow",l.escrowStatus==="completed"&&"Work completed, payment ready for release",l.escrowStatus==="released"&&"Payment has been released to you"]})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Additional Actions"})}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-3",children:s.jsxs(ie,{onClick:()=>o(!0),variant:"outline",className:"w-full justify-start border-red-200 text-red-700 hover:bg-red-50","data-testid":"button-dispute-contract",children:[s.jsx(Wr,{className:"w-4 h-4 mr-3"}),e("dispute.report_issue")]})})})]})]})]}),s.jsx(kH,{isOpen:a,onClose:()=>o(!1),contractId:i||"",contractTitle:(y=l==null?void 0:l.request)==null?void 0:y.title})]})}function dPe(){const{user:t}=tr();return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:"max-w-sm mx-auto min-h-screen bg-white shadow-xl relative",children:[s.jsxs("div",{className:"bg-finder-red px-6 py-4 flex items-center rounded-t-3xl",children:[s.jsx("img",{src:z0,alt:"FinderMeister Logo",className:"w-10 h-10 rounded-full object-contain bg-white p-1 mr-3"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"FinderMeister"})]}),s.jsxs("div",{className:"px-6 py-12 flex flex-col justify-center min-h-[calc(100vh-80px)]",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-6 leading-tight",children:["Trouble Finding",s.jsx("br",{}),"a Product or",s.jsx("br",{}),"Service?"]}),s.jsx("p",{className:"text-gray-600 text-lg mb-8 leading-relaxed",children:"Connect with finders who can help you search for what you need."})]}),s.jsx("div",{className:"mb-16",children:t?s.jsx(Re,{href:t.role==="client"?"/client/dashboard":t.role==="finder"?"/finder/dashboard":"/admin/dashboard",children:s.jsx(ie,{className:"w-full bg-finder-red hover:bg-finder-red-dark text-white py-4 text-lg font-semibold rounded-xl shadow-lg",children:"Go to Dashboard"})}):s.jsx(Re,{href:"/auth/register",children:s.jsx(ie,{className:"w-full bg-finder-red hover:bg-finder-red-dark text-white py-4 text-lg font-semibold rounded-xl shadow-lg",children:"Get Started"})})}),s.jsx("div",{className:"text-center mt-auto",children:s.jsxs("p",{className:"text-gray-500 text-base font-medium",children:["One successful find",s.jsx("br",{}),"at a time"]})})]})]})})}function uPe(){const{user:t}=tr(),e=(t==null?void 0:t.firstName)||"Tosin";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{currentPage:"dashboard"}),s.jsxs("div",{className:"max-w-sm mx-auto min-h-screen bg-white shadow-2xl border border-gray-200 rounded-2xl overflow-hidden relative mt-4",children:[s.jsxs("div",{className:"bg-finder-red px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center mr-3 shadow-sm",children:s.jsx("div",{className:"w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-medium",children:""})})}),s.jsx("span",{className:"text-white text-xl font-semibold",children:e})]}),s.jsx(ug,{className:"h-5 w-5 text-white"})]}),s.jsx("div",{className:"px-4 py-6 bg-white flex-1",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-12",children:[s.jsx(Re,{href:"/client/create-find",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4 cursor-pointer hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-16 h-16 bg-finder-red rounded-xl flex items-center justify-center mb-3 shadow-sm",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-8 h-1 bg-white rounded mb-1"}),s.jsx("div",{className:"w-6 h-1 bg-white rounded mb-1"}),s.jsx("div",{className:"w-4 h-4 bg-white rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-finder-red text-xs font-bold",children:"+"})})]})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-gray-900 font-semibold text-sm leading-tight",children:"Post a"}),s.jsx("div",{className:"text-gray-900 font-semibold text-sm leading-tight",children:"Find"})]})]})}),s.jsx(Re,{href:"/client/proposals",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4 cursor-pointer hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-16 h-16 bg-finder-red rounded-xl flex items-center justify-center mb-3 shadow-sm",children:s.jsxs("div",{className:"w-8 h-8 border-2 border-white rounded-full flex items-center justify-center relative",children:[s.jsx("div",{className:"w-3 h-3 bg-white rounded-full"}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-white rounded-full"}),s.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-white rounded-full"}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-white rounded-full"}),s.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-white rounded-full"})]})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-gray-900 font-semibold text-sm leading-tight",children:"View"}),s.jsx("div",{className:"text-gray-900 font-semibold text-sm leading-tight",children:"Proposals"})]})]})}),s.jsx(Re,{href:"/client/browse-requests",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4 cursor-pointer hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-16 h-16 bg-finder-red rounded-xl flex items-center justify-center mb-3 shadow-sm",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("div",{className:"w-8 h-1 bg-white rounded"}),s.jsx("div",{className:"w-6 h-1 bg-white rounded"}),s.jsx("div",{className:"w-7 h-1 bg-white rounded"})]})}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-gray-900 font-semibold text-sm leading-tight",children:"My"}),s.jsx("div",{className:"text-gray-900 font-semibold text-sm leading-tight",children:"Contracts"})]})]})}),s.jsx(Re,{href:"/client/profile",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4 cursor-pointer hover:bg-gray-50 rounded-lg transition-colors",children:[s.jsx("div",{className:"w-16 h-16 bg-finder-red rounded-xl flex items-center justify-center mb-3 shadow-sm",children:s.jsxs("div",{className:"w-8 h-8 border-2 border-white rounded-full flex items-center justify-center relative",children:[s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"}),s.jsx("div",{className:"absolute -top-1 w-1 h-3 bg-white rounded"}),s.jsx("div",{className:"absolute -right-1 w-3 h-1 bg-white rounded"}),s.jsx("div",{className:"absolute -bottom-1 w-1 h-3 bg-white rounded"}),s.jsx("div",{className:"absolute -left-1 w-3 h-1 bg-white rounded"}),s.jsx("div",{className:"absolute top-0 right-0 w-1 h-1 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-1 h-1 bg-white rounded-full"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-1 h-1 bg-white rounded-full"}),s.jsx("div",{className:"absolute top-0 left-0 w-1 h-1 bg-white rounded-full"})]})}),s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-gray-900 font-semibold text-sm leading-tight",children:"Settings"})})]})})]})}),s.jsx("div",{className:"absolute bottom-8 left-0 right-0",children:s.jsx("div",{className:"text-center px-4",children:s.jsxs("p",{className:"text-gray-500 text-base font-medium leading-snug",children:["One successful find",s.jsx("br",{}),"at a time"]})})})]})]})}function hPe(){const{contractId:t}=Vc(),[e,r]=O.useState(""),[n,i]=O.useState([]),{toast:a}=ar(),o=vr(),{data:l,isLoading:c}=pt({queryKey:["/api/finder/contracts",t],enabled:!!t}),d=Ft({mutationFn:async p=>(console.log("Submitting order with data:",p),St("/api/orders/submit",{method:"POST",body:JSON.stringify(p)})),onSuccess:()=>{a({title:"Order submitted successfully!",description:"The client will be notified and has 48 hours to review your submission."}),o.invalidateQueries({queryKey:["/api/finder/contracts",t]}),o.invalidateQueries({queryKey:["/api/finder/contracts"]}),r(""),i([])},onError:p=>{console.error("Order submission error:",p),a({title:"Failed to submit order",description:p.message||"Please check your submission and try again.",variant:"destructive"})}}),u=async()=>({method:"PUT",url:(await St("/api/objects/upload",{method:"POST"})).uploadURL}),h=async p=>{for(const x of p.successful||[])if(x.uploadURL)try{const y=await St("/api/objects/acl",{method:"PUT",body:JSON.stringify({objectURL:x.uploadURL,visibility:"private"})});i(v=>[...v,y.objectPath]),a({title:"File uploaded successfully!"})}catch(y){a({title:"Upload completed but failed to set permissions",description:y.message,variant:"destructive"})}},m=()=>{if(t){if(!(e!=null&&e.trim())&&n.length===0){a({title:"Please add submission text or upload files",variant:"destructive"});return}d.mutate({contractId:t,submissionText:e.trim()||void 0,attachmentPaths:n})}},f=p=>new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=p=>{switch(p){case"submitted":return s.jsxs(Ye,{variant:"secondary",children:[s.jsx(hr,{className:"h-3 w-3 mr-1"}),"Submitted"]});case"accepted":return s.jsxs(Ye,{variant:"default",className:"bg-green-500",children:[s.jsx(br,{className:"h-3 w-3 mr-1"}),"Accepted"]});case"rejected":return s.jsxs(Ye,{variant:"destructive",children:[s.jsx(fs,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return s.jsx(Ye,{variant:"outline",children:p})}};return c?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading contract details..."})]})})]}):l&&l.escrowStatus==="pending"?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"max-w-4xl mx-auto py-8 px-6",children:s.jsx(_e,{className:"border-yellow-200 bg-yellow-50",children:s.jsxs(Se,{className:"py-12 text-center",children:[s.jsx(Wr,{className:"w-16 h-16 text-yellow-600 mx-auto mb-6"}),s.jsx("h2",{className:"text-2xl font-bold text-yellow-900 mb-4",children:"Contract Not Yet Funded"}),s.jsx("p",{className:"text-yellow-800 mb-6 max-w-md mx-auto",children:"This contract is awaiting funding from the client. You cannot submit work until the contract escrow has been funded."}),s.jsx(Re,{href:"/finder/contracts",children:s.jsxs(ie,{variant:"outline",className:"border-yellow-600 text-yellow-700 hover:bg-yellow-100",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Contracts"]})})]})})})]}):l?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Order Submission"}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Contract Details"})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Contract Amount"}),s.jsxs("p",{className:"text-lg font-semibold",children:["",new Intl.NumberFormat("en-NG").format(parseFloat(l.amount))]})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:l.hasSubmission?s.jsx(Ye,{variant:"secondary",children:"Has Submission"}):s.jsx(Ye,{variant:"outline",children:"No Submission"})})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Created"}),s.jsx("p",{children:f(l.createdAt)})]})]})})]}),l.orderSubmission&&s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Xe,{children:"Current Submission"}),g(l.orderSubmission.status)]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Submitted At"}),s.jsxs("p",{className:"flex items-center mt-1",children:[s.jsx(_n,{className:"h-4 w-4 mr-2"}),f(l.orderSubmission.submittedAt)]})]}),l.orderSubmission.submissionText&&s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Submission Text"}),s.jsx("div",{className:"mt-2 p-3 bg-gray-50 rounded-md",children:s.jsx("p",{className:"whitespace-pre-wrap",children:l.orderSubmission.submissionText})})]}),l.orderSubmission.attachmentPaths.length>0&&s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Attachments"}),s.jsx("div",{className:"mt-2 space-y-2",children:l.orderSubmission.attachmentPaths.map((p,x)=>s.jsxs("div",{className:"flex items-center p-2 bg-gray-50 rounded",children:[s.jsx(as,{className:"h-4 w-4 mr-2"}),s.jsxs("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["Attachment ",x+1]})]},x))})]}),l.orderSubmission.clientFeedback&&s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Client Feedback"}),s.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-md",children:s.jsx("p",{className:"whitespace-pre-wrap",children:l.orderSubmission.clientFeedback})})]}),l.orderSubmission.autoReleaseDate&&s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Auto-release Date"}),s.jsxs("p",{className:"flex items-center mt-1 text-amber-600",children:[s.jsx(hr,{className:"h-4 w-4 mr-2"}),f(l.orderSubmission.autoReleaseDate)]})]})]})]}),(!l.orderSubmission||l.orderSubmission.status==="rejected")&&s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:l.orderSubmission?"Resubmit Order":"Submit Order"})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"submission-text",children:"Submission Description"}),s.jsx(Ms,{id:"submission-text",placeholder:"Describe your completed work, provide instructions, or add any notes for the client...",value:e,onChange:p=>r(p.target.value),className:"mt-2 min-h-[120px]"})]}),s.jsxs("div",{children:[s.jsx(Te,{children:"File Attachments (Optional)"}),s.jsxs("div",{className:"mt-2 space-y-3",children:[s.jsx(bC,{maxNumberOfFiles:5,maxFileSize:10485760,onGetUploadParameters:u,onComplete:h,buttonClassName:"w-full",children:s.jsxs("div",{className:"flex items-center justify-center py-3",children:[s.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Upload Files"]})}),n.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Te,{className:"text-sm font-medium text-gray-500",children:["Selected Files (",n.length,")"]}),n.map((p,x)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(as,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{className:"text-sm",children:["Attachment ",x+1]})]}),s.jsx(ie,{variant:"ghost",size:"sm",onClick:()=>i(y=>y.filter((v,b)=>b!==x)),children:"Remove"})]},x))]})]})]}),s.jsx(ie,{onClick:m,disabled:d.isPending,className:"w-full",size:"lg",children:d.isPending?"Submitting...":l.orderSubmission?"Resubmit Order":"Submit Order"})]})]})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ps,{}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(_e,{children:s.jsx(Se,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-500",children:"Contract not found"})})})})]})}function fPe(){var j,k,E;const{contractId:t}=Vc(),[e,r]=O.useState(""),[n,i]=O.useState(5),[a,o]=O.useState(0),[l,c]=O.useState(!1),[d,u]=O.useState(!1),{toast:h}=ar(),m=vr(),{data:f,isLoading:g}=pt({queryKey:["/api/orders/contract",t],enabled:!!t,refetchOnWindowFocus:!0,staleTime:0}),p=Ft({mutationFn:async A=>St(`/api/orders/submission/${A.submissionId}`,{method:"PUT",body:JSON.stringify({status:A.status,clientFeedback:A.clientFeedback})}),onSuccess:(A,C)=>{h({title:C.status==="accepted"?"Order accepted successfully!":"Order rejected - finder can resubmit"}),m.invalidateQueries({queryKey:["/api/orders/contract",t]}),r(""),c(!1),u(!1)},onError:A=>{h({title:"Failed to review submission",description:A.message,variant:"destructive"})}}),x=async()=>{var A;if(!(!((A=f==null?void 0:f.orderSubmission)!=null&&A.id)||!(f!=null&&f.finder))){p.mutate({submissionId:f.orderSubmission.id,status:"accepted",clientFeedback:e.trim()||void 0});try{await St("/api/reviews",{method:"POST",body:{contractId:f.id,finderId:f.finderId,rating:n,comment:e.trim()||void 0}})}catch(C){console.error("Failed to submit rating:",C),h({title:"Rating submission failed",description:"Your order was accepted but rating could not be saved",variant:"destructive"})}}},y=()=>{var A;if((A=f==null?void 0:f.orderSubmission)!=null&&A.id){if(!e.trim()){h({title:"Please provide feedback for rejection",variant:"destructive"});return}p.mutate({submissionId:f.orderSubmission.id,status:"rejected",clientFeedback:e.trim()})}},v=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=A=>{const C=typeof A=="string"?parseFloat(A):A;return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(C).replace(/NGN/g,"")},w=A=>{switch(A){case"submitted":return s.jsxs(Ye,{variant:"secondary",children:[s.jsx(hr,{className:"h-3 w-3 mr-1"}),"Pending Review"]});case"accepted":return s.jsxs(Ye,{variant:"default",className:"bg-green-500",children:[s.jsx(br,{className:"h-3 w-3 mr-1"}),"Accepted"]});case"rejected":return s.jsxs(Ye,{variant:"destructive",children:[s.jsx(fs,{className:"h-3 w-3 mr-1"}),"Rejected"]});default:return s.jsx(Ye,{variant:"outline",children:A})}},_=A=>{if(!A)return null;const C=new Date,L=new Date(A).getTime()-C.getTime();return Math.ceil(L/(1e3*60*60*24))};if(g)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})});if(!f)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(_e,{children:s.jsx(Se,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-500",children:"Contract not found"})})})});if(!f.orderSubmission)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(_e,{children:s.jsx(Se,{className:"pt-6",children:s.jsx("p",{className:"text-center text-gray-500",children:"No submission found for this contract"})})})});const N=_(f.orderSubmission.autoReleaseDate);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(ds,{currentPage:"contracts"}),s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Review Order Submission"}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Contract Details"})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Contract Amount"}),s.jsx("p",{className:"text-lg font-semibold",children:b(f.amount)})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Status"}),s.jsx("div",{className:"mt-1",children:w(f.orderSubmission.status)})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Finder"}),s.jsx("p",{className:"text-sm font-semibold",children:((j=f.finder)==null?void 0:j.name)||"Unknown Finder"})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Contract Created"}),s.jsx("p",{children:v(f.createdAt)})]})]})})]}),f.orderSubmission.status==="submitted"&&N!==null&&s.jsx(_e,{className:"border-amber-200 bg-amber-50",children:s.jsx(Se,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(hr,{className:"h-5 w-5 text-amber-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-amber-900",children:"Auto-release Notice"}),s.jsx("p",{className:"text-sm text-amber-800 mt-1",children:N>0?`Funds will be automatically released to the finder in ${N} day${N>1?"s":""} if no decision is made.`:"Funds will be automatically released today if no decision is made."}),s.jsxs("p",{className:"text-xs text-amber-700 mt-1",children:["Auto-release date: ",v(f.orderSubmission.autoReleaseDate)]})]})]})})}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Xe,{children:"Submission Details"}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Submitted on ",v(f.orderSubmission.submittedAt)]})]})}),s.jsxs(Se,{className:"space-y-6",children:[f.orderSubmission.submissionText&&s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Submission Description"}),s.jsx("div",{className:"mt-2 p-4 bg-gray-50 rounded-md",children:s.jsx("p",{className:"whitespace-pre-wrap",children:f.orderSubmission.submissionText})})]}),f.orderSubmission.attachmentPaths.length>0&&s.jsxs("div",{children:[s.jsxs(Te,{className:"text-sm font-medium text-gray-500",children:["Attachments (",f.orderSubmission.attachmentPaths.length,")"]}),s.jsx("div",{className:"mt-3 space-y-2",children:f.orderSubmission.attachmentPaths.map((A,C)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md border",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(as,{className:"h-4 w-4 mr-3 text-gray-500"}),s.jsxs("span",{className:"font-medium",children:["Attachment ",C+1]})]}),s.jsx(ie,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:[s.jsx(B0,{className:"h-3 w-3 mr-1"}),"Download"]})})]},C))})]}),f.orderSubmission.clientFeedback&&s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Previous Feedback"}),s.jsxs("div",{className:"mt-2 p-4 bg-blue-50 rounded-md border border-blue-200",children:[s.jsx("p",{className:"whitespace-pre-wrap text-blue-900",children:f.orderSubmission.clientFeedback}),f.orderSubmission.reviewedAt&&s.jsxs("p",{className:"text-xs text-blue-700 mt-2",children:["Reviewed on ",v(f.orderSubmission.reviewedAt)]})]})]})]})]}),f.orderSubmission.status==="submitted"&&s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Review Submission"})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(Te,{children:["Rate ",((k=f.finder)==null?void 0:k.name)||"the finder","'s work"]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[[1,2,3,4,5].map(A=>s.jsx("button",{type:"button",onClick:()=>i(A),onMouseEnter:()=>o(A),onMouseLeave:()=>o(0),className:"p-1 hover:scale-110 transition-transform",children:s.jsx(ui,{className:`h-6 w-6 ${A<=(a||n)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},A)),s.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[n===1&&"Poor",n===2&&"Fair",n===3&&"Good",n===4&&"Very Good",n===5&&"Excellent"]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"feedback",children:"Feedback (Optional for acceptance, required for rejection)"}),s.jsx(Ms,{id:"feedback",placeholder:"Provide feedback to the finder about their submission...",value:e,onChange:A=>r(A.target.value),className:"mt-2 min-h-[100px]"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(ay,{open:l,onOpenChange:c,children:[s.jsx(uk,{asChild:!0,children:s.jsxs(ie,{className:"flex-1 bg-green-600 hover:bg-green-700",children:[s.jsx(br,{className:"h-4 w-4 mr-2"}),"Accept Submission"]})}),s.jsxs(X0,{children:[s.jsxs(J0,{children:[s.jsx(eg,{children:"Accept Order Submission"}),s.jsx(tg,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium mb-2",children:["Your rating for ",((E=f.finder)==null?void 0:E.name)||"the finder",":"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(A=>s.jsx(ui,{className:`h-5 w-5 ${A<=n?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},A)),s.jsxs("span",{className:"ml-2 text-sm font-medium",children:[n===1&&"Poor",n===2&&"Fair",n===3&&"Good",n===4&&"Very Good",n===5&&"Excellent"]})]})]}),s.jsxs("div",{children:[s.jsx("p",{children:"Are you sure you want to accept this submission? This will:"}),s.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[s.jsx("li",{children:"Mark the request as completed"}),s.jsx("li",{children:"Release funds to the finder in 3 days"}),s.jsx("li",{children:"Complete the contract"}),s.jsxs("li",{children:["Submit your ",n,"-star rating"]})]})]})]})})]}),s.jsxs(Z0,{children:[s.jsx(sg,{children:"Cancel"}),s.jsx(rg,{onClick:x,disabled:p.isPending,className:"bg-green-600 hover:bg-green-700",children:p.isPending?"Processing...":"Accept Submission"})]})]})]}),s.jsxs(ay,{open:d,onOpenChange:u,children:[s.jsx(uk,{asChild:!0,children:s.jsxs(ie,{variant:"destructive",className:"flex-1",children:[s.jsx(fs,{className:"h-4 w-4 mr-2"}),"Request Changes"]})}),s.jsxs(X0,{children:[s.jsxs(J0,{children:[s.jsx(eg,{children:"Request Changes"}),s.jsx(tg,{children:"This will reject the submission and allow the finder to resubmit with changes. Please make sure you've provided clear feedback above."})]}),s.jsxs(Z0,{children:[s.jsx(sg,{children:"Cancel"}),s.jsx(rg,{onClick:y,disabled:p.isPending||!e.trim(),className:"bg-finder-red hover:bg-finder-red-dark",children:p.isPending?"Processing...":"Request Changes"})]})]})]})]}),s.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-md",children:[s.jsx("strong",{children:"Note:"})," If you accept the submission, funds will be automatically released to the finder after 3 days. If you don't make a decision, funds will be automatically released after 5 days from submission."]})]})]}),f.orderSubmission.status==="accepted"&&s.jsx(_e,{className:"border-green-200 bg-green-50",children:s.jsx(Se,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(br,{className:"h-5 w-5 text-green-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-green-900",children:"Order Completed"}),s.jsx("p",{className:"text-sm text-green-800 mt-1",children:"This submission has been accepted and the request is now completed."}),f.orderSubmission.reviewedAt&&s.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Accepted on ",v(f.orderSubmission.reviewedAt)]})]})]})})})]})]})]})}function mPe(){return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-finder-red rounded-lg flex items-center justify-center",children:s.jsx(Go,{className:"w-5 h-5 text-white"})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Support Center"})]}),s.jsx(Re,{href:"/",children:s.jsx(ie,{variant:"outline",size:"sm",className:"border-gray-300",children:"Back to Home"})})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900 mb-4",children:"How can we help you?"}),s.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Get instant answers, contact our support team, or explore our comprehensive help resources"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[s.jsx(_e,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 group",children:s.jsx(Se,{className:"p-8",children:s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(_se,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:"Help Center"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Find answers to common questions about using FinderMeister, managing proposals, payments, and more."}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ds,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Searchable"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(as,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"50+ Articles"})]})]}),s.jsx(Re,{href:"/support/help-center",children:s.jsxs(ie,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:["Browse Help Center",s.jsx(uh,{className:"w-4 h-4 ml-2"})]})})]})]})})}),s.jsx(_e,{className:"bg-white border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 group",children:s.jsx(Se,{className:"p-8",children:s.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-finder-red/10 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(zN,{className:"w-6 h-6 text-finder-red"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 group-hover:text-finder-red transition-colors",children:"Contact Support"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Submit a support ticket for account issues, technical problems, or billing questions with priority support."}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"24h Response"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx($r,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Secure"})]})]}),s.jsx(Re,{href:"/support/contact",children:s.jsxs(ie,{className:"bg-finder-red hover:bg-finder-red/90 text-white",children:["Contact Support",s.jsx(uh,{className:"w-4 h-4 ml-2"})]})})]})]})})})]}),s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-8 mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 text-center",children:"Popular Topics"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Re,{href:"/support/help-center",children:s.jsx(_e,{className:"border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all duration-200 cursor-pointer group",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-10 h-10 bg-finder-red/10 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(dn,{className:"w-5 h-5 text-finder-red"})}),s.jsx("h3",{className:"font-medium text-sm text-gray-900 group-hover:text-finder-red transition-colors",children:"Getting Started"})]})})}),s.jsx(Re,{href:"/support/help-center",children:s.jsx(_e,{className:"border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all duration-200 cursor-pointer group",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(as,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h3",{className:"font-medium text-sm text-gray-900 group-hover:text-blue-600 transition-colors",children:"Proposals & Contracts"})]})})}),s.jsx(Re,{href:"/support/help-center",children:s.jsx(_e,{className:"border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all duration-200 cursor-pointer group",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(ql,{className:"w-5 h-5 text-green-600"})}),s.jsx("h3",{className:"font-medium text-sm text-gray-900 group-hover:text-green-600 transition-colors",children:"Messaging"})]})})}),s.jsx(Re,{href:"/support/help-center",children:s.jsx(_e,{className:"border border-gray-200 hover:border-gray-300 hover:shadow-sm transition-all duration-200 cursor-pointer group",children:s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx($r,{className:"w-5 h-5 text-purple-600"})}),s.jsx("h3",{className:"font-medium text-sm text-gray-900 group-hover:text-purple-600 transition-colors",children:"Payments & Security"})]})})})]})]}),s.jsx("div",{className:"text-center",children:s.jsx(_e,{className:"bg-green-50 border border-green-200 inline-block",children:s.jsxs(Se,{className:"p-4 flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-green-700 font-medium",children:"All systems operational"})]})})})]})]})}const HL={User:qr,CreditCard:Nn,MessageSquare:ql,FileText:as,Shield:$r,HelpCircle:Go,Home:VN,DollarSign:Sc,ReceiptText:Ise,Users:dn,Lock:zf,Award:Sa,Activity:vse,CloudUpload:Cse,Calendar:_n,Cog:Ase,Wifi:Vse,Laptop:Fse,Scan:Dse};function pPe(){const[t,e]=O.useState(""),[r,n]=O.useState(null),[i,a]=O.useState(null),{data:o=[],isLoading:l}=pt({queryKey:["/api/public/faqs"],staleTime:5*60*1e3}),{data:c=[],isLoading:d}=pt({queryKey:["/api/public/categories"],staleTime:5*60*1e3}),u=o.filter(m=>{if(!m.isActive)return!1;const f=m.question.toLowerCase().includes(t.toLowerCase())||m.answer.toLowerCase().includes(t.toLowerCase())||m.tags.some(p=>p.toLowerCase().includes(t.toLowerCase())),g=!r||m.category===r;return f&&g}),h=c.reduce((m,f)=>(m[f.name]=o.filter(g=>g.category===f.name&&g.isActive).length,m),{});return l||d?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading Help Center..."}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Help Center"}),s.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Find answers to common questions and get support for using FinderMeister"}),s.jsxs("div",{className:"max-w-2xl mx-auto relative",children:[s.jsx(Ds,{className:"absolute left-4 top-3.5 h-5 w-5 text-gray-400"}),s.jsx(at,{placeholder:"Search for help articles, FAQs, or guides...",value:t,onChange:m=>e(m.target.value),className:"pl-12 py-6 text-lg"})]})]})})}),s.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1",children:[s.jsxs(_e,{className:"mb-6",children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Categories"})}),s.jsxs(Se,{className:"space-y-2",children:[s.jsx(ie,{variant:r===null?"default":"ghost",className:"w-full justify-start",onClick:()=>n(null),children:"All Categories"}),c.map(m=>{const f=HL[m.icon]||Go;return s.jsxs(ie,{variant:r===m.name?"default":"ghost",className:"w-full justify-start",onClick:()=>n(m.name),children:[s.jsx(f,{className:"w-4 h-4 mr-2"}),m.name]},m.id)})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(j6,{className:"w-5 h-5 mr-2"}),"Need More Help?"]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(jm,{className:"w-4 h-4 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email Support"}),s.jsx("p",{className:"text-gray-600",children:"support@findermeister.com"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsx(hr,{className:"w-4 h-4 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Response Time"}),s.jsx("p",{className:"text-gray-600",children:"Within 24 hours"})]})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-3",children:[!r&&!t&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Browse by Category"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:c.map(m=>{const f=HL[m.icon]||Go;return o.filter(g=>g.category===m.name&&g.isActive),s.jsx(_e,{className:"hover:shadow-lg transition-shadow cursor-pointer border-2 hover:border-blue-200",onClick:()=>n(m.name),children:s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-3 rounded-lg ${m.color}`,children:s.jsx(f,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx(Xe,{className:"text-lg",children:m.name}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[h[m.name]||0," question",h[m.name]!==1?"s":""]}),m.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:m.description})]})]})})},m.id)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?`${r} FAQs`:"Frequently Asked Questions"}),r&&s.jsx(ie,{variant:"outline",onClick:()=>n(null),children:"Show All Categories"})]}),u.length===0?s.jsx(_e,{children:s.jsxs(Se,{className:"py-12 text-center",children:[s.jsx(Go,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search terms or browse by category."}),s.jsx(ie,{onClick:()=>{e(""),n(null)},children:"Reset Search"})]})}):s.jsx("div",{className:"space-y-4",children:u.map(m=>{const f=c.find(g=>g.name===m.category);return s.jsxs(_e,{children:[s.jsx(Ze,{className:"cursor-pointer",onClick:()=>a(i===m.id?null:m.id),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Xe,{className:"text-lg text-gray-900 mb-2",children:m.question}),s.jsx("div",{className:"flex items-center space-x-2",children:f&&s.jsx(Ye,{className:f.color,children:m.category})})]}),s.jsx(ug,{className:`w-5 h-5 text-gray-400 transition-transform ${i===m.id?"rotate-90":""}`})]})}),i===m.id&&s.jsx(Se,{children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:m.answer})})]},m.id)})})]})]})]})})]})}const gPe=[{value:"account",label:"Account Issues"},{value:"billing",label:"Billing & Payments"},{value:"technical",label:"Technical Problems"},{value:"proposals",label:"Proposals & Contracts"},{value:"messaging",label:"Messaging Issues"},{value:"feature",label:"Feature Request"},{value:"other",label:"Other"}],WL=[{value:"low",label:"Low - General question",color:"text-green-600",bg:"bg-green-50",border:"border-green-200"},{value:"medium",label:"Medium - Account issue",color:"text-yellow-600",bg:"bg-yellow-50",border:"border-yellow-200"},{value:"high",label:"High - Can't access service",color:"text-orange-600",bg:"bg-orange-50",border:"border-orange-200"},{value:"urgent",label:"Urgent - Payment/security issue",color:"text-red-600",bg:"bg-red-50",border:"border-red-200"}];function xPe(){const{user:t}=tr(),{toast:e}=ar(),[r,n]=O.useState({name:(t==null?void 0:t.firstName)+" "+(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",category:"",priority:"",subject:"",message:""}),{data:i}=pt({queryKey:["/api/contact-settings"]}),a=Ft({mutationFn:async d=>{const u=await fetch("/api/support/tickets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});if(!u.ok)throw new Error("Failed to submit ticket");return u.json()},onSuccess:()=>{e({title:"Support ticket submitted",description:"We'll get back to you within 24 hours."}),n({name:(t==null?void 0:t.firstName)+" "+(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",category:"",priority:"",subject:"",message:""})},onError:()=>{e({title:"Error",description:"Failed to submit support ticket. Please try again.",variant:"destructive"})}}),o=d=>{d.preventDefault(),a.mutate(r)},l=(d,u)=>{n(h=>({...h,[d]:u}))},c=WL.find(d=>d.value===r.priority);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx("div",{className:"bg-white/95 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsx(Re,{href:"/support",children:s.jsxs(ie,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900 p-2",children:[s.jsx(Is,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline ml-2",children:"Back"})]})}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-finder-red rounded-lg flex items-center justify-center",children:s.jsx(ql,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Contact Support"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Re,{href:"/",children:s.jsxs(ie,{variant:"outline",size:"sm",className:"border-gray-300 text-xs sm:text-sm",children:[s.jsx(VN,{className:"w-4 h-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Home"})]})}),t&&s.jsx(Re,{href:t.role==="admin"?"/admin/dashboard":t.role==="finder"?"/finder/dashboard":"/client/dashboard",children:s.jsx(ie,{size:"sm",className:"bg-finder-red hover:bg-finder-red/90 text-xs sm:text-sm",children:"Dashboard"})})]})]})})}),s.jsx("div",{className:"bg-gradient-to-r from-finder-red to-red-600 text-white",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-white/20 rounded-full mb-4 sm:mb-6",children:s.jsx(zN,{className:"w-8 h-8 sm:w-10 sm:h-10"})}),s.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold mb-3 sm:mb-4",children:"Get Help & Support"}),s.jsx("p",{className:"text-base sm:text-lg text-red-100 max-w-2xl mx-auto",children:"Submit a support ticket and we'll get back to you as soon as possible"})]})})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-6 sm:py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 lg:gap-8",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs(_e,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[s.jsxs(Ze,{className:"pb-4 sm:pb-6",children:[s.jsxs(Xe,{className:"flex items-center text-lg sm:text-xl",children:[s.jsx(sw,{className:"w-5 h-5 mr-2 text-finder-red"}),"Submit a Support Ticket"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Fill out the form below and our support team will assist you"})]}),s.jsx(Se,{className:"pt-0",children:s.jsxs("form",{onSubmit:o,className:"space-y-5 sm:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Full Name"}),s.jsx(at,{id:"name",value:r.name,onChange:d=>l("name",d.target.value),className:"mt-1.5 h-10 sm:h-11",required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),s.jsx(at,{id:"email",type:"email",value:r.email,onChange:d=>l("email",d.target.value),className:"mt-1.5 h-10 sm:h-11",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"category",className:"text-sm font-medium text-gray-700",children:"Category"}),s.jsxs(Br,{value:r.category,onValueChange:d=>l("category",d),children:[s.jsx(Ir,{className:"mt-1.5 h-10 sm:h-11",children:s.jsx(Ur,{placeholder:"Select a category"})}),s.jsx(Dr,{children:gPe.map(d=>s.jsx(dt,{value:d.value,children:d.label},d.value))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"priority",className:"text-sm font-medium text-gray-700",children:"Priority Level"}),s.jsxs(Br,{value:r.priority,onValueChange:d=>l("priority",d),children:[s.jsx(Ir,{className:`mt-1.5 h-10 sm:h-11 ${c?`${c.bg} ${c.border}`:""}`,children:s.jsx(Ur,{placeholder:"Select priority"})}),s.jsx(Dr,{children:WL.map(d=>s.jsx(dt,{value:d.value,children:s.jsx("span",{className:d.color,children:d.label})},d.value))})]})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"subject",className:"text-sm font-medium text-gray-700",children:"Subject"}),s.jsx(at,{id:"subject",value:r.subject,onChange:d=>l("subject",d.target.value),placeholder:"Brief description of your issue",className:"mt-1.5 h-10 sm:h-11",required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"message",className:"text-sm font-medium text-gray-700",children:"Message"}),s.jsx(Ms,{id:"message",value:r.message,onChange:d=>l("message",d.target.value),placeholder:"Provide detailed information about your issue...",rows:5,className:"mt-1.5 resize-none",required:!0})]}),s.jsx(ie,{type:"submit",className:"w-full bg-finder-red hover:bg-finder-red/90 h-11 sm:h-12 text-sm sm:text-base font-medium",disabled:a.isPending,children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin mr-2"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sw,{className:"w-4 h-4 mr-2"}),"Submit Support Ticket"]})})]})})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-5 sm:space-y-6",children:[s.jsxs(_e,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[s.jsx(Ze,{className:"pb-4",children:s.jsxs(Xe,{className:"text-lg flex items-center",children:[s.jsx(Mi,{className:"w-5 h-5 mr-2 text-finder-red"}),"Contact Information"]})}),s.jsxs(Se,{className:"pt-0 space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-blue-50/50 border border-blue-100",children:[s.jsx(jm,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Email Support"}),s.jsx("p",{className:"text-sm text-gray-600 break-all",children:(i==null?void 0:i.supportEmail)||"findermeisterinnovations@gmail.com"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Response within 24 hours"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-green-50/50 border border-green-100",children:[s.jsx(j6,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Phone Support"}),s.jsx("p",{className:"text-sm text-gray-600",children:(i==null?void 0:i.supportPhone)||"+234-7039391065"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(i==null?void 0:i.businessHours)||"Mon-Fri, 9 AM - 6 PM WAT"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-purple-50/50 border border-purple-100",children:[s.jsx(HN,{className:"w-5 h-5 text-purple-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Office Address"}),s.jsx("p",{className:"text-sm text-gray-600",children:(i==null?void 0:i.officeAddress)||"18 Back of Road safety office, Moniya, Ibadan"})]})]}),(i==null?void 0:i.whatsappNumber)&&s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-green-50/50 border border-green-100",children:[s.jsx(ql,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-gray-600",children:i.whatsappNumber})]})]})]})]}),s.jsxs(_e,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[s.jsx(Ze,{className:"pb-4",children:s.jsxs(Xe,{className:"flex items-center text-lg",children:[s.jsx(hr,{className:"w-5 h-5 mr-2 text-finder-red"}),"Response Times"]})}),s.jsxs(Se,{className:"pt-0 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-green-50/50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Low Priority"})]}),s.jsx("span",{className:"text-sm text-gray-600",children:(i==null?void 0:i.responseTimeLow)||"2-3 business days"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-yellow-50/50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Medium Priority"})]}),s.jsx("span",{className:"text-sm text-gray-600",children:(i==null?void 0:i.responseTimeMedium)||"1-2 business days"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-orange-50/50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"High Priority"})]}),s.jsx("span",{className:"text-sm text-gray-600",children:(i==null?void 0:i.responseTimeHigh)||"4-8 hours"})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-red-50/50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Urgent Priority"})]}),s.jsx("span",{className:"text-sm text-gray-600",children:(i==null?void 0:i.responseTimeUrgent)||"1-2 hours"})]})]})]}),i&&(i.facebookUrl||i.twitterUrl||i.instagramUrl||i.linkedinUrl||i.tiktokUrl)&&s.jsxs(_e,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[s.jsx(Ze,{className:"pb-4",children:s.jsxs(Xe,{className:"flex items-center text-lg",children:[s.jsx(OS,{className:"w-5 h-5 mr-2 text-finder-red"}),"Follow Us"]})}),s.jsx(Se,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.facebookUrl&&s.jsx("a",{href:i.facebookUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-12 h-12 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors group",title:"Follow us on Facebook",children:s.jsx(FS,{className:"w-6 h-6 text-blue-600 group-hover:scale-110 transition-transform"})}),i.twitterUrl&&s.jsx("a",{href:i.twitterUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-12 h-12 bg-sky-50 hover:bg-sky-100 rounded-lg transition-colors group",title:"Follow us on Twitter/X",children:s.jsx(jU,{className:"w-6 h-6 text-sky-600 group-hover:scale-110 transition-transform"})}),i.instagramUrl&&s.jsx("a",{href:i.instagramUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-12 h-12 bg-pink-50 hover:bg-pink-100 rounded-lg transition-colors group",title:"Follow us on Instagram",children:s.jsx(bU,{className:"w-6 h-6 text-pink-600 group-hover:scale-110 transition-transform"})}),i.linkedinUrl&&s.jsx("a",{href:i.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-12 h-12 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors group",title:"Follow us on LinkedIn",children:s.jsx(wU,{className:"w-6 h-6 text-blue-700 group-hover:scale-110 transition-transform"})}),i.tiktokUrl&&s.jsx("a",{href:i.tiktokUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center w-12 h-12 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors group",title:"Follow us on TikTok",children:s.jsx(Mi,{className:"w-6 h-6 text-gray-700 group-hover:scale-110 transition-transform"})})]})})]}),s.jsxs(_e,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:[s.jsx(Ze,{className:"pb-4",children:s.jsxs(Xe,{className:"flex items-center text-lg",children:[s.jsx(br,{className:"w-5 h-5 mr-2 text-finder-red"}),"System Status"]})}),s.jsx(Se,{className:"pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-green-50/50",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Platform Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Operational"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-green-50/50",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Payment System"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Operational"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-green-50/50",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Messaging System"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Operational"})]})]})]})})]})]})]})})]})}function vPe(){const[t,e]=O.useState([]),[r,n]=O.useState(!0),[i,a]=O.useState("");O.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await fetch("/api/requests");if(c.ok){const d=await c.json();e(d.filter(u=>u.status==="open"))}}catch(c){console.error("Failed to fetch requests:",c)}finally{n(!1)}},l=t.filter(c=>c.title.toLowerCase().includes(i.toLowerCase())||c.description.toLowerCase().includes(i.toLowerCase())||c.category.toLowerCase().includes(i.toLowerCase()));return r?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(GS,{currentPage:"browse"}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Loading requests..."})})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(GS,{currentPage:"browse"}),s.jsx("section",{className:"bg-white border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-8 sm:py-12",children:s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Browse Open Requests"}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Discover opportunities to help clients find what they need. Join as a finder to start earning."}),s.jsxs("div",{className:"relative max-w-md mx-auto",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search requests...",value:i,onChange:c=>a(c.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})})}),s.jsx("section",{className:"container mx-auto px-4 py-8",children:l.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-500 mb-4",children:i?"No requests match your search.":"No open requests available."}),s.jsx(Re,{href:"/register?type=client",children:s.jsx(ie,{className:"bg-finder-red hover:bg-finder-red-dark",children:"Post a Request"})})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>s.jsxs(_e,{className:"hover:shadow-lg transition-shadow duration-200",children:[s.jsxs(Ze,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(Ye,{variant:"secondary",className:"bg-finder-red/20 text-finder-red-dark",children:c.category}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),vH(new Date(c.createdAt),{addSuffix:!0})]})]}),s.jsx(Xe,{className:"text-lg font-semibold line-clamp-2",children:c.title})]}),s.jsxs(Se,{children:[s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:c.description}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Sc,{className:"w-4 h-4 mr-2 text-green-600"}),"Budget: ",c.budget.toLocaleString()]}),c.location&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(HN,{className:"w-4 h-4 mr-2 text-blue-600"}),c.location]}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Posted by: ",c.client.firstName," ",c.client.lastName]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[c.proposalCount," proposal",c.proposalCount!==1?"s":""," received"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Re,{href:"/register?type=finder",className:"flex-1",children:s.jsx(ie,{className:"w-full bg-finder-red hover:bg-finder-red-dark",children:"Sign Up to Bid"})}),s.jsx(Re,{href:"/login",children:s.jsx(ie,{variant:"outline",size:"sm",children:"Login"})})]})]})]},c.id))})}),s.jsx("section",{className:"bg-finder-red text-white py-12 mt-12",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4",children:"Ready to Start Finding?"}),s.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Join our community of skilled finders and start earning today."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(Re,{href:"/register?type=finder",children:s.jsx(ie,{size:"lg",className:"bg-white text-finder-red hover:bg-gray-100",children:"Sign Up as Finder"})}),s.jsx(Re,{href:"/register?type=client",children:s.jsx(ie,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white hover:text-finder-red",children:"Post a Request"})})]})]})})]})}const xr=t=>typeof t=="string",wx=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},KL=t=>t==null?"":""+t,yPe=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},bPe=/###/g,GL=t=>t&&t.indexOf("###")>-1?t.replace(bPe,"."):t,YL=t=>!t||xr(t),iv=(t,e,r)=>{const n=xr(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(YL(t))return{};const a=GL(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return YL(t)?{}:{obj:t,k:GL(n[i])}},QL=(t,e,r)=>{const{obj:n,k:i}=iv(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],o=e.slice(0,e.length-1),l=iv(t,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=iv(t,o,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},wPe=(t,e,r,n)=>{const{obj:i,k:a}=iv(t,e,Object);i[a]=i[a]||[],i[a].push(r)},sN=(t,e)=>{const{obj:r,k:n}=iv(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},NPe=(t,e,r)=>{const n=sN(t,r);return n!==void 0?n:sN(e,r)},RX=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?xr(t[n])||t[n]instanceof String||xr(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):RX(t[n],e[n],r):t[n]=e[n]);return t},sp=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var jPe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const _Pe=t=>xr(t)?t.replace(/[&<>"'\/]/g,e=>jPe[e]):t;class SPe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const kPe=[" ",",","?","!",";"],CPe=new SPe(20),APe=(t,e,r)=>{e=e||"",r=r||"";const n=kPe.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=CPe.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(t);if(!a){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},fk=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let o,l="";for(let c=a;c<n.length;++c)if(c!==a&&(l+=r),l+=n[c],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;a+=c-a+1;break}i=o}return i},oy=t=>t==null?void 0:t.replace("_","-"),EPe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var r,n;(n=(r=console==null?void 0:console[t])==null?void 0:r.apply)==null||n.call(r,console,e)}};class nN{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||EPe,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(xr(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new nN(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new nN(this.logger,e)}}var Ec=new nN;class Bj{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...r])})}}class XL extends Bj{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){var d,u;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):xr(n)&&a?l.push(...n.split(a)):l.push(n)));const c=sN(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!xr(n)?c:fk((u=(d=this.data)==null?void 0:d[e])==null?void 0:u[r],n,a)}addResource(e,r,n,i,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(l=e.split("."),i=r,r=l[1]),this.addNamespaces(r),QL(this.data,l,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(const a in n)(xr(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a,o={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=sN(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?RX(c,n,a):c={...c,...n},QL(this.data,l,c),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var IX={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{var o;e=((o=this.processors[a])==null?void 0:o.process(e,r,n,i))??e}),e}};const DX=Symbol("i18next/PATH_KEY");function TPe(){const t=[],e=Object.create(null);let r;return e.get=(n,i)=>{var a;return(a=r==null?void 0:r.revoke)==null||a.call(r),i===DX?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function mk(t,e){const{[DX]:r}=t(TPe());return r.join((e==null?void 0:e.keySeparator)??".")}const JL={},m_=t=>!xr(t)&&typeof t!="boolean"&&typeof t!="number";class iN extends Bj{constructor(e,r={}){super(),yPe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ec.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const i=this.resolve(e,n);if((i==null?void 0:i.res)===void 0)return!1;const a=m_(i.res);return!(n.returnObjects===!1&&a)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!APe(e,n,i);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:xr(a)?[a]:a};const d=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),e=d.join(i)}return{key:e,namespaces:xr(a)?[a]:a}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=mk(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),d=c[c.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const h=i.lng||this.language,m=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?a?{res:`${d}${u}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:`${d}${u}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(i)}:l;const f=this.resolve(e,i);let g=f==null?void 0:f.res;const p=(f==null?void 0:f.usedKey)||l,x=(f==null?void 0:f.exactUsedKey)||l,y=["[object Number]","[object Function]","[object RegExp]"],v=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w=i.count!==void 0&&!xr(i.count),_=iN.hasDefaultValue(i),N=w?this.pluralResolver.getSuffix(h,i.count,i):"",j=i.ordinal&&w?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",k=w&&!i.ordinal&&i.count===0,E=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${N}`]||i[`defaultValue${j}`]||i.defaultValue;let A=g;b&&!g&&_&&(A=E);const C=m_(A),T=Object.prototype.toString.apply(A);if(b&&A&&C&&y.indexOf(T)<0&&!(xr(v)&&Array.isArray(A))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,A,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(f.res=L,f.usedParams=this.getUsedParamsDetails(i),f):L}if(o){const L=Array.isArray(A),D=L?[]:{},H=L?x:p;for(const X in A)if(Object.prototype.hasOwnProperty.call(A,X)){const ee=`${H}${o}${X}`;_&&!g?D[X]=this.translate(ee,{...i,defaultValue:m_(E)?E[X]:void 0,joinArrays:!1,ns:c}):D[X]=this.translate(ee,{...i,joinArrays:!1,ns:c}),D[X]===ee&&(D[X]=A[X])}g=D}}else if(b&&xr(v)&&Array.isArray(g))g=g.join(v),g&&(g=this.extendTranslation(g,e,i,n));else{let L=!1,D=!1;!this.isValidLookup(g)&&_&&(L=!0,g=E),this.isValidLookup(g)||(D=!0,g=l);const X=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:g,ee=_&&E!==g&&this.options.updateMissing;if(D||L||ee){if(this.logger.log(ee?"updateKey":"missingKey",h,d,l,ee?E:g),o){const V=this.resolve(l,{...i,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let V=0;V<G.length;V++)Q.push(G[V]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(i.lng||this.language):Q.push(i.lng||this.language);const z=(V,F,I)=>{var q;const B=_&&I!==g?I:X;this.options.missingKeyHandler?this.options.missingKeyHandler(V,d,F,B,ee,i):(q=this.backendConnector)!=null&&q.saveMissing&&this.backendConnector.saveMissing(V,d,F,B,ee,i),this.emit("missingKey",V,d,F,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?Q.forEach(V=>{const F=this.pluralResolver.getSuffixes(V,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&F.indexOf(`${this.options.pluralSeparator}zero`)<0&&F.push(`${this.options.pluralSeparator}zero`),F.forEach(I=>{z([V],l+I,i[`defaultValue${I}`]||E)})}):z(Q,l,E))}g=this.extendTranslation(g,e,i,f,n),D&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${d}${u}${l}`),(D||L)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${l}`:l,L?g:void 0,i))}return a?(f.res=g,f.usedParams=this.getUsedParamsDetails(i),f):g}extendTranslation(e,r,n,i,a){var c,d;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=xr(e)&&(((d=n==null?void 0:n.interpolation)==null?void 0:d.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const f=e.match(this.interpolator.nestingRegexp);h=f&&f.length}let m=n.replace&&!xr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||i.usedLng,n),u){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;h<g&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>(a==null?void 0:a[0])===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=xr(o)?[o]:o;return e!=null&&(l!=null&&l.length)&&n.applyPostProcessor!==!1&&(e=IX.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,a,o,l;return xr(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(c,r),u=d.key;i=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=r.count!==void 0&&!xr(r.count),f=m&&!r.ordinal&&r.count===0,g=r.context!==void 0&&(xr(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(x=>{var y,v;this.isValidLookup(n)||(l=x,!JL[`${p[0]}-${x}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((v=this.utils)!=null&&v.hasLoadedNamespace(l))&&(JL[`${p[0]}-${x}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(b=>{var N;if(this.isValidLookup(n))return;o=b;const w=[u];if((N=this.i18nFormat)!=null&&N.addLookupKeys)this.i18nFormat.addLookupKeys(w,u,b,x,r);else{let j;m&&(j=this.pluralResolver.getSuffix(b,r.count,r));const k=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(r.ordinal&&j.indexOf(E)===0&&w.push(u+j.replace(E,this.options.pluralSeparator)),w.push(u+j),f&&w.push(u+k)),g){const A=`${u}${this.options.contextSeparator||"_"}${r.context}`;w.push(A),m&&(r.ordinal&&j.indexOf(E)===0&&w.push(A+j.replace(E,this.options.pluralSeparator)),w.push(A+j),f&&w.push(A+k))}}let _;for(;_=w.pop();)this.isValidLookup(n)||(a=_,n=this.getResource(b,x,_,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!xr(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class ZL{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ec.create("languageUtils")}getScriptPartFromCode(e){if(e=oy(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=oy(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(xr(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),xr(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return xr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):xr(e)&&a(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}const eR={zero:0,one:1,two:2,few:3,many:4,other:5},tR={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class PPe{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Ec.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=oy(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),tR;if(!e.match(/-|_/))return tR;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,r)}return this.pluralRulesCache[a]=o,o}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,a)=>eR[i]-eR[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const rR=(t,e,r,n=".",i=!0)=>{let a=NPe(t,e,r);return!a&&i&&xr(r)&&(a=fk(t,r,n),a===void 0&&(a=fk(e,r,n))),a},p_=t=>t.replace(/\$/g,"$$$$");class FPe{constructor(e={}){var r;this.logger=Ec.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:f,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:x,maxReplaces:y,alwaysFormat:v}=e.interpolation;this.escape=r!==void 0?r:_Pe,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?sp(a):o||"{{",this.suffix=l?sp(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=m?sp(m):f||sp("$t("),this.nestingSuffix=g?sp(g):p||sp(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=y||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){var f;let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=g=>{if(g.indexOf(this.formatSeparator)<0){const v=rR(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,n,{...i,...r,interpolationkey:g}):v}const p=g.split(this.formatSeparator),x=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(rR(r,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...i,...r,interpolationkey:x})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((f=i==null?void 0:i.interpolation)==null?void 0:f.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>p_(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?p_(this.escape(g)):p_(g)}].forEach(g=>{for(l=0;a=g.regex.exec(e);){const p=a[1].trim();if(o=d(p),o===void 0)if(typeof u=="function"){const y=u(e,a,i);o=xr(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else!xr(o)&&!this.useRawValueToEscape&&(o=KL(o));const x=g.safeValue(o);if(e=e.replace(a[0],x),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,a,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const h=c.split(new RegExp(`${u}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,o);const f=m.match(/'/g),g=m.match(/"/g);(((f==null?void 0:f.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${u}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!xr(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(d!==-1&&(c=i[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,d)),a=r(l.call(this,i[1].trim(),o),o),a&&i[0]===e&&!xr(a))return a;xr(a)||(a=KL(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((u,h)=>this.format(u,h,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const OPe=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();r[u]||(r[u]=d),d==="false"&&(r[u]=!1),d==="true"&&(r[u]=!0),isNaN(d)||(r[u]=parseInt(d,10))}})}return{formatName:e,formatOptions:r}},sR=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=n+JSON.stringify(a);let l=e[o];return l||(l=t(oy(n),i),e[o]=l),l(r)}},LPe=t=>(e,r,n)=>t(oy(r),n)(e);class RPe{constructor(e={}){this.logger=Ec.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?sR:LPe;this.formats={number:n((i,a)=>{const o=new Intl.NumberFormat(i,{...a});return l=>o.format(l)}),currency:n((i,a)=>{const o=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>o.format(l)}),datetime:n((i,a)=>{const o=new Intl.DateTimeFormat(i,{...a});return l=>o.format(l)}),relativetime:n((i,a)=>{const o=new Intl.RelativeTimeFormat(i,{...a});return l=>o.format(l,a.range||"day")}),list:n((i,a)=>{const o=new Intl.ListFormat(i,{...a});return l=>o.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=sR(r)}format(e,r,n,i={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{var h;const{formatName:d,formatOptions:u}=OPe(c);if(this.formats[d]){let m=l;try{const f=((h=i==null?void 0:i.formatParams)==null?void 0:h[i.interpolationkey])||{},g=f.locale||f.lng||i.locale||i.lng||n;m=this.formats[d](l,g,{...u,...i,...f})}catch(f){this.logger.warn(f)}return m}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const IPe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class DPe extends Bj{constructor(e,r,n,i={}){var a,o;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Ec.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,n,i.backend,i)}queueLoad(e,r,n,i){const a={},o={},l={},c={};return e.forEach(d=>{let u=!0;r.forEach(h=>{const m=`${d}|${h}`;!n.reload&&this.store.hasResourceBundle(d,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,u=!1,o[m]===void 0&&(o[m]=!0),a[m]===void 0&&(a[m]=!0),c[h]===void 0&&(c[h]=!0)))}),u||(l[d]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),a=i[0],o=i[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{wPe(c.loaded,[a],o),IPe(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,o)},a);return}o(d,u)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const d=c(e,r);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,r,l)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();xr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),xr(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,l),this.loaded(e,o,l)})}saveMissing(e,r,n,i,a,o={},l=()=>{}){var c,d,u,h,m;if((d=(c=this.services)==null?void 0:c.utils)!=null&&d.hasLoadedNamespace&&!((h=(u=this.services)==null?void 0:u.utils)!=null&&h.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((m=this.backend)!=null&&m.create){const f={...o,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let p;g.length===5?p=g(e,r,n,i,f):p=g(e,r,n,i),p&&typeof p.then=="function"?p.then(x=>l(null,x)).catch(l):l(null,p)}catch(p){l(p)}else g(e,r,n,i,l,f)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const nR=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),xr(t[1])&&(e.defaultValue=t[1]),xr(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),iR=t=>{var e,r;return xr(t.ns)&&(t.ns=[t.ns]),xr(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),xr(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((r=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},Yb=()=>{},MPe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class ly extends Bj{constructor(e={},r){if(super(),this.options=iR(e),this.services={},this.logger=Ec,this.modules={external:[]},MPe(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(xr(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=nR();this.options={...n,...this.options,...iR(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Ec.init(i(this.modules.logger),this.options):Ec.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=RPe;const u=new ZL(this.options);this.store=new XL(this.options.resources,this.options);const h=this.services;h.logger=Ec,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new PPe(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=i(d),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new FPe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new DPe(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new iN(this.services,this.options),this.translator.on("*",(f,...g)=>{this.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Yb),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const l=wx(),c=()=>{const d=(u,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(u,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=Yb){var a,o;let n=r;const i=xr(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const l=[],c=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>c(u)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,d=>c(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(d)})}else n(null)}reloadResources(e,r,n){const i=wx();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Yb),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&IX.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=wx();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...d)=>this.t(...d)),r&&r(l,(...d)=>this.t(...d))},o=l=>{var u,h;!e&&!l&&this.services.languageDetector&&(l=[]);const c=xr(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(xr(l)?[l]:l);d&&(this.language||i(d),this.translator.language||this.translator.changeLanguage(d),(h=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||h.call(u,d)),this.loadResources(d,m=>{a(m,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,r,n){const i=(a,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([a,o].concat(l)):c={...o},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(a)?u=a.map(h=>(typeof h=="function"&&(h=mk(h,{...this.options,...o})),`${c.keyPrefix}${d}${h}`)):(typeof a=="function"&&(a=mk(a,{...this.options,...o})),u=c.keyPrefix?`${c.keyPrefix}${d}${a}`:a),this.t(u,c)};return xr(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))}loadNamespaces(e,r){const n=wx();return this.options.ns?(xr(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=wx();xr(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const l=o.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((a=this.services)==null?void 0:a.languageUtils)||new ZL(nR());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new ly(e,r)}cloneInstance(e={},r=Yb){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new ly(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,h)=>(u[h]={...c[d][h]},u),c[d]),c),{});a.store=new XL(l,i),a.services.resourceStore=a.store}return a.translator=new iN(a.services,i),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ua=ly.createInstance();ua.createInstance=ly.createInstance;ua.createInstance;ua.dir;ua.init;ua.loadResources;ua.reloadResources;ua.use;ua.changeLanguage;ua.getFixedT;ua.t;ua.exists;ua.setDefaultNamespace;ua.hasLoadedNamespace;ua.loadNamespaces;ua.loadLanguages;const{slice:BPe,forEach:UPe}=[];function $Pe(t){return UPe.call(BPe.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function qPe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const aR=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,zPe=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!aR.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!aR.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a},oR={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=zPe(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var VPe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return oR.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:a}=e;r&&typeof document<"u"&&oR.create(r,t,n,i,a)}},HPe={name:"querystring",lookup(t){var n;let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}return r}},WPe={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(e){const l=o.split("&");for(let c=0;c<l.length;c++){const d=l[c].indexOf("=");d>0&&l[c].substring(0,d)===e&&(n=l[c].substring(d+1))}}if(n)return n;if(!n&&r>-1){const l=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(i=l[typeof r=="number"?r:0])==null?void 0:i.replace("/",""):void 0}}}return n}};let np=null;const lR=()=>{if(np!==null)return np;try{if(np=typeof window<"u"&&window.localStorage!==null,!np)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{np=!1}return np};var KPe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&lR())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&lR()&&window.localStorage.setItem(r,t)}};let ip=null;const cR=()=>{if(ip!==null)return ip;try{if(ip=typeof window<"u"&&window.sessionStorage!==null,!ip)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ip=!1}return ip};var GPe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&cR())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&cR()&&window.sessionStorage.setItem(r,t)}},YPe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let a=0;a<r.length;a++)e.push(r[a]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},QPe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},XPe={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(i=r[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},JPe={name:"subdomain",lookup(t){var i,a;let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let MX=!1;try{document.cookie,MX=!0}catch{}const BX=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];MX||BX.splice(1,1);const ZPe=()=>({order:BX,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class UX{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=$Pe(r,this.options||{},ZPe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(VPe),this.addDetector(HPe),this.addDetector(KPe),this.addDetector(GPe),this.addDetector(YPe),this.addDetector(QPe),this.addDetector(XPe),this.addDetector(JPe),this.addDetector(WPe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!qPe(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}UX.type="languageDetector";const e8e={loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",edit:"Edit",delete:"Delete",view:"View",back:"Back",next:"Next",previous:"Previous",search:"Search",filter:"Filter",sort:"Sort",all:"All",none:"None",yes:"Yes",no:"No",welcome:"Welcome",dashboard:"Dashboard",profile:"Profile",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",name:"Name",phone:"Phone",address:"Address",city:"City",country:"Country",submit:"Submit",close:"Close",open:"Open",in_progress:"In Progress",completed:"Completed",total_earnings:"Total Earnings",all_time:"All time",available:"Available",new:"New",budget:"Budget",view_all:"View All",access_denied:"Access Denied",client_only_page:"This page is only accessible by clients.",dashboard_overview:"Manage your finds and track your progress.",review:"Review"},t8e={dashboard:"Dashboard",browse_requests:"Browse Requests",my_finds:"My Finds",proposals:"Proposals",contracts:"Contracts",profile:"Profile",tokens:"Tokens",withdrawals:"Withdrawals",messages:"Messages",help_center:"Help Center",create_find:"Post Find",browse_finds:"Browse Finds",my_contracts:"My Contracts",finder_dashboard:"Go to Finder Dashboard",welcome_back:"Welcome back"},r8e={welcome:"Welcome to FinderMeister",signin:"Sign In",signup:"Sign Up",email:"Email",password:"Password",confirm_password:"Confirm Password",first_name:"First Name",last_name:"Last Name",forgot_password:"Forgot Password?",remember_me:"Remember me",already_have_account:"Already have an account?",dont_have_account:"Don't have an account?",create_account:"Create Account",welcome_back:"Welcome back!",signin_continue:"Sign in to continue to your account."},s8e={find_opportunities:"Find Opportunities",submit_proposal:"Submit Proposal",my_proposals:"My Proposals",earnings:"Earnings",withdraw_funds:"Withdraw Funds",buy_tokens:"Buy Tokens",profile_settings:"Profile Settings",work_history:"Work History",ratings_reviews:"Ratings & Reviews"},n8e={post_request:"Post Request",post_request_description:"Create a new find request",create_find:"Post Find",create_first_find:"Create your first find",my_requests:"My Requests",hire_finder:"Hire Finder",manage_contracts:"Manage Contracts",payment_history:"Payment History",review_work:"Review Work",open_finds:"Open Finds",waiting_for_proposals:"Waiting for proposals",in_progress:"In Progress",currently_being_worked_on:"Currently being worked on",completed:"Completed",successfully_completed:"Successfully completed",messages:"Messages",chat_with_finders:"Chat with your finders",view_messages:"View Messages",recent_finds:"Recent Finds",no_finds_yet:"No finds yet",create_find_to_get_started:"Create a find to get started",recent_proposals:"Recent Proposals",no_proposals_yet:"No proposals yet",proposal_for_request:"Proposal for request",by_finder:"By finder"},i8e={report_issue:"Report Issue",submit_dispute:"Submit Contract Dispute",dispute_type:"Dispute Type",description:"Description",evidence:"Evidence (Optional)",contract_issue:"Contract Issue",payment_issue:"Payment Issue",quality_issue:"Work Quality Issue",delivery_issue:"Delivery Issue",communication_issue:"Communication Issue",dispute_submitted:"Dispute Submitted",dispute_submitted_desc:"Your dispute has been submitted and will be reviewed by our team."},a8e={amount:"Amount",total:"Total",escrow_status:"Escrow Status",payment_secured:"Payment Secured",payment_pending:"Payment Pending",complete_payment:"Complete Payment",payment_successful:"Payment Successful",escrow_funded:"Escrow has been funded. Work can now begin."},o8e={contract_details:"Contract Details",contract_not_found:"Contract Not Found",contract_not_found_desc:"The contract you're looking for doesn't exist or you don't have access to it.",contract_id:"Contract ID",contract_overview:"Contract Overview",contract_value:"Contract Value",started:"Started",work_submission:"Work Submission",under_review:"Under Review",completed:"Completed",in_progress:"In Progress",submit_work:"Submit Work",review_work:"Review Work",message_finder:"Message Finder",additional_actions:"Additional Actions"},l8e={select_language:"Select Language",english:"English",pidgin:"Pidgin English",yoruba:"Yoruba",hausa:"Hausa",igbo:"Igbo",french:"Franais",german:"Deutsch",spanish:"Espaol",portuguese:"Portugus",arabic:""},c8e={signin_required:"Please sign in to view your messages.",start_conversation:"Start the conversation",first_message_prompt:"Send your first message to {{name}} to discuss the project details.",about_request:"Message {{name}} about this request",error_loading:"Error loading message"},d8e={client:"Client",finder:"Professional Finder"},u8e={common:e8e,navigation:t8e,auth:r8e,finder:s8e,client:n8e,dispute:i8e,payment:a8e,contract:o8e,language:l8e,messages:c8e,roles:d8e},h8e={loading:"Dey load...",error:"Error don happen",success:"E done work",cancel:"Cancel am",save:"Save am",edit:"Edit am",delete:"Delete am",view:"See am",back:"Go back",next:"Next one",previous:"Previous one",search:"Search",filter:"Filter",sort:"Sort",all:"All of them",none:"None",yes:"Yes",no:"No",welcome:"Welcome",dashboard:"Dashboard",profile:"Profile",settings:"Settings",logout:"Logout",login:"Login",register:"Register",email:"Email",password:"Password",name:"Name",phone:"Phone",address:"Address",city:"City",country:"Country",submit:"Submit",close:"Close",open:"Open",in_progress:"Dey work on am",completed:"Done finish",total_earnings:"Total Money Wey You Don Make",all_time:"All time",available:"Dey available",new:"New one",budget:"Budget",view_all:"See All",access_denied:"You no fit enter here",client_only_page:"Na only clients fit enter this page.",dashboard_overview:"Manage your finds and see how you dey do.",review:"Check am"},f8e={dashboard:"Dashboard",browse_requests:"Check Requests",my_finds:"My Finds",proposals:"My Proposals",contracts:"My Contracts",profile:"Profile",tokens:"Tokens",withdrawals:"Withdrawals",messages:"Messages",help_center:"Help Center",create_find:"Post Find",browse_finds:"Check Finds",my_contracts:"My Contracts",finder_dashboard:"Go Finder Dashboard",welcome_back:"Welcome back"},m8e={welcome:"Welcome to FinderMeister",signin:"Enter",signup:"Join Us",email:"Email",password:"Password",confirm_password:"Confirm Password",first_name:"First Name",last_name:"Last Name",forgot_password:"Forget Password?",remember_me:"Remember me",already_have_account:"You get account already?",dont_have_account:"You no get account?",create_account:"Open Account",welcome_back:"Welcome back!",signin_continue:"Enter make you continue."},p8e={find_opportunities:"Find Work",submit_proposal:"Send Proposal",my_proposals:"My Proposals",earnings:"My Money",withdraw_funds:"Collect Money",buy_tokens:"Buy Tokens",profile_settings:"Profile Settings",work_history:"Work Wey I Don Do",ratings_reviews:"Reviews"},g8e={post_request:"Post Request",my_requests:"My Requests",hire_finder:"Hire Finder",manage_contracts:"Manage Contracts",payment_history:"Payment History",review_work:"Check Work"},x8e={report_issue:"Report Problem",submit_dispute:"Report Contract Problem",dispute_type:"Problem Type",description:"Wetin Happen",evidence:"Evidence (If you get)",contract_issue:"Contract Problem",payment_issue:"Payment Problem",quality_issue:"Work Quality Problem",delivery_issue:"Delivery Problem",communication_issue:"Communication Problem",dispute_submitted:"Problem Report Don Send",dispute_submitted_desc:"We don receive your problem report. Our team go check am."},v8e={amount:"Amount",total:"Total",escrow_status:"Payment Status",payment_secured:"Payment Don Secure",payment_pending:"Payment Dey Wait",complete_payment:"Complete Payment",payment_successful:"Payment Successful",escrow_funded:"Escrow don fund. Work fit start now."},y8e={contract_details:"Contract Details",contract_not_found:"Contract No Dey",contract_not_found_desc:"The contract wey you dey find no exist or you no get access to am.",contract_id:"Contract ID",contract_overview:"Contract Overview",contract_value:"Contract Value",started:"Start",work_submission:"Work Submission",under_review:"Dem Dey Check Am",completed:"Don Finish",in_progress:"Dey Progress",submit_work:"Submit Work",review_work:"Check Work",message_finder:"Message Finder",additional_actions:"Other Actions"},b8e={select_language:"Choose Language",english:"English",pidgin:"Pidgin English",yoruba:"Yoruba",hausa:"Hausa",igbo:"Igbo",french:"French",german:"German",spanish:"Spanish",portuguese:"Portuguese",arabic:"Arabic"},w8e={signin_required:"You need signin first make you see your messages.",start_conversation:"Start the gist",first_message_prompt:"Send your first message give {{name}} make una discuss the project details.",about_request:"Send message to {{name}} about dis request",error_loading:"Error dey load message"},N8e={client:"Client",finder:"Professional Finder"},j8e={common:h8e,navigation:f8e,auth:m8e,finder:p8e,client:g8e,dispute:x8e,payment:v8e,contract:y8e,language:b8e,messages:w8e,roles:N8e},_8e={loading:" gb...",submit:"Fi rn e",cancel:"Fagilee",save:"Tju",edit:"atunk",delete:"Paj",search:"Wa",filter:"e l",back:"Pad",next:"Tkn",previous:"Tle",close:"Tij",open:"",view:"Wo",download:"Gba kal",upload:"Gbe sk",refresh:"Tun e",login:"Wl",logout:"Jade",signup:"Darapo mwa",register:"Foruksil",profile:"wrn-ni",settings:"wn t",help:"rnw",contact:"Kn s wa",about:"Npa wa",terms:"wn fin",privacy:"r",home:"Il",dashboard:"Oj-wntnwns",browse:"W kiri",create:"da",post:"Fi ran",send:"Fi ran",update:"Imudojuiwn",confirm:"Jrisi"},S8e={dashboard:"Oj-wntnwns",browse_requests:"W wn br",my_finds:"wn wd Mi",proposals:"wn dhn",contracts:"wn dhn",profile:"wrn-ni",tokens:"wn m",withdrawals:"wn fkr",messages:"wn I",help_center:"Il- rnw",create_find:"Fi wd",browse_finds:"W wn wd",my_contracts:"wn dhn Mi"},k8e={welcome:"Kb s FinderMeister",signin:"Wl",signup:"Darapo mwa",email:"ml",password:"rgbaniwl",confirm_password:"Jrisi rgbaniwl",first_name:"Ork kk",last_name:"Ork dl",forgot_password:"Gbagb rgbaniwl?",remember_me:"Rnt mi",already_have_account:"e o n kl tl?",dont_have_account:"K n kl?",create_account:"da kl",welcome_back:"Kb pad!",signin_continue:"Wl lti tswj."},C8e={find_opportunities:"W wn fn",submit_proposal:"Fi dhn",my_proposals:"wn dhn Mi",earnings:"wn r",withdraw_funds:"F Ow Jade",buy_tokens:"Ra wn m",profile_settings:"wn t wrn-ni",work_history:"tn I",ratings_reviews:"wn dj"},A8e={post_request:"Fi br",my_requests:"wn br Mi",hire_finder:"Gba w",manage_contracts:"akoso wn dhn",payment_history:"tn sanw",review_work:"eywo I"},E8e={report_issue:"Ryn ro",submit_dispute:"Fi jiyn dhn",dispute_type:"Ir jiyn",description:"ly",evidence:"r (T o b f)",contract_issue:"ro dhn",payment_issue:"ro sanw",quality_issue:"ro Ddra I",delivery_issue:"ro fi Ll",communication_issue:"ro bnisr",dispute_submitted:"jiyn Ti Firan",dispute_submitted_desc:"A ti gba jiyn r, gb wa y aywo r."},T8e={amount:"Iye Ow",total:"pap",escrow_status:"Ip sanw",payment_secured:"sanw Ti Ni b",payment_pending:"sanw  Dr",complete_payment:"Par sanw",payment_successful:"sanw aeyr",escrow_funded:"Escrow ti ni gbowsl. I l br by."},P8e={contract_details:"wn Alaye dhn",work_submission:"fifiran I",under_review:"Lb yw",completed:"Ti Par",in_progress:" L Lw",submit_work:"Fi I Ran",review_work:"eywo I",message_finder:"Fi I Ran s w",additional_actions:"wn gbs Mrn"},F8e={select_language:"Yan d",english:"Gs",pidgin:"Pidgin English",yoruba:"Yorb",hausa:"Hausa",igbo:"Igbo",french:"Farans",german:"Jmn",spanish:"Spn",portuguese:"Ptugi",arabic:"Lrbw"},O8e={common:_8e,navigation:S8e,auth:k8e,finder:C8e,client:A8e,dispute:E8e,payment:T8e,contract:P8e,language:F8e},L8e={loading:"Ana lodi...",submit:"Aika",cancel:"Soke",save:"Adana",edit:"Gyara",delete:"Share",search:"Bincika",filter:"Tace",back:"Koma baya",next:"Na gaba",previous:"Na baya",close:"Rufe",open:"Bude",view:"Duba",download:"Sauke",upload:"ora",refresh:"Sabunta",login:"Shiga",logout:"Fita",signup:"Yi rajista",register:"Rajista",profile:"Bayanai",settings:"Saitunan",help:"Taimako",contact:"Tuntua mu",about:"Game da mu",terms:"Sharua",privacy:"Sirri",home:"Gida",dashboard:"Dashboard",browse:"Bincika",create:"irira",post:"Aika",send:"Aika",update:"Sabunta",confirm:"Tabbatar"},R8e={dashboard:"Dashboard",browse_requests:"Bincika Buatun",my_finds:"Bincikena",proposals:"Shawarwarina",contracts:"Kwangila",profile:"Bayanaina",tokens:"Alamomi",withdrawals:"Cirewa",messages:"Saonni",help_center:"Cibiyar Taimako",create_find:"Aika Bincike",browse_finds:"Bincika Ayyuka",my_contracts:"Kwangiloina"},I8e={welcome:"Maraba da FinderMeister",signin:"Shiga",signup:"Yi Rajista",email:"Imel",password:"Kalmar sirri",confirm_password:"Tabbatar da kalmar sirri",first_name:"Suna na farko",last_name:"Suna na arshe",forgot_password:"Ka manta da kalmar sirri?",remember_me:"Ka tuna da ni",already_have_account:"Kana da asusu?",dont_have_account:"Ba ka da asusu ba?",create_account:"iriri Asusu",welcome_back:"Maraba da dawowa!",signin_continue:"Ka shiga don ci gaba."},D8e={find_opportunities:"Nemo Damar Aiki",submit_proposal:"Aika Shawara",my_proposals:"Shawarwarina",earnings:"Abin da na samu",withdraw_funds:"Cire Kui",buy_tokens:"Sayi Alamomi",profile_settings:"Saitunan Bayanai",work_history:"Tarihin Aiki",ratings_reviews:"Kimantawa"},M8e={post_request:"Aika Buata",my_requests:"Buatuna",hire_finder:"auki Ma'aikaci",manage_contracts:"Sarrafa Kwangila",payment_history:"Tarihin Biyan Kui",review_work:"Duba Aiki"},B8e={report_issue:"Bayar da Matsala",submit_dispute:"Aika Rigima akan Kwangila",dispute_type:"Nau'in Rigima",description:"Bayani",evidence:"Shaida (Idan akwai)",contract_issue:"Matsalar Kwangila",payment_issue:"Matsalar Biyan Kui",quality_issue:"Matsalar Ingancin Aiki",delivery_issue:"Matsalar Isar da Aiki",communication_issue:"Matsalar Sadarwa",dispute_submitted:"An Aika Rigima",dispute_submitted_desc:"Mun kari rigimarku, ungiyarmu za ta duba."},U8e={amount:"Adadi",total:"Jimla",escrow_status:"Matsayin Biyan Kui",payment_secured:"An Kare Biyan Kui",payment_pending:"Biyan Kui Yana Jira",complete_payment:"Kammala Biyan Kui",payment_successful:"Biyan Kui Ya Yi Nasara",escrow_funded:"An ba da kuin escrow. Aiki zai iya farawa yanzu."},$8e={contract_details:"Bayanin Kwangila",work_submission:"Mika Aiki",under_review:"Ana Dubawa",completed:"An Gama",in_progress:"Ana Ci Gaba",submit_work:"Mika Aiki",review_work:"Duba Aiki",message_finder:"Aika Sao ga Ma'aikaci",additional_actions:"Sauran Ayyuka"},q8e={select_language:"Zai Harshe",english:"Turanci",pidgin:"Pidgin English",yoruba:"Yarbanci",hausa:"Hausa",igbo:"Igbo",french:"Faransanci",german:"Jamusanci",spanish:"Sipaniya",portuguese:"Fotigal",arabic:"Larabci"},z8e={common:L8e,navigation:R8e,auth:I8e,finder:D8e,client:M8e,dispute:B8e,payment:U8e,contract:$8e,language:q8e},V8e={loading:"Na-ebu...",submit:"Zigaa",cancel:"Kagbuo",save:"Chekwaa",edit:"Dezie",delete:"Kpochap",search:"Ch",filter:"Kpokota",back:"Laghachi az",next:"Osote",previous:"Nke gara aga",close:"Mechie",open:"Meghee",view:"Lee",download:"Budata",upload:"Bulite",refresh:"Mee h",login:"Banye",logout:"P",signup:"Debanye aha",register:"Debanye aha",profile:"Njirimara",settings:"Nhazi",help:"Enyemaka",contact:"Kptr any",about:"Maka any",terms:"Usoro",privacy:"Nzuzo",home:"l",dashboard:"Dashboard",browse:"Leghara",create:"Mepta",post:"Zipu",send:"Zipu",update:"Melite",confirm:"Kwenye"},H8e={dashboard:"Dashboard",browse_requests:"Leghara Arr",my_finds:"Nchcha M",proposals:"Atmat M",contracts:"Nkwekrta M",profile:"Njirimara M",tokens:"Mgbaaka",withdrawals:"Mwepta Ego",messages:"Ozi",help_center:"Ebe Enyemaka",create_find:"Zipu Nchcha",browse_finds:"Leghara Nchcha",my_contracts:"Nkwekrta M"},W8e={welcome:"Ndewo na FinderMeister",signin:"Banye",signup:"Debanye Aha",email:"Email",password:"Okwuntghe",confirm_password:"Kwenye Okwuntghe",first_name:"Aha mb",last_name:"Aha ikpeaz",forgot_password:"Chefuru okwuntghe?",remember_me:"Cheta m",already_have_account:" nwere akant?",dont_have_account:" enwegh akant?",create_account:"Mepta Akant",welcome_back:"Ndewo z!",signin_continue:"Banye iji gaa n'ihu."},K8e={find_opportunities:"Chta Ohere",submit_proposal:"Zipu Atmat",my_proposals:"Atmat M",earnings:"Ego M Nwetara",withdraw_funds:"Wepta Ego",buy_tokens:"Zta Mgbaaka",profile_settings:"Nhazi Njirimara",work_history:"Akk r",ratings_reviews:"Nyocha na Ntule"},G8e={post_request:"Zipu Arr",my_requests:"Arr M",hire_finder:"Goro Onye Nchcha",manage_contracts:"Jikwaa Nkwekrta",payment_history:"Akk kw gw",review_work:"Nyochaa r"},Y8e={report_issue:"K Nsogbu",submit_dispute:"Zipu Esemokwu Nkwekrta",dispute_type:"d Esemokwu",description:"Nkwa",evidence:"Ihe Akaebe (Ma  br na  nwere)",contract_issue:"Nsogbu Nkwekrta",payment_issue:"Nsogbu kw gw",quality_issue:"Nsogbu Ogo r",delivery_issue:"Nsogbu Nnyefe",communication_issue:"Nsogbu Nkwurta Okwu",dispute_submitted:"Ezipuru Esemokwu",dispute_submitted_desc:"Anata any esemokwu g, nd otu any ga-enyocha ya."},Q8e={amount:"Ego",total:"Ngkta",escrow_status:"nd kw gw",payment_secured:"Echekwara kw gw",payment_pending:"kw gw Na-eche",complete_payment:"Mechaa kw gw",payment_successful:"kw gw Gara Nke ma",escrow_funded:"Enyere ego escrow. r nwere ike malite ugbu a."},X8e={contract_details:"Nkwa Nkwekrta",work_submission:"Inyefe r",under_review:"N'okpuru Nyocha",completed:"Mechara",in_progress:"Na-aga N'ihu",submit_work:"Nyefee r",review_work:"Nyochaa r",message_finder:"Ziga Onye Nchcha Ozi",additional_actions:"Ihe Nd z"},J8e={select_language:"Hr Ass",english:"Bekee",pidgin:"Pidgin English",yoruba:"Yoruba",hausa:"Hausa",igbo:"Igbo",french:"French",german:"German",spanish:"Spanish",portuguese:"Portuguese",arabic:"Arabic"},Z8e={common:V8e,navigation:H8e,auth:W8e,finder:K8e,client:G8e,dispute:Y8e,payment:Q8e,contract:X8e,language:J8e},eFe={loading:"Chargement...",submit:"Soumettre",cancel:"Annuler",save:"Sauvegarder",edit:"Modifier",delete:"Supprimer",search:"Rechercher",filter:"Filtrer",back:"Retour",next:"Suivant",previous:"Prcdent",close:"Fermer",open:"Ouvrir",view:"Voir",download:"Tlcharger",upload:"Tlverser",refresh:"Actualiser",login:"Se connecter",logout:"Se dconnecter",signup:"S'inscrire",register:"S'enregistrer",profile:"Profil",settings:"Paramtres",help:"Aide",contact:"Contact",about:" propos",terms:"Conditions",privacy:"Confidentialit",home:"Accueil",dashboard:"Tableau de bord",browse:"Parcourir",create:"Crer",post:"Publier",send:"Envoyer",update:"Mettre  jour",confirm:"Confirmer"},tFe={dashboard:"Tableau de bord",browse_requests:"Parcourir les demandes",my_finds:"Mes recherches",proposals:"Mes propositions",contracts:"Mes contrats",profile:"Profil",tokens:"Jetons",withdrawals:"Retraits",messages:"Messages",help_center:"Centre d'aide",create_find:"Publier une recherche",browse_finds:"Parcourir les recherches",my_contracts:"Mes contrats"},rFe={welcome:"Bienvenue sur FinderMeister",signin:"Se connecter",signup:"S'inscrire",email:"E-mail",password:"Mot de passe",confirm_password:"Confirmer le mot de passe",first_name:"Prnom",last_name:"Nom de famille",forgot_password:"Mot de passe oubli?",remember_me:"Se souvenir de moi",already_have_account:"Vous avez dj un compte?",dont_have_account:"Vous n'avez pas de compte?",create_account:"Crer un compte",welcome_back:"Bon retour!",signin_continue:"Connectez-vous pour continuer."},sFe={find_opportunities:"Trouver des opportunits",submit_proposal:"Soumettre une proposition",my_proposals:"Mes propositions",earnings:"Gains",withdraw_funds:"Retirer des fonds",buy_tokens:"Acheter des jetons",profile_settings:"Paramtres du profil",work_history:"Historique de travail",ratings_reviews:"valuations et avis"},nFe={post_request:"Publier une demande",my_requests:"Mes demandes",hire_finder:"Embaucher un chercheur",manage_contracts:"Grer les contrats",payment_history:"Historique des paiements",review_work:"Examiner le travail"},iFe={report_issue:"Signaler un problme",submit_dispute:"Soumettre un litige de contrat",dispute_type:"Type de litige",description:"Description",evidence:"Preuve (optionnel)",contract_issue:"Problme de contrat",payment_issue:"Problme de paiement",quality_issue:"Problme de qualit du travail",delivery_issue:"Problme de livraison",communication_issue:"Problme de communication",dispute_submitted:"Litige soumis",dispute_submitted_desc:"Votre litige a t soumis et sera examin par notre quipe."},aFe={amount:"Montant",total:"Total",escrow_status:"Statut de l'entiercement",payment_secured:"Paiement scuris",payment_pending:"Paiement en attente",complete_payment:"Complter le paiement",payment_successful:"Paiement russi",escrow_funded:"L'entiercement est financ. Le travail peut maintenant commencer."},oFe={contract_details:"Dtails du contrat",work_submission:"Soumission de travail",under_review:"En cours d'examen",completed:"Termin",in_progress:"En cours",submit_work:"Soumettre le travail",review_work:"Examiner le travail",message_finder:"Envoyer un message au chercheur",additional_actions:"Actions supplmentaires"},lFe={select_language:"Slectionner la langue",english:"Anglais",pidgin:"Pidgin anglais",yoruba:"Yoruba",hausa:"Hausa",igbo:"Igbo",french:"Franais",german:"Allemand",spanish:"Espagnol",portuguese:"Portugais",arabic:"Arabe"},cFe={common:eFe,navigation:tFe,auth:rFe,finder:sFe,client:nFe,dispute:iFe,payment:aFe,contract:oFe,language:lFe},dFe={loading:"Wird geladen...",submit:"Einreichen",cancel:"Abbrechen",save:"Speichern",edit:"Bearbeiten",delete:"Lschen",search:"Suchen",filter:"Filtern",back:"Zurck",next:"Weiter",previous:"Vorherige",close:"Schlieen",open:"ffnen",view:"Ansehen",download:"Herunterladen",upload:"Hochladen",refresh:"Aktualisieren",login:"Anmelden",logout:"Abmelden",signup:"Registrieren",register:"Registrieren",profile:"Profil",settings:"Einstellungen",help:"Hilfe",contact:"Kontakt",about:"ber uns",terms:"Nutzungsbedingungen",privacy:"Datenschutz",home:"Startseite",dashboard:"Dashboard",browse:"Durchsuchen",create:"Erstellen",post:"Verffentlichen",send:"Senden",update:"Aktualisieren",confirm:"Besttigen"},uFe={dashboard:"Dashboard",browse_requests:"Anfragen durchsuchen",my_finds:"Meine Suchen",proposals:"Meine Vorschlge",contracts:"Meine Vertrge",profile:"Profil",tokens:"Token",withdrawals:"Auszahlungen",messages:"Nachrichten",help_center:"Hilfezentrum",create_find:"Suche verffentlichen",browse_finds:"Suchen durchsuchen",my_contracts:"Meine Vertrge"},hFe={welcome:"Willkommen bei FinderMeister",signin:"Anmelden",signup:"Registrieren",email:"E-Mail",password:"Passwort",confirm_password:"Passwort besttigen",first_name:"Vorname",last_name:"Nachname",forgot_password:"Passwort vergessen?",remember_me:"Angemeldet bleiben",already_have_account:"Haben Sie bereits ein Konto?",dont_have_account:"Haben Sie noch kein Konto?",create_account:"Konto erstellen",welcome_back:"Willkommen zurck!",signin_continue:"Melden Sie sich an, um fortzufahren."},fFe={find_opportunities:"Gelegenheiten finden",submit_proposal:"Vorschlag einreichen",my_proposals:"Meine Vorschlge",earnings:"Verdienste",withdraw_funds:"Geld abheben",buy_tokens:"Token kaufen",profile_settings:"Profileinstellungen",work_history:"Arbeitshistorie",ratings_reviews:"Bewertungen"},mFe={post_request:"Anfrage verffentlichen",my_requests:"Meine Anfragen",hire_finder:"Finder einstellen",manage_contracts:"Vertrge verwalten",payment_history:"Zahlungshistorie",review_work:"Arbeit bewerten"},pFe={report_issue:"Problem melden",submit_dispute:"Vertragsstreit einreichen",dispute_type:"Streittyp",description:"Beschreibung",evidence:"Beweis (optional)",contract_issue:"Vertragsproblem",payment_issue:"Zahlungsproblem",quality_issue:"Arbeitsqualittsproblem",delivery_issue:"Lieferproblem",communication_issue:"Kommunikationsproblem",dispute_submitted:"Streit eingereicht",dispute_submitted_desc:"Ihr Streit wurde eingereicht und wird von unserem Team berprft."},gFe={amount:"Betrag",total:"Gesamt",escrow_status:"Escrow-Status",payment_secured:"Zahlung gesichert",payment_pending:"Zahlung ausstehend",complete_payment:"Zahlung abschlieen",payment_successful:"Zahlung erfolgreich",escrow_funded:"Escrow wurde finanziert. Die Arbeit kann jetzt beginnen."},xFe={contract_details:"Vertragsdetails",work_submission:"Arbeitsabgabe",under_review:"Wird berprft",completed:"Abgeschlossen",in_progress:"In Bearbeitung",submit_work:"Arbeit einreichen",review_work:"Arbeit bewerten",message_finder:"Nachricht an Finder",additional_actions:"Zustzliche Aktionen"},vFe={select_language:"Sprache whlen",english:"Englisch",pidgin:"Pidgin Englisch",yoruba:"Yoruba",hausa:"Hausa",igbo:"Igbo",french:"Franzsisch",german:"Deutsch",spanish:"Spanisch",portuguese:"Portugiesisch",arabic:"Arabisch"},yFe={common:dFe,navigation:uFe,auth:hFe,finder:fFe,client:mFe,dispute:pFe,payment:gFe,contract:xFe,language:vFe},bFe={loading:"Cargando...",submit:"Enviar",cancel:"Cancelar",save:"Guardar",edit:"Editar",delete:"Eliminar",search:"Buscar",filter:"Filtrar",back:"Atrs",next:"Siguiente",previous:"Anterior",close:"Cerrar",open:"Abrir",view:"Ver",download:"Descargar",upload:"Subir",refresh:"Actualizar",login:"Iniciar sesin",logout:"Cerrar sesin",signup:"Registrarse",register:"Registrar",profile:"Perfil",settings:"Configuracin",help:"Ayuda",contact:"Contacto",about:"Acerca de",terms:"Trminos",privacy:"Privacidad",home:"Inicio",dashboard:"Panel",browse:"Explorar",create:"Crear",post:"Publicar",send:"Enviar",update:"Actualizar",confirm:"Confirmar"},wFe={dashboard:"Panel",browse_requests:"Explorar solicitudes",my_finds:"Mis bsquedas",proposals:"Mis propuestas",contracts:"Mis contratos",profile:"Perfil",tokens:"Tokens",withdrawals:"Retiros",messages:"Mensajes",help_center:"Centro de ayuda",create_find:"Publicar bsqueda",browse_finds:"Explorar bsquedas",my_contracts:"Mis contratos"},NFe={welcome:"Bienvenido a FinderMeister",signin:"Iniciar sesin",signup:"Registrarse",email:"Correo electrnico",password:"Contrasea",confirm_password:"Confirmar contrasea",first_name:"Nombre",last_name:"Apellido",forgot_password:"Olvid su contrasea?",remember_me:"Recordarme",already_have_account:"Ya tiene una cuenta?",dont_have_account:"No tiene una cuenta?",create_account:"Crear cuenta",welcome_back:"Bienvenido de nuevo!",signin_continue:"Inicie sesin para continuar."},jFe={find_opportunities:"Encontrar oportunidades",submit_proposal:"Enviar propuesta",my_proposals:"Mis propuestas",earnings:"Ganancias",withdraw_funds:"Retirar fondos",buy_tokens:"Comprar tokens",profile_settings:"Configuracin del perfil",work_history:"Historial de trabajo",ratings_reviews:"Calificaciones y reseas"},_Fe={post_request:"Publicar solicitud",my_requests:"Mis solicitudes",hire_finder:"Contratar buscador",manage_contracts:"Gestionar contratos",payment_history:"Historial de pagos",review_work:"Revisar trabajo"},SFe={report_issue:"Reportar problema",submit_dispute:"Enviar disputa de contrato",dispute_type:"Tipo de disputa",description:"Descripcin",evidence:"Evidencia (opcional)",contract_issue:"Problema de contrato",payment_issue:"Problema de pago",quality_issue:"Problema de calidad del trabajo",delivery_issue:"Problema de entrega",communication_issue:"Problema de comunicacin",dispute_submitted:"Disputa enviada",dispute_submitted_desc:"Su disputa ha sido enviada y ser revisada por nuestro equipo."},kFe={amount:"Cantidad",total:"Total",escrow_status:"Estado del depsito en garanta",payment_secured:"Pago asegurado",payment_pending:"Pago pendiente",complete_payment:"Completar pago",payment_successful:"Pago exitoso",escrow_funded:"El depsito en garanta ha sido financiado. El trabajo puede comenzar ahora."},CFe={contract_details:"Detalles del contrato",work_submission:"Envo de trabajo",under_review:"En revisin",completed:"Completado",in_progress:"En progreso",submit_work:"Enviar trabajo",review_work:"Revisar trabajo",message_finder:"Mensaje al buscador",additional_actions:"Acciones adicionales"},AFe={select_language:"Seleccionar idioma",english:"Ingls",pidgin:"Pidgin ingls",yoruba:"Yoruba",hausa:"Hausa",igbo:"Igbo",french:"Francs",german:"Alemn",spanish:"Espaol",portuguese:"Portugus",arabic:"rabe"},EFe={common:bFe,navigation:wFe,auth:NFe,finder:jFe,client:_Fe,dispute:SFe,payment:kFe,contract:CFe,language:AFe},TFe={loading:"Carregando...",submit:"Enviar",cancel:"Cancelar",save:"Salvar",edit:"Editar",delete:"Excluir",search:"Buscar",filter:"Filtrar",back:"Voltar",next:"Prximo",previous:"Anterior",close:"Fechar",open:"Abrir",view:"Ver",download:"Baixar",upload:"Enviar",refresh:"Atualizar",login:"Entrar",logout:"Sair",signup:"Inscrever-se",register:"Registrar",profile:"Perfil",settings:"Configuraes",help:"Ajuda",contact:"Contato",about:"Sobre",terms:"Termos",privacy:"Privacidade",home:"Incio",dashboard:"Painel",browse:"Navegar",create:"Criar",post:"Publicar",send:"Enviar",update:"Atualizar",confirm:"Confirmar"},PFe={dashboard:"Painel",browse_requests:"Navegar solicitaes",my_finds:"Minhas buscas",proposals:"Minhas propostas",contracts:"Meus contratos",profile:"Perfil",tokens:"Tokens",withdrawals:"Saques",messages:"Mensagens",help_center:"Central de ajuda",create_find:"Publicar busca",browse_finds:"Navegar buscas",my_contracts:"Meus contratos"},FFe={welcome:"Bem-vindo ao FinderMeister",signin:"Entrar",signup:"Inscrever-se",email:"E-mail",password:"Senha",confirm_password:"Confirmar senha",first_name:"Nome",last_name:"Sobrenome",forgot_password:"Esqueceu a senha?",remember_me:"Lembrar de mim",already_have_account:"J tem uma conta?",dont_have_account:"No tem uma conta?",create_account:"Criar conta",welcome_back:"Bem-vindo de volta!",signin_continue:"Entre para continuar."},OFe={find_opportunities:"Encontrar oportunidades",submit_proposal:"Enviar proposta",my_proposals:"Minhas propostas",earnings:"Ganhos",withdraw_funds:"Sacar fundos",buy_tokens:"Comprar tokens",profile_settings:"Configuraes do perfil",work_history:"Histrico de trabalho",ratings_reviews:"Avaliaes"},LFe={post_request:"Publicar solicitao",my_requests:"Minhas solicitaes",hire_finder:"Contratar buscador",manage_contracts:"Gerenciar contratos",payment_history:"Histrico de pagamentos",review_work:"Revisar trabalho"},RFe={report_issue:"Reportar problema",submit_dispute:"Enviar disputa de contrato",dispute_type:"Tipo de disputa",description:"Descrio",evidence:"Evidncia (opcional)",contract_issue:"Problema de contrato",payment_issue:"Problema de pagamento",quality_issue:"Problema de qualidade do trabalho",delivery_issue:"Problema de entrega",communication_issue:"Problema de comunicao",dispute_submitted:"Disputa enviada",dispute_submitted_desc:"Sua disputa foi enviada e ser revisada pela nossa equipe."},IFe={amount:"Quantia",total:"Total",escrow_status:"Status do depsito",payment_secured:"Pagamento seguro",payment_pending:"Pagamento pendente",complete_payment:"Completar pagamento",payment_successful:"Pagamento bem-sucedido",escrow_funded:"O depsito foi financiado. O trabalho pode comear agora."},DFe={contract_details:"Detalhes do contrato",work_submission:"Envio de trabalho",under_review:"Em reviso",completed:"Concludo",in_progress:"Em andamento",submit_work:"Enviar trabalho",review_work:"Revisar trabalho",message_finder:"Mensagem para buscador",additional_actions:"Aes adicionais"},MFe={select_language:"Selecionar idioma",english:"Ingls",pidgin:"Pidgin ingls",yoruba:"Iorub",hausa:"Hau",igbo:"Igbo",french:"Francs",german:"Alemo",spanish:"Espanhol",portuguese:"Portugus",arabic:"rabe"},BFe={common:TFe,navigation:PFe,auth:FFe,finder:OFe,client:LFe,dispute:RFe,payment:IFe,contract:DFe,language:MFe},UFe={loading:" ...",submit:"",cancel:"",save:"",edit:"",delete:"",search:"",filter:"",back:"",next:"",previous:"",close:"",open:"",view:"",download:"",upload:"",refresh:"",login:" ",logout:" ",signup:"",register:" ",profile:" ",settings:"",help:"",contact:" ",about:" ",terms:"",privacy:"",home:"",dashboard:" ",browse:"",create:"",post:"",send:"",update:"",confirm:""},$Fe={dashboard:" ",browse_requests:" ",my_finds:"   ",proposals:"",contracts:"",profile:" ",tokens:" ",withdrawals:"",messages:"",help_center:" ",create_find:" ",browse_finds:"  ",my_contracts:""},qFe={welcome:"   FinderMeister",signin:" ",signup:"",email:" ",password:" ",confirm_password:"  ",first_name:" ",last_name:" ",forgot_password:"  ",remember_me:"",already_have_account:"  ",dont_have_account:"  ",create_account:" ",welcome_back:" !",signin_continue:"  ."},zFe={find_opportunities:"  ",submit_proposal:" ",my_proposals:"",earnings:"",withdraw_funds:" ",buy_tokens:"  ",profile_settings:"  ",work_history:" ",ratings_reviews:" "},VFe={post_request:" ",my_requests:"",hire_finder:" ",manage_contracts:" ",payment_history:" ",review_work:" "},HFe={report_issue:"  ",submit_dispute:"  ",dispute_type:" ",description:"",evidence:" ()",contract_issue:"  ",payment_issue:"  ",quality_issue:"   ",delivery_issue:"  ",communication_issue:"  ",dispute_submitted:"  ",dispute_submitted_desc:"       ."},WFe={amount:"",total:"",escrow_status:" ",payment_secured:" ",payment_pending:" ",complete_payment:" ",payment_successful:"  ",escrow_funded:"  .    ."},KFe={contract_details:" ",work_submission:" ",under_review:" ",completed:"",in_progress:" ",submit_work:" ",review_work:" ",message_finder:" ",additional_actions:" "},GFe={select_language:" ",english:"",pidgin:" ",yoruba:"",hausa:"",igbo:"",french:"",german:"",spanish:"",portuguese:"",arabic:""},YFe={common:UFe,navigation:$Fe,auth:qFe,finder:zFe,client:VFe,dispute:HFe,payment:WFe,contract:KFe,language:GFe},QFe={en:{translation:u8e},pidgin:{translation:j8e},yo:{translation:O8e},ha:{translation:z8e},ig:{translation:Z8e},fr:{translation:cFe},de:{translation:yFe},es:{translation:EFe},pt:{translation:BFe},ar:{translation:YFe}};ua.use(UX).use(tce).init({resources:QFe,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]}});function XFe(){return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:s.jsxs(Re,{href:"/",className:"inline-flex items-center text-finder-red hover:underline",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Terms of Service"}),s.jsxs("p",{className:"text-gray-600 mb-8",children:["Last updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"1. Terms of Use"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Introduction"}),s.jsx("p",{className:"mb-4",children:"Welcome to FinderMeister Innovations. By registering as a Client (who posts finds) or a Finder (who applies to complete finds), you agree to abide by these Terms of Use, our Privacy Policy, and Refund Policy. These Terms are legally binding under the laws of the Federal Republic of Nigeria."}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Nature of Services"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"FinderMeister is an online marketplace platform. We do not directly supply goods or services."}),s.jsx("li",{children:"Our role is to connect Clients and Finders and facilitate secure transactions using escrow via licensed payment processors (e.g., Flutterwave, Opay)."}),s.jsx("li",{children:"FinderMeister does not issue wallets or hold customer funds."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"FinderTokens"}),s.jsx("p",{className:"mb-4",children:"FinderTokens are access credits used to apply for finds by Finders or boost a find by Clients. They are not currency, not legal tender, and hold no monetary value outside the platform."}),s.jsx("p",{className:"mb-4",children:"FinderTokens are:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Non-refundable (except in specific cases outlined below)"}),s.jsx("li",{children:"Non-transferable"}),s.jsx("li",{children:"Expire after six (6) months from issuance"}),s.jsx("li",{children:"20 FinderTokens are awarded to each finder monthly"})]}),s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mt-4 mb-2",children:"FinderToken Refund Policy"}),s.jsx("p",{className:"mb-2 font-medium",children:"For Finders:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Tokens spent on proposals will be refunded if the Client's post is canceled due to a violation of FinderMeister's Terms of Service (fraudulent, scam, spam, or otherwise invalid)."}),s.jsx("li",{children:"Tokens are not refunded if the proposal is simply unsuccessful."})]}),s.jsx("p",{className:"mb-2 font-medium",children:"For Clients:"}),s.jsx("ul",{className:"list-disc pl-6 mb-4",children:s.jsx("li",{children:"Tokens used for boosts or high-budget postings are non-refundable under all circumstances."})}),s.jsx("p",{className:"mb-4 font-medium",children:"The expiry nature of FinderTokens and refund conditions are final and binding."}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Contracts & Escrow"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"All contracts are fixed budget that can be agreed on between Finders and Clients."}),s.jsx("li",{children:"Clients must deposit funds into escrow before a Finder begins work."})]}),s.jsx("p",{className:"mb-4",children:"Escrow funds are released:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Automatically if no dispute is raised within the inspection period (48 hours)."}),s.jsx("li",{children:"Upon Client approval of deliverables."}),s.jsx("li",{children:"Following dispute resolution (see Section 4)."})]}),s.jsx("p",{className:"mb-4 font-medium",children:"Finality Clause: Once escrow is released, payment is irreversible except in proven fraud."}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"User Obligations"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"No exchange of phone numbers, email addresses and other contact details before a contract starts"}),s.jsx("li",{children:"No illegal or prohibited finds (e.g., drugs, contraband, fraud, prostitution or trafficking)"}),s.jsx("li",{children:"No bypassing escrow."}),s.jsx("li",{children:"No fraudulent evidence."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Account Suspension"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"FinderMeister operates a strike system. 3 strikes = suspension."}),s.jsx("li",{children:"Severe breaches may result in immediate account termination."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Limitation of Liability"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"FinderMeister is not liable for indirect or consequential damages."}),s.jsx("li",{children:"Our maximum liability = service fee earned on the disputed contract."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Indemnity"}),s.jsx("p",{className:"mb-4",children:"Users indemnify FinderMeister against losses, damages, or claims arising from their activities on the platform."}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"2. Refund Policy"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Eligible Refunds:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Non-completion of Find(s)"}),s.jsx("li",{children:"Breach of contract proven through disputes."}),s.jsx("li",{children:"Unsatisfactory delivery where both parties agree."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Non-Refundable Items"}),s.jsx("p",{className:"mb-4",children:"FinderTokens are strictly non-refundable, non-transferable, and expire after 6 months."}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Processing Time"}),s.jsx("p",{className:"mb-4",children:"Refunds processed in 714 working days through Flutterwave/Opay."}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"3. Privacy Policy"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Data We Collect"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Name, email, phone, payment details, account activity."}),s.jsx("li",{children:"Verification documents: Voter's Card, Driver's License, International Passport, NIN."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Purpose"}),s.jsx("p",{className:"mb-4",children:"Account management, escrow, fraud prevention, dispute resolution, compliance."}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Data Security"}),s.jsx("p",{className:"mb-4",children:"Encrypted storage, restricted staff access."}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Third Parties"}),s.jsx("p",{className:"mb-4",children:"Data may be shared only with licensed partners (e.g., Flutterwave, Opay)."}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"User Rights"}),s.jsx("p",{className:"mb-4",children:"Request access, correction, or deletion of data in line with NDPR."}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"4. Dispute Resolution Policy"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Scope"}),s.jsx("p",{className:"mb-4",children:"Covers disputes relating to:"}),s.jsx("ul",{className:"list-disc pl-6 mb-4",children:s.jsx("li",{children:"Non-delivery, late delivery, quality issues, fraud, refund eligibility."})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Principles"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Funds in escrow remain until Client confirms delivery or a dispute decision is reached."}),s.jsx("li",{children:"Admissible evidence during dispute resolution includes in-platform communications and other notable communication channels."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Timelines"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Dispute must be raised within 72 hours of completion of a find."}),s.jsx("li",{children:"Evidence submission: 72 hours per party."}),s.jsx("li",{children:"Mediation resolution: within 72 hours after evidence submission."}),s.jsx("li",{children:"Auto-release if no dispute is raised in inspection window."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Evidence Standards"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Goods: unboxing videos/photos, courier tracking etc"}),s.jsx("li",{children:"Real Estate: inspection photos/videos, listings, agent communications etc"}),s.jsx("li",{children:"Services/Healthcare: logs, before/after evidence, correspondence. etc"}),s.jsx("li",{children:"Digital Items: access logs, versioned files etc."}),s.jsx("li",{children:"Manipulated evidence = penalties."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Resolution Tiers"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Tier 1  Mediation: Support reviews and proposes outcome."}),s.jsx("li",{children:"Tier 2  Dispute Panel: Final internal decision."}),s.jsx("li",{children:"Appeals allowed once with new material evidence."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Possible Outcomes"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Full release to Finder."}),s.jsx("li",{children:"Full refund to Client."}),s.jsx("li",{children:"Partial split/refund."}),s.jsx("li",{children:"Redo/repair with new deadline."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Fees & Chargebacks"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Payment processor fees may not be refundable."}),s.jsx("li",{children:"FinderTokens are not refundable."}),s.jsx("li",{children:"Excessive chargebacks = account suspension."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Unresponsive Party"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"If Client unresponsive = funds released to Finder."}),s.jsx("li",{children:"If Finder unresponsive = refund to Client."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Prohibited Activity"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Illegal finds = cancellation, refund to Client, and ban."}),s.jsx("li",{children:"Fraudulent evidence = penalties and account termination."})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Governing Law"}),s.jsx("p",{className:"mb-4",children:"Nigerian law governs all disputes."})]}),s.jsx("div",{className:"mt-8 pt-6 border-t",children:s.jsx(Re,{href:"/register",children:s.jsx(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white",children:"Back to Registration"})})})]})})]})}function JFe(){return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:s.jsxs(Re,{href:"/",className:"inline-flex items-center text-finder-red hover:underline",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})}),s.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Privacy Policy"}),s.jsxs("p",{className:"text-gray-600 mb-8",children:["Last updated: ",new Date().toLocaleDateString()]}),s.jsxs("div",{className:"prose max-w-none",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Introduction"}),s.jsx("p",{className:"mb-4",children:'FinderMeister Innovations ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our platform. This policy is legally binding under the laws of the Federal Republic of Nigeria and complies with the Nigeria Data Protection Regulation (NDPR).'}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Information We Collect"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Personal Information"}),s.jsx("p",{className:"mb-4",children:"When you register and use our services, we may collect:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Name (first and last name)"}),s.jsx("li",{children:"Email address"}),s.jsx("li",{children:"Phone number"}),s.jsx("li",{children:"Payment details and transaction information"}),s.jsx("li",{children:"Account activity and usage patterns"}),s.jsx("li",{children:"Communication records and messages"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Verification Documents"}),s.jsx("p",{className:"mb-4",children:"For verification and compliance purposes, we may collect:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Voter's Card"}),s.jsx("li",{children:"Driver's License"}),s.jsx("li",{children:"International Passport"}),s.jsx("li",{children:"National Identification Number (NIN)"}),s.jsx("li",{children:"Bank Verification Number (BVN) for payment processing"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Technical Information"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"IP address and device information"}),s.jsx("li",{children:"Browser type and version"}),s.jsx("li",{children:"Operating system information"}),s.jsx("li",{children:"Cookies and similar tracking technologies"}),s.jsx("li",{children:"Usage data and platform interactions"})]}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"How We Use Your Information"}),s.jsx("p",{className:"mb-4",children:"We use the collected information for the following purposes:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Management:"})," Creating and maintaining your account, processing registrations"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Service Delivery:"})," Facilitating connections between Clients and Finders"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payment Processing:"})," Managing escrow transactions, token purchases, and withdrawals"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Security and Fraud Prevention:"})," Protecting against unauthorized access and fraudulent activities"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dispute Resolution:"})," Investigating and resolving conflicts between users"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Compliance:"})," Meeting legal and regulatory requirements"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Communication:"})," Sending important updates, notifications, and marketing materials"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Platform Improvement:"})," Analyzing usage patterns to enhance user experience"]})]}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Data Security"}),s.jsx("p",{className:"mb-4",children:"We implement robust security measures to protect your information:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Encryption:"})," All sensitive data is encrypted both in transit and at rest"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Access Control:"})," Restricted staff access on a need-to-know basis"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Regular Audits:"})," Periodic security assessments and vulnerability testing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Secure Infrastructure:"})," Industry-standard hosting and database security"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Employee Training:"})," Regular privacy and security training for all staff members"]})]}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Information Sharing"}),s.jsx("p",{className:"mb-4",children:"We do not sell your personal information. We may share your data only in the following circumstances:"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Licensed Payment Partners"}),s.jsx("p",{className:"mb-4",children:"We share necessary payment information with our licensed payment processors (Flutterwave, Opay, Paystack) to facilitate secure transactions and comply with financial regulations."}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Legal Requirements"}),s.jsx("p",{className:"mb-4",children:"We may disclose information when required by:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Nigerian law enforcement agencies"}),s.jsx("li",{children:"Court orders or legal processes"}),s.jsx("li",{children:"Regulatory authorities (CBN, NDPR, etc.)"}),s.jsx("li",{children:"Protection of our rights and property"})]}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mt-6 mb-3",children:"Service Providers"}),s.jsx("p",{className:"mb-4",children:"We may share data with trusted third-party service providers who assist in platform operations, subject to strict confidentiality agreements."}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Your Rights Under NDPR"}),s.jsx("p",{className:"mb-4",children:"As a Nigerian resident or user of our services, you have the following rights:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Access:"})," Request copies of your personal data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Rectification:"})," Request correction of inaccurate information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Erasure:"})," Request deletion of your data (subject to legal obligations)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Restriction:"})," Request limitation of data processing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Data Portability:"})," Request transfer of your data to another service"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Object:"})," Object to certain types of data processing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Right to Withdraw Consent:"})," Withdraw previously given consent"]})]}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Data Retention"}),s.jsx("p",{className:"mb-4",children:"We retain your information for different periods depending on the type of data:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Information:"})," Until account deletion plus 7 years for legal compliance"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Transaction Records:"})," 10 years as required by Nigerian financial regulations"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Communication Logs:"})," 2 years for dispute resolution purposes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Marketing Data:"})," Until you opt out or withdraw consent"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Documents:"})," As required by applicable laws"]})]}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Cookies and Tracking"}),s.jsx("p",{className:"mb-4",children:"We use cookies and similar technologies to:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Maintain your login session"}),s.jsx("li",{children:"Remember your preferences"}),s.jsx("li",{children:"Analyze platform usage and performance"}),s.jsx("li",{children:"Provide personalized experiences"}),s.jsx("li",{children:"Enhance security measures"})]}),s.jsx("p",{className:"mb-4",children:"You can control cookie settings through your browser, but disabling certain cookies may affect platform functionality."}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"International Transfers"}),s.jsx("p",{className:"mb-4",children:"While we primarily operate within Nigeria, some data may be transferred to other countries for cloud storage or processing. When this occurs, we ensure adequate protection through:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsx("li",{children:"Data transfer agreements with international standards"}),s.jsx("li",{children:"Compliance with NDPR cross-border transfer requirements"}),s.jsx("li",{children:"Use of reputable international service providers with strong privacy protections"})]}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Children's Privacy"}),s.jsx("p",{className:"mb-4",children:"Our platform is not intended for individuals under 18 years of age. We do not knowingly collect personal information from children. If we discover that a child has provided personal information, we will delete it immediately."}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Changes to This Policy"}),s.jsx("p",{className:"mb-4",children:"We may update this Privacy Policy periodically to reflect changes in our practices or legal requirements. We will notify users of significant changes through email or platform notifications. Continued use of our services after policy updates constitutes acceptance of the revised terms."}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Contact Information"}),s.jsx("p",{className:"mb-4",children:"For privacy-related questions, requests, or concerns, please contact us:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Email:"})," privacy@findermeister.com"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Phone:"})," +2347039391065"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Address:"})," FinderMeister Innovations, Lagos, Nigeria"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Data Protection Officer:"})," dpo@findermeister.com"]})]}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mt-8 mb-4",children:"Governing Law"}),s.jsx("p",{className:"mb-4",children:"This Privacy Policy is governed by the laws of the Federal Republic of Nigeria, including the Nigeria Data Protection Regulation (NDPR) and other applicable privacy and data protection laws."})]}),s.jsx("div",{className:"mt-8 pt-6 border-t",children:s.jsx(Re,{href:"/",children:s.jsx(ie,{className:"bg-finder-red hover:bg-finder-red-dark text-white",children:"Back to Home"})})})]})})]})}const dR={national_id:"National ID Card",passport:"International Passport",voters_card:"Voter's Card"};function ZFe(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(null),[a,o]=O.useState(!1),[l,c]=O.useState(!1),[d,u]=O.useState(""),{data:h=[],isLoading:m}=pt({queryKey:["/api/admin/verifications"],enabled:!!t&&t.role==="admin"}),{data:f}=pt({queryKey:["/api/admin/verifications",n==null?void 0:n.id],enabled:!!(n!=null&&n.id),onSuccess:w=>{i(w)}}),g=Ft({mutationFn:async w=>St(`/api/admin/verifications/${w}/approve`,{method:"POST"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/verifications"]}),e({title:"Verification approved successfully"}),o(!1),i(null)},onError:w=>{e({title:"Error approving verification",description:w.message,variant:"destructive"})}}),p=Ft({mutationFn:async({verificationId:w,reason:_})=>St(`/api/admin/verifications/${w}/reject`,{method:"POST",body:JSON.stringify({reason:_})}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/verifications"]}),e({title:"Verification rejected successfully"}),c(!1),o(!1),i(null),u("")},onError:w=>{e({title:"Error rejecting verification",description:w.message,variant:"destructive"})}}),x=async w=>{i(w),o(!0)},y=async()=>{n&&await g.mutateAsync(n.id)},v=async()=>{if(!n||!d.trim()){e({title:"Please provide a rejection reason",variant:"destructive"});return}await p.mutateAsync({verificationId:n.id,reason:d.trim()})},b=w=>{switch(w){case"verified":return s.jsxs(Ye,{className:"bg-green-100 text-green-800",children:[s.jsx(br,{className:"w-3 h-3 mr-1"}),"Verified"]});case"pending":return s.jsxs(Ye,{className:"bg-yellow-100 text-yellow-800",children:[s.jsx(hr,{className:"w-3 h-3 mr-1"}),"Pending"]});case"rejected":return s.jsxs(Ye,{className:"bg-red-100 text-red-800",children:[s.jsx(fs,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(Ye,{variant:"secondary",children:"Unknown"})}};return m?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"verification"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading verifications..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"verification"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[s.jsx($r,{className:"mr-3 h-8 w-8 text-blue-600"}),"Identity Verification Management"]}),s.jsx("p",{className:"text-gray-600",children:"Review and manage user identity verification requests"})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Pending Verifications (",h.length,")"]}),s.jsxs(Ye,{variant:"outline",className:"bg-yellow-50",children:[s.jsx(hr,{className:"w-4 h-4 mr-1"}),"Awaiting Review"]})]})}),s.jsx(Se,{children:h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($r,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Pending Verifications"}),s.jsx("p",{className:"text-gray-600",children:"All verification requests have been processed."})]}):s.jsx("div",{className:"space-y-4",children:h.map(w=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(qr,{className:"w-10 h-10 text-gray-400 bg-gray-100 rounded-full p-2"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-gray-900",children:[w.user.firstName," ",w.user.lastName]}),s.jsx("p",{className:"text-sm text-gray-600",children:w.user.email}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:[s.jsx(_n,{className:"w-3 h-3 inline mr-1"}),new Date(w.submittedAt).toLocaleDateString()]}),s.jsx("span",{className:"text-sm text-gray-500 capitalize",children:dR[w.documentType]}),s.jsx(Ye,{className:w.user.role==="client"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",children:w.user.role==="client"?"Client":"Finder"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[b(w.status),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>x(w),children:[s.jsx(ms,{className:"w-4 h-4 mr-1"}),"Review"]})]})]})},w.id))})})]}),s.jsx(qi,{open:a,onOpenChange:o,children:s.jsxs(Ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ji,{children:s.jsx(_i,{children:"Verification Review"})}),n&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-lg",children:"User Information"})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Name"}),s.jsxs("p",{className:"font-medium",children:[n.user.firstName," ",n.user.lastName]})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:n.user.email})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Role"}),s.jsx(Ye,{className:n.user.role==="client"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",children:n.user.role==="client"?"Client":"Finder"})]}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium text-gray-500",children:"Document Type"}),s.jsx("p",{className:"font-medium",children:dR[n.documentType]})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-lg",children:"Submitted Documents"})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsxs(Te,{className:"text-sm font-medium text-gray-500 flex items-center mb-2",children:[s.jsx(tw,{className:"w-4 h-4 mr-1"}),"Document Front"]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("img",{src:n.documentFrontImage,alt:"Document Front",className:"w-full h-48 object-cover"})})]}),n.documentBackImage&&s.jsxs("div",{children:[s.jsxs(Te,{className:"text-sm font-medium text-gray-500 flex items-center mb-2",children:[s.jsx(tw,{className:"w-4 h-4 mr-1"}),"Document Back"]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("img",{src:n.documentBackImage,alt:"Document Back",className:"w-full h-48 object-cover"})})]}),s.jsxs("div",{children:[s.jsxs(Te,{className:"text-sm font-medium text-gray-500 flex items-center mb-2",children:[s.jsx(Z2,{className:"w-4 h-4 mr-1"}),"Selfie Photo"]}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("img",{src:n.selfieImage,alt:"Selfie",className:"w-full h-48 object-cover"})})]})]})})]}),s.jsxs(No,{children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsxs(jo,{children:[s.jsx("strong",{children:"Verification Checklist:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[s.jsx("li",{children:" Check if document images are clear and readable"}),s.jsx("li",{children:" Verify that the document is valid and not expired"}),s.jsx("li",{children:" Compare the face in the selfie with the photo on the ID"}),s.jsx("li",{children:" Ensure all personal information is visible and matches"}),s.jsx("li",{children:" Look for signs of tampering or forgery"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsxs(ie,{variant:"outline",onClick:()=>c(!0),className:"text-red-600 border-red-200 hover:bg-red-50",children:[s.jsx(fs,{className:"w-4 h-4 mr-2"}),"Reject"]}),s.jsxs(ie,{onClick:y,className:"bg-green-600 hover:bg-green-700",disabled:g.isLoading,children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),g.isLoading?"Approving...":"Approve"]})]})]})]})}),s.jsx(qi,{open:l,onOpenChange:c,children:s.jsxs(Ni,{children:[s.jsx(ji,{children:s.jsx(_i,{children:"Reject Verification"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(No,{children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsx(jo,{children:"Please provide a clear reason for rejecting this verification. This will be sent to the user."})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"rejectionReason",children:"Rejection Reason"}),s.jsx(Ms,{id:"rejectionReason",value:d,onChange:w=>u(w.target.value),placeholder:"e.g., Document image is blurry, faces do not match, document appears expired...",rows:4,className:"mt-1"})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(ie,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(ie,{onClick:v,variant:"destructive",disabled:!d.trim()||p.isLoading,children:p.isLoading?"Rejecting...":"Reject Verification"})]})]})]})})]})]})}const uR=[{value:"national_id",label:"National ID Card"},{value:"passport",label:"International Passport"},{value:"voters_card",label:"Voter's Card"}];function eOe(){var j;const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(""),[a,o]=O.useState(null),[l,c]=O.useState(null),[d,u]=O.useState(null),[h,m]=O.useState(!1),f=O.useRef(null),g=O.useRef(null),p=O.useRef(null),{data:x,isLoading:y}=pt({queryKey:["/api/verification/status"],enabled:!!t}),v=Ft({mutationFn:async k=>{const E=await fetch("/api/verification/submit",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("findermeister_token")}`},body:k});if(!E.ok){const A=await E.json();throw new Error(A.message||"Failed to submit verification")}return E.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/verification/status"]}),e({title:"Verification submitted successfully",description:"Your documents are now under review."}),i(""),o(null),c(null),u(null),m(!1)},onError:k=>{console.error("Verification submission error:",k),e({title:"Error submitting verification",description:k.message||"Please try again",variant:"destructive"}),m(!1)}}),b=(k,E)=>{k==="documentFront"?o(E):k==="documentBack"?c(E):k==="selfie"&&u(E)},w=async k=>{if(k.preventDefault(),!n||!a||!d){e({title:"Missing required fields",description:"Please select document type, upload document front, and take a selfie.",variant:"destructive"});return}m(!0);const E=new FormData;E.append("documentType",n),E.append("documentFront",a),l&&E.append("documentBack",l),E.append("selfie",d);try{await v.mutateAsync(E)}catch{}},_=k=>{switch(k){case"verified":return s.jsxs(Ye,{className:"bg-green-100 text-green-800",children:[s.jsx(br,{className:"w-3 h-3 mr-1"}),"Verified"]});case"pending":return s.jsxs(Ye,{className:"bg-yellow-100 text-yellow-800",children:[s.jsx(hr,{className:"w-3 h-3 mr-1"}),"Under Review"]});case"rejected":return s.jsxs(Ye,{className:"bg-red-100 text-red-800",children:[s.jsx(fs,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return s.jsx(Ye,{variant:"secondary",children:"Not Started"})}};if(y)return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[(t==null?void 0:t.role)==="client"&&s.jsx(ds,{currentPage:"verification"}),(t==null?void 0:t.role)==="finder"&&s.jsx(ps,{currentPage:"verification"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading verification status..."})]})})]});if(!(x!=null&&x.isRequired))return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[(t==null?void 0:t.role)==="client"&&s.jsx(ds,{currentPage:"verification"}),(t==null?void 0:t.role)==="finder"&&s.jsx(ps,{currentPage:"verification"}),s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:s.jsx(_e,{children:s.jsxs(Se,{className:"py-12 text-center",children:[s.jsx($r,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verification Not Required"}),s.jsx("p",{className:"text-gray-600",children:"Identity verification is currently not required for this platform."})]})})})]});const N=x.verification;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[(t==null?void 0:t.role)==="client"&&s.jsx(ds,{currentPage:"verification"}),(t==null?void 0:t.role)==="finder"&&s.jsx(ps,{currentPage:"verification"}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-4 flex items-center justify-center",children:[s.jsx($r,{className:"mr-3 h-8 w-8 text-blue-600"}),"Identity Verification"]}),s.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Verify your identity to access all FinderMeister features. This helps maintain trust and security in our community."})]}),N&&s.jsxs(_e,{className:"mb-8",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center justify-between",children:["Current Verification Status",_(N.status)]})}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Document Type:"})," ",(j=uR.find(k=>k.value===N.documentType))==null?void 0:j.label]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Submitted:"})," ",new Date(N.submittedAt).toLocaleDateString()]}),N.reviewedAt&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Reviewed:"})," ",new Date(N.reviewedAt).toLocaleDateString()]}),N.rejectionReason&&s.jsxs(No,{className:"mt-4",children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsxs(jo,{children:[s.jsx("strong",{children:"Rejection Reason:"})," ",N.rejectionReason]})]})]})})]}),s.jsxs(_e,{className:"mb-8",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(dn,{className:"mr-2 h-5 w-5 text-blue-600"}),"Why Verify Your Identity?"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx($r,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium mb-2",children:"Trust & Safety"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Build trust with other verified users"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(br,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium mb-2",children:"Full Access"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Access all platform features"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(ms,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium mb-2",children:"Priority Support"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get faster customer support"})]})]})})]}),(!N||N.status==="rejected")&&s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Submit Verification Documents"})}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("form",{onSubmit:w,children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{htmlFor:"documentType",children:"Select Document Type"}),s.jsxs(Br,{value:n,onValueChange:i,children:[s.jsx(Ir,{children:s.jsx(Ur,{placeholder:"Choose your ID document type"})}),s.jsx(Dr,{children:uR.map(k=>s.jsx(dt,{value:k.value,children:k.label},k.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Document Front Image"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{ref:f,type:"file",accept:"image/*",className:"hidden",onChange:k=>{var E;return((E=k.target.files)==null?void 0:E[0])&&b("documentFront",k.target.files[0])}}),a?s.jsxs("div",{className:"space-y-2",children:[s.jsx(tw,{className:"w-8 h-8 text-green-600 mx-auto"}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:a.name}),s.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:()=>{var k;return(k=f.current)==null?void 0:k.click()},children:"Change File"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fc,{className:"w-8 h-8 text-gray-400 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload front side of your ID document"}),s.jsx(ie,{type:"button",variant:"outline",onClick:()=>{var k;return(k=f.current)==null?void 0:k.click()},children:"Select File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Document Back Image (Optional)"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{ref:g,type:"file",accept:"image/*",className:"hidden",onChange:k=>{var E;return((E=k.target.files)==null?void 0:E[0])&&b("documentBack",k.target.files[0])}}),l?s.jsxs("div",{className:"space-y-2",children:[s.jsx(tw,{className:"w-8 h-8 text-green-600 mx-auto"}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:l.name}),s.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:()=>{var k;return(k=g.current)==null?void 0:k.click()},children:"Change File"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Fc,{className:"w-8 h-8 text-gray-400 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload back side of your ID document (if applicable)"}),s.jsx(ie,{type:"button",variant:"outline",onClick:()=>{var k;return(k=g.current)==null?void 0:k.click()},children:"Select File"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Te,{children:"Selfie Photo"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{ref:p,type:"file",accept:"image/*",capture:"user",className:"hidden",onChange:k=>{var E;return((E=k.target.files)==null?void 0:E[0])&&b("selfie",k.target.files[0])}}),d?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z2,{className:"w-8 h-8 text-green-600 mx-auto"}),s.jsx("p",{className:"text-sm text-green-600 font-medium",children:d.name}),s.jsx(ie,{type:"button",variant:"outline",size:"sm",onClick:()=>{var k;return(k=p.current)==null?void 0:k.click()},children:"Retake Photo"})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z2,{className:"w-8 h-8 text-gray-400 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Take a clear selfie photo"}),s.jsx(ie,{type:"button",variant:"outline",onClick:()=>{var k;return(k=p.current)==null?void 0:k.click()},children:"Take Selfie"})]})]})]}),s.jsx(ie,{type:"submit",className:"w-full",disabled:h||!n||!a||!d,children:h?"Submitting...":"Submit for Verification"})]}),s.jsxs(No,{children:[s.jsx(Wr,{className:"h-4 w-4"}),s.jsxs(jo,{children:[s.jsx("strong",{children:"Important Guidelines:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-sm",children:[s.jsx("li",{children:" Ensure all images are clear and well-lit"}),s.jsx("li",{children:" All text on documents must be readable"}),s.jsx("li",{children:" Your face in the selfie should match the ID photo"}),s.jsx("li",{children:" Documents must be valid and not expired"})]})]})]})]})]})]})]})}const tOe={urgent:"bg-red-500",high:"bg-orange-500",medium:"bg-yellow-500",low:"bg-green-500"},rOe={open:"bg-blue-500",in_progress:"bg-purple-500",resolved:"bg-green-500",closed:"bg-gray-500"};function sOe(){const t=vr(),[e,r]=O.useState("overview"),{data:n,isLoading:i,error:a,refetch:o}=pt({queryKey:["/api/agent/dashboard"],staleTime:2*60*1e3}),{data:l,isLoading:c}=pt({queryKey:["/api/agent/tickets"],staleTime:60*1e3}),d=Ft({mutationFn:()=>St("/api/agent/dashboard"),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/agent/dashboard"]}),t.invalidateQueries({queryKey:["/api/agent/tickets"]})}});if(i)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hh,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Loading agent dashboard..."})]})});if(a||!n)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wr,{className:"w-8 h-8 mx-auto mb-4 text-red-500"}),s.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load dashboard data"}),s.jsx(ie,{onClick:()=>o(),children:"Retry"})]})});const{agent:u,statistics:h,recentTickets:m}=n;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(_p,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Agent Dashboard"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[u.agentId,"  ",u.department.charAt(0).toUpperCase()+u.department.slice(1)," Department"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":"button-refresh",children:[s.jsx(hh,{className:`w-4 h-4 mr-2 ${d.isPending?"animate-spin":""}`}),"Refresh"]}),s.jsx(Re,{href:"/agent/tickets",children:s.jsxs(ie,{size:"sm","data-testid":"button-all-tickets",children:[s.jsx(_p,{className:"w-4 h-4 mr-2"}),"All Tickets"]})})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs(OG,{value:e,onValueChange:r,className:"space-y-6",children:[s.jsxs(QC,{className:"grid grid-cols-2 w-[400px]",children:[s.jsx(xf,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(xf,{value:"recent","data-testid":"tab-recent",children:"Recent Activity"})]}),s.jsxs(vf,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(_e,{className:"border-l-4 border-l-blue-500",children:[s.jsx(Ze,{className:"pb-3",children:s.jsx(Xe,{className:"text-sm font-medium text-gray-600",children:"My Assigned Tickets"})}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-3","data-testid":"stat-assigned-total",children:h.assigned.total}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Open:"}),s.jsx("span",{className:"font-medium text-blue-600","data-testid":"stat-assigned-open",children:h.assigned.open})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"In Progress:"}),s.jsx("span",{className:"font-medium text-purple-600","data-testid":"stat-assigned-progress",children:h.assigned.inProgress})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Resolved:"}),s.jsx("span",{className:"font-medium text-green-600","data-testid":"stat-assigned-resolved",children:h.assigned.resolved})]})]})]})]}),s.jsxs(_e,{className:"border-l-4 border-l-purple-500",children:[s.jsx(Ze,{className:"pb-3",children:s.jsx(Xe,{className:"text-sm font-medium text-gray-600",children:"Department Queue"})}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-3","data-testid":"stat-department-total",children:h.department.total}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Unassigned:"}),s.jsx("span",{className:"font-medium text-orange-600","data-testid":"stat-department-unassigned",children:h.department.unassigned})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Urgent:"}),s.jsx("span",{className:"font-medium text-red-600","data-testid":"stat-department-urgent",children:h.department.urgent})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"High Priority:"}),s.jsx("span",{className:"font-medium text-orange-600","data-testid":"stat-department-high",children:h.department.high})]})]})]})]}),s.jsxs(_e,{className:"border-l-4 border-l-green-500",children:[s.jsx(Ze,{className:"pb-3",children:s.jsx(Xe,{className:"text-sm font-medium text-gray-600",children:"Response Target"})}),s.jsxs(Se,{children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1","data-testid":"stat-response-target",children:[u.responseTimeTarget,"h"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Target response time"}),s.jsxs("div",{className:"mt-3 flex items-center text-xs text-gray-500",children:[s.jsx(hr,{className:"w-3 h-3 mr-1"}),"Daily limit: ",u.maxTicketsPerDay," tickets"]})]})]}),s.jsxs(_e,{className:"border-l-4 border-l-yellow-500",children:[s.jsx(Ze,{className:"pb-3",children:s.jsx(Xe,{className:"text-sm font-medium text-gray-600",children:"Quick Actions"})}),s.jsxs(Se,{className:"space-y-2",children:[s.jsx(Re,{href:"/agent/tickets?status=open",children:s.jsxs(ie,{variant:"outline",size:"sm",className:"w-full justify-start","data-testid":"button-view-open",children:[s.jsx(_p,{className:"w-4 h-4 mr-2"}),"View Open Tickets"]})}),s.jsx(Re,{href:"/agent/tickets?priority=urgent",children:s.jsxs(ie,{variant:"outline",size:"sm",className:"w-full justify-start","data-testid":"button-view-urgent",children:[s.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Urgent Tickets"]})}),s.jsx(Re,{href:"/agent/tickets?assigned=unassigned",children:s.jsxs(ie,{variant:"outline",size:"sm",className:"w-full justify-start","data-testid":"button-view-unassigned",children:[s.jsx(dn,{className:"w-4 h-4 mr-2"}),"Unassigned"]})})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{className:"text-lg font-semibold",children:"Agent Permissions"})}),s.jsx(Se,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:u.permissions.map(f=>s.jsx(Ye,{variant:"secondary",className:"text-xs","data-testid":`permission-${f}`,children:f.replace(/_/g," ").replace(/\b\w/g,g=>g.toUpperCase())},f))})})]})]}),s.jsx(vf,{value:"recent",className:"space-y-6",children:s.jsxs(_e,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between",children:[s.jsx(Xe,{className:"text-lg font-semibold",children:"Recent Assigned Tickets"}),s.jsx(Re,{href:"/agent/tickets",children:s.jsxs(ie,{variant:"outline",size:"sm","data-testid":"button-view-all",children:["View All",s.jsx(wse,{className:"w-4 h-4 ml-1"})]})})]}),s.jsx(Se,{children:m.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(_p,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No tickets assigned yet"})]}):s.jsx("div",{className:"space-y-3",children:m.map(f=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors","data-testid":`ticket-${f.id}`,children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900","data-testid":`ticket-number-${f.id}`,children:f.ticketNumber}),s.jsx(Ye,{variant:"outline",className:`text-xs text-white ${rOe[f.status]}`,"data-testid":`ticket-status-${f.id}`,children:f.status.replace("_"," ")}),s.jsx(Ye,{variant:"outline",className:`text-xs text-white ${tOe[f.priority]}`,"data-testid":`ticket-priority-${f.id}`,children:f.priority})]}),s.jsx("p",{className:"text-sm text-gray-900 truncate","data-testid":`ticket-subject-${f.id}`,children:f.subject}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-500",children:[s.jsxs("span",{"data-testid":`ticket-submitter-${f.id}`,children:["From: ",f.submitterName]}),s.jsx("span",{"data-testid":`ticket-date-${f.id}`,children:Ri(new Date(f.createdAt),"MMM d, yyyy")})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(Re,{href:`/agent/tickets/${f.id}`,children:s.jsxs(ie,{variant:"outline",size:"sm","data-testid":`button-view-ticket-${f.id}`,children:[s.jsx(ql,{className:"w-4 h-4 mr-1"}),"View"]})})})]},f.id))})})]})})]})})]})}const nOe={urgent:"bg-red-500 text-white",high:"bg-orange-500 text-white",medium:"bg-yellow-500 text-white",low:"bg-green-500 text-white"},iOe={open:"bg-blue-500 text-white",in_progress:"bg-purple-500 text-white",resolved:"bg-green-500 text-white",closed:"bg-gray-500 text-white"};function aOe(){const[t,e]=sn(),r=vr(),n=new URLSearchParams(t.split("?")[1]||""),i=n.get("status")||"",a=n.get("priority")||"",o=n.get("assigned")||"",[l,c]=O.useState({status:i,priority:a,search:"",page:1}),{data:d,isLoading:u,error:h,refetch:m}=pt({queryKey:["/api/agent/tickets",l.status,l.priority],staleTime:30*1e3}),f=Ft({mutationFn:()=>St("/api/agent/tickets"),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/agent/tickets"]})}});O.useEffect(()=>{const x=new URLSearchParams;l.status&&x.set("status",l.status),l.priority&&x.set("priority",l.priority);const y=x.toString(),v=y?`/agent/tickets?${y}`:"/agent/tickets";t!==v&&e(v)},[l.status,l.priority]);const g=(d==null?void 0:d.tickets.filter(x=>{if(l.search){const y=l.search.toLowerCase();return x.ticketNumber.toLowerCase().includes(y)||x.subject.toLowerCase().includes(y)||x.submitterName.toLowerCase().includes(y)||x.submitterEmail.toLowerCase().includes(y)}return!0}))||[];if(u)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hh,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Loading tickets..."})]})});if(h||!d)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ia,{className:"w-8 h-8 mx-auto mb-4 text-red-500"}),s.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load tickets"}),s.jsx(ie,{onClick:()=>m(),children:"Retry"})]})});const{agent:p}=d;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Re,{href:"/agent/dashboard",children:s.jsxs(ie,{variant:"ghost",size:"sm","data-testid":"button-back",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Dashboard"]})}),s.jsx("div",{className:"h-6 w-px bg-gray-300"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(_p,{className:"w-6 h-6 text-blue-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Support Tickets"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[p.department.charAt(0).toUpperCase()+p.department.slice(1)," Department"]})]})]})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>f.mutate(),disabled:f.isPending,"data-testid":"button-refresh",children:[s.jsx(hh,{className:`w-4 h-4 mr-2 ${f.isPending?"animate-spin":""}`}),"Refresh"]})})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs(_e,{className:"mb-6",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"text-lg font-semibold flex items-center",children:[s.jsx(Ese,{className:"w-5 h-5 mr-2"}),"Filters"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ds,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx(at,{placeholder:"Search tickets...",value:l.search,onChange:x=>c(y=>({...y,search:x.target.value})),className:"pl-10","data-testid":"input-search"})]}),s.jsxs(Br,{value:l.status,onValueChange:x=>c(y=>({...y,status:x})),children:[s.jsx(Ir,{"data-testid":"select-status",children:s.jsx(Ur,{placeholder:"All Statuses"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"",children:"All Statuses"}),s.jsx(dt,{value:"open",children:"Open"}),s.jsx(dt,{value:"in_progress",children:"In Progress"}),s.jsx(dt,{value:"resolved",children:"Resolved"}),s.jsx(dt,{value:"closed",children:"Closed"})]})]}),s.jsxs(Br,{value:l.priority,onValueChange:x=>c(y=>({...y,priority:x})),children:[s.jsx(Ir,{"data-testid":"select-priority",children:s.jsx(Ur,{placeholder:"All Priorities"})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"",children:"All Priorities"}),s.jsx(dt,{value:"urgent",children:"Urgent"}),s.jsx(dt,{value:"high",children:"High"}),s.jsx(dt,{value:"medium",children:"Medium"}),s.jsx(dt,{value:"low",children:"Low"})]})]}),s.jsx(ie,{variant:"outline",onClick:()=>c({status:"",priority:"",search:"",page:1}),"data-testid":"button-clear-filters",children:"Clear Filters"})]})})]}),s.jsxs(_e,{children:[s.jsxs(Ze,{className:"flex flex-row items-center justify-between",children:[s.jsxs(Xe,{className:"text-lg font-semibold",children:["Tickets (",g.length,")"]}),o==="unassigned"&&s.jsx(Ye,{variant:"outline",className:"bg-orange-50 text-orange-600 border-orange-200",children:"Showing Unassigned Only"})]}),s.jsx(Se,{children:g.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(_p,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tickets found"}),s.jsx("p",{children:"Try adjusting your filters or check back later."})]}):s.jsx("div",{className:"space-y-3",children:g.map(x=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors","data-testid":`ticket-card-${x.id}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("span",{className:"text-sm font-mono font-medium text-blue-600","data-testid":`ticket-number-${x.id}`,children:x.ticketNumber}),s.jsx(Ye,{className:iOe[x.status],"data-testid":`ticket-status-${x.id}`,children:x.status.replace("_"," ")}),s.jsx(Ye,{className:nOe[x.priority],"data-testid":`ticket-priority-${x.id}`,children:x.priority}),!x.assignedTo&&s.jsx(Ye,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Unassigned"})]}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2","data-testid":`ticket-subject-${x.id}`,children:x.subject}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2","data-testid":`ticket-description-${x.id}`,children:x.description}),s.jsxs("div",{className:"flex items-center space-x-6 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(qr,{className:"w-3 h-3 mr-1"}),s.jsx("span",{"data-testid":`ticket-submitter-${x.id}`,children:x.submitter?`${x.submitter.firstName} ${x.submitter.lastName}`:x.submitterName})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_n,{className:"w-3 h-3 mr-1"}),s.jsx("span",{"data-testid":`ticket-created-${x.id}`,children:Ri(new Date(x.createdAt),"MMM d, yyyy HH:mm")})]}),x.assignedAgent&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-400",children:"Assigned to:"}),s.jsxs("span",{className:"ml-1 font-medium","data-testid":`ticket-assignee-${x.id}`,children:[x.assignedAgent.user.firstName," ",x.assignedAgent.user.lastName]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-400",children:"Category:"}),s.jsx("span",{className:"ml-1 capitalize","data-testid":`ticket-category-${x.id}`,children:x.category})]})]})]}),s.jsx("div",{className:"ml-4 flex flex-col space-y-2",children:s.jsx(Re,{href:`/agent/tickets/${x.id}`,children:s.jsxs(ie,{size:"sm","data-testid":`button-view-ticket-${x.id}`,children:[s.jsx(ql,{className:"w-4 h-4 mr-2"}),"View Details",s.jsx(ug,{className:"w-4 h-4 ml-1"})]})})})]})},x.id))})})]}),g.length>20&&s.jsx(_e,{className:"mt-6",children:s.jsx(Se,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("span",{children:["Showing ",Math.min(20,g.length)," of ",g.length," tickets"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ie,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),s.jsx(ie,{variant:"outline",size:"sm",disabled:!0,children:"Next"})]})]})})})]})]})}var Uj="Checkbox",[oOe]=Fa(Uj),[lOe,mA]=oOe(Uj);function cOe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[m,f]=Vd({prop:r,defaultProp:i??!1,onChange:c,caller:Uj}),[g,p]=O.useState(null),[x,y]=O.useState(null),v=O.useRef(!1),b=g?!!o||!!g.closest("form"):!0,w={checked:m,disabled:a,setChecked:f,control:g,setControl:p,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:lh(i)?!1:i,isFormControl:b,bubbleInput:x,setBubbleInput:y};return s.jsx(lOe,{scope:e,...w,children:dOe(h)?h(w):n})}var $X="CheckboxTrigger",qX=O.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:f,bubbleInput:g}=mA($X,t),p=zr(i,u),x=O.useRef(c);return O.useEffect(()=>{const y=a==null?void 0:a.form;if(y){const v=()=>h(x.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[a,h]),s.jsx(rr.button,{type:"button",role:"checkbox","aria-checked":lh(c)?"mixed":c,"aria-required":d,"data-state":KX(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:Pt(e,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Pt(r,y=>{h(v=>lh(v)?!0:!v),g&&f&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});qX.displayName=$X;var pA=O.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=t;return s.jsx(cOe,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:n,form:u,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(qX,{...h,ref:e,__scopeCheckbox:r}),m&&s.jsx(WX,{__scopeCheckbox:r})]})})});pA.displayName=Uj;var zX="CheckboxIndicator",VX=O.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=mA(zX,r);return s.jsx(el,{present:n||lh(a.checked)||a.checked===!0,children:s.jsx(rr.span,{"data-state":KX(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});VX.displayName=zX;var HX="CheckboxBubbleInput",WX=O.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:m,setBubbleInput:f}=mA(HX,t),g=zr(r,f),p=rC(a),x=P6(n);O.useEffect(()=>{const v=m;if(!v)return;const b=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(b,"checked").set,N=!i.current;if(p!==a&&_){const j=new Event("click",{bubbles:N});v.indeterminate=lh(a),_.call(v,lh(a)?!1:a),v.dispatchEvent(j)}},[m,p,a,i]);const y=O.useRef(lh(a)?!1:a);return s.jsx(rr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:g,style:{...e.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});WX.displayName=HX;function dOe(t){return typeof t=="function"}function lh(t){return t==="indeterminate"}function KX(t){return lh(t)?"indeterminate":t?"checked":"unchecked"}const GX=O.forwardRef(({className:t,...e},r)=>s.jsx(pA,{ref:r,className:Ot("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(VX,{className:Ot("flex items-center justify-center text-current"),children:s.jsx(N6,{className:"h-4 w-4"})})}));GX.displayName=pA.displayName;const uOe={urgent:"bg-red-500 text-white",high:"bg-orange-500 text-white",medium:"bg-yellow-500 text-white",low:"bg-green-500 text-white"},hOe={open:"bg-blue-500 text-white",in_progress:"bg-purple-500 text-white",resolved:"bg-green-500 text-white",closed:"bg-gray-500 text-white"};function fOe(){var A;const[t,e]=M0("/agent/tickets/:id"),r=e==null?void 0:e.id,{toast:n}=ar(),i=vr(),[a,o]=O.useState(""),[l,c]=O.useState(!1),[d,u]=O.useState(""),[h,m]=O.useState(""),[f,g]=O.useState(!0),{data:p,isLoading:x,error:y,refetch:v}=pt({queryKey:["/api/agent/tickets",r],enabled:!!r,staleTime:30*1e3}),b=Ft({mutationFn:async C=>St(`/api/agent/tickets/${r}/messages`,{method:"POST",body:JSON.stringify(C)}),onSuccess:()=>{n({title:"Response sent",description:l?"Internal note added successfully":"Response sent to customer"}),o(""),c(!1),i.invalidateQueries({queryKey:["/api/agent/tickets",r]})},onError:C=>{n({title:"Failed to send response",description:C.message||"Something went wrong",variant:"destructive"})}}),w=Ft({mutationFn:async C=>St(`/api/agent/tickets/${r}`,{method:"PUT",body:JSON.stringify(C)}),onSuccess:()=>{n({title:"Ticket updated",description:"Ticket has been updated successfully"}),i.invalidateQueries({queryKey:["/api/agent/tickets",r]}),i.invalidateQueries({queryKey:["/api/agent/dashboard"]})},onError:C=>{n({title:"Failed to update ticket",description:C.message||"Something went wrong",variant:"destructive"})}});if(O.useEffect(()=>{p!=null&&p.ticket&&(u(p.ticket.status),m(p.ticket.priority))},[p]),!t||!r)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ia,{className:"w-8 h-8 mx-auto mb-4 text-red-500"}),s.jsx("p",{className:"text-red-600",children:"Invalid ticket ID"})]})});if(x)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hh,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Loading ticket details..."})]})});if(y||!p)return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ia,{className:"w-8 h-8 mx-auto mb-4 text-red-500"}),s.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load ticket details"}),s.jsx(ie,{onClick:()=>v(),children:"Retry"})]})});const{ticket:_,messages:N}=p,j=N.filter(C=>f||!C.isInternal),k=()=>{if(!a.trim()){n({title:"Message required",description:"Please enter a message before sending",variant:"destructive"});return}b.mutate({content:a.trim(),isInternal:l})},E=()=>{const C={};d!==_.status&&(C.status=d),h!==_.priority&&(C.priority=h),Object.keys(C).length>0&&w.mutate(C)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Re,{href:"/agent/tickets",children:s.jsxs(ie,{variant:"ghost",size:"sm","data-testid":"button-back",children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Back to Tickets"]})}),s.jsx("div",{className:"h-6 w-px bg-gray-300"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900","data-testid":"ticket-number",children:_.ticketNumber}),s.jsxs("p",{className:"text-sm text-gray-600",children:[_.department.charAt(0).toUpperCase()+_.department.slice(1),"  Created ",Ri(new Date(_.createdAt),"MMM d, yyyy")]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>g(!f),"data-testid":"button-toggle-internal",children:[f?s.jsx(Ld,{className:"w-4 h-4 mr-2"}):s.jsx(ms,{className:"w-4 h-4 mr-2"}),f?"Hide Internal":"Show Internal"]}),s.jsxs(ie,{variant:"outline",size:"sm",onClick:()=>v(),"data-testid":"button-refresh",children:[s.jsx(hh,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx(Xe,{className:"text-xl mb-2","data-testid":"ticket-subject",children:_.subject}),s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Ye,{className:hOe[_.status],"data-testid":"ticket-status",children:_.status.replace("_"," ")}),s.jsx(Ye,{className:uOe[_.priority],"data-testid":"ticket-priority",children:_.priority}),s.jsx(Ye,{variant:"outline","data-testid":"ticket-category",children:_.category})]})]})})}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700 whitespace-pre-wrap","data-testid":"ticket-description",children:_.description})]}),s.jsx(Rc,{}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Submitted by:"}),s.jsx("p",{className:"font-medium","data-testid":"ticket-submitter",children:_.submitter?`${_.submitter.firstName} ${_.submitter.lastName}`:_.submitterName}),s.jsx("p",{className:"text-gray-600","data-testid":"ticket-email",children:((A=_.submitter)==null?void 0:A.email)||_.submitterEmail})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Assigned to:"}),s.jsx("p",{className:"font-medium","data-testid":"ticket-assignee",children:_.assignedAgent?`${_.assignedAgent.user.firstName} ${_.assignedAgent.user.lastName}`:"Unassigned"})]})]})]})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(ql,{className:"w-5 h-5 mr-2"}),"Conversation (",j.length,")"]})}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:j.map(C=>s.jsxs("div",{className:`p-4 rounded-lg ${C.senderType==="agent"?C.isInternal?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200":"bg-gray-50 border border-gray-200"}`,"data-testid":`message-${C.id}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-sm","data-testid":`message-sender-${C.id}`,children:C.sender?`${C.sender.firstName} ${C.sender.lastName}`:C.senderName}),s.jsx(Ye,{variant:"outline",className:`text-xs ${C.senderType==="agent"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,"data-testid":`message-type-${C.id}`,children:C.senderType}),C.isInternal&&s.jsx(Ye,{variant:"outline",className:"text-xs bg-yellow-100 text-yellow-800",children:"Internal"})]}),s.jsx("span",{className:"text-xs text-gray-500","data-testid":`message-time-${C.id}`,children:Ri(new Date(C.createdAt),"MMM d, yyyy HH:mm")})]}),s.jsx("p",{className:"text-gray-900 whitespace-pre-wrap","data-testid":`message-content-${C.id}`,children:C.content})]},C.id))})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Send Response"})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsx(Ms,{placeholder:"Type your response here...",value:a,onChange:C=>o(C.target.value),rows:4,"data-testid":"textarea-response"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(GX,{id:"internal-note",checked:l,onCheckedChange:C=>c(C),"data-testid":"checkbox-internal"}),s.jsx("label",{htmlFor:"internal-note",className:"text-sm text-gray-600",children:"Internal note (not visible to customer)"})]}),s.jsxs(ie,{onClick:k,disabled:b.isPending||!a.trim(),"data-testid":"button-send-response",children:[s.jsx(sw,{className:"w-4 h-4 mr-2"}),b.isPending?"Sending...":"Send Response"]})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(Ml,{className:"w-5 h-5 mr-2"}),"Ticket Management"]})}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Status"}),s.jsxs(Br,{value:d,onValueChange:u,children:[s.jsx(Ir,{"data-testid":"select-status",children:s.jsx(Ur,{})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"open",children:"Open"}),s.jsx(dt,{value:"in_progress",children:"In Progress"}),s.jsx(dt,{value:"resolved",children:"Resolved"}),s.jsx(dt,{value:"closed",children:"Closed"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Priority"}),s.jsxs(Br,{value:h,onValueChange:m,children:[s.jsx(Ir,{"data-testid":"select-priority",children:s.jsx(Ur,{})}),s.jsxs(Dr,{children:[s.jsx(dt,{value:"urgent",children:"Urgent"}),s.jsx(dt,{value:"high",children:"High"}),s.jsx(dt,{value:"medium",children:"Medium"}),s.jsx(dt,{value:"low",children:"Low"})]})]})]}),s.jsx(ie,{onClick:E,disabled:w.isPending||d===_.status&&h===_.priority,className:"w-full","data-testid":"button-update-ticket",children:w.isPending?"Updating...":"Update Ticket"})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsx(Xe,{children:"Ticket Information"})}),s.jsxs(Se,{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Created:"}),s.jsx("span",{"data-testid":"ticket-created",children:Ri(new Date(_.createdAt),"MMM d, yyyy HH:mm")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Last updated:"}),s.jsx("span",{"data-testid":"ticket-updated",children:Ri(new Date(_.updatedAt),"MMM d, yyyy HH:mm")})]}),_.resolvedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Resolved:"}),s.jsx("span",{"data-testid":"ticket-resolved",children:Ri(new Date(_.resolvedAt),"MMM d, yyyy HH:mm")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Department:"}),s.jsx("span",{className:"capitalize","data-testid":"ticket-department",children:_.department})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Messages:"}),s.jsx("span",{"data-testid":"ticket-message-count",children:N.length})]})]})]})]})]})})]})}function mOe(){const{toast:t}=ar(),e=vr(),[r,n]=O.useTransition(),{data:i,isLoading:a}=pt({queryKey:["/api/admin/contact-settings"]}),[o,l]=O.useState({supportEmail:"",supportPhone:"",officeAddress:"",businessHours:"",facebookUrl:"",twitterUrl:"",instagramUrl:"",tiktokUrl:"",linkedinUrl:"",whatsappNumber:"",responseTimeLow:"",responseTimeMedium:"",responseTimeHigh:"",responseTimeUrgent:""});mr.useEffect(()=>{i&&n(()=>{l({supportEmail:i.supportEmail||"",supportPhone:i.supportPhone||"",officeAddress:i.officeAddress||"",businessHours:i.businessHours||"",facebookUrl:i.facebookUrl||"",twitterUrl:i.twitterUrl||"",instagramUrl:i.instagramUrl||"",tiktokUrl:i.tiktokUrl||"",linkedinUrl:i.linkedinUrl||"",whatsappNumber:i.whatsappNumber||"",responseTimeLow:i.responseTimeLow||"",responseTimeMedium:i.responseTimeMedium||"",responseTimeHigh:i.responseTimeHigh||"",responseTimeUrgent:i.responseTimeUrgent||""})})},[i]);const c=Ft({mutationFn:async h=>St("/api/admin/contact-settings",{method:"PUT",body:JSON.stringify(h)}),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/contact-settings"]}),t({title:"Contact settings updated successfully"})},onError:h=>{t({title:"Error updating contact settings",description:h.message,variant:"destructive"})}}),d=h=>{h.preventDefault(),n(()=>{c.mutate(o)})},u=(h,m)=>{l(f=>({...f,[h]:m}))};return a?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"contact-settings"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading contact settings..."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"contact-settings"}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[s.jsx(Ml,{className:"mr-3 h-8 w-8 text-blue-600"}),"Contact Settings"]}),s.jsx("p",{className:"text-gray-600",children:"Manage contact information displayed throughout the platform"})]}),s.jsxs("form",{onSubmit:d,className:"space-y-8",children:[s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(jm,{className:"w-5 h-5 mr-2"}),"Contact Information"]})}),s.jsxs(Se,{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"supportEmail",children:"Support Email"}),s.jsx(at,{id:"supportEmail",type:"email",value:o.supportEmail,onChange:h=>u("supportEmail",h.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"supportPhone",children:"Support Phone"}),s.jsx(at,{id:"supportPhone",value:o.supportPhone,onChange:h=>u("supportPhone",h.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"whatsappNumber",children:"WhatsApp Number"}),s.jsx(at,{id:"whatsappNumber",value:o.whatsappNumber,onChange:h=>u("whatsappNumber",h.target.value)})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"businessHours",children:"Business Hours"}),s.jsx(at,{id:"businessHours",value:o.businessHours,onChange:h=>u("businessHours",h.target.value),required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Te,{htmlFor:"officeAddress",children:"Office Address"}),s.jsx(Ms,{id:"officeAddress",value:o.officeAddress,onChange:h=>u("officeAddress",h.target.value),rows:2,required:!0})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(FS,{className:"w-5 h-5 mr-2"}),"Social Media Links"]})}),s.jsxs(Se,{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"facebookUrl",className:"flex items-center",children:[s.jsx(FS,{className:"w-4 h-4 mr-2"}),"Facebook URL"]}),s.jsx(at,{id:"facebookUrl",type:"url",value:o.facebookUrl,onChange:h=>u("facebookUrl",h.target.value)})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"twitterUrl",className:"flex items-center",children:[s.jsx(jU,{className:"w-4 h-4 mr-2"}),"Twitter/X URL"]}),s.jsx(at,{id:"twitterUrl",type:"url",value:o.twitterUrl,onChange:h=>u("twitterUrl",h.target.value)})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"instagramUrl",className:"flex items-center",children:[s.jsx(bU,{className:"w-4 h-4 mr-2"}),"Instagram URL"]}),s.jsx(at,{id:"instagramUrl",type:"url",value:o.instagramUrl,onChange:h=>u("instagramUrl",h.target.value)})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"tiktokUrl",className:"flex items-center",children:[s.jsx(Mi,{className:"w-4 h-4 mr-2"}),"TikTok URL"]}),s.jsx(at,{id:"tiktokUrl",type:"url",value:o.tiktokUrl,onChange:h=>u("tiktokUrl",h.target.value)})]}),s.jsxs("div",{children:[s.jsxs(Te,{htmlFor:"linkedinUrl",className:"flex items-center",children:[s.jsx(wU,{className:"w-4 h-4 mr-2"}),"LinkedIn URL"]}),s.jsx(at,{id:"linkedinUrl",type:"url",value:o.linkedinUrl,onChange:h=>u("linkedinUrl",h.target.value)})]})]})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center",children:[s.jsx(hr,{className:"w-5 h-5 mr-2"}),"Support Response Times"]})}),s.jsxs(Se,{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"responseTimeLow",children:"Low Priority"}),s.jsx(at,{id:"responseTimeLow",value:o.responseTimeLow,onChange:h=>u("responseTimeLow",h.target.value),placeholder:"e.g., 2-3 business days"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"responseTimeMedium",children:"Medium Priority"}),s.jsx(at,{id:"responseTimeMedium",value:o.responseTimeMedium,onChange:h=>u("responseTimeMedium",h.target.value),placeholder:"e.g., 1-2 business days"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"responseTimeHigh",children:"High Priority"}),s.jsx(at,{id:"responseTimeHigh",value:o.responseTimeHigh,onChange:h=>u("responseTimeHigh",h.target.value),placeholder:"e.g., 4-8 hours"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"responseTimeUrgent",children:"Urgent Priority"}),s.jsx(at,{id:"responseTimeUrgent",value:o.responseTimeUrgent,onChange:h=>u("responseTimeUrgent",h.target.value),placeholder:"e.g., 1-2 hours"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ie,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 px-8",disabled:c.isPending||r,children:c.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]})]})}function pOe(){const{user:t}=tr(),{toast:e}=ar(),[r,n]=O.useState("json"),i=Ft({mutationFn:async o=>{const l=await fetch(`/api/admin/export-database?format=${o}`,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("findermeister_token")||localStorage.getItem("token")}`}});if(!l.ok){const f=await l.json();throw new Error(f.message||"Failed to export database")}const c=l.headers.get("content-disposition"),d=c?c.split("filename=")[1].replace(/"/g,""):`findermeister_export_${new Date().toISOString().split("T")[0]}.${o}`,u=await l.blob(),h=window.URL.createObjectURL(u),m=document.createElement("a");return m.href=h,m.download=d,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(h),{filename:d,size:u.size}},onSuccess:o=>{e({title:"Export Successful",description:`Database exported as ${o.filename} (${(o.size/1024).toFixed(2)} KB)`})},onError:o=>{e({title:"Export Failed",description:o.message||"Failed to export database",variant:"destructive"})}}),a=()=>{i.mutate(r)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx(Sr,{currentPage:"settings"}),s.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2 flex items-center",children:[s.jsx(OT,{className:"mr-3 h-8 w-8 text-blue-600"}),"Database Export"]}),s.jsx("p",{className:"text-slate-600",children:"Export your complete database for backup or migration purposes"})]}),s.jsxs(_e,{className:"backdrop-blur-sm bg-white/90 border border-white/20 shadow-xl",children:[s.jsxs(Ze,{className:"pb-6",children:[s.jsxs(Xe,{className:"text-slate-800 flex items-center text-xl",children:[s.jsx(B0,{className:"w-6 h-6 mr-3 text-green-500"}),"Export Options"]}),s.jsx(Ka,{className:"text-slate-600",children:"Choose the format for your database export"})]}),s.jsxs(Se,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Export Format"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${r==="json"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("json"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(as,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"font-semibold",children:"JSON"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Complete structured data export with metadata. Ideal for applications and data analysis."})]}),s.jsxs("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${r==="csv"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("csv"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Vf,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-semibold",children:"CSV"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Individual CSV files for each table. Perfect for Excel, Google Sheets, or data imports."})]}),s.jsxs("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${r==="sql"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n("sql"),children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(OT,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"font-semibold",children:"SQL"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Complete SQL dump with structure and data. Can be imported directly into PostgreSQL."})]})]})]}),s.jsxs(No,{children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsx(jo,{children:"The export will include all tables and data from your FinderMeister database. This may take a few moments depending on the size of your data."})]}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx(ie,{onClick:a,disabled:i.isPending,size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:i.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"w-5 h-5 mr-2 animate-spin"}),"Exporting ",r.toUpperCase(),"..."]}):s.jsxs(s.Fragment,{children:[s.jsx(B0,{className:"w-5 h-5 mr-2"}),"Export as ",r.toUpperCase()]})})})]})]}),s.jsx(_e,{className:"mt-6 backdrop-blur-sm bg-white/80 border border-white/20 shadow-lg",children:s.jsx(Se,{className:"pt-6",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-800 mb-2 flex items-center",children:[s.jsx(on,{className:"w-4 h-4 mr-2 text-green-600"}),"What's Included"]}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[s.jsx("li",{children:" All user accounts and profiles"}),s.jsx("li",{children:" Service requests and proposals"}),s.jsx("li",{children:" Contracts and transactions"}),s.jsx("li",{children:" Messages and conversations"}),s.jsx("li",{children:" Admin settings and configurations"}),s.jsx("li",{children:" Categories and platform data"})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-800 mb-2 flex items-center",children:[s.jsx(ia,{className:"w-4 h-4 mr-2 text-yellow-600"}),"Important Notes"]}),s.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[s.jsx("li",{children:" Exports contain sensitive user data"}),s.jsx("li",{children:" Store exported files securely"}),s.jsx("li",{children:" Regular backups are recommended"}),s.jsx("li",{children:" Large databases may take time to export"})]})]})]})})})]})]})}const gOe=[{value:"HelpCircle",label:"Help Circle"},{value:"User",label:"User"},{value:"CreditCard",label:"Credit Card"},{value:"MessageSquare",label:"Message"},{value:"FileText",label:"File"},{value:"Shield",label:"Shield"},{value:"Settings",label:"Settings"},{value:"Star",label:"Star"}],xOe=[{value:"bg-blue-100 text-blue-800",label:"Blue"},{value:"bg-green-100 text-green-800",label:"Green"},{value:"bg-purple-100 text-purple-800",label:"Purple"},{value:"bg-orange-100 text-orange-800",label:"Orange"},{value:"bg-gray-100 text-gray-800",label:"Gray"},{value:"bg-red-100 text-red-800",label:"Red"}];function vOe(){const{user:t}=tr(),{toast:e}=ar(),r=vr(),[n,i]=O.useState(!1),[a,o]=O.useState(!1),[l,c]=O.useState(null),[d,u]=O.useState({name:"",description:"",icon:"HelpCircle",color:"bg-blue-100 text-blue-800",sortOrder:0,isActive:!0}),{data:h=[],isLoading:m,error:f}=pt({queryKey:["/api/admin/faq-categories"],enabled:!!t&&t.role==="admin"}),g=Ft({mutationFn:async N=>St("/api/admin/faq-categories",{method:"POST",body:JSON.stringify(N)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/faq-categories"]}),e({title:"FAQ category created successfully"}),i(!1),y()},onError:N=>{e({title:"Error creating FAQ category",description:N.message,variant:"destructive"})}}),p=Ft({mutationFn:async({id:N,...j})=>St(`/api/admin/faq-categories/${N}`,{method:"PUT",body:JSON.stringify(j)}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/faq-categories"]}),e({title:"FAQ category updated successfully"}),o(!1),c(null),y()},onError:N=>{e({title:"Error updating FAQ category",description:N.message,variant:"destructive"})}}),x=Ft({mutationFn:async N=>St(`/api/admin/faq-categories/${N}`,{method:"DELETE"}),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/admin/faq-categories"]}),e({title:"FAQ category deleted successfully"})},onError:N=>{e({title:"Error deleting FAQ category",description:N.message,variant:"destructive"})}}),y=()=>{u({name:"",description:"",icon:"HelpCircle",color:"bg-blue-100 text-blue-800",sortOrder:0,isActive:!0})},v=()=>{i(!0),y()},b=N=>{c(N),u({name:N.name,description:N.description||"",icon:N.icon,color:N.color,sortOrder:N.sortOrder,isActive:N.isActive}),o(!0)},w=N=>{N.preventDefault(),l?p.mutate({id:l.id,...d}):g.mutate(d)},_=N=>{confirm("Are you sure you want to delete this category?")&&x.mutate(N)};return m?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"faq-categories"}),s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4 font-medium",children:"Loading FAQ categories..."})]})})]}):f?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"faq-categories"}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:s.jsx(_e,{children:s.jsxs(Se,{className:"py-12 text-center",children:[s.jsx("p",{className:"text-red-600 mb-4",children:"Error loading FAQ categories"}),s.jsx(ie,{onClick:()=>r.invalidateQueries({queryKey:["/api/admin/faq-categories"]}),children:"Retry"})]})})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"faq-categories"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center",children:[s.jsx(Hd,{className:"mr-3 h-8 w-8 text-blue-600"}),"FAQ Categories"]}),s.jsx("p",{className:"text-gray-600",children:"Manage categories for organizing FAQs"})]}),s.jsxs(ie,{onClick:v,"data-testid":"button-create-category",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Add Category"]})]})}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx(_e,{children:s.jsxs(Se,{className:"py-12 text-center",children:[s.jsx(Hd,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No categories found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first FAQ category."}),s.jsxs(ie,{onClick:v,children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Create First Category"]})]})}):h.map(N=>s.jsx(_e,{"data-testid":`card-category-${N.id}`,children:s.jsx(Ze,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Xe,{className:"text-lg","data-testid":`text-category-name-${N.id}`,children:N.name}),s.jsx(Ye,{className:N.color,children:N.name}),!N.isActive&&s.jsx(Ye,{variant:"secondary",children:"Inactive"})]}),N.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:N.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Icon: ",N.icon]}),s.jsxs("span",{children:["Sort Order: ",N.sortOrder]}),s.jsxs("span",{children:["Created: ",new Date(N.createdAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>b(N),"data-testid":`button-edit-${N.id}`,children:s.jsx(Vl,{className:"w-4 h-4"})}),s.jsx(ie,{variant:"outline",size:"sm",onClick:()=>_(N.id),className:"text-red-600 hover:text-red-700","data-testid":`button-delete-${N.id}`,children:s.jsx(Ph,{className:"w-4 h-4"})})]})]})})},N.id))}),s.jsx(qi,{open:n||a,onOpenChange:N=>{N||(i(!1),o(!1),c(null),y())},children:s.jsxs(Ni,{className:"max-w-2xl",children:[s.jsx(ji,{children:s.jsx(_i,{children:l?"Edit FAQ Category":"Create New FAQ Category"})}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"name",children:"Category Name"}),s.jsx(at,{id:"name",value:d.name,onChange:N=>u(j=>({...j,name:N.target.value})),placeholder:"Enter category name",required:!0,"data-testid":"input-category-name"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"description",children:"Description"}),s.jsx(Ms,{id:"description",value:d.description,onChange:N=>u(j=>({...j,description:N.target.value})),placeholder:"Enter category description",rows:3,"data-testid":"input-category-description"})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"icon",children:"Icon"}),s.jsxs(Br,{value:d.icon,onValueChange:N=>u(j=>({...j,icon:N})),children:[s.jsx(Ir,{"data-testid":"select-category-icon",children:s.jsx(Ur,{placeholder:"Select icon"})}),s.jsx(Dr,{children:gOe.map(N=>s.jsx(dt,{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"color",children:"Color Theme"}),s.jsxs(Br,{value:d.color,onValueChange:N=>u(j=>({...j,color:N})),children:[s.jsx(Ir,{"data-testid":"select-category-color",children:s.jsx(Ur,{placeholder:"Select color"})}),s.jsx(Dr,{children:xOe.map(N=>s.jsx(dt,{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{children:[s.jsx(Te,{htmlFor:"sortOrder",children:"Sort Order"}),s.jsx(at,{id:"sortOrder",type:"number",value:d.sortOrder,onChange:N=>u(j=>({...j,sortOrder:parseInt(N.target.value)||0})),placeholder:"0","data-testid":"input-category-sort-order"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gd,{id:"isActive",checked:d.isActive,onCheckedChange:N=>u(j=>({...j,isActive:N})),"data-testid":"switch-category-active"}),s.jsx(Te,{htmlFor:"isActive",children:"Active"})]}),s.jsxs(ie,{type:"submit",className:"w-full",disabled:g.isPending||p.isPending,"data-testid":"button-save-category",children:[s.jsx(zl,{className:"w-4 h-4 mr-2"}),l?"Update Category":"Create Category"]})]})]})})]})]})}function yOe(){const{toast:t}=ar(),e=vr(),[r,n]=O.useState(""),[i,a]=O.useState(null),[o,l]=O.useState(null),{data:c=[],isLoading:d}=pt({queryKey:["/api/admin/contracts"]}),u=Ft({mutationFn:async p=>St(`/api/admin/contracts/${p}/cancel`,{method:"POST"}),onSuccess:()=>{t({title:"Contract Cancelled",description:"The contract has been successfully cancelled and funds refunded."}),e.invalidateQueries({queryKey:["/api/admin/contracts"]}),a(null)},onError:p=>{t({variant:"destructive",title:"Cancellation Failed",description:p.message||"Failed to cancel contract"})}}),h=Ft({mutationFn:async p=>St(`/api/admin/contracts/${p}/complete`,{method:"POST"}),onSuccess:()=>{t({title:"Contract Completed",description:"The contract has been marked as completed and funds released to finder."}),e.invalidateQueries({queryKey:["/api/admin/contracts"]}),l(null)},onError:p=>{t({variant:"destructive",title:"Completion Failed",description:p.message||"Failed to complete contract"})}}),m=p=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(parseFloat(p)),f=p=>{switch(p){case"pending":return"bg-orange-100 text-orange-700 border-orange-200";case"funded":return"bg-blue-100 text-blue-700 border-blue-200";case"released":return"bg-green-100 text-green-700 border-green-200";case"disputed":return"bg-red-100 text-red-700 border-red-200";case"cancelled":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},g=c.filter(p=>{var y,v,b,w;const x=r.toLowerCase();return p.id.toLowerCase().includes(x)||((y=p.findTitle)==null?void 0:y.toLowerCase().includes(x))||((v=p.clientName)==null?void 0:v.toLowerCase().includes(x))||((b=p.finderName)==null?void 0:b.toLowerCase().includes(x))||((w=p.paymentReference)==null?void 0:w.toLowerCase().includes(x))});return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-indigo-50/20",children:[s.jsx(Sr,{currentPage:"contracts"}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Contract Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage all platform contracts, transactions, and payment references"})]}),s.jsxs(_e,{className:"mb-6",children:[s.jsx(Ze,{children:s.jsxs(Xe,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"Search Contracts"]})}),s.jsx(Se,{children:s.jsx(at,{placeholder:"Search by contract ID, title, client, finder, or payment reference...",value:r,onChange:p=>n(p.target.value),className:"max-w-md"})})]}),s.jsxs(_e,{children:[s.jsx(Ze,{children:s.jsxs(Xe,{children:["All Contracts (",g.length,")"]})}),s.jsx(Se,{children:d?s.jsx("div",{className:"text-center py-8",children:"Loading contracts..."}):g.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No contracts found"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(fj,{children:[s.jsx(mj,{children:s.jsxs(um,{children:[s.jsx(Zs,{children:"Contract ID"}),s.jsx(Zs,{children:"Find Title"}),s.jsx(Zs,{children:"Client"}),s.jsx(Zs,{children:"Finder"}),s.jsx(Zs,{children:"Amount"}),s.jsx(Zs,{children:"Status"}),s.jsx(Zs,{children:"Payment Ref"}),s.jsx(Zs,{children:"Transaction ID"}),s.jsx(Zs,{children:"Date"}),s.jsx(Zs,{children:"Actions"})]})}),s.jsx(pj,{children:g.map(p=>s.jsxs(um,{children:[s.jsxs(en,{className:"font-mono text-xs",children:[p.id.substring(0,8),"..."]}),s.jsx(en,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"max-w-[200px] truncate",children:p.findTitle||"N/A"})]})}),s.jsx(en,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-gray-400"}),p.clientName||p.clientId.substring(0,8)]})}),s.jsx(en,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-gray-400"}),p.finderName||p.finderId.substring(0,8)]})}),s.jsx(en,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dl,{className:"w-4 h-4 text-gray-400"}),m(p.amount)]})}),s.jsx(en,{children:s.jsx(Ye,{className:`${f(p.escrowStatus)} border`,children:p.escrowStatus})}),s.jsx(en,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"font-mono text-xs",children:p.paymentReference||"N/A"})]})}),s.jsx(en,{className:"font-mono text-xs",children:p.transactionId||"N/A"}),s.jsx(en,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_n,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:new Date(p.createdAt).toLocaleDateString()})]})}),s.jsx(en,{children:s.jsx("div",{className:"flex gap-2",children:p.escrowStatus==="funded"&&!p.isCompleted&&s.jsxs(s.Fragment,{children:[s.jsxs(ie,{variant:"default",size:"sm",onClick:()=>l(p),children:[s.jsx(br,{className:"w-4 h-4 mr-1"}),"Complete"]}),s.jsxs(ie,{variant:"destructive",size:"sm",onClick:()=>a(p),children:[s.jsx(fs,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})})})]},p.id))})]})})})]})]}),s.jsx(ay,{open:!!i,onOpenChange:()=>a(null),children:s.jsxs(X0,{children:[s.jsxs(J0,{children:[s.jsx(eg,{children:"Cancel Contract?"}),s.jsxs(tg,{children:["Are you sure you want to cancel this contract? This will:",s.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[s.jsx("li",{children:"Refund the full amount to the client"}),s.jsx("li",{children:"Mark the contract as cancelled"}),s.jsx("li",{children:"Notify both client and finder"})]}),i&&s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Amount:"})," ",m(i.amount)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Payment Reference:"})," ",i.paymentReference||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Transaction ID:"})," ",i.transactionId||"N/A"]})]})]})]}),s.jsxs(Z0,{children:[s.jsx(sg,{children:"No, Keep Contract"}),s.jsx(rg,{onClick:()=>i&&u.mutate(i.id),className:"bg-red-600 hover:bg-red-700",children:"Yes, Cancel Contract"})]})]})}),s.jsx(ay,{open:!!o,onOpenChange:()=>l(null),children:s.jsxs(X0,{children:[s.jsxs(J0,{children:[s.jsx(eg,{children:"Complete Contract?"}),s.jsxs(tg,{children:["Are you sure you want to mark this contract as completed? This will:",s.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[s.jsx("li",{children:"Release funds to the finder's available balance"}),s.jsx("li",{children:"Mark the contract as completed"}),s.jsx("li",{children:"Notify both client and finder"})]}),o&&s.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Amount to Release:"})," ",m(o.amount)]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Finder:"})," ",o.finderName||"N/A"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Client:"})," ",o.clientName||"N/A"]})]})]})]}),s.jsxs(Z0,{children:[s.jsx(sg,{children:"No, Go Back"}),s.jsx(rg,{onClick:()=>o&&h.mutate(o.id),className:"bg-green-600 hover:bg-green-700",children:"Yes, Complete Contract"})]})]})})]})}function bOe(){const{data:t,isLoading:e}=pt({queryKey:["/api/admin/disputes"]}),r=i=>{const a={pending:{label:"Pending",className:"bg-yellow-100 text-yellow-800"},investigating:{label:"Investigating",className:"bg-blue-100 text-blue-800"},resolved:{label:"Resolved",className:"bg-green-100 text-green-800"},rejected:{label:"Rejected",className:"bg-red-100 text-red-800"}},o=a[i]||a.pending;return s.jsx(Ye,{className:o.className,children:o.label})},n=i=>{const a={payment_issue:{label:"Payment Issue",className:"bg-red-100 text-red-800"},quality_issue:{label:"Quality Issue",className:"bg-orange-100 text-orange-800"},communication_issue:{label:"Communication",className:"bg-purple-100 text-purple-800"},scope_dispute:{label:"Scope Dispute",className:"bg-blue-100 text-blue-800"},timeline_issue:{label:"Timeline Issue",className:"bg-indigo-100 text-indigo-800"},contract_dispute:{label:"Contract Dispute",className:"bg-pink-100 text-pink-800"},other:{label:"Other",className:"bg-gray-100 text-gray-800"}},o=a[i]||a.other;return s.jsx(Ye,{className:o.className,children:o.label})};return e?s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading disputes..."})]})})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(Sr,{}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Wr,{className:"w-8 h-8 text-finder-red"}),"Dispute Management"]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Review and manage all contract disputes and issues"})]}),t&&t.length===0?s.jsx(_e,{children:s.jsx(Se,{className:"py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Wr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 text-lg",children:"No disputes found"}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"All disputes will appear here"})]})})}):s.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map(i=>s.jsxs(_e,{className:"hover:shadow-md transition-shadow",children:[s.jsx(Ze,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n(i.type),r(i.status)]}),s.jsxs(Xe,{className:"text-lg",children:["Dispute #",i.id.slice(0,8)]})]}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(i.submittedAt).toLocaleDateString()})]})}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("p",{className:"text-gray-700",children:i.description})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t",children:[i.user&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qr,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[i.user.firstName," ",i.user.lastName]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[i.user.email,"  ",i.user.role]})]})]}),i.contract&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"w-4 h-4 text-gray-400"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Contract: ",parseFloat(i.contract.amount).toLocaleString()]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[i.contract.escrowStatus,"  ",i.contract.isCompleted?"Completed":"Active"]})]})]})]}),i.contractId&&s.jsx("div",{className:"pt-4 border-t",children:s.jsx(Re,{href:`/admin/contracts/${i.contractId}`,children:s.jsxs(ie,{variant:"outline",className:"w-full sm:w-auto","data-testid":`link-contract-${i.id}`,children:[s.jsx(_v,{className:"w-4 h-4 mr-2"}),"View Contract Details"]})})})]})})]},i.id))})]})]})}function $j({children:t,requiredRole:e}){const{user:r,isAuthenticated:n,isLoading:i}=tr(),[,a]=sn(),[o,l]=O.useState(!1);return O.useEffect(()=>{if(!i&&!o){if(!!!localStorage.getItem("findermeister_token")){l(!0),a("/login");return}if(!r&&!n)return;if(e&&r&&r.role!==e){l(!0),r.role==="admin"?a("/admin/dashboard"):r.role==="finder"?a("/finder/dashboard"):r.role==="client"?a("/client/dashboard"):a("/");return}}},[n,r,i,a,e,o]),i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto mb-4"}),s.jsx("p",{children:"Loading..."})]})}):!n||!r||e&&r.role!==e?null:s.jsx(s.Fragment,{children:t})}function Vs({children:t}){return s.jsx($j,{requiredRole:"admin",children:t})}function pa({children:t}){const[e]=sn();return e.includes("/payment-success")||e.includes("/thank-you")||e.includes("/payment-callback"),s.jsx($j,{requiredRole:"finder",children:t})}function ta({children:t}){return s.jsx($j,{requiredRole:"client",children:t})}function Qb({children:t}){return s.jsx($j,{children:t})}function g_({children:t}){const{user:e,isLoading:r,isAuthenticated:n}=tr(),[,i]=sn(),[a,o]=O.useState(null);return O.useEffect(()=>{if(r)return;if(!n){i("/login");return}(async()=>{try{const c=localStorage.getItem("token");if((await fetch("/api/agent/dashboard",{headers:{Authorization:`Bearer ${c}`}})).ok)o(!0);else if(o(!1),e)switch(e.role){case"admin":i("/admin/dashboard");break;case"finder":i("/finder/dashboard");break;case"client":i("/client/dashboard");break;default:i("/")}else i("/")}catch(c){console.error("Agent access check failed:",c),o(!1),i("/")}})()},[r,n,e,i]),r||a===null?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Verifying agent access..."})]})}):!n||!a?null:s.jsx(s.Fragment,{children:t})}const wOe=O.lazy(()=>qf(()=>import("./reset-password-DzF1V0Vz.js"),[]));function x_({children:t}){const{isAuthenticated:e,user:r,isLoading:n}=tr(),[,i]=sn();return O.useEffect(()=>{const o=!!localStorage.getItem("findermeister_token");!n&&o&&e&&r&&(r.role==="admin"?i("/admin/dashboard"):r.role==="finder"?i("/finder/dashboard"):r.role==="client"&&i("/client/dashboard"))},[n,e,r,i]),n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto mb-4"}),s.jsx("p",{children:"Loading..."})]})}):!!localStorage.getItem("findermeister_token")&&e&&r?null:s.jsx(s.Fragment,{children:t})}function NOe(){return s.jsxs(Ite,{children:[s.jsx(At,{path:"/",component:pce}),s.jsx(At,{path:"/mobile",component:dPe}),s.jsx(At,{path:"/browse-requests",component:vPe}),s.jsx(At,{path:"/client/mobile-dashboard",component:uPe}),s.jsx(At,{path:"/login",component:()=>s.jsx(x_,{children:s.jsx(yce,{})})}),s.jsx(At,{path:"/register",component:()=>s.jsx(x_,{children:s.jsx(Qce,{})})}),s.jsx(At,{path:"/register/finder",component:()=>s.jsx(x_,{children:s.jsx(Xce,{})})}),s.jsx(At,{path:"/reset-password",component:()=>s.jsx(O.Suspense,{fallback:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto mb-4"}),s.jsx("p",{children:"Loading Reset Password..."})]})}),children:s.jsx(wOe,{})})}),s.jsx(At,{path:"/client/dashboard",component:()=>s.jsx(ta,{children:s.jsx(Jce,{})})}),s.jsx(At,{path:"/client/create-find",component:()=>s.jsx(ta,{children:s.jsx(tpe,{})})}),s.jsx(At,{path:"/client/finds/:id",component:()=>s.jsx(ta,{children:s.jsx(y0e,{})})}),s.jsx(At,{path:"/client/proposals",component:()=>s.jsx(ta,{children:s.jsx(b0e,{})})}),s.jsx(At,{path:"/client/proposals/:id",component:()=>s.jsx(ta,{children:s.jsx(M0e,{})})}),s.jsx(At,{path:"/client/contracts",component:()=>s.jsx(ta,{children:s.jsx(w0e,{})})}),s.jsx(At,{path:"/client/contracts/:contractId",component:()=>s.jsx(ta,{children:s.jsx(D8,{})})}),s.jsx(At,{path:"/client/fund-contract/:contractId",component:()=>s.jsx(ta,{children:s.jsx(D8,{})})}),s.jsx(At,{path:"/client/payment-success",component:F0e}),s.jsx(At,{path:"/client/thank-you",component:()=>s.jsx(ta,{children:s.jsx(O0e,{})})}),s.jsx(At,{path:"/client/browse-finds",component:()=>s.jsx(ta,{children:s.jsx(_4,{})})}),s.jsx(At,{path:"/client/browse-requests",component:()=>s.jsx(ta,{children:s.jsx(_4,{})})}),s.jsx(At,{path:"/client/finds",component:()=>s.jsx(ta,{children:s.jsx(_4,{})})}),s.jsx(At,{path:"/client/profile",component:()=>s.jsx(ta,{children:s.jsx(L8,{})})}),s.jsx(At,{path:"/client/profile/:userId",component:()=>s.jsx(ta,{children:s.jsx(L8,{})})}),s.jsx(At,{path:"/client/tokens",component:()=>s.jsx(ta,{children:s.jsx(iPe,{})})}),s.jsx(At,{path:"/client/change-password",component:()=>s.jsx(ta,{children:s.jsx(L0e,{})})}),s.jsx(At,{path:"/finder/dashboard",component:()=>s.jsx(pa,{children:s.jsx(R0e,{})})}),s.jsx(At,{path:"/finder/browse-finds",component:()=>s.jsx(pa,{children:s.jsx(B8,{})})}),s.jsx(At,{path:"/finder/browse-requests",component:()=>s.jsx(pa,{children:s.jsx(B8,{})})}),s.jsx(At,{path:"/finder/finds/:id",component:()=>s.jsx(pa,{children:s.jsx(U8,{})})}),s.jsx(At,{path:"/finder/requests/:id",component:()=>s.jsx(pa,{children:s.jsx(U8,{})})}),s.jsx(At,{path:"/finder/proposals",component:()=>s.jsx(pa,{children:s.jsx(I0e,{})})}),s.jsx(At,{path:"/finder/proposals/:id",component:()=>s.jsx(pa,{children:s.jsx(D0e,{})})}),s.jsx(At,{path:"/finder/contracts",component:()=>s.jsx(pa,{children:s.jsx(lPe,{})})}),s.jsx(At,{path:"/finder/contracts/:contractId",component:()=>s.jsx(pa,{children:s.jsx(cPe,{})})}),s.jsx(At,{path:"/finder/profile",component:()=>s.jsx(pa,{children:s.jsx(ZTe,{})})}),s.jsx(At,{path:"/finder-profile/:userId",component:zL}),s.jsx(At,{path:"/finder/tokens",component:()=>s.jsx(pa,{children:s.jsx(tPe,{})})}),s.jsx(At,{path:"/finder/token-purchase",component:()=>s.jsx(pa,{children:s.jsx(rPe,{})})}),s.jsx(At,{path:"/finder/payment-success",component:sPe}),s.jsx(At,{path:"/finder/thank-you",component:()=>s.jsx(pa,{children:s.jsx(nPe,{})})}),s.jsx(At,{path:"/finder/withdrawals",component:()=>s.jsx(pa,{children:s.jsx(aPe,{})})}),s.jsx(At,{path:"/finder/security",component:()=>s.jsx(pa,{children:s.jsx(oPe,{})})}),s.jsx(At,{path:"/orders/submit/:contractId",component:()=>s.jsx(Qb,{children:s.jsx(hPe,{})})}),s.jsx(At,{path:"/orders/review/:contractId",component:()=>s.jsx(Qb,{children:s.jsx(fPe,{})})}),s.jsx(At,{path:"/support",component:mPe}),s.jsx(At,{path:"/support/help-center",component:pPe}),s.jsx(At,{path:"/support/contact",component:xPe}),s.jsx(At,{path:"/terms-and-conditions",component:XFe}),s.jsx(At,{path:"/privacy-policy",component:JFe}),s.jsx(At,{path:"/admin/dashboard",component:()=>s.jsx(Vs,{children:s.jsx(B0e,{})})}),s.jsx(At,{path:"/admin/users",component:()=>s.jsx(Vs,{children:s.jsx(U0e,{})})}),s.jsx(At,{path:"/admin/requests",component:()=>s.jsx(Vs,{children:s.jsx($0e,{})})}),s.jsx(At,{path:"/admin/categories",component:()=>s.jsx(Vs,{children:s.jsx(q0e,{})})}),s.jsx(At,{path:"/admin/settings",component:()=>s.jsx(Vs,{children:s.jsx(G0e,{})})}),s.jsx(At,{path:"/admin/profile",component:Y0e}),s.jsx(At,{path:"/admin/withdrawals",component:()=>s.jsx(Vs,{children:s.jsx(f4e,{})})}),s.jsx(At,{path:"/admin/token-packages",component:()=>s.jsx(Vs,{children:s.jsx(m4e,{})})}),s.jsx(At,{path:"/admin/token-management",component:()=>s.jsx(Vs,{children:s.jsx(v4e,{})})}),s.jsx(At,{path:"/admin/finder-levels",component:()=>s.jsx(Vs,{children:s.jsx(ATe,{})})}),s.jsx(At,{path:"/admin/restricted-words",component:()=>s.jsx(Vs,{children:s.jsx(TTe,{})})}),s.jsx(At,{path:"/admin/support-agents",component:()=>s.jsx(Vs,{children:s.jsx(HTe,{})})}),s.jsx(At,{path:"/admin/faq-management",component:()=>s.jsx(Vs,{children:s.jsx(WTe,{})})}),s.jsx(At,{path:"/admin/faq-categories",component:()=>s.jsx(Vs,{children:s.jsx(vOe,{})})}),s.jsx(At,{path:"/admin/contact-settings",component:()=>s.jsx(Vs,{children:s.jsx(mOe,{})})}),s.jsx(At,{path:"/admin/database-export",component:()=>s.jsx(Vs,{children:s.jsx(pOe,{})})}),s.jsx(At,{path:"/admin/verification-management",component:()=>s.jsx(Vs,{children:s.jsx(ZFe,{})})}),s.jsx(At,{path:"/verification",component:eOe}),s.jsx(At,{path:"/agent/dashboard",component:()=>s.jsx(g_,{children:s.jsx(sOe,{})})}),s.jsx(At,{path:"/agent/tickets",component:()=>s.jsx(g_,{children:s.jsx(aOe,{})})}),s.jsx(At,{path:"/agent/tickets/:id",component:()=>s.jsx(g_,{children:s.jsx(fOe,{})})}),s.jsx(At,{path:"/admin/blog-posts",component:()=>s.jsx(Vs,{children:s.jsx(y4e,{})})}),s.jsx(At,{path:"/admin/blog-posts/create",component:()=>s.jsx(Vs,{children:s.jsx(_Te,{})})}),s.jsx(At,{path:"/admin/blog-posts/edit/:id",component:()=>s.jsx(Vs,{children:s.jsx(kTe,{})})}),s.jsx(At,{path:"/admin/strike-system",component:()=>s.jsx(Vs,{children:s.jsx(ETe,{})})}),s.jsx(At,{path:"/admin/financial-dashboard",component:()=>{const t=O.lazy(()=>qf(()=>import("./financial-dashboard-CcRGdrlQ.js"),[]));return s.jsx(O.Suspense,{fallback:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto mb-4"}),s.jsx("p",{children:"Loading Financial Dashboard..."})]})}),children:s.jsx(Vs,{children:s.jsx(t,{})})})}}),s.jsx(At,{path:"/admin/monthly-token-grant",component:()=>{const t=O.lazy(()=>qf(()=>import("./monthly-token-grant-DLngqHaf.js"),[]));return s.jsx(O.Suspense,{fallback:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto mb-4"}),s.jsx("p",{children:"Loading Monthly Token Grant..."})]})}),children:s.jsx(Vs,{children:s.jsx(t,{})})})}}),s.jsx(At,{path:"/admin/autonomous-fund",component:()=>{const t=O.lazy(()=>qf(()=>import("./autonomous-fund-DHwOhVNo.js"),[]));return s.jsx(O.Suspense,{fallback:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-finder-red mx-auto mb-4"}),s.jsx("p",{children:"Loading Autonomous Fund..."})]})}),children:s.jsx(Vs,{children:s.jsx(t,{})})})}}),s.jsx(At,{path:"/admin/contract-management",component:()=>s.jsx(Vs,{children:s.jsx(yOe,{})})}),s.jsx(At,{path:"/admin/disputes",component:()=>s.jsx(Vs,{children:s.jsx(bOe,{})})}),s.jsx(At,{path:"/blog/:slug",component:KTe}),s.jsx(At,{path:"/messages",component:()=>s.jsx(Qb,{children:s.jsx(GTe,{})})}),s.jsx(At,{path:"/messages/:conversationId",component:()=>s.jsx(Qb,{children:s.jsx(QTe,{})})}),s.jsx(At,{path:"/finder-profile/:finderId",component:zL}),s.jsx(At,{component:fce})]})}function jOe(){return s.jsx(are,{client:bre,children:s.jsx(dae,{children:s.jsxs(fae,{children:[s.jsx(kne,{}),s.jsx(NOe,{})]})})})}vB(document.getElementById("root")).render(s.jsx(jOe,{}));export{GS as A,ie as B,_e as C,B0 as D,Ld as E,Ese as F,wse as G,Ft as H,at as I,hr as J,Sv as K,Re as L,No as M,Wr as N,jo as O,Ps as P,Ml as Q,hh as R,Br as S,ai as T,ui as U,Gd as V,kv as W,Cx as X,xo as Y,zc as Z,Ss as _,ar as a,Se as b,br as c,ia as d,Te as e,ms as f,ut as g,tr as h,vr as i,s as j,pt as k,Sr as l,aa as m,Nn as n,Ze as o,Xe as p,Ir as q,O as r,Ur as s,Dr as t,sn as u,dt as v,Ye as w,as as x,Sc as y,_n as z};
